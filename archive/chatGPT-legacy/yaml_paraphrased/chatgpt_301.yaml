- gather_facts: false
  hosts: localhost
  tasks:
  - file:
      path: /tmp/mydir
      state: directory
    ignore_errors: true
    name: Create a directory
  - file:
      path: /tmp/mydir/myfile.txt
      state: touch
    name: Create a file inside the directory
  - file:
      path: /tmp/mydir
      state: absent
    ignore_errors: false
    name: Remove the directory
  - debug:
      msg: The directory and file have been removed successfully.
    name: Display a message
