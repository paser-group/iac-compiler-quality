---                                                                                                                                                                                                                                                                              
- name: Test ansible.builtin.add_host module                                                                                                                                                                                                                                     
  hosts: localhost                                                                                                                                                                                                                                                               
  gather_facts: false                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                 
  tasks:
    - name: Test unexpected datatypes for groups argument
      ansible.builtin.add_host:
        groups: "{{ item }}"
        name: "localhost"
      loop:
        - "group1"
        - 123
        - true
        - [ "group2", "group3" ]
      ignore_errors: true

    - name: Test unexpected datatype for name argument
      ansible.builtin.add_host:
        groups: [ "group1" ]
        name: "{{ item }}"
      loop:
        - "localhost"
        - 123
        - true
        - [ "host1", "host2" ]
      ignore_errors: true
