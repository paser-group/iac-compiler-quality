- name: Test "ansible.builtin.add_host" module with unexpected data types                                                               
  hosts: localhost                                                                                                                      
  gather_facts: false                                                                                                                   
                                                                                                                                        
  tasks:                                                                                                                                
    - name: Test unexpected data types                                                                                                  
      ansible.builtin.add_host:                                                                                                         
        groups: "{{ item.groups }}"                                                                                                     
        name: "{{ item.name }}"                                                                                                         
      loop:                                                                                                                             
        - { groups: "group1", name: "host1" }  # Valid data types                                                                       
        - { groups: null, name: "host2" }       # Unexpected data type (null)                                                           
        - { groups: "", name: "host3" }         # Unexpected data type (empty string)
        - { groups: [], name: "host4" }         # Unexpected data type (empty list)                                                     
        - { groups: {}, name: "host5" }         # Unexpected data type (empty dictionary)                                               
        - { groups: 123, name: "host6" }        # Unexpected data type (integer)                                                        
        - { groups: true, name: "host7" }       # Unexpected data type (boolean)                                                        
        - { groups: "group2", name: "host8" }   # Valid data types
                                                                                                                                        
      ignore_errors: true                                                                                                               
      register: result                                                                                                                  
                                                                                                                                        
    - name: Display the result
      debug:                                                                                                                            
        var: result
