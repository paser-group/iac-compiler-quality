- hosts: all
  tasks:
  - include_tasks: tasks_file.yml
    name: Include tasks file
  - debug:
      var: my_var
    name: Print variable defined in playbook
  - debug:
      var: tasks_file_var
    name: Print variable defined in tasks_file.yml
  vars:
    my_var: This variable is defined in playbook
- become: true
  hosts: test_server
  name: Add users to groups
  tasks:
  - loop:
    - group: developers
      username: alice
    - group: developers
      username: bob
    - group: testers
      username: charlie
    name: Add users to group
    user:
      groups: '{{ item.group }}'
      name: '{{ item.username }}'
      state: present
- become: true
  hosts: production
  name: Install packages
  tasks:
  - apt:
      name:
      - nginx
      - mysql-server
      - python3-pip
      state: present
    name: Install required packages
