- become: true
  hosts: localhost
  name: Test restricted access parent folder
  tasks:
  - file:
      path: /restricted/folder/sample.txt
      state: touch
    name: Ensure file exists
  - lineinfile:
      line: Hello, world!
      path: /restricted/folder/sample.txt
    name: Add line to file using lineinfile
    register: line_output
  - debug:
      var: line_output
    name: Debug output of lineinfile task
  - copy:
      dest: /restricted/folder/sample.txt
      src: /opt/sample.txt
    name: Copy file using the copy module
    register: copy_output
  - debug:
      var: copy_output
    name: Debug output of copy task
