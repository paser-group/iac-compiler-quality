- gather_facts: false
  hosts: localhost
  name: Test invalid tmpdir
  tasks:
  - name: Create temporary file
    tempfile:
      path: '{{ tmpdir }}/testfile'
      state: file
  - debug:
      var: tmpdir
    name: Print tmpdir location
  vars:
    tmpdir: /path/to/invalid/tmpdir
