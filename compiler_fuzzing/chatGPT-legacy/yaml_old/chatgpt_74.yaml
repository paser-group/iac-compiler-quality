- become: true
  hosts: all
  name: Install package with pre-signed URL
  tasks:
  - name: Set environment variables
    set_fact:
      url: '{{ pre_signed_url }}'
  - get_url:
      dest: /tmp/long_file_name.rpm
      force: true
      url: '{{ url }}'
    name: Download package
  - name: Install package
    yum:
      disable_gpg_check: true
      name: /tmp/long_file_name.rpm
      state: present
