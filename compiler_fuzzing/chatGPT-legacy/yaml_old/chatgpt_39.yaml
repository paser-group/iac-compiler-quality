- gather_facts: false
  hosts: all
  tasks:
  - name: Check if Python38 exists
    raw: which python3.8
    register: python38_check
  - name: Install Python38
    raw: dnf install python38
    when: python38_check.rc != 0
  - lineinfile:
      line: interpreter_python=/usr/bin/python3.8
      path: /etc/ansible/ansible.cfg
      regexp: ^interpreter_python
    name: Set Python38 as Ansible Interpreter
    when: python38_check.rc != 0
