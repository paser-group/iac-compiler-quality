- connection: local
  hosts: localhost
  name: Test playbook
  tasks:
  - debug:
      msg: Hello World!
    name: Print message
  - apt:
      name: nginx
      state: present
    name: Install nginx
  - name: Stop nginx
    service:
      name: nginx
      state: stopped
  - name: Start nginx
    service:
      name: nginx
      state: started
  - command: ls -lah
    name: Run command
  - file:
      path: /tmp/test
      state: directory
    name: Create directory
  - file:
      path: /tmp/test
      state: absent
    name: Remove directory
  - name: Execute shell script
    shell: /path/to/script.sh
  - copy:
      dest: /path/to/destination
      src: /path/to/source
    name: Copy file
  - fail:
      msg: Task failed intentionally
    name: Fail task
  - name: Pause playbook
    pause:
      seconds: 10
  - name: Set fact
    set_fact:
      variable: value
  - include_playbook: /path/to/another/playbook.yml
    name: Include playbook
  - mysql_query:
      db: '{{ db_name }}'
      login_host: '{{ db_host }}'
      login_password: '{{ db_password }}'
      login_user: '{{ db_user }}'
      query: SELECT * FROM users;
    name: Execute MySQL query
  - name: Execute PostgreSQL query
    postgresql_query:
      db: '{{ db_name }}'
      login_host: '{{ db_host }}'
      login_password: '{{ db_password }}'
      login_user: '{{ db_user }}'
      query: SELECT * from users;
  - mongodb_query:
      collection: '{{ db_collection }}'
      database: '{{ db_name }}'
      query: '{"age": 20}'
    name: Execute MongoDB query
  - hostname:
      name: '{{ inventory_hostname }}'
    name: Set hostname
  - include_playbook: /path/to/playbook.yml
    name: Run playbook conditionally
    when: variable == "value"
  - name: Register variable
    register: output
    shell: echo "Hello World"
  - debug:
      var: output.stdout
    name: Print registered variable
  - assert:
      that: ansible_distribution == 'Windows'
    name: Generate error
