- become: true
  hosts: all
  name: Install Application
  tasks:
  - file:
      mode: 493
      path: /opt/myapp
      state: directory
    name: Create Application Directory
  - apt:
      name:
      - python3
      - python3-pip
      update_cache: true
    name: Install Dependencies
  - name: Install Application
    pip:
      name: myapp
      state: latest
  - name: Start Application Service
    systemd:
      enabled: true
      name: myapp
      state: started
