- hosts: my_host
  name: Clone repository from Gitlab
  tasks:
  - delay: 30
    git:
      accept_hostkey: true
      clone: true
      dest: '{{ destination }}'
      key_file: /home/user/.ssh/id_rsa
      repo: git@gitlab.com:user/my_project.git
    ignore_errors: true
    name: Clone repository
    register: result
    retries: 5
    until: result is succeeded
  vars:
    destination: /home/user/my_project
