- become: true
  hosts: all
  tasks:
  - apt:
      cache_valid_time: 3600
      force_apt_get: true
      name: python3-cryptography
      state: present
      update_cache: true
    become: true
    name: Install cryptography for Python3.9
    vars:
      ansible_python_interpreter: /usr/bin/python{{ python_version }}
  - name: Verify the installation by running a Python script using cryptography package
    register: output
    shell: /usr/bin/python{{ python_version }} -c 'from cryptography.fernet import
      Fernet'
  - debug:
      msg: '{{ output.stdout }}'
    name: Print the output
  vars:
    python_version: '3.9'
