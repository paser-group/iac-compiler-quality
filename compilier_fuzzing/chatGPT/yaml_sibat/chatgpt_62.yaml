- gather_facts: false
  hosts: localhost
  name: Sample Playbook
  plugins:
  - log_plays
  tasks:
  - file:
      path: /tmp/new_directory
      state: directory
    name: Create a directory
    register: dir_create
  - copy:
      content: This is a new file.
      dest: /tmp/new_directory/new_file.txt
    name: Create a new file
  - name: Print directory contents
    register: directory_contents
    shell: ls /tmp/new_directory
  - file:
      path: /tmp/new_directory
      state: absent
    name: Remove the directory
