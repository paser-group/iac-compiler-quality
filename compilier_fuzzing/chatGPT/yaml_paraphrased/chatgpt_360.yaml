- hosts: localhost
  name: Execute task asynchronously
  tasks:
  - async: 600
    command: launch_vm
    name: Launch VM
    poll: 10
    register: async_status
  - async_status:
      jid: '{{ async_status.ansible_job_id }}'
      mode: status
    name: Wait for VM to launch
    register: vm_status
  - debug:
      var: vm_status.result
