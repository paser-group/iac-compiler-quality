- gather_facts: true
  hosts: all
  name: Generate buggy Ansible playbook
  tasks:
  - debug:
      msg: This is task 1
    name: Task 1
  - fail:
      msg: This task will always fail
    ignore_errors: true
    name: Task 2
    register: my_result
  - debug:
      msg: This is task 3
    name: Task 3
    when: my_result is failed
  - debug:
      msg: This is task 4
    name: Task 4
