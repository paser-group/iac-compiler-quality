- hosts: localhost
  tasks:
  - file:
      path: '{{ item }}'
      state: absent
    ignore_errors: '{{ ignore_deletion_errors }}'
    name: Delete files
    with_items: '{{ files_to_delete }}'
  - debug:
      msg: Files deleted successfully.
    name: Print message
    when: files_to_delete|length != 0 and ignore_deletion_errors|default(false) ==
      false
  vars:
    files_to_delete:
    - '{{ path }}/file1'
    - '{{ path }}/file2'
    path: /path/to/files
