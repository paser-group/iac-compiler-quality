- blocks:
  - failed_when: result1.rc != 0
    name: Block 1
    rescue:
    - debug:
        msg: Rescue Task 1 executed
      name: Rescue Task 1
  - failed_when: result2.rc != 0
    name: Block 2
    rescue:
    - debug:
        msg: Rescue Task 2 executed
      name: Rescue Task 2
  - command: echo "Block 3 completed successfully"
    name: Block 3
  gather_facts: false
  hosts: localhost
  ignore_errors: true
  tasks:
  - command: echo "Task 3 completed successfully"
    name: Task 3
    register: result3
  - command: echo "Task 4 failed"
    failed_when: result3.rc == 0
    name: Task 4
  - command: echo "Task 5 completed successfully"
    name: Task 5
    register: result5
  - command: echo "Task 6 failed"
    failed_when: result5.rc == 0
    name: Task 6
  - command: echo "Task 7 completed successfully"
    name: Task 7
  - command: echo "Task 8 failed"
    failed_when: true
    name: Task 8
  - command: echo "Task 9 completed successfully"
    name: Task 9
  - command: echo "Task 10 failed"
    failed_when: true
    name: Task 10
  - debug:
      msg: this task will always run
    name: always run
- name: playbook complete
