---
- name: Test playbook for community.general.influxdb_database module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create InfluxDB database
      community.general.influxdb_database:
        database_name: "test_db"
        hostname: "10.1.1.1"
        password: "password"
        path: "/var/lib/influxdb"
        port: 8086
        proxies:
          http: "http://proxy.example.com:8080"
          https: "https://proxy.example.com:8080"
        retries: 3
        ssl: true
        state: "present"
        timeout: 10
        udp_port: 8089
        use_udp: false
        username: "admin"
        validate_certs: true
      register: result

    - name: Print module output
      debug:
        var: result