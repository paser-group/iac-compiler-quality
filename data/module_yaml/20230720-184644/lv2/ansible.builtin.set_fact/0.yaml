---
- name: Set Facts with byte string values
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Set Fact with byte string values
      set_fact:
        cacheable: no
        key_value:
          - key: "{{ item.key }}"
            value: "{{ item.value | b64encode }}"
      with_items:
        - { key: "test_string", value: "byte string" }
        - { key: "test_number", value: "123" }
        - { key: "test_bool", value: "True" }

    - name: Print test_string value
      debug:
        var: test_string

    - name: Print test_number value
      debug:
        var: test_number

    - name: Print test_bool value
      debug:
        var: test_bool