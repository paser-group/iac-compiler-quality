---
- name: Test playbook for 'community.network.avi_serviceengine' module
  hosts: localhost
  gather_facts: false

  vars:
    controller: "https://{{ ansible_host }}"
    username: "admin"
    password: "password"
    tenant: "tenant1"
    se_name: "se1"
    se_uuid: "se-12345"

  tasks:
    - name: Create ServiceEngine with byte string values
      community.network.avi_serviceengine:
        controller: "{{ controller | b64decode }}"
        username: "{{ username | b64decode }}"
        password: "{{ password | b64decode }}"
        tenant: "{{ tenant | b64decode }}"
        name: "{{ se_name | b64decode }}"
        uuid: "{{ se_uuid | b64decode }}"
      register: result
      delegate_to: localhost

    - debug:
        var: result