---
- name: Test playbook for community.network.ig_unit_information module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Get unit information
      community.network.ig_unit_information:
        client: null
        host: '{{ inventory_hostname }}'
        port: '{{ port | default(443) }}'
        username: '{{ username | default("admin") }}'
        password: '{{ password | default("password") }}'
        validate_certs: '{{ validate_certs | default(false) }}'
      register: unit_info

    - name: Print unit information
      debug:
        var: unit_info

    - name: Introduction of byte string values in place of regular strings
      community.network.ig_unit_information:
        client: b'{{ client_byte | default("") }}'
        host: '{{ inventory_hostname }}'
        port: '{{ port | default(443) }}'
        username: '{{ username | default("admin") }}'
        password: '{{ password | default("password") }}'
        validate_certs: '{{ validate_certs | default(false) }}'
      register: unit_info_byte_string

    - name: Print unit information with byte string values
      debug:
        var: unit_info_byte_string