- name: Test for Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Rackspace CDB
      community.general.rax_cdb:
        api_key: b"{{ api_key }}"
        auth_endpoint: b"{{ auth_endpoint }}"
        cdb_type: b"{{ cdb_type }}"
        cdb_version: b"{{ cdb_version }}"
        credentials: b"{{ credentials }}"
        env: b"{{ env }}"
        flavor: "{{ flavor | int }}"  # Explicitly converting to integer
        identity_type: b"{{ identity_type }}"
        name: b"{{ name }}"
        region: b"{{ region }}"
        state: b"{{ state }}"
        tenant_id: b"{{ tenant_id }}"
        tenant_name: b"{{ tenant_name }}"
        username: b"{{ username }}"
        validate_certs: "{{ validate_certs | bool }}"  # Explicitly converting to boolean
        volume: "{{ volume | int }}"  # Explicitly converting to integer
        wait: "{{ wait | bool }}"  # Explicitly converting to boolean
        wait_timeout: "{{ wait_timeout | int }}"  # Explicitly converting to integer
      register: result
      ignore_errors: true

    - name: Debug Result
      debug:
        var: result