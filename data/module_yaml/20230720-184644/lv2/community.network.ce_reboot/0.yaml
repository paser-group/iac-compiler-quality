---
- name: Reboot HUAWEI device
  hosts: localhost
  gather_facts: false

  vars:
    confirm_string: "{{ b'reboot_confirm_string' }}"
    save_config: True

  tasks:
    - name: Reboot HUAWEI device
      community.network.ce_reboot:
        confirm: "{{ confirm_string }}"
        save_config: "{{ save_config }}"
      register: result

    - name: Print reboot result
      debug:
        var: result