- name: Test playbook for community.network.pn_port_cos_bw module
  hosts: localhost
  gather_facts: false
  vars:
    pn_cliswitch: b'cli_switch'
    pn_cos: b'cos'
    pn_max_bw_limit: b'max_bw_limit'
    pn_min_bw_guarantee: b'min_bw_guarantee'
    pn_port: b'port'
    pn_weight: b'weight'
    state: present

  tasks:
    - name: Configure port COS and bandwidth
      community.network.pn_port_cos_bw:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_cos: "{{ pn_cos }}"
        pn_max_bw_limit: "{{ pn_max_bw_limit }}"
        pn_min_bw_guarantee: "{{ pn_min_bw_guarantee }}"
        pn_port: "{{ pn_port }}"
        pn_weight: "{{ pn_weight }}"
        state: "{{ state }}"
      register: result

    - name: Debug result
      debug:
        var: result