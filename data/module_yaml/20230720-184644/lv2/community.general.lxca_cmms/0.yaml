---
- name: Test playbook for 'community.general.lxca_cmms' module
  hosts: localhost
  gather_facts: false

  vars:
    auth_url: "https://lxca.example.com"
    chassis: "chassis-id"
    command_options: "command options"
    login_user: "admin"
    login_password: "admin"
    uuid: "uuid"

  tasks:
    - name: Introduce byte string values
      set_fact:
        auth_url_bytes: "{{ auth_url | b64encode }}"
        chassis_bytes: "{{ chassis | b64encode }}"
        command_options_bytes: "{{ command_options | b64encode }}"
        login_user_bytes: "{{ login_user | b64encode }}"
        login_password_bytes: "{{ login_password | b64encode }}"
        uuid_bytes: "{{ uuid | b64encode }}"

    - name: Test 'community.general.lxca_cmms' module with byte string values
      community.general.lxca_cmms:
        auth_url: "{{ auth_url_bytes }}"
        chassis: "{{ chassis_bytes }}"
        command_options: "{{ command_options_bytes }}"
        login_user: "{{ login_user_bytes }}"
        login_password: "{{ login_password_bytes }}"
        uuid: "{{ uuid_bytes }}"
      register: result

    - name: Show result
      debug:
        var: result