- name: Upload files to Cisco FTD
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Upload file to Cisco FTD
      community.network.ftd_file_upload:
        file_to_upload: |   # Using YAML literal block scalar
          {% set file_data = 'file.txt' | b64encode %}   # Encode as base64 byte string
          {{ file_data | b64decode }}   # Decode byte string to regular string
        operation: "{{ 'upload' | b }}"   # Introduce 'b' filter to convert to byte string
        register_as: res
      delegate_to: localhost

    - name: Debug Result
      debug:
        var: res