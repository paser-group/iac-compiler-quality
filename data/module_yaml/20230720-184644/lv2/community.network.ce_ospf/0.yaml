- name: Configure OSPF on HUAWEI devices
  hosts: routers
  gather_facts: false
  tasks:
    - name: Configure OSPF instance
      community.network.ce_ospf:
        addr: null
        area: null
        auth_key_id: null
        auth_mode: null
        auth_text_md5: null
        auth_text_simple: null
        mask: null
        max_load_balance: null
        nexthop_addr: null
        nexthop_weight: null
        process_id: null
        state: null
      register: ospf_config

    - name: Debug OSPF configuration
      debug:
        msg: "{{ ospf_config }}"

- name: Test cases - Introduce byte string values
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure OSPF instance with byte string values
      community.network.ce_ospf:
        addr: b'10.1.1.1'
        area: b'0.0.0.0'
        auth_key_id: b'1'
        auth_mode: b'md5'
        auth_text_md5: b'secret-key'
        auth_text_simple: b'password'
        mask: b'255.255.255.0'
        max_load_balance: b'1'
        nexthop_addr: b'10.1.1.2'
        nexthop_weight: b'10'
        process_id: b'1'
        state: b'present'
      register: ospf_byte_config

    - name: Debug OSPF configuration with byte string values
      debug:
        msg: "{{ ospf_byte_config }}"