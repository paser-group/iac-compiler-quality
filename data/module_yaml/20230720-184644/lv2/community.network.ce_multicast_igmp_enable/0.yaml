- name: Manage multicast igmp enable configuration on HUAWEI devices
  hosts: all
  gather_facts: false

  vars:
    aftype: b'ipv4'   # Introduce byte string value for aftype
    features: b'enable'   # Introduce byte string value for features
    igmp: True
    proxy: True
    state: present
    version: 2
    vlan_id: 100

  tasks:
    - name: Configure multicast igmp enable
      community.network.ce_multicast_igmp_enable:
        aftype: "{{ aftype }}"
        features: "{{ features }}"
        igmp: "{{ igmp }}"
        proxy: "{{ proxy }}"
        state: "{{ state }}"
        version: "{{ version }}"
        vlan_id: "{{ vlan_id }}"
      register: result

    - debug:
        var: result