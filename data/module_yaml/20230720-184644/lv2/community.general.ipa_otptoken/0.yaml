---
- name: Test playbook for Ansible module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create OTP token with byte string values
      community.general.ipa_otptoken:
        ipa_user: 'admin'
        ipa_pass: 'adminpassword'
        ipa_host: 'server.example.com'
        ipa_port: 443
        ipa_prot: 'https'
        ipa_timeout: 30
        validate_certs: true
        state: present
        otptype: b'sha1'
        digits: b'6'
        description: b'Testing OTP token creation'
        uniqueid: b'test001'
      register: result

    - name: Debug output
      debug:
        var: result