---
- name: Testing community.general.scaleway_volume_info module
  hosts: localhost
  gather_facts: false

  vars:
    api_token: "YOUR_API_TOKEN"
    api_url: "https://api.scaleway.com"
    region: "par1"
    validate_certs: false

  tasks:
    - name: Test 1 - Correct Inputs
      community.general.scaleway_volume_info:
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs }}"
      register: result1

    - name: Test 2 - Incorrect API Timeout
      community.general.scaleway_volume_info:
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs }}"
        api_timeout: "invalid_timeout"
      register: result2

    - name: Test 3 - Invalid API URL
      community.general.scaleway_volume_info:
        api_token: "{{ api_token }}"
        api_url: "invalid_url"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs }}"
      register: result3

    - name: Test 4 - Empty API Token
      community.general.scaleway_volume_info:
        api_token: ""
        api_url: "{{ api_url }}"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs }}"
      register: result4

    - name: Test 5 - Mismatched Validate Certs Data Type
      community.general.scaleway_volume_info:
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        region: "{{ region }}"
        validate_certs: "true"
      register: result5

    - name: Check the results
      debug:
        msg: "{{ item }}"
      loop:
        - "Result 1: {{ result1 }}"
        - "Result 2: {{ result2 }}"
        - "Result 3: {{ result3 }}"
        - "Result 4: {{ result4 }}"
        - "Result 5: {{ result5 }}"