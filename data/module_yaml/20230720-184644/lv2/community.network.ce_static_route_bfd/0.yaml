---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set specific variables for test cases
      set_fact:
        prefix: '10.10.10.0'
        aftype: 'ipv4'
        bfd_session_name: 'bfd_test'
        next_hop: '10.1.1.254'

    - name: Introduce byte string value for 'prefix' parameter
      community.network.ce_static_route_bfd:
        prefix: !!binary |
          {{ prefix | b64encode }}
        aftype: '{{ aftype }}'
        bfd_session_name: '{{ bfd_session_name }}'
        next_hop: '{{ next_hop }}'

    - name: Introduce byte string value for 'aftype' parameter
      community.network.ce_static_route_bfd:
        prefix: '{{ prefix }}'
        aftype: !!binary |
          {{ aftype | b64encode }}
        bfd_session_name: '{{ bfd_session_name }}'
        next_hop: '{{ next_hop }}'

    - name: Introduce byte string value for 'bfd_session_name' parameter
      community.network.ce_static_route_bfd:
        prefix: '{{ prefix }}'
        aftype: '{{ aftype }}'
        bfd_session_name: !!binary |
          {{ bfd_session_name | b64encode }}
        next_hop: '{{ next_hop }}'

    - name: Introduce byte string value for 'next_hop' parameter
      community.network.ce_static_route_bfd:
        prefix: '{{ prefix }}'
        aftype: '{{ aftype }}'
        bfd_session_name: '{{ bfd_session_name }}'
        next_hop: !!binary |
          {{ next_hop | b64encode }}