- hosts: localhost
  gather_facts: false
  vars:
    api_url: "https://api.oneandone.com"
    auth_token: "YOUR_AUTH_TOKEN"
    datacenter: "datacenter"
    private_network: "private_network"

  tasks:
    - name: Create Private Network
      community.general.oneandone_private_network:
        api_url: "{{ api_url }}"
        auth_token: "{{ auth_token }}"
        datacenter: "{{ datacenter }}"
        name: "Private Network Test"
        description: "Test private network"
        network_address: b"10.1.1.0"
        subnet_mask: b"255.255.255.0"
        state: present
      register: result

    - name: Debug output
      debug:
        var: result

    - name: Update Private Network
      community.general.oneandone_private_network:
        api_url: "{{ api_url }}"
        auth_token: "{{ auth_token }}"
        datacenter: "{{ datacenter }}"
        private_network: "{{ result['id'] }}"
        description: "Updated private network"
        state: present
      register: result_updated

    - name: Debug output
      debug:
        var: result_updated