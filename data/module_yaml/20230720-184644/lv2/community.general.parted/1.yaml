---
- name: Configure block devices using parted module
  hosts: localhost
  gather_facts: false
  become: true

  tasks:
    - name: Create partition using parted
      community.general.parted:
        device: b'/dev/sda'
        unit: b'MiB'
        number: 1
        part_start: b'1'
        part_end: b'100'
        part_type: b'primary'
        state: b'present'
      register: parted_result
      ignore_errors: true

    - name: Print debug information
      debug:
        var: parted_result