- name: Execute commands on remote devices
  hosts: all
  gather_facts: false

  tasks:
    - name: Run commands
      community.network.eric_eccli_command:
        commands: "{{ commands }}"
        interval: 5
        match: "{{ match }}"
        retries: "{{ retries }}"
        wait_for: "{{ wait_for }}"
        delegate_to: localhost
      register: result

    - name: Debug output
      debug:
        var: result