---
- name: Test ZFS module with byte string values
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ZFS pool
      community.general.zfs:
        name: "{{ lookup('pipe','echo -ne \"\\x73\\x74\\x6f\\x72\\x61\\x67\\x65\\x5f\\x70\\x6f\\x6f\\x6c\"') }}"
        state: present
      register: result

    - name: Debug output
      debug:
        var: result