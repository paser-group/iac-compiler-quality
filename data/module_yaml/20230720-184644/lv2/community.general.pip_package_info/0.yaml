---
- name: Test playbook for 'community.general.pip_package_info' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install required Python packages
      pip:
        name:
          - ansible
        state: present

    - name: Define package names as byte strings
      set_fact:
        packages:
          - b'pkg1'
          - b'pkg2'
          - b'pkg3'

    - name: Get pip package info
      community.general.pip_package_info:
        name: "{{ item }}"
      loop: "{{ packages }}"
      register: package_info

    - name: Debug package info
      debug:
        var: package_info