---
- name: Test playbook for Ansible's 'community.general.linode_v4' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a Linode instance
      community.general.linode_v4:
        access_token: "dummy_token"
        state: "present"
        label: !binary |-
          bGluZG9uZTE=  # Introduce byte string value in place of a regular string
        type: "g6-standard-2"  # Specify the desired instance type
        region: "us-east"
        image: "linode/debian10"
        group: "MyGroup"
        authorized_keys:
          - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDIzkLrB9EU2EU3ZYb5TtrA0JTAQEyqbcgBMNuuBC68QaGSIWkW8iCbUgFFxsg2tfL3i9gWjp8hUHqHr6+hCOqWgzs5lXdTtFn1gAwaaS61lcqMgDi6ujhZUJlvDx3RxBQbVYD+pWfYKKAs0vL05mLLv3/8o3+vBMQYzAYPQDQPeGm8fXbXvlHzuXscY4TGVI118c6BBBlPRHM2xs/Ys8J/GeRp/hs0/E6NDCpm1jJp/uojHEXVwGmrgnHFJ3B/uKZqmFTFdi5TkyDXav7L00F2Ta6E9vrDBzJnDccynY5WHPqT7pKA8ZreO1Zn4dmDc9Y9xurLcGQ/0KyNckxuvOEskv02ew9BNZs21bRTNx6FEzrNST08r3uPv21MI4dnocTDjT/AJTGwvxUVhjR0LvhSEI2vSyQ3DquF3/bdH6Fna+vF0eMWtKna9eOiGL6L8FYAqK2khiCCDfgxP+j4JAT0mGsKu6vowh7Qu3MdGfshcGMeXc4fS3UUet0fsPd1jZ7Vzca6U7Wtzm1kmcMLdC8khaB6sKQE5tzwxsExGcHuEqwtg5mTFo6y+FytEzakXaYPe2kcfaRXMaucKBB3RIXCYIoPTDf0kC56QQA7TCB9zYpNeTrbpizC96xgFJB2XGgjaAMNoFJmLIrKIjENYjcLVWLxvUxEiAo8CPlr8olR9HWzyGnRw=="
        private_ip: false
        root_pass: "secretpassword"
        stackscript_id: 123456
        stackscript_data:
          var1: "value1"
          var2: "value2"
        tags:
          - "tag1"
          - "tag2"

      register: linode_instance

    - name: Debug the linode_instance
      debug:
        var: linode_instance