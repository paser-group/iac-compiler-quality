---
- name: Test playbook for redis module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install redis-py
      pip:
        name: redis

    - name: Introduce byte string values in place of regular strings
      community.general.redis:
        ca_certs: "{{ 'test' | b64encode }}"
        command: "{{ 'TEST' | b64encode }}"
        db: "{{ 0 | b64encode }}"
        flush_mode: "{{ 'SYNC' | b64encode }}"
        login_host: "{{ 'localhost' | b64encode }}"
        login_password: "{{ 'password' | b64encode }}"
        login_port: "{{ 6379 | b64encode }}"
        login_user: "{{ 'admin' | b64encode }}"
        master_host: "{{ 'master' | b64encode }}"
        master_port: "{{ 6380 | b64encode }}"
        name: "{{ 'redis' | b64encode }}"
        replica_mode: "{{ 'slave' | b64encode }}"
        tls: "{{ true | b64encode }}"
        validate_certs: "{{ false | b64encode }}"
        value: "{{ 'abcdefghijklmnopqrstuvwxyz' | b64encode }}"