---
- name: Test playbook for community.general.hwc_vpc_subnet module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC Subnet
      community.general.hwc_vpc_subnet:
        identity_endpoint: "https://identity.api.ibmcloud.com/v3"
        name: "test_subnet"
        vpc_id: "vpc-12345678"
        region: "us-south"
        cidr: "10.1.1.0/24"
        dns_address: ["8.8.8.8", "8.8.4.4"]
        gateway_ip: 10.1.1.254
        dhcp_enable: true
        domain: example.com
        user: admin
        password: secretpassword
        project: myproject
        state: present
        timeouts:
          create: 600