---
- name: Test playbook
  hosts: localhost
  gather_facts: false

  vars:
    aggregation_key: 12345  # Incorrect data type for aggregation_key
    alert_type: foo  # Incorrect data type for alert_type
    api_host: 'api.datadoghq.com'
    api_key: 'your_datadog_api_key'
    app_key: 'your_datadog_app_key'
    date_happened: '2022-01-01'  # Incorrect data type for date_happened
    host: 'localhost'
    priority: 1  # Incorrect data type for priority
    tags: [1, 2, 3]  # Incorrect data type for tags
    text: 12345  # Incorrect data type for text
    title: 98765  # Incorrect data type for title
    validate_certs: 'true'  # Incorrect data type for validate_certs

  tasks:
    - name: Post data to Datadog
      community.general.datadog_event:
        api_host: "{{ api_host }}"
        api_key: "{{ api_key }}"
        app_key: "{{ app_key }}"
        aggregation_key: "{{ aggregation_key }}"
        alert_type: "{{ alert_type }}"
        date_happened: "{{ date_happened }}"
        host: "{{ host }}"
        priority: "{{ priority }}"
        tags: "{{ tags }}"
        text: "{{ text }}"
        title: "{{ title }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Debug output
      debug:
        var: result