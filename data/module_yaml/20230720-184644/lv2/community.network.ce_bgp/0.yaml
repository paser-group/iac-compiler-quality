---
- name: Ansible Latent Bug Finder - BGP Playbook
  hosts: localhost
  connection: local
  gather_facts: false
  
  tasks:
    - name: Manage BGP Configuration
      community.network.ce_bgp:
        as_number: 12345
        as_path_limit: 200
        bgp_rid_auto_sel: true
        check_first_as: no
        clear_interval: 600
        confed_id_number: 65000
        confed_nonstanded: false
        confed_peer_as_num: 65001
        conn_retry_time: 120
        default_af_type: vpnv4 unicast
        ebgp_if_sensitive: false
        gr_peer_reset: false
        graceful_restart: true
        hold_interval: 100
        hold_time: 180
        is_shutdown: no
        keep_all_routes: false
        keepalive_time: 60
        memory_limit: 100
        min_hold_time: 90
        router_id: 192.168.1.1
        state: present
        suppress_interval: 100
        time_wait_for_rib: 60
        vrf_name: vrf1
        vrf_rid_auto_sel: false
      ignore_errors: true
      register: bgp_result

    - name: Show BGP Result
      debug:
        var: bgp_result