---
- name: Test playbook to expose latent type-related bugs
  hosts: localhost
  gather_facts: false
  vars:
    enablePassword: "password123"
    password: "secret"
    serverusername: "admin"
    serverpassword: "serverpassword123"

  tasks:
    - name: Roll back configuration
      community.network.cnos_rollback:
        host: "{{ ansible_host }}"
        username: "{{ serverusername }}"
        password: "{{ serverpassword }}"
        enablePassword: "{{ enablePassword }}"
        deviceType: "byte string"   # Use byte string instead of regular string
      register: result

    - name: Show result
      debug:
        var: result