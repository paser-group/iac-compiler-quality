---
- name: Test playbook for community.general.one_host module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create one_host
      community.general.one_host:
        api_url: "https://example.com/api"
        api_username: "admin"
        api_password: "password"
        cluster_id: 123
        cluster_name: "my_cluster"
        im_mad_name: "im_qemu"
        labels:
          - "label1"
          - "label2"
        name: "my_host"
        state: "present"
        template:
          vmm_mad_name: "vmm_kvm"
        validate_certs: true
        wait_timeout: 60
      register: result