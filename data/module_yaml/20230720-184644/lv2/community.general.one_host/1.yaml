---
- name: Test playbook for community.general.one_host module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create one_host
      community.general.one_host:
        api_url: b"https://example.com/api"
        api_username: b"admin"
        api_password: b"password"
        cluster_id: 123
        cluster_name: b"my_cluster"
        im_mad_name: b"im_qemu"
        labels:
          - b"label1"
          - b"label2"
        name: b"my_host"
        state: b"present"
        template:
          vmm_mad_name: b"vmm_kvm"
        validate_certs: true
        wait_timeout: 60
      register: result