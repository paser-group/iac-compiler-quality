---
- name: Create VPC Port
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC Port
      community.general.hwc_vpc_port:
        admin_state_up: "'true'"
        allowed_address_pairs: [10.1.1.1, 10.1.1.2, 10.1.1.3]
        domain: "'example.com'"
        extra_dhcp_opts: ["domain-name-servers=10.1.1.254", "ntp-servers=10.1.1.253"]
        id: 123
        identity_endpoint: "'https://identity.example.com'"
        ip_address: "'10.1.1.10'"
        name: "'port-1'"
        password: "'password123'"
        project: "'myproject'"
        region: "'us-east-1'"
        security_groups: [sg-123456, sg-654321]
        state: "'present'"
        subnet_id: "'subnet-123456'"
        timeouts: {'create': 60, 'delete': 30}
        user: "'myuser'"
      register: result

    - name: Debug result
      debug:
        var: result