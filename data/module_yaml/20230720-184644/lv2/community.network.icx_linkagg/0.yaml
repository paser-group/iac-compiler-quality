---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case 1 - Pass a byte string value instead of a regular string for 'name'
      community.network.icx_linkagg:
        name: !!python/bytes "test_linkagg"
        state: present

    - name: Test case 2 - Pass an integer value instead of a list for 'members'
      community.network.icx_linkagg:
        name: "test_linkagg"
        members: 1
        state: present

    - name: Test case 3 - Pass a boolean value instead of a string for 'mode'
      community.network.icx_linkagg:
        name: "test_linkagg"
        mode: true
        state: present

    - name: Test case 4 - Pass a byte string value instead of a boolean for 'check_running_config'
      community.network.icx_linkagg:
        name: "test_linkagg"
        check_running_config: !!python/bytes "true"
        state: present