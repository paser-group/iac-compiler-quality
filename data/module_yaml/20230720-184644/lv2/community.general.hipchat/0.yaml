---
- name: Test playbook for Ansible bug exploration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Introduce byte string values in place of regular strings
      community.general.hipchat:
        api: "{{ api | b64encode }}"  # byte string value instead of regular string
        color: "{{ color | b64encode }}"  # byte string value instead of regular string
        msg: "{{ msg | b64encode }}"  # byte string value instead of regular string
        msg_format: "{{ msg_format | b64encode }}"  # byte string value instead of regular string
        msg_from: "{{ msg_from | b64encode }}"  # byte string value instead of regular string
        notify: true
        room: "{{ room | b64encode }}"  # byte string value instead of regular string
        token: "{{ token | b64encode }}"  # byte string value instead of regular string
        validate_certs: true