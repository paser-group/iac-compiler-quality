- hosts: localhost
  gather_facts: false
  tasks:
    - name: Set variables
      set_fact:
        api_key: "your_api_key"
        api_password: "your_api_password"
        customer_id: 123456
        domain: example.com
        priority: 0
        record: "example"
        solo: false
        state: present
        timeout: 30
        type: "A"
        value: "127.0.0.1"

    - name: Introduce byte string values
      set_fact:
        api_key_byte: "{{ api_key | string | to_bytes }}"
        api_password_byte: "{{ api_password | string | to_bytes }}"
        domain_byte: "{{ domain | string | to_bytes }}"
        record_byte: "{{ record | string | to_bytes }}"
        type_byte: "{{ type | string | to_bytes }}"
        value_byte: "{{ value | string | to_bytes }}"

    - name: Trigger type-related bug
      community.general.netcup_dns:
        api_key: "{{ api_key_byte }}"
        api_password: "{{ api_password_byte }}"
        customer_id: "{{ customer_id }}"
        domain: "{{ domain_byte }}"
        priority: "{{ priority }}"
        record: "{{ record_byte }}"
        solo: "{{ solo }}"
        state: "{{ state }}"
        timeout: "{{ timeout }}"
        type: "{{ type_byte }}"
        value: "{{ value_byte }}"
      register: result

    - name: Display result
      debug:
        var: result