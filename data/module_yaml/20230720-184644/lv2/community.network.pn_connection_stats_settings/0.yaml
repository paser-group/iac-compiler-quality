---
- name: Test Playbook
  hosts: localhost
  gather_facts: false

  vars:
    pn_client_server_stats_log_disk_space: "10"
    pn_client_server_stats_log_enable: true
    pn_client_server_stats_log_interval: "60"
    pn_client_server_stats_max_memory: "512"
    pn_cliswitch: "on"
    pn_connection_backup_enable: true
    pn_connection_backup_interval: "3600"
    pn_connection_max_memory: "1024"
    pn_connection_stats_log_disk_space: "20"
    pn_connection_stats_log_enable: true
    pn_connection_stats_log_interval: "30"
    pn_connection_stats_max_memory: "256"
    pn_enable: true
    pn_fabric_connection_backup_enable: true
    pn_fabric_connection_backup_interval: "1800"
    pn_fabric_connection_max_memory: "2048"
    pn_service_stat_max_memory: "128"
    state: "present"

  tasks:
    - name: Configure Connection Stats Settings
      community.network.pn_connection_stats_settings:
        pn_client_server_stats_log_disk_space: "{{ pn_client_server_stats_log_disk_space }}"
        pn_client_server_stats_log_enable: "{{ pn_client_server_stats_log_enable }}"
        pn_client_server_stats_log_interval: "{{ pn_client_server_stats_log_interval }}"
        pn_client_server_stats_max_memory: "{{ pn_client_server_stats_max_memory }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_connection_backup_enable: "{{ pn_connection_backup_enable }}"
        pn_connection_backup_interval: "{{ pn_connection_backup_interval }}"
        pn_connection_max_memory: "{{ pn_connection_max_memory }}"
        pn_connection_stats_log_disk_space: "{{ pn_connection_stats_log_disk_space }}"
        pn_connection_stats_log_enable: "{{ pn_connection_stats_log_enable }}"
        pn_connection_stats_log_interval: "{{ pn_connection_stats_log_interval }}"
        pn_connection_stats_max_memory: "{{ pn_connection_stats_max_memory }}"
        pn_enable: "{{ pn_enable }}"
        pn_fabric_connection_backup_enable: "{{ pn_fabric_connection_backup_enable }}"
        pn_fabric_connection_backup_interval: "{{ pn_fabric_connection_backup_interval }}"
        pn_fabric_connection_max_memory: "{{ pn_fabric_connection_max_memory }}"
        pn_service_stat_max_memory: "{{ pn_service_stat_max_memory }}"
        state: "{{ state }}"