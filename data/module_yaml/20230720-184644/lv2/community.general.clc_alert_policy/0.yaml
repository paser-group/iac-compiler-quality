---
- hosts: localhost
  gather_facts: false
  tasks:
    - name: Create Alert Policy with byte strings
      community.general.clc_alert_policy:
        alert_recipients: "{{ recipients }}"
        alias: "{{ policy_alias }}"
        duration: "{{ policy_duration }}"
        id: "{{ policy_id }}"
        metric: "{{ policy_metric }}"
        name: "{{ policy_name }}"
        state: "{{ policy_state }}"
        threshold: "{{ policy_threshold | int }}"
      vars:
        recipients:
          - "ZXhhbXBsZV9yZWNpcGllbnRz"
          - "cmVjaXBpZW50MV9leGFtcGxlX3NjaGVtZXM="
        policy_alias: !binary "dGVzdF9wb2xpY3k="
        policy_duration: !binary "UFQ1TQ=="
        policy_id: !binary "ZXhhbXBsZV9pZA=="
        policy_metric: !binary "Q1BV"
        policy_name: !binary "VGVzdCBBbGVydCBQb2xpY3k="
        policy_state: !binary "cHJlc2VudA=="
        policy_threshold: !binary "OTAKEw=="