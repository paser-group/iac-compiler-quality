---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    bridge_domain_id: 123
    evpn: true
    route_distinguisher: 10.0.0.1:1234
    state: present
    vpn_target_both: [192.168.1.1:1234, 192.168.2.2:5678]
    vpn_target_export: [192.168.3.3:9101, 192.168.4.4:1122]
    vpn_target_import: [192.168.5.5:1313, 192.168.6.6:1516]

  tasks:
    - name: Debug variables
      debug:
        msg: "bridge_domain_id: {{ bridge_domain_id }}, evpn: {{ evpn }}, route_distinguisher: {{ route_distinguisher }}, state: {{ state }}, vpn_target_both: {{ vpn_target_both }}, vpn_target_export: {{ vpn_target_export }}, vpn_target_import: {{ vpn_target_import }}"

    - name: Run community.network.ce_evpn_bd_vni module
      community.network.ce_evpn_bd_vni:
        bridge_domain_id: "{{ bridge_domain_id }}"
        evpn: "{{ evpn }}"
        route_distinguisher: "{{ route_distinguisher }}"
        state: "{{ state }}"
        vpn_target_both: "{{ vpn_target_both }}"
        vpn_target_export: "{{ vpn_target_export }}"
        vpn_target_import: "{{ vpn_target_import }}"

...