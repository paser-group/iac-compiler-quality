---
- name: Test playbook for 'community.general.proxmox_kvm' module
  hosts: localhost
  tasks:
    - name: Test task 1
      proxmox_kvm:
        state: "{{ 1 }}"
        # Introduce byte string value in place of a regular string
        api_password: "my_password".encode('utf-8')
        vmid: 100
        name: test_vm
        description: Test VM
      register: result1

    - name: Debug result1
      debug:
        var: result1

    - name: Test task 2
      proxmox_kvm:
        state: "{{ 2|float }}"
        # Introduce byte string value in place of a regular string
        api_secret_token: "my_secret_token".encode('utf-8')
        vmid: 100
        name: test_vm
        description: Test VM
      register: result2

    - name: Debug result2
      debug:
        var: result2