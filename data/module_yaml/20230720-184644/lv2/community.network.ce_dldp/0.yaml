- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the community.network.ce_dldp module
      include_vars:
        file: "{{ playbook_dir }}/vars/main.yml"
      when: False

    - name: Set the DLDP configuration options
      community.network.ce_dldp:
        auth_mode: "{{ auth_mode | password_hash('sha256') }}"  # Use a filter that converts the variable to a byte string
        auth_pwd: "{{ auth_pwd | password_hash('sha256') }}"
        enable: "{{ enable | password_hash('sha256') }}"
        reset: "{{ reset | password_hash('sha256') }}"
        time_internal: "{{ time_internal | password_hash('sha256') }}"
        work_mode: "{{ work_mode | password_hash('sha256') }}"