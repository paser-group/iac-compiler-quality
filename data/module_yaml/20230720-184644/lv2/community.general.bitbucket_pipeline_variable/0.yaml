---
- name: Test Heuristic - Introduce byte string values in place of regular strings
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set variables
      set_fact:
        client_id: !!binary | 
          ZXhhbXBsZS1jbGllbnQtaWQ=
        client_secret: !!binary | 
          ZXhhbXBsZS1jbGllbnQtc2VjcmV0
        name: !!binary | 
          ZXhhbXBsZS12YXJpYWJsZS1uYW1l
        password: !!binary | 
          ZXhhbXBsZS1wYXNzd29yZA==
        repository: !!binary | 
          ZXhhbXBsZS1yZXBvc2l0b3J5
        secured: !!bool "true"
        state: !!binary | 
          ZXhhbXBsZS1zdGF0ZQ==
        user: !!binary | 
          ZXhhbXBsZS11c2Vy
        value: !!binary | 
          ZXhhbXBsZS12YWx1ZQ==
        workspace: !!binary | 
          ZXhhbXBsZS13b3Jrc3BhY2U=

    - name: Create Bitbucket Pipeline Variable
      community.general.bitbucket_pipeline_variable:
        client_id: "{{ client_id }}"
        client_secret: "{{ client_secret }}"
        name: "{{ name }}"
        password: "{{ password }}"
        repository: "{{ repository }}"
        secured: "{{ secured }}"
        state: "{{ state }}"
        user: "{{ user }}"
        value: "{{ value }}"
        workspace: "{{ workspace }}"