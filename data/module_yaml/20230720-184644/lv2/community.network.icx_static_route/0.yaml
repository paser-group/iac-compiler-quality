- name: Configure static routes on Ruckus ICX switches
  hosts: icx_switches
  gather_facts: false
  tasks:
    - name: Add static routes
      community.network.icx_static_route:
        prefix: "{{ item.prefix }}"
        mask: "{{ item.mask }}"
        next_hop: "{{ item.next_hop }}"
        admin_distance: "{{ item.admin_distance }}"
        check_running_config: "{{ item.check_running_config }}"
        purge: "{{ item.purge }}"
        state: "{{ item.state }}"
      loop:
        - { prefix: '10.10.0.0', mask: '255.255.255.0', next_hop: b'192.168.1.1', admin_distance: 200, check_running_config: true, purge: false, state: 'present' }
        - { prefix: '192.168.0.0', mask: '255.255.0.0', next_hop: '172.16.1.1', admin_distance: 120, check_running_config: false, purge: true, state: 'absent' }