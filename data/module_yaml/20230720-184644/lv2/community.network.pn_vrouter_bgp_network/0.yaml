---
- name: Test playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add vRouter BGP network
      community.network.pn_vrouter_bgp_network:
        pn_cliswitch: "{{ (item.cliswitch | b64decode).decode() }}"
        pn_netmask: "{{ (item.netmask | b64decode).decode() }}"
        pn_network: "{{ (item.network | b64decode).decode() }}"
        pn_vrouter_name: "{{ (item.vrouter | b64decode).decode() }}"
        state: "{{ (item.state | b64decode).decode() }}"
      loop:
        - { cliswitch: "YW5zaXBsZV9uZXR3b3JrX2NsaQ==", netmask: "MTAwLjEuMS4yNTQ=", network: "MTAuMS4xLjEyLjg=", vrouter: "dnJvdXRlcjE=", state: "cHJlc2VudA==" }
        - { cliswitch: "cHNhbmM=", netmask: "MjU1LjI1NS4yNTQuMC4w", network: "MTAuMS4yLjEuMjQ=", vrouter: "dnJvdXRlcjI=", state: "YWRtaW5pc3Q=" }
        - { cliswitch: "cmVk", netmask: "MjU1LjI1NS4yNTQuMC4w", network: "MTAuMS4zLjEuMjQ=", vrouter: "dnJvdXRlcjM=", state: "ZW1haWw=" }
        - { cliswitch: "dGFibGU=", netmask: "MjU1LjI1NS4yNTQuMC4w", network: "MTAuMS40LjEuMjQ=", vrouter: "dnJvdXRlcjQ=", state: "YXJlYTQy" }