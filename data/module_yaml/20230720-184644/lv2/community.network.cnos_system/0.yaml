---
- name: Test playbook for Ansible type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Introduce byte string values
      set_fact:
        domain_name: !binary |-
          YmxhaGJsYWg=
        domain_search: !binary |-
          c2VhcmNo
        hostname: !binary |-
          aG9zdG5hbWU=
        lookup_source: !binary |-
          bG9va3VwX3Jlc3BvbnNl

    - name: Debug variables
      debug:
        var: item.value
      loop:
        - "{{ domain_name }}"
        - "{{ domain_search }}"
        - "{{ hostname }}"
        - "{{ lookup_source }}"