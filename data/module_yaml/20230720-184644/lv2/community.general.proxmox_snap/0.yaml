---
- name: Test playbook for community.general.proxmox_snap module
  hosts: localhost
  gather_facts: false
  
  vars:
    api_host: 10.1.1.10
    api_password: my_password
    api_token_id: my_token_id
    api_token_secret: my_token_secret
    api_user: my_username
    description: Snapshot description
    force: false
    hostname: proxmox_host
    snapname: snapshot_name
    state: present
    timeout: 30
    unbind: false
    validate_certs: false
    vmid: 100
    vmstate: false
    
  tasks:
    - name: Include community.general.proxmox_snap module
      import_role:
        name: community.general.proxmox_snap
      vars:
        api_host: "{{ api_host }}"
        api_password: "{{ api_password }}"
        api_token_id: "{{ api_token_id }}"
        api_token_secret: "{{ api_token_secret }}"
        api_user: "{{ api_user }}"
        description: "{{ description }}"
        force: "{{ force }}"
        hostname: "{{ hostname }}"
        snapname: "{{ snapname }}"
        state: "{{ state }}"
        timeout: "{{ timeout }}"
        unbind: "{{ unbind }}"
        validate_certs: "{{ validate_certs }}"
        vmid: "{{ vmid }}"
        vmstate: "{{ vmstate }}"