---
- name: Test playbook for community.network.netscaler_ssl_certkey module
  hosts: localhost
  gather_facts: false

  vars:
    nitro_protocol: https
    nitro_user: admin
    nitro_pass: secret
    nitro_timeout: 10
    nsip: 192.0.2.1

  tasks:
    - name: Test with byte string for cert
      community.network.netscaler_ssl_certkey:
        cert: b'MIIE...'
        key: /path/to/key.pem
        nsip: "{{ nsip }}"
        nitro_user: "{{ nitro_user }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        state: present
        save_config: true
        validate_certs: true

    - name: Test with byte string for key
      community.network.netscaler_ssl_certkey:
        cert: /path/to/cert.pem
        key: b'-----BEGIN PRIVATE KEY-----...'
        nsip: "{{ nsip }}"
        nitro_user: "{{ nitro_user }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        state: present
        save_config: true
        validate_certs: true