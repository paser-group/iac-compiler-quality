---
- hosts: localhost
  gather_facts: false

  tasks:
    - name: Create snmptrapprofile with byte string values
      community.network.avi_snmptrapprofile:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "test_snmptrapprofile"
        tenant_uuid: "{{ tenant_uuid }}"
        avi_credentials:
          username: "{{ username }}"
          password: "{{ password.encode('utf-8') }}"  # Byte string value
        trap_servers:
          - ip: "{{ trap_server_ip }}"
            port: 162
            version: "{{ 'v2c'.encode('utf-8') }}"  # Byte string value

        # Set other options as needed

      register: result

    - name: Debug result
      debug:
        var: result