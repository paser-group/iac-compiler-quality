---
- name: Test pn_port_config module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure port
      community.network.pn_port_config:
        pn_allowed_tpid: b'\x01\x02'   # Introduce byte string value
        pn_autoneg: true
        pn_cliswitch: 'on'
        pn_crc_check_enable: true
        pn_defer_bringup: false
        pn_description: 'Test Port'
        pn_dscp_map: '2,5,7'
        pn_edge_switch: false
        pn_egress_rate_limit: '5Mbps'
        pn_enable: true
        pn_eth_mode: null
        pn_fabric_guard: true
        pn_host_enable: true
        pn_intf: '1/1'
        pn_jumbo: true
        pn_lacp_priority: '1'
        pn_local_switching: false
        pn_loop_vlans: '100-200'
        pn_loopback: false
        pn_mirror_only: true
        pn_pause: true
        pn_port: '1/1'
        pn_port_mac_address: '00:11:22:33:44:55'
        pn_reflect: false
        pn_routing: false
        pn_send_port: '2/1'
        pn_speed: null
        pn_vxlan_termination: true
        state: present
      register: result

    - debug:
        var: result