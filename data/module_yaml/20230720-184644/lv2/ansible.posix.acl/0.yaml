- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set ACLs using ansible.posix.acl module
      ansible.posix.acl:
        path: /path/to/directory
        entity: user
        entry: "user:name:rwx"
        recursive: "true"
        state: present
        use_nfsv4_acls: "true"
        recalculate_mask: false
        permissions: |
          '{{ ["read", "write", "execute"] }}'