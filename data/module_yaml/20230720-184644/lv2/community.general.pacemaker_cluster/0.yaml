---
- name: Test playbook for pacemaker_cluster module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install pacemaker packages
      package:
        name: pacemaker
        state: present

    - name: Configure pacemaker cluster
      community.general.pacemaker_cluster:
        force: True
        node: "{{ 'docker-node'.encode() }}"
        state: "started".encode()
        timeout: "60".encode()
      register: cluster_output

    - name: Debug pacemaker cluster output
      debug:
        var: cluster_output