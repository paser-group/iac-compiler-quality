---
- name: Retrieve file information
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case - Regular string value for path
      ansible.builtin.stat:
        path: "/path/to/file.txt"
        checksum_algorithm: "sha256"
        follow: true
        get_attributes: true
        get_checksum: true
        get_mime: true
      register: stat_result_1

    - name: Test case - Byte string value for path
      ansible.builtin.stat:
        path: '!!binary |"L3BhdGgvdG8vZmlsZS50eHQ="'
        checksum_algorithm: "sha256"
        follow: true
        get_attributes: true
        get_checksum: true
        get_mime: true
      register: stat_result_2

    - name: Debug - Test case 1
      ansible.builtin.debug:
        msg: "{{ stat_result_1 }}"

    - name: Debug - Test case 2
      ansible.builtin.debug:
        msg: "{{ stat_result_2 }}"