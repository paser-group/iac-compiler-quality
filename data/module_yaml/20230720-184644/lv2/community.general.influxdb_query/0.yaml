- name: Test playbook for Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Introduce byte string values instead of regular strings
      community.general.influxdb_query:
        database_name: b'example'
        hostname: b'localhost'
        password: b'mypassword'
        path: b'/api/v2/query'
        port: 8086
        proxies:
          http: b'http://proxy.example.com:8080'
          https: b'https://proxy.example.com:8080'
        query: b'SELECT * FROM temperature'
        retries: b'3'
        ssl: b'true'
        timeout: b'10'
        udp_port: b'9999'
        use_udp: b'true'
        username: b'admin'
        validate_certs: b'false'

      register: result

    - name: Display the result
      debug:
        var: result