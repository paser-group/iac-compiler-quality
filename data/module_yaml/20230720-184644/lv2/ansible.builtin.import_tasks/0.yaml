---
- name: Import Tasks Example
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Import tasks from file
      ansible.builtin.import_tasks:
        file: "{{ tasks_file }}"

    - name: Debug tasks
      debug:
        msg: "Tasks imported successfully"

    - name: Print network details
      debug:
        msg:
          - 'ubuntu1: 10.1.1.1'
          - 'alpine1: 10.1.1.2'
          - 'centos1: 10.1.1.3'
          - 'redhat1: 10.1.1.4'

  pre_tasks:
    - name: Create inventory file
      blockinfile:
        path: inventory
        marker: ''
        block: |
          [docker]
          ubuntu1 ansible_host=10.1.1.1
          alpine1 ansible_host=10.1.1.2
          centos1 ansible_host=10.1.1.3
          redhat1 ansible_host=10.1.1.4

    - name: Create tasks file
      blockinfile:
        path: "tasks.yaml"
        marker: ''
        block: |
          - name: Check connectivity
            shell: ping -c 1 10.1.1.1