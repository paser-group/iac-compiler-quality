---
- name: Execute idrac_redfish_info playbook
  hosts: localhost
  gather_facts: false

  vars:
    auth_token: b'my_token'
    baseuri: b'http://example.com'
    category: b'chassis'
    command:
      - b'set'
      - b'--name=server_name'
      - b'--value=my_server'
    password: b'my_password'
    timeout: 5
    username: b'my_username'

  tasks:
    - name: Gather PowerEdge server information
      community.general.idrac_redfish_info:
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        password: "{{ password }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
      register: idrac_info

    - name: Display idrac_info
      debug:
        var: idrac_info