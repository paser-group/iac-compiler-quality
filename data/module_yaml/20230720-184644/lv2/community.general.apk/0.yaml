- name: Test playbook for community.general.apk module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages using apk module
      community.general.apk:
        name:
          - bsdmainutils
          - "curl"
        state: "{{ state }}"
        update_cache: "{{ update_cache }}"
        upgrade: 1
      register: apk_output

    - name: Print apk output
      debug:
        var: apk_output