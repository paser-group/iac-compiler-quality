---
- name: Test ansible-network collection modules
  hosts: localhost
  tasks:
    - name: Test avi_trafficcloneprofile module
      community.network.avi_trafficcloneprofile:
        api_context:
          cert_validation_flag: true
          tenant: admin
          tenant_uuid: ["{{ tenant_uuid }}"]  # Use a byte string value in place of a regular string
          url: https://{{ controller }}[api]  # Use a byte string value in place of a regular string
          username: b'{{ username }}'  # Use a byte string value in place of a regular string
          password: "{{ password }}"  # Use a regular string for password
        avi_credentials:
          api_version: 20.1.5
          preserve_client_ip: true
          controller: "{{ controller }}"  # Use a regular string for controller
        avi_disable_session_cache_as_fact: false
        clone_servers:
          - cloud_ref: /api/cloud?name=admin&tenant=admin
            name: clone-server-1
          - cloud_ref: /api/cloud?name=admin&tenant=admin
            name: clone-server-2
        cloud_ref: /api/cloud?name=admin&tenant=admin
        controller: b'{{ controller }}'  # Use a byte string value in place of a regular string
        name: null
        password: b'{{ ansible_password }}'  # Use a byte string value in place of a regular string
        preserve_client_ip: true
        tenant: admin
        tenant_ref: null
        tenant_uuid: "b'{{ tenant_uuid }}'"  # Use a byte string value in place of a regular string
        url: b"https://{{ controller }}/api"  # Use a byte string value in place of a regular string
        username: "{{ username }}"
        uuid: null
      register: result

    - name: Display the module result
      debug:
        var: result