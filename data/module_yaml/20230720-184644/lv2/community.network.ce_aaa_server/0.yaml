---
- name: Test AAA server global configuration
  hosts: localhost
  gather_facts: false
  vars:
    accounting_mode: "default"
    acct_scheme_name: "default"
    authen_scheme_name: "default"
    author_scheme_name: "default"
    domain_name: "example.com"
    first_authen_mode: "default"
    first_author_mode: "default"
    hwtacas_template: "default"
    local_user_group: "default"
    radius_server_group: "default"
    state: "present"

  tasks:
    - name: Manage AAA server global configuration
      community.network.ce_aaa_server:
        accounting_mode: "{{ accounting_mode }}"
        acct_scheme_name: "{{ acct_scheme_name }}"
        authen_scheme_name: "{{ authen_scheme_name }}"
        author_scheme_name: "{{ author_scheme_name }}"
        domain_name: "{{ domain_name }}"
        first_authen_mode: "{{ first_authen_mode }}"
        first_author_mode: "{{ first_author_mode }}"
        hwtacas_template: "{{ hwtacas_template }}"
        local_user_group: "{{ local_user_group }}"
        radius_server_group: "{{ radius_server_group }}"
        state: "{{ state }}"
      register: result

    - name: Debug AAA server global configuration
      debug:
        var: result