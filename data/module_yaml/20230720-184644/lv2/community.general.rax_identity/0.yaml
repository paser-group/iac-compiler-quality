---
- name: Test Ansible Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Load RackSpace Identity
      community.general.rax_identity:
        api_key: !binary "YXBpX2tleQ=="
        auth_endpoint: !binary "YXV0aF9lbmRwb2ludA=="
        credentials: !binary "L3BhdGgvdG8vY3JlZGVudGlhbHMK"
        env: !binary "ZW52"
        identity_type: !binary "aWRlbnRpdHlfdHlwZQ=="
        region: !binary "cmVnaW9u"
        state: !binary "c3RhdGU="
        tenant_id: !binary "dGVuYW50X2lk"
        tenant_name: !binary "dGVuYW50X25hbWU="
        username: !binary "dXNlcm5hbWU="
        validate_certs: !binary "dHJ1ZQ=="
      register: result

    - name: Debug Result
      debug:
        var: result

    - name: Assert Result
      assert:
        that: result is success
      fail_msg: "The 'rax_identity' module failed to load the RackSpace Identity."
      success_msg: "The 'rax_identity' module successfully loaded the RackSpace Identity."