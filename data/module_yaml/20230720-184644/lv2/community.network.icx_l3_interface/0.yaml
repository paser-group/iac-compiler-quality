---
- name: Test playbook for community.network.icx_l3_interface module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure Layer-3 interface
      community.network.icx_l3_interface:
        name: eth1
        state: present
        ipv4: "10.1.1.1/24"
        ipv6: "2001:db8::1/64"
        mode: access
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Introduce byte string value test case
      community.network.icx_l3_interface:
        name: eth1
        state: present
        ipv4: !!python/bytes "10.1.1.2/24"
        ipv6: !!python/bytes "2001:db8::2/64"
        mode: access
      register: result

    - name: Debug result
      debug:
        var: result