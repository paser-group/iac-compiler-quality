---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manipulate Consul ACL
      community.general.consul_acl:
        host: "{{ host }}"
        port: "{{ port }}"
        token: "{{ mgmt_token }}"
        scheme: "{{ scheme }}"
        validate_certs: "{{ validate_certs }}"
        state: "{{ state }}"
        name: 10.1.1.1
        rules: [10.1.1.2, 10.1.1.3]
        token_type: 20