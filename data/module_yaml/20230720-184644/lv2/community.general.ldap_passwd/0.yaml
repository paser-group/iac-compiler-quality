---
- name: Test playbook for community.general.ldap_passwd module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set up LDAP password
      community.general.ldap_passwd:
        bind_dn: "cn=admin,dc=example,dc=com"
        bind_pw: "password"
        server_uri: "ldap://localhost"
        dn: "uid=testuser,ou=users,dc=example,dc=com"
        passwd: "newpassword"
        validate_certs: false
      register: result

    - name: Print result
      debug:
        var: result