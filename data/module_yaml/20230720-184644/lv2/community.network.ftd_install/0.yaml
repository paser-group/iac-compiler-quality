---
- name: Execute FTD Installation
  hosts: localhost
  gather_facts: false
  vars:
    console_ip: "10.1.1.1"
    console_password: "admin"
    console_port: "22"
    console_username: "admin"
    device_gateway: "10.1.1.254"
    device_hostname: "ftd-host"
    device_ip: "10.1.1.10"
    device_model: "cisco-ftd"
    device_netmask: "255.255.255.0"
    device_new_password: "new_password"
    device_password: "password"
    device_sudo_password: "password"
    device_username: "admin"
    dns_server: "8.8.8.8"
    force_install: false
    image_file_location: "http://example.com/ftd_image.pkg"
    image_version: "6.6.6"
    rommon_file_location: "http://example.com/rommon_image.pkg"
    search_domains: "example.com"

  tasks:
    - name: Introduce byte string values in place of regular strings
      set_fact:
        brute_force_string: !!python/bytes |
          import random
          import string
          "".join(random.choices(string.ascii_lowercase, k=10)).encode()
          
    - name: Install FTD
      community.network.ftd_install:
        console_ip: "{{ console_ip }}"
        console_password: "{{ console_password }}"
        console_port: "{{ console_port }}"
        console_username: "{{ console_username }}"
        device_gateway: "{{ device_gateway }}"
        device_hostname: "{{ device_hostname }}"
        device_ip: "{{ device_ip }}"
        device_model: "{{ brute_force_string }}"
        device_netmask: "{{ device_netmask }}"
        device_new_password: "{{ device_new_password }}"
        device_password: "{{ device_password }}"
        device_sudo_password: "{{ device_sudo_password }}"
        device_username: "{{ device_username }}"
        dns_server: "{{ dns_server }}"
        force_install: "{{ force_install }}"
        image_file_location: "{{ image_file_location }}"
        image_version: "{{ image_version }}"
        rommon_file_location: "{{ rommon_file_location }}"
        search_domains: "{{ search_domains }}"
      register: ftd_install_result

    - name: Display FTD install result
      debug:
        var: ftd_install_result