---
- name: Unveil Latent Type-Related Bugs in Ansible
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set byte string value using 'community.general.osx_defaults'
      community.general.osx_defaults:
        domain: com.example.app
        key: myKey
        value: "{{ 'SGVsbG8gV29ybGQhCg==' | b64decode }}"
        state: "{{ 'present' }}"

    - name: Set regular string value using 'community.general.osx_defaults'
      community.general.osx_defaults:
        domain: com.example.app
        key: myKey2
        value: 'Hello World!'
        state: present

    - name: Print byte string value
      debug:
        var: myKey

    - name: Print regular string value
      debug:
        var: myKey2