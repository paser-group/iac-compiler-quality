---
- hosts: localhost
  gather_facts: false

  tasks:
    - name: Test Byte Strings
      set_fact:
        api_timeout: "{{ 60 | b }}"
        api_token: "{{ 'YOUR_API_TOKEN' | b }}"
        api_url: "{{ 'https://api.scaleway.com/' | b }}"
        query_parameters: "{{ {'key1': 'value1' | b, 'key2': 'value2' | b} }}"
        region: "{{ 'ams1' | b }}"
        validate_certs: "{{ true | b }}"

    - name: Gather Scaleway IP Info
      community.general.scaleway_ip_info:
        api_timeout: "{{ api_timeout | d }}"
        api_token: "{{ api_token | d }}"
        api_url: "{{ api_url | d }}"
        query_parameters: "{{ query_parameters | d }}"
        region: "{{ region | d }}"
        validate_certs: "{{ validate_certs | d }}"
      register: ip_info_result

    - name: Display IP Info Result
      debug:
        var: ip_info_result