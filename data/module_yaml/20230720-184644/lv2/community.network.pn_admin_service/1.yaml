---

- name: Execute pn_admin_service module
  hosts: all
  gather_facts: false

  tasks:

    - name: Configure pn_admin_service
      community.network.pn_admin_service:
        pn__if: "{{ pn_interface }}"
        pn_cliswitch: "{{ pn_switch }}"
        pn_icmp: b'{{ pn_enable_icmp }}'
        pn_net_api: b'{{ pn_enable_net_api }}'
        pn_nfs: b'{{ pn_enable_nfs }}'
        pn_snmp: b'{{ pn_enable_snmp }}'
        pn_ssh: b'{{ pn_enable_ssh }}'
        pn_web: b'{{ pn_enable_web }}'
        pn_web_log: b'{{ pn_enable_web_log }}'
        pn_web_port: "{{ pn_web_port }}"
        pn_web_ssl: b'{{ pn_enable_web_ssl }}'
        pn_web_ssl_port: "{{ pn_web_ssl_port }}"
        state: "{{ pn_state }}"
      register: result

    - name: Debug result
      debug:
        var: result