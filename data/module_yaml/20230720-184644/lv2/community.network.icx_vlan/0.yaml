---
- name: Test playbook for Ansible type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Create VLAN with byte string name
      community.network.icx_vlan:
        vlan_id: 10
        name: !!binary 'ZXhhbXBsZQ=='

    - name: Create VLAN with byte string interfaces
      community.network.icx_vlan:
        vlan_id: 20
        name: test_vlan
        interfaces: !!binary 'W10='

    - name: Create VLAN with byte string tagged interfaces
      community.network.icx_vlan:
        vlan_id: 30
        name: test_vlan
        tagged:
          - !!binary 'W10='

    - name: Create VLAN with byte string associated interfaces
      community.network.icx_vlan:
        vlan_id: 40
        name: test_vlan
        associated_interfaces: !!binary 'W10='

    - name: Create VLAN with byte string associated tagged interfaces
      community.network.icx_vlan:
        vlan_id: 50
        name: test_vlan
        associated_tagged:
          - !!binary 'W10='

    - name: Create VLAN with byte string state
      community.network.icx_vlan:
        vlan_id: 60
        name: test_vlan
        state: !!binary 'dHJ1ZQ=='