- name: Collect Ruckus ICX facts
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Gather ICX facts
      community.network.icx_facts:
        gather_subset:
          - config
          - interfaces
          - lldp
          - mac-address-table
          - vlans
          - spanning-tree
          - system
          - route-tables
      register: icx_facts

    - name: Debug ICX facts
      debug:
        var: icx_facts