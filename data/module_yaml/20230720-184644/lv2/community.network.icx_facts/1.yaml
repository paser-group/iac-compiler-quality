- name: Collect Ruckus ICX facts
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Gather ICX facts
      community.network.icx_facts:
        gather_subset:
          - b'config'
          - b'interfaces'
          - b'lldp'
          - b'mac-address-table'
          - b'vlans'
          - b'spanning-tree'
          - b'system'
          - b'route-tables'
      register: icx_facts

    - name: Debug ICX facts
      debug:
        var: icx_facts