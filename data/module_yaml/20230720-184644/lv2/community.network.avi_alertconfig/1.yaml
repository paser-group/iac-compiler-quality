---
- name: Configure Avi AlertConfig
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set AlertConfig properties
      community.network.avi_alertconfig:
        controller: b"https://{{ controller }}"
        username: b"{{ username }}"
        password: b"{{ password }}"
        tenant: b"{{ tenant }}"
        api_version: b"20.1.3"
        avi_credentials:
          - api_version: b"20.1.3"
            controller: b"{{ controller }}"
            username: b"{{ username }}"
            password: b"{{ password }}"
            tenant_ref: b"{{ tenant_ref }}"
        name: b"Test AlertConfig"
        enabled: b"true"
        category: null
        description: b""
        summary: null
        autoscale_alert: b"yes"
        recommendation: null
        action_group_ref: null
        alert_rule: null
        api_context:
          conv_context: null
          shared_context: null
        expiry_time: null
        object_type: null
        obj_uuid: null
        rolling_window: null
        source: b"10.1.1.1"
        state: null
        tenant_uuid: null
        threshold: null
        throttle: null
        url: null
        avi_api_patch_op: null
        avi_api_update_method: null
        avi_disable_session_cache_as_fact: b"no"

      register: result

    - name: Debug AlertConfig
      debug:
        var: result