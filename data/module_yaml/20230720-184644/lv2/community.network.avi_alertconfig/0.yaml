---
- name: Configure Avi AlertConfig
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set AlertConfig properties
      community.network.avi_alertconfig:
        controller: "https://{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        api_version: "20.1.3"
        avi_credentials:
          - api_version: "20.1.3"
            controller: "{{ controller }}"
            username: "{{ username }}"
            password: "{{ password }}"
            tenant_ref: "{{ tenant_ref }}"
        name: "Test AlertConfig"
        enabled: true
        category: null
        description: ""
        summary: ~
        autoscale_alert: yes
        recommendation: ~
        action_group_ref: null
        alert_rule: null
        api_context:
          conv_context: null
          shared_context: null
        expiry_time: null
        object_type: null
        obj_uuid: null
        rolling_window: null
        source: "10.1.1.1"
        state: null
        tenant_uuid: null
        threshold: null
        throttle: null
        url: null
        avi_api_patch_op: null
        avi_api_update_method: null
        avi_disable_session_cache_as_fact: no

      register: result

    - name: Debug AlertConfig
      debug:
        var: result