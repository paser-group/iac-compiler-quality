- name: Setup L4PolicySet
  hosts: localhost
  gather_facts: false
  become: false

  vars:
    avi_credentials:
      controller: "{{ controller }}"
      username: "{{ username }}"
      password: "{{ password }}"

  tasks:
    - name: Create L4PolicySet
      community.network.avi_l4policyset:
        state: "{{ state }}"
        controller: "{{ avi_credentials.controller }}"
        username: "{{ avi_credentials.username }}"
        password: "{{ avi_credentials.password }}"
        tenant: example_tenant
        name: policyset1
        description: !binary |
          SGVsbG8gd29ybGQK  # Byte string value for "Hello world"

    - name: Debug
      debug:
        var: ansible_facts.community_network_avi_l4policyset