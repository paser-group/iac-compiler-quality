---
- name: Test IBM Spectrum Accelerate F pools
  hosts: localhost
  gather_facts: false

  vars:
    domain: "example.com"
    endpoints: "https://example.com/api"
    username: "admin"
    password: "password"
    pool: "test-pool"
    size: "1GB"
    snapshot_size: "500MB"
    perf_class: "default"
    state: "present"

  tasks:
    - name: Create IBM Spectrum Accelerate F pool
      community.general.ibm_sa_pool:
        domain: "{{ domain | b64encode }}"
        endpoints: "{{ endpoints | b64encode }}"
        username: "{{ username | b64encode }}"
        password: "{{ password | b64encode }}"
        pool: "{{ pool | b64encode }}"
        size: "{{ size | b64encode }}"
        snapshot_size: "{{ snapshot_size | b64encode }}"
        perf_class: "{{ perf_class | b64encode }}"
        state: "{{ state | b64encode }}"
      register: result

    - name: Debug output
      debug:
        var: result