---
- name: Test playbook to expose type-related bugs
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Include the community.general.proxmox_tasks_info module
      include_role:
        name: community.general.proxmox

    - name: Test task with potential type-related bug
      community.general.proxmox_tasks_info:
        api_host: 10.1.1.1
        api_password: b'password1'
        api_token_id: 123456
        api_token_secret: b'secret1'
        api_user: admin
        node: ubuntu1
        task: get_info
        validate_certs: False
      register: task_info

    - name: Debug task_info
      debug:
        var: task_info