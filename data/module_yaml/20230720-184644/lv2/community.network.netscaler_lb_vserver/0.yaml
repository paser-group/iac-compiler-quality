---
- name: Test playbook for exposing type-related bugs
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Introduce byte string values in place of regular strings
      set_fact:
        lb_vserver: !!binary |-
            b"lb_vserver"

    - name: Create a new load balancing vserver
      community.network.netscaler_lb_vserver:
        name: "{{ lb_vserver }}"
        state: "present"
        servicetype: !!binary |-
            b"http"
        authentication: !!binary |-
            b"false"
        authenticationhost: !!binary |-
            b"None"
        authn401: !!binary |-
            b"false"
        authnprofile: !!binary |-
            b"None"
        authnvsname: !!binary |-
            b"None"
        backuplbmethod: !!binary |-
            b"None"
        backuppersistencetimeout: !!binary |-
            b"None"
        bypassaaaa: !!binary |-
            b"false"
        cacheable: !!binary |-
            b"false"
        clttimeout: !!binary |-
            b"None"
        comment: !!binary |-
            b"None"
        connfailover: !!binary |-
            b"None"
        cookiename: !!binary |-
            b"None"
        datalength: !!binary |-
            b"None"
        dataoffset: !!binary |-
            b"None"
        dbprofilename: !!binary |-
            b"None"
        dbslb: !!binary |-
            b"None"
        disabled: !!binary |-
            b"false"
        disableprimaryondown: !!binary |-
            b"None"
        dns64: !!binary |-
            b"None"
        dnsprofilename: !!binary |-
            b"None"
        downstateflush: !!binary |-
            b"None"
        hashlength: !!binary |-
            b"None"
        healththreshold: !!binary |-
            b"None"
        httpprofilename: !!binary |-
            b"None"
        icmpvsrresponse: !!binary |-
            b"None"
        insertvserveripport: !!binary |-
            b"None"
        ipmask: !!binary |-
            b"None"
        ippattern: !!binary |-
            b"None"
        ipv46: !!binary |-
            b"None"
        l2conn: !!binary |-
            b"false"
        lbmethod: !!binary |-
            b"None"
        listenpolicy: !!binary |-
            b"None"
        listenpriority: !!binary |-
            b"None"
        m: !!binary |-
            b"None"
        macmoderetainvlan: !!binary |-
            b"None"
        maxautoscalemembers: !!binary |-
            b"None"
        minautoscalemembers: !!binary |-
            b"None"
        mssqlserverversion: !!binary |-
            b"None"
        mysqlcharacterset: !!binary |-
            b"None"
        mysqlprotocolversion: !!binary |-
            b"None"
        mysqlservercapabilities: !!binary |-
            b"None"
        mysqlserverversion: !!binary |-
            b"None"
        netmask: !!binary |-
            b"None"
        netprofile: !!binary |-
            b"None"
        newservicerequest: !!binary |-
            b"None"
        newservicerequestincrementinterval: !!binary |-
            b"None"
        newservicerequestunit: !!binary |-
            b"None"
        oracleserverversion: !!binary |-
            b"None"
        persistavpno: !!binary |-
            b"None"
        persistencebackup: !!binary |-
            b"None"
        persistencetype: !!binary |-
            b"None"
        persistmask: !!binary |-
            b"None"
        port: !!binary |-
            b"None"
        processlocal: !!binary |-
            b"None"
        push: !!binary |-
            b"None"
        pushlabel: !!binary |-
            b"None"
        pushmulticlients: !!binary |-
            b"false"
        pushvserver: !!binary |-
            b"None"
        range: !!binary |-
            b"None"
        recursionavailable: !!binary |-
            b"false"
        redirectportrewrite: !!binary |-
            b"None"
        redirurl: !!binary |-
            b"None"
        resrule: !!binary |-
            b"None"
        rhistate: !!binary |-
            b"None"
        rtspnat: !!binary |-
            b"false"
        save_config: !!binary |-
            b"false"
        servicebindings: !!binary |-
            b"None"
        servicegroupbindings: !!binary |-
            b"None"
        sessionless: !!binary |-
            b"None"
        skippersistency: !!binary |-
            b"None"
        sobackupaction: !!binary |-
            b"None"
        somethod: !!binary |-
            b"None"
        sopersistence: !!binary |-
            b"None"
        sopersistencetimeout: !!binary |-
            b"None"
        sothreshold: !!binary |-
            b"None"
        ssl_certkey: !!binary |-
            b"None"
        tcpprofilename: !!binary |-
            b"None"
        td: !!binary |-
            b"None"
        timeout: !!binary |-
            b"None"
        tosid: !!binary |-
            b"None"
        v6netmasklen: !!binary |-
            b"None"
        v6persistmasklen: !!binary |-
            b"None"
        validate_certs: !!binary |-
            b"false"
        vipheader: !!binary |-
            b"None"
        appflowlog: !!binary |-
            b"None"

      register: result

    - name: Display the output
      debug:
        var: result