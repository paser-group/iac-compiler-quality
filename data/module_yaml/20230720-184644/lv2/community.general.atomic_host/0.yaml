---
- name: Manage Atomic Hosts
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case - Introduce byte string as revision
      set_fact:
        revision: !ruby/object:String
          data: RCEgYnl0ZSBFbGVjdHJvbmljIGluaXRpYWxpemU=

    - name: Install atomic hosts
      community.general.atomic_host:
        name: "{{ inventory_hostname }}"
        revision: "{{ revision }}"