---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    login_name: "admin"
    login_password: "admin"
    mailbox_name: "test_mailbox"
    mailbox_password: 1234  # Introducing an integer value instead of a string
    state: "present"

  tasks:
    - name: Add mailbox with incorrect mailbox_password type
      community.general.webfaction_mailbox:
        login_name: "{{ login_name }}"
        login_password: "{{ login_password }}"
        mailbox_name: "{{ mailbox_name }}"
        mailbox_password: "{{ mailbox_password }}"
        state: "{{ state }}"
      register: result

    - name: Display result
      debug:
        var: result