---
- name: Retrieve Linux facts from hosts
  hosts: all
  gather_facts: False

  tasks:
    - name: Retrieve Linux facts
      ansible.posix.linux_facts:
      register: linux_facts

    - name: Introduce byte string values
      set_fact:
        new_value: "{{ linux_facts | to_json | b64encode }}"

    - name: Print new value
      debug:
        var: new_value