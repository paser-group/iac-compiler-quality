- name: Test playbook for 'community.network.voss_command' module
  hosts: all
  gather_facts: no
  
  tasks:
    - name: Execute voss_command with byte string value
      community.network.voss_command:
        commands: "{{ item }}"
      register: result
      retries: 3
      with_items:
        - b'interface Loopback'
        - 'command1'
        - 'command2'
        
    - name: Fail task intentionally to expose type-related bug
      fail:
        msg: "Type-related bug uncovered using byte string value"
      when: "'byte' in result.stdout or 'byte' in result.stderr"