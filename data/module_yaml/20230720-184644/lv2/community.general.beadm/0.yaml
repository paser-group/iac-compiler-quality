---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create a new ZFS boot environment
      community.general.beadm:
        name: "test_env"
        state: "present"
      register: result1

    - name: Debug result1
      debug:
        var: result1

    - name: Introduce byte string values in place of regular strings
      community.general.beadm:
        name: b'test_env'
        state: b'present'
      register: result2

    - name: Debug result2
      debug:
        var: result2