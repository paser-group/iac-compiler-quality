---
- name: Ansible Latent Bug Finder - community.network.edgeswitch_vlan
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Introduce byte string values in place of regular strings
      community.network.edgeswitch_vlan:
        vlan_id: "{{ 'string' | b64encode }}"
        name: "{{ 'string' | b64encode }}"
        state: "{{ 'present' | b64encode }}"
        auto_tag: "{{ 'yes' | b64encode }}"
        auto_untag: "{{ 'yes' | b64encode }}"
        auto_exclude: "{{ 'yes' | b64encode }}"
        tagged_interfaces: >
          {{ ['eth1', 'eth2'] | map('b64encode') | list }}
        untagged_interfaces: >
          {{ ['eth3', 'eth4'] | map('b64encode') | list }}
        excluded_interfaces: >
          {{ ['eth5', 'eth6'] | map('b64encode') | list }}
        aggregate: "{{ 'yes' | b64encode }}"
        purge: "{{ 'yes' | b64encode }}"
      register: result

    - name: Display debug output
      debug:
        var: result