- name: Transfer files to/from Ruckus ICX
  hosts: localhost
  gather_facts: false
  
  tasks:

    - name: Copy file to remote Ruckus ICX
      community.network.icx_copy:
        remote_server: "10.1.1.1"
        remote_user: "admin"
        remote_pass: "admin"
        remote_filename: "test.txt"
        upload: b"/path/to/local/file"
      when: "'upload' | type_check('str')"

    - name: Download file from remote Ruckus ICX
      community.network.icx_copy:
        remote_server: "10.1.1.1"
        remote_user: "admin"
        remote_pass: "admin"
        remote_filename: "test.txt"
        download: b"/path/to/local/destination"
      when: "'download' | type_check('str')"