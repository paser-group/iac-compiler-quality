---
- name: Manage Base ACL Configuration on HUAWEI
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Configure ACL
      community.network.ce_acl:
        acl_name: "{{ acl_name }}"           # Name of the ACL to configure
        acl_num: "{{ acl_num }}"             # ACL number
        acl_step: "{{ acl_step }}"           # Step value for ACL
        acl_description: "{{ acl_description | default(omit) }}"  # ACL description
        frag_type: "{{ frag_type | default(omit) }}"
        log_flag: "{{ log_flag | default(omit) }}"             # Log flag for ACL rules
        rule_action: "{{ rule_action }}"                         # Action for ACL rule
        rule_id: "{{ rule_id | default(omit) }}"
        rule_name: "{{ rule_name | default(omit) }}"
        rule_description: "{{ rule_description | default(omit) }}"  # Rule description
        source_ip: "{{ source_ip | default(omit) }}"          # Source IP address
        src_mask: "{{ src_mask | default(omit) }}"            # Source IP mask
        state: "{{ state | default(omit) }}"                  # State of the ACL
        time_range: "{{ time_range | default(omit) }}"        # Time range for ACL
        vrf_name: "{{ vrf_name | default(omit) }}"             # VRF name

      vars:
        acl_name: "my_acl"
        acl_num: "10"
        acl_step: "5"
        log_flag: "true"
        rule_action: "deny"
        source_ip: b"Huawei"         # Introduce byte string instead of regular string