---
- name: Test playbook for type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    record_name: "test"
    record_ttl: 3600
    record_type: "A"
    record_value: !!python/bytearray |
      YmFyCg==  # This is a byte string "bar"

  tasks:
    - name: Add DNS record
      community.general.ipa_dnsrecord:
        ipa_host: "your_ipa_host"
        ipa_user: "your_ipa_username"
        ipa_pass: "your_ipa_password"
        ipa_port: 443
        ipa_prot: "https"
        ipa_timeout: 30
        validate_certs: false
        zone_name: "example.com"
        record_name: "{{ record_name }}"
        record_ttl: "{{ record_ttl }}"
        record_type: "{{ record_type }}"
        record_value: "{{ record_value }}"
        state: present