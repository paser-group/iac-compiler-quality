---
- name: Test playbook for community.general.influxdb_retention_policy
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create InfluxDB retention policy
      community.general.influxdb_retention_policy:
        database_name: "{{ database_name|b }}"
        policy_name: "{{ policy_name|b }}"
        duration: "{{ duration|b }}"
        state: present
      register: result

    - name: Debug result
      debug:
        var: result