---
- name: Test apconos_command module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Run arbitrary commands
      community.network.apconos_command:
        commands:
          - !binary |-
            c2hvdw==
          - "show interfaces"
        interval: '5'
        match: "success"
        retries: '3'
        wait_for:
          - "login prompt"
      register: result

    - name: Debug result
      debug:
        var: result