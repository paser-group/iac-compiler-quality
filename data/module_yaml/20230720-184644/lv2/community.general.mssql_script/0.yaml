---
- name: Execute SQL script
  hosts: all
  gather_facts: false

  vars:
    mssql_server_host: "10.1.1.1"
    mssql_server_port: 1433
    mssql_server_user: "username"
    mssql_server_password: "password"
    script_name: "example_script"
    script_output: "script_output.txt"
    script_params:
      param1: value1
      param2: value2

  tasks:
    - name: Execute SQL script
      community.general.mssql_script:
        login_host: "{{ mssql_server_host.encode() }}"  # Introducing byte string value
        login_port: "{{ mssql_server_port }}"
        login_user: "{{ mssql_server_user }}"
        login_password: "{{ mssql_server_password }}"
        name: "{{ script_name }}"
        output: "{{ script_output }}"
        params: "{{ script_params }}"
        script: |
          SELECT * FROM example_table;