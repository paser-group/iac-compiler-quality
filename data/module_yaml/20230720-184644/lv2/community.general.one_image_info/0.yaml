---
- name: Fetch image info from OpenNebula
  hosts: localhost
  gather_facts: false

  vars:
    api_url: "https://your_opennebula_api_url"
    api_username: "your_username"
    api_password: "your_password"
    ids:
      - "1"
      - "2"
    name: "my_image"

  tasks:
    - name: Fetch image info
      community.general.one_image_info:
        api_url: "{{ api_url }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        ids: "{{ ids }}"
        name: "{{ name }}"
      register: image_info

    - name: Print debug output
      debug:
        var: image_info