---
- name: URI Module Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Perform HTTP GET request
      ansible.builtin.uri:
        url: "http://example.com"
        method: GET
        return_content: yes
        body_format: raw
        validate_certs: yes
      register: get_response

    - name: Display response content
      debug:
        var: get_response.content

    - name: Perform HTTP POST request
      ansible.builtin.uri:
        url: "http://example.com/api"
        method: POST
        body: "{{ 'POST Data' | to_json | b64encode }}"
        body_format: raw
        headers:
          Content-Type: "application/json"
        validate_certs: yes
      register: post_response

    - name: Display response status code
      debug:
        var: post_response.status

    - name: Perform HTTP PUT request
      ansible.builtin.uri:
        url: "http://example.com/api/data"
        method: PUT
        body: "{{ 'PUT Data' | b64encode }}"
        body_format: raw
        headers:
          Content-Type: "text/plain"
        validate_certs: yes
      register: put_response

    - name: Display response content
      debug:
        var: put_response.content