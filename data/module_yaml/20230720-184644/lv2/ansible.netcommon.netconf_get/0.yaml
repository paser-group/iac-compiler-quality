- name: Fetch configuration/state data using NETCONF
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Fetch configuration/state data
      ansible.netcommon.netconf_get:
        display: running
        filter: |-
          <filter>
            <config>
              <system></system>
            </config>
          </filter>
        lock: none
        source: running

      register: result

    - name: Display fetched configuration/state data
      debug:
        var: result

# Test case - Introduce byte string values in place of regular strings
- name: Test case - Introduce byte string values
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Fetch configuration/state data
      ansible.netcommon.netconf_get:
        display: !!binary |-
          cmF3bmluZw==       # Byte string value 'running'
        filter: !!binary |-
          PGZpbHRlci>
            PHN5c3RlbT4=cG9z
             bG92ZSBkYXRhPC9w
              b3Nwb3ZlPjwvZmls
               dGVyPg==       # Byte string value '<system></system>'
        lock: !!binary |-
          bm9uZQ==          # Byte string value 'none'
        source: !!binary |-
          cm91dGluZw==       # Byte string value 'running'

      register: result

    - name: Display fetched configuration/state data
      debug:
        var: result