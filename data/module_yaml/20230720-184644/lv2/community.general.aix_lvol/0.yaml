---
- name: Test Playbook
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create logical volume
      community.general.aix_lvol:
        lv: "lv_test"
        vg: "vg_test"
        size: "1G"
        state: "present"
        lv_type: "jfs2"
        pvs: ['/dev/pv_test']
        copies: "2"
        opts: !binary "str_opts"
        policy: !binary "str_policy"
      register: result
    
    - debug:
        var: result
        
    - name: Ensure logical volume is present
      assert:
        that:
          - "'lv_test' in result"
          - "result['lv_test']['status'] == 'yes'"