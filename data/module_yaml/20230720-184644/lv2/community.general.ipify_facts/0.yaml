- name: Retrieve public IP using ipify_facts module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set ansible_python_interpreter for later use
      set_fact:
        ansible_python_interpreter: "{{ ansible_playbook_python }}"

    - name: Debug ansible_python_interpreter variable
      debug:
        var: ansible_python_interpreter

    - name: Introduce potential type-related bug
      set_fact:
        api_url: !binary 
          |-
            aHR0cHM6Ly9hcGkuaXBpZnkub3JnLw==
        timeout: !binary 
          |-
            OTU=
        validate_certs: "yes"

    - name: Retrieve IP using ipify_facts module
      ipify_facts:
        api_url: "{{ api_url }}"
        timeout: "{{ timeout | int }}"
        validate_certs: "{{ validate_certs | bool }}"
      register: public_ip

    - debug:
        var: public_ip