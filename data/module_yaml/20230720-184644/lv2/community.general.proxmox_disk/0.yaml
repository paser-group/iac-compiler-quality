---
- name: Proxmox Disk Bug Test Playbook
  hosts: localhost
  gather_facts: false
  vars:
    proxmox_api_host: "api.example.com"
    proxmox_api_user: "ansible"
    proxmox_api_password: "password"

  tasks:
    - name: Test Case 1 - Introduce byte string values instead of regular strings
      community.general.proxmox_disk:
        api_host: "{{ proxmox_api_host | to_bytes }}"
        api_user: "{{ proxmox_api_user | to_bytes }}"
        api_password: "{{ proxmox_api_password | to_bytes }}"
        disk: "{{ 'disk1' | to_bytes }}"
        storage: "{{ 'storage1' | to_bytes }}"
        vmid: "{{ '100' | to_bytes }}"  # Introduced byte string value
      register: result

    - debug:
        var: result