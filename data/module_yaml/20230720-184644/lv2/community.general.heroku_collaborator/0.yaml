- name: Testing Latent Type-Related Bugs in Ansible Compiler
  hosts: localhost
  gather_facts: false

  vars:
    api_key: !binary |-
      WU9VUl9IRVJVS0VUX0FOT05ZT09MT0NBVEgi
    apps:
      - my-heroku-app
    user: !binary |-
      dGVzdEBleGFtcGxlLmNvbQ==

  tasks:
    - name: Install `heroku` command line tool
      pip:
        name: heroku
        state: present

    - name: Add or Delete App Collaborators
      community.general.heroku_collaborator:
        api_key: "{{ api_key }}"
        apps: "{{ apps }}"
        state: present
        user: "{{ user }}"
        suppress_invitation: true