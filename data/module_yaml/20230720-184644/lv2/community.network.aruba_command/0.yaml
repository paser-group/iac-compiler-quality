---
- name: Test playbook for community.network.aruba_command module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Run command on Aruba device
      community.network.aruba_command:
        commands: "show version"
        interval: !binary |
          YmFzZTY0IHN0cmluZw==
        match: "SUCCESS"
        retries: 1
        wait_for: 10
      register: aruba_result

    - name: Debug output of Aruba command result
      debug:
        var: aruba_result.stdout_lines