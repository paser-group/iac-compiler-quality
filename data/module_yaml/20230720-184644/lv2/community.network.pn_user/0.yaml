---
- name: Create user on network device
  hosts: localhost
  gather_facts: false
  vars:
    pn_cliswitch: "{{ ansible_connection }}"

  tasks:
    - name: Create user
      community.network.pn_user:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_initial_role: "operator"
        pn_name: "testuser"
        pn_password: "testpassword"
        pn_scope: "local"
        state: present
      register: result

    - name: Debug output
      debug:
        var: result