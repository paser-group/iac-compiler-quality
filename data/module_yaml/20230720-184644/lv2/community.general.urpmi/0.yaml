- name: Test 'community.general.urpmi' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages with 'community.general.urpmi' module
      community.general.urpmi:
        name: ["{{ variable }}"]
        state: "{{ state }}"
        no_recommends: "{{ no_recommends }}"
        root: "{{ root }}"
        update_cache: "{{ update_cache }}"
      register: result

    - name: Debug the result
      debug:
        var: result