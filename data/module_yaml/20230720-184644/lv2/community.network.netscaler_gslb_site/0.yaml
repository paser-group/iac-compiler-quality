---
- name: Test playbook for netscaler_gslb_site module
  hosts: localhost
  gather_facts: false

  vars:
    nitro_user: admin
    nitro_pass: admin
    nitro_protocol: http
    nitro_timeout: 10
    nsip: 192.168.0.1
    sitename: gslbsite1
    state: present
    save_config: true
    validate_certs: false

  tasks:
    - name: Manage gslb site
      community.network.netscaler_gslb_site:
        nitro_user: '{{ nitro_user }}'
        nitro_pass: '{{ nitro_pass }}'
        nitro_protocol: '{{ nitro_protocol }}'
        nitro_timeout: '{{ nitro_timeout }}'
        nsip: '{{ nsip }}'
        sitename: '{{ sitename }}'
        state: '{{ state }}'
        save_config: '{{ save_config }}'
        validate_certs: '{{ validate_certs }}'
        # Introducing byte string values in place of regular strings
        clip: b'10.1.1.1'  # Byte string value
        metricexchange: b'10.1.1.2'  # Byte string value
        parentsite: b'parent1'  # Byte string value
        publicclip: b'10.1.1.3'  # Byte string value
        publicip: b'10.1.1.4'  # Byte string value
        sessionexchange: b'exchange1'  # Byte string value
      register: result

    - debug:
        var: result