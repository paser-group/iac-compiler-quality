- hosts: localhost
  gather_facts: false
  vars:
    awall_name: ['web', 'db']
    awall_state: 'present'

  tasks:
    - name: Introduce byte string values in place of regular strings
      set_fact:
        awall_name: ['web'.encode('UTF-8'), 'db'.encode('UTF-8')]

    - name: Install awall package
      package:
        name: awall
        state: present

    - name: Debug awall_name variable
      debug:
        var: awall_name

    - name: Configure awall
      community.general.awall:
        activate: true
        name: "{{ awall_name }}"
        state: "{{ awall_state }}"