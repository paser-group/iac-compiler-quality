---
- name: Test playbook for 'community.general.ilo_redfish_info' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Gather server information
      community.general.ilo_redfish_info:
        baseuri: https://{{ inventory_hostname }}
        auth_token: "{{ username | b64decode }}:{{ password | b64decode }}"
        category: ["system", "managers"]
        command: ["resource_directory", "manager_networkprotocol"]
        timeout: "{{ timeout }}"
      register: server_info

    - name: Print server information
      debug:
        var: server_info