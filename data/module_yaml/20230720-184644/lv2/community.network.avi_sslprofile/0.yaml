---
- name: Test Playbook
  hosts: localhost
  connection: local
  gather_facts: false

  tasks:
    - name: Create Avi SSL Profile
      community.network.avi_sslprofile:
        api_context:
          token: "{{ avi_token }}"
          controller: "{{ avi_controller }}"
        api_version: "{{ avi_api_version }}"
        username: b"{{ avi_username }}"
        password: b"{{ avi_password }}"
        tenant: b"{{ avi_tenant }}"
        name: b"{{ avi_ssl_profile_name }}"
        cipher_enums: |
          b"[
            'ECDHE-RSA-AES256-GCM-SHA384',
            'ECDHE-ECDSA-AES256-GCM-SHA384'
          ]"
        accepted_ciphers: |
          b"[
            'ECDHE-RSA-AES256-GCM-SHA384',
            'ECDHE-ECDSA-AES256-GCM-SHA384',
            'AES128-SHA'
          ]"
        accepted_versions: |
          b"[
            'TLSV1_2',
            'TLSV1_3'
          ]"
        tenant_ref: "/api/tenant?name=default"
        tenant_uuid: ""
        type: "SSL_PROFILE_TYPE_APPLICATION"
        uuid: ""
        state: "present"

      register: result

    - debug:
        var: result