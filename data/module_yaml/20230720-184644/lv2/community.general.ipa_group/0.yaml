- name: Test playbook for latent type-related bugs in 'community.general.ipa_group' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create IPA group with byte string values
      community.general.ipa_group:
        append: true
        cn: b'TestGroup'
        description: b'Test Group Description'
        external: true
        external_user:
          - b'external_user1'
          - b'external_user2'
        gidnumber: b'1001'
        group:
          - b'group1'
          - b'group2'
        ipa_host: 'ipa_host'
        ipa_pass: 'ipa_pass'
        ipa_port: 1234
        ipa_prot: 'https'
        ipa_timeout: 30
        ipa_user: 'ipa_user'
        nonposix: true
        state: 'present'
        user:
          - b'user1'
          - b'user2'
        validate_certs: true
      register: result

    - name: Display result
      debug:
        var: result