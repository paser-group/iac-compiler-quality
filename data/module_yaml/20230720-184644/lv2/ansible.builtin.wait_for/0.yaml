---
- name: Test wait_for module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Wait for a condition
      ansible.builtin.wait_for:
        host: 127.0.0.1
        port: 22
        state: 0
        delay: "3"
        timeout: true
        connect_timeout: "10"
        sleep: "{ invalid_variable }}"
        search_regex: true
        path: "/tmp/file.txt"
        exclude_hosts: "{ invalid_list }}"
        msg: true
        active_connection_states: "{ invalid_list }}"
      register: result

    - name: Debug result
      debug:
        var: result