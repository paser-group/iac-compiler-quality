- name: Test for Ansible latent type-related bugs in Bitbucket module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test Bitbucket Pipeline Key Pair module
      community.general.bitbucket_pipeline_key_pair:
        client_id: b'1234567890abcdef'
        client_secret: b'secretkey'
        password: b'mypassword'
        private_key: b'-----BEGIN PRIVATE KEY-----\nMIIabcdef\n-----END PRIVATE KEY-----'
        public_key: b'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCiYAfGHijkl\n'
        repository: b'myrepo'
        state: present
        user: b'myuser'
        workspace: b'myworkspace'
      register: result

    - name: Display Bitbucket module result
      debug:
        var: result