---
- name: Test ansible latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Upgrade system
      community.general.sysupgrade:
        fetch_only: false
        force: false
        installurl: "http://example.com/repo"
        keep_files: false
        snapshot: false
      register: result

    - name: Print task result
      debug:
        var: result

- name: Test ansible latent type-related bugs - Test Cases
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Upgrade system with byte string values
      community.general.sysupgrade:
        fetch_only: "true"
        force: "true"
        installurl: b"http://example.com/repo"
        keep_files: b"false"
        snapshot: b"false"
      register: result_with_bytes

    - name: Print task result with byte string values
      debug:
        var: result_with_bytes