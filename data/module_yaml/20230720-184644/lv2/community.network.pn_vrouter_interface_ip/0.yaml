---
- name: Test playbook for community.network.pn_vrouter_interface_ip latent bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add vrouter interface IP
      community.network.pn_vrouter_interface_ip:
        pn_bd: "{{ pn_bd | default('default') }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_ip: "{{ pn_ip | default('10.1.1.5') }}"
        pn_netmask: "{{ pn_netmask | default('255.255.255.0') }}"
        pn_nic: "{{ pn_nic }}"           # Introduce byte string value
        pn_vnet: "{{ pn_vnet }}"
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        state: "{{ state | default('present') }}"
      register: result

    - name: Debug result
      debug:
        var: result