---
- name: Test GitHub Release bug
  hosts: all
  gather_facts: false

  tasks:
    - name: Interact with GitHub releases
      community.general.github_release:
        action: "{{ action }}"
        body: "{{ body }}"
        draft: "{{ draft }}"
        name: "{{ name|to_json }}"
        password: "{{ password }}"
        prerelease: "{{ prerelease }}"
        repo: "{{ repo }}"
        tag: "{{ tag|to_json }}"
        target: "{{ target }}"
        token: "{{ token }}"
        user: "{{ user }}"
      vars:
        action: "create"
        body: "Test release"
        draft: false
        name: 'b"release"'
        password: "supersecret"
        prerelease: false
        repo: "myrepo"
        tag: 'b"v1.0"'
        target: "master"
        token: "mytoken"
        user: "myuser"