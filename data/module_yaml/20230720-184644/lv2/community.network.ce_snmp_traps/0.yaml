- name: Manage SNMP traps configuration on HUAWEI
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Set SNMP traps configuration
      community.network.ce_snmp_traps:
        feature_name: "{{ random_item }}"
        interface_number: "{{ random_item }}"
        interface_type: "{{ random_item }}"
        port_number: "{{ random_item }}"
        trap_name: "{{ random_item }}"
      vars:
        random_item: "{{ random_item | default([]) | random }}"
      register: result
      ignore_errors: true

    - name: Debug result
      debug:
        var: result

  vars:
    random_item:
      - "some-byte-value"

  handlers:
    - name: Notify Bug Tracker
      debug:
        msg: "New type-related bug identified in 'community.network.ce_snmp_traps' module."