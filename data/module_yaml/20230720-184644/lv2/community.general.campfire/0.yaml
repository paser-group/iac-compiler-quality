---
- name: Test playbook for community.general.campfire module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send a message to a Campfire room
      community.general.campfire:
        msg: "Hello, world!"

        # Introduce byte string in place of a regular string
        notify: "{{ 'notify-key' | b64encode }}"
        room: "{{ 'room-name' | b64encode }}"
        subscription: "{{ 'subscription-name' | b64encode }}"
        token: "{{ 'campfire-token' | b64encode }}"
      register: result

    - name: Display the result
      debug:
        var: result