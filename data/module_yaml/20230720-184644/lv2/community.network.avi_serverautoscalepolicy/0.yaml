---
- name: Ansible Playbook for avi_serverautoscalepolicy module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ServerAutoScalePolicy
      community.network.avi_serverautoscalepolicy:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "{{ name | b64decode }}"
        description: "{{ description }}"
        min_size: "{{ min_size | b64decode }}"
        max_size: "{{ max_size | b64decode }}"
        scalein_cooldown: "{{ scalein_cooldown | b64decode }}"
        scaleout_cooldown: "{{ scaleout_cooldown | b64decode }}"
        intelligent_autoscale: "{{ intelligent_autoscale | b64decode }}"
        intelligent_scalein_margin: "{{ intelligent_scalein_margin | b64decode }}"
        intelligent_scaleout_margin: "{{ intelligent_scaleout_margin | b64decode }}"
        use_predicted_load: "{{ use_predicted_load | b64decode }}"
        avi_credentials:
          - controller: "{{ controller }}"
            username: "{{ username | b64decode }}"
            password: "{{ password | b64decode }}"
        api_context:
          api_version: "{{ api_version }}"
          tenant_uuid: "{{ tenant_uuid }}"

      register: result

    - debug:
        var: result