- name: Test for latent type-related bugs in Gandi LiveDNS module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Introduce byte string values
      set_fact:
        byte_value: !binary |
          {{ 'example' | b64encode }}

    - name: Configure DNS record
      community.general.gandi_livedns:
        api_key: "{{ byte_value }}"
        domain: ["{{ byte_value }}"]
        record: "{{ byte_value }}"
        state: "{{ byte_value }}"
        ttl: "{{ byte_value }}"
        type: "{{ byte_value }}"
        values:
          - "{{ byte_value }}"
      register: result