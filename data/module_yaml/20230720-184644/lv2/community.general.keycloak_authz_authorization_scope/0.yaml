---
- name: Test Ansible Latent Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install required modules
      pip:
        name: "requests"
        state: present

    - name: Trigger latent bug - Introduce byte string values
      community.general.keycloak_authz_authorization_scope:
        auth_client_id: !binary |-
          Y2xpZW50
        auth_client_secret: !binary |-
          c2VjcmV0
        auth_keycloak_url: !binary |-
          aHR0cDovL2xvY2FsaG9zdDo4MDgw
        auth_password: !binary |-
          cGFzc3dvcmQ=
        auth_realm: !binary |-
          bWFzdGVy
        auth_username: !binary |-
          YWRtaW4=
        client_id: !binary |-
          YXBp
        connection_timeout: 5
        display_name: !binary |-
          QXV0aG9yaXphdGlvbiBTY29wZQ==
        http_agent: !binary |-
          YW5zaWJsZS0yLjEw
        icon_uri: !binary |-
          aHR0cHM6Ly9leGFtcGxlLmNvbS9pY29uLnBuZw==
        name: !binary |-
          YXBp
        realm: !binary |-
          bWFzdGVy
        state: !binary |-
          cHJlc2VudA==
        token: !binary |-
          YWNjZXNzX3Rva2Vu
        validate_certs: false

      register: result

    - name: Debug result
      debug:
        var: result