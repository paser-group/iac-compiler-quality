---
- name: Create/Delete database using rax_cdb_database module
  hosts: localhost
  gather_facts: false
  vars:
    api_key: "YOUR_API_KEY"
    auth_endpoint: "YOUR_AUTH_ENDPOINT"
    cdb_id: "YOUR_CDB_ID"
    database_name: b'YOUR_BYTE_STRING'  # Introduce byte string here
  tasks:
    - name: Create database
      community.general.rax_cdb_database:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        cdb_id: "{{ cdb_id }}"
        name: "{{ database_name }}"
        state: present
      register: result_create

    - name: Show create result
      debug:
        var: result_create

    - name: Delete database
      community.general.rax_cdb_database:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        cdb_id: "{{ cdb_id }}"
        name: "{{ database_name }}"
        state: absent
      register: result_delete

    - name: Show delete result
      debug:
        var: result_delete