- name: Manage SNMP user configuration on HUAWEI devices
  hosts: huawei_device
  gather_facts: False
  tasks:
    - name: Configure SNMP user
      community.network.ce_snmp_user:
        aaa_local_user: 42
        acl_number: '192.168.1.1'
        auth_key: 3.14
        auth_protocol: ['ssh']
        priv_key: True
        priv_protocol: 42
        remote_engine_id: '10.0.0.1'
        user_group: ['admin']
        usm_user_name: True
      register: result

    - debug:
        var: result