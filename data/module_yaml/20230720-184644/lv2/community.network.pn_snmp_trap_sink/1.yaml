---
- name: Generate SNMP Trap Sinks
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create SNMP Trap Sink with byte string values
      community.network.pn_snmp_trap_sink:
        pn_cliswitch: "{{ pn_cliswitch | default('cli') }}"
        pn_community: b"public"
        pn_dest_host: b"10.1.1.1"
        pn_dest_port: b"161"
        pn_type: b"v2c"
        state: present
      register: result_byte_string

    - name: Debug the byte string result
      debug:
        var: result_byte_string

    - name: Create SNMP Trap Sink with regular string values
      community.network.pn_snmp_trap_sink:
        pn_cliswitch: "{{ pn_cliswitch | default('cli') }}"
        pn_community: "public"
        pn_dest_host: "10.1.1.1"
        pn_dest_port: "161"
        pn_type: "v2c"
        state: present
      register: result_regular_string

    - name: Debug the regular string result
      debug:
        var: result_regular_string

  vars:
    pn_cliswitch: "cli"