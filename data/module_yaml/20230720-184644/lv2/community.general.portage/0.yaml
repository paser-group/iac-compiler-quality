---
- name: Test Playbook to Unveil Type-Related Bugs in 'community.general.portage' module
  hosts: localhost
  become: yes

  tasks:
    - name: Install packages using 'community.general.portage' module
      community.general.portage:
        package: ["{{ package }}"]
        state: "{{ state }}"
        sync: "{{ sync }}"
        update: "{{ update }}"
        usepkg: "{{ usepkg }}"
        usepkgonly: "{{ usepkgonly }}"
        getbinpkg: "{{ getbinpkg }}"
        getbinpkgonly: "{{ getbinpkgonly }}"
        deep: "{{ deep }}"
        noreplace: "{{ noreplace }}"
        onlydeps: "{{ onlydeps }}"
        nodeps: "{{ nodeps }}"
        depclean: "{{ depclean }}"
        verbose: "{{ verbose }}"
        quiet: "{{ quiet }}"
        quietfail: "{{ quietfail }}"
        quietbuild: "{{ quietbuild }}"
        jobs: "{{ jobs }}"
        loadavg: "{{ loadavg }}"
        keepgoing: "{{ keepgoing }}"
        oneshot: "{{ oneshot }}"
        changed_use: "{{ changed_use }}"
        newuse: "{{ newuse }}"
        backtrack: "{{ backtrack }}"
        withbdeps: "{{ withbdeps }}"
      vars:
        package: 
          - b'sys-apps/puppet'
          - b'sys-apps/ansible'
        state: "present"
        sync: "yes"
        update: "no"
        usepkg: "yes"
        usepkgonly: "no"
        getbinpkg: "yes"
        getbinpkgonly: "no"
        deep: "yes"
        noreplace: "no"
        onlydeps: "no"
        nodeps: "no"
        depclean: "no"
        verbose: "yes"
        quiet: "no"
        quietfail: "no"
        quietbuild: "no"
        jobs: 4
        loadavg: 1.5
        keepgoing: "no"
        oneshot: "no"
        changed_use: "no"
        newuse: "no"
        backtrack: "3"
        withbdeps: "yes"