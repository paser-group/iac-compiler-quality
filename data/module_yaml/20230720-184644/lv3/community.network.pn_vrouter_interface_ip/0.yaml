- name: Configure vrouter interface IP
  hosts: localhost
  gather_facts: false

  vars:
    pn_cliswitch: "device-switch"
    pn_vrouter_name: "vrouter1"
    pn_nic: "eth0"
    pn_vnet: "vnet1"
    pn_bd: "bridge1"
    pn_ip: "10.1.1.10"
    pn_netmask: 24
    state: present

  tasks:
    - name: Add vrouter interface IP
      community.network.pn_vrouter_interface_ip:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        pn_nic: "{{ pn_nic }}"
        pn_vnet: "{{ pn_vnet }}"
        pn_bd: "{{ pn_bd }}"
        pn_ip: "{{ pn_ip }}"
        pn_netmask: "{{ pn_netmask }}"
        state: "{{ state }}"
      register: result

    - name: Print result
      debug:
        var: result