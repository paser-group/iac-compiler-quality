---
- name: Test Redfish Config Module for Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set variables
      set_fact:
        byte_value: "{{ 'test_byte_value' | to_bytes }}"
        string_value: "test_string_value"

    - name: Configure redfish
      community.general.redfish_config:
        baseuri: "https://example.com"
        username: "{{ string_value }}"
        password: "{{ byte_value }}"
        auth_token: "{{ string_value }}"
        resource_id: "{{ byte_value }}"
        timeout: "{{ string_value }}"
        strip_etag_quotes: "{{ byte_value }}"
        boot_order:
          - "{{ byte_value }}"
        hostinterface_id: "{{ string_value }}"
        hostinterface_config:
          address: "{{ byte_value }}"
          gateway: "{{ string_value }}"
        network_protocols:
          ipv4_protocol:
            enabled: "{{ byte_value }}"
            mode: "{{ string_value }}"
          ipv6_protocol:
            enabled: "{{ string_value }}"
            mode: "{{ byte_value }}"
        sessions_config:
          max_sessions: "{{ byte_value }}"
          timeout: "{{ string_value }}"
        bios_attributes:
          - bios_attribute: "{{ byte_value }}"
            value: "{{ string_value }}"
            resource_uri: "{{ byte_value }}"
        command:
          - "{{ byte_value }}"
          - "{{ string_value }}"
        nic_config:
          device: "{{ string_value }}"
          ipv4_address: "{{ byte_value }}"
          ipv6_address: "{{ string_value }}"
          nic_attributes:
            - attribute: "{{ byte_value }}"
              value: "{{ string_value }}"
              resource_uri: "{{ byte_value }}"

      ignore_errors: yes
      register: config_result

    - name: Debug config result
      debug:
        var: config_result