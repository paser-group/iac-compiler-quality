---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a VPC security group rule
      community.general.hwc_vpc_security_group_rule:
        description: "Test Rule"
        direction: "ingress"
        domain: "default-domain"
        ethertype: "IPv4"
        id: "security-group-rule-1"
        identity_endpoint: "https://identity.example.com"
        password: "password"
        port_range_max: 80
        port_range_min: 80
        project: "test-project"
        protocol: "tcp"
        region: "test-region"
        remote_group_id: "remote-security-group-id"
        remote_ip_prefix: "10.1.1.0/24"
        security_group_id: "security-group-id"
        state: "present"
        user: "admin"

      register: result

    - debug:
        var: result