---
- name: Test playbook for community.network.avi_sslprofile
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create SSL profile
      community.network.avi_sslprofile:
        controller: "https://{{ inventory_hostname }}"
        username: "admin"
        password: "password"
        tenant: "Default"
        name: "test_ssl_profile"
        description: "Test SSL profile"
        tenant_uuid: "default-tenant"
        avi_credentials:
          - username: "admin"
            password: "password"
        api_context:
          api_version: "20.1.3"
        api_version: "20.1.3"
        avi_api_update_method: "PUT"
        enable_ssl_session_reuse: true
        prefer_client_cipher_ordering: true
        send_close_notify: true
        tenant_ref: "/api/tenant/default-tenant"
        type: "SSL_PROFILE_TYPE_APPLICATION"
        url: "/api/sslprofile/?tenant=admin&name=test_ssl_profile"
        username: "admin"
      register: result

    - debug:
        var: result