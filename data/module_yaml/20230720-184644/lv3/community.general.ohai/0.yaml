- name: Test community.general.ohai module for latent type-related bugs
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Install community.general.ohai module
      pip:
        name: pyohai
        state: present

    - name: Gather inventory data using community.general.ohai module
      community.general.ohai:
        platforms:
          - bytes
          - strings
        logical: "{{ ohai_logical | default(true) }}"
      register: inventory_data

    - name: Debug inventory data
      debug:
        var: inventory_data