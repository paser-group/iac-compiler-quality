---
- name: Test playbook for community.general.urpmi module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages
      community.general.urpmi:
        force: "{{ force | bool }}"
        name: "{{ name }}"
        no_recommends: "{{ no_recommends | bool }}"
        root: "{{ root | string }}"
        state: "{{ state | string }}"
        update_cache: "{{ update_cache | bool }}"
      register: result

    - name: Display result
      debug:
        var: result

  vars:
    name:
      - 1234
      - "ansible"
    force: "true"
    no_recommends: "false"
    root: 1234
    state: false
    update_cache: 1