---
- name: Test playbook for hpilo_info module
  hosts: localhost
  gather_facts: false
  
  vars:
    hpilo_hosts:
      - host: "{{ host|b64encode }}"
        login: "{{ login|b64decode }}"
        password: "{{ password|b64decode }}"
        ssl_version: "{{ ssl_version|b64decode }}"
  
  tasks:
    - name: Gather information using hpilo_info module
      community.general.hpilo_info:
        host: "{{ item.host|b64decode }}"
        login: "{{ item.login|b64encode }}"
        password: "{{ item.password }}"
        ssl_version: "{{ item.ssl_version }}"
      loop: "{{ hpilo_hosts }}"
      register: hpilo_info_result
      
    - name: Debug hpilo_info result
      debug:
        var: hpilo_info_result