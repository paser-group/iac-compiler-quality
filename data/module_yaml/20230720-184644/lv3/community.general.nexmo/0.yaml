---
- name: Test playbook for Nexmo module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send Nexmo message
      community.general.nexmo:
        api_key: "YOUR_API_KEY"
        api_secret: "YOUR_API_SECRET"
        client_cert: "/path/to/client_cert.pem"
        client_key: "/path/to/client_key.pem"
        dest:
          - "+1234567890"
          - "+9876543210"
        force: True
        force_basic_auth: False
        http_agent: "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)"
        msg: "Testing Nexmo module"
        src: 1234567890
        url: "https://api.nexmo.com/sms/json"
        url_password: "password"
        url_username: "username"
        use_gssapi: False
        use_proxy: True
        validate_certs: True

      register: result_output

    - name: Debug Nexmo module result
      debug:
        var: result_output