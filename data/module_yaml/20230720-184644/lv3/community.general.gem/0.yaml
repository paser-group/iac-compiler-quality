---
- name: Test Playbook
  hosts: nodes
  gather_facts: false
  tasks:
    - name: Install a gem with multi-type configuration values
      community.general.gem:
        name: mygem
        state: present
        build_flags: ["-I/usr/include", "-I/usr/local/include"]
        executable: "{{ '/usr/local/bin/mygem' }}"
        gem_source: "/path/to/gem/source"
        include_dependencies: "True"
        include_doc: "false"
        install_dir: "{{ '/usr/local/mygem' }}"
        norc: false
        pre_release: "True"
        repository: "https://rubygems.org"
        user_install: "false"
        version: 1.0
      register: gem_installation

    - debug:
        var: gem_installation