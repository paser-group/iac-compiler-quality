---
- name: Test playbook for idrac_redfish_info module
  hosts: localhost
  gather_facts: false

  vars:
    auth_token: "{{ b'abc123' }}"
    baseuri: "{{ b'https://example.com' }}"
    category: "{{ 'server' }}"
    command: "{{ [b'get', b'info'] }}"
    password: "{{ 'secretpassword' }}"
    timeout: "{{ 10 }}"
    username: "{{ 'admin' }}"

  tasks:
    - name: Gather PowerEdge server information through iDRAC Redfish
      community.general.idrac_redfish_info:
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        password: "{{ password }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
      register: result

    - name: Display module output
      debug:
        var: result