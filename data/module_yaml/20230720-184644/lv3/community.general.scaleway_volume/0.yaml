---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_timeout: "300"  # Pass value as string
    api_token: "YOUR_API_TOKEN"  # Replace with your actual API token
    api_url: "https://api.example.com"  # Pass value as string
    name: 12345  # Pass value as integer
    organization: "test_organization"  # Pass value as string
    project: 98765  # Pass value as integer
    query_parameters: "{'param1': 'value1', 'param2': 'value2'}"  # Pass value as string
    region: 10.1.1.5  # Pass value as string (but mistakenly used IP address)
    size: "1GB"  # Pass value with unit (bytes)
    state: "present"  # Pass value as string
    validate_certs: 1  # Pass value as integer
    volume_type: "ssd"  # Pass value as string

  tasks:
    - name: Create volume with potential type-related bugs
      community.general.scaleway_volume:
        api_timeout: "{{ api_timeout }}"
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        name: "{{ name }}"
        organization: "{{ organization }}"
        project: "{{ project }}"
        query_parameters: "{{ query_parameters }}"
        region: "{{ region }}"
        size: "{{ size }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        volume_type: "{{ volume_type }}"
      register: result

    - name: Debug volume creation result
      debug:
        var: result