---
- name: Test playbook for community.network.pn_user module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create pn_user configuration with bytes and strings
      community.network.pn_user:
        pn_cliswitch: "{{ pn_cliswitch | default('cli') }}"
        pn_initial_role: "{{ pn_initial_role | default('network-operator') }}"
        pn_name: "{{ pn_name | default('test_user') }}"
        pn_password: "{{ pn_password | default('test_password') | encoding }}"
        pn_scope: "{{ pn_scope | default('system') }}"
        state: "{{ state | default('present') }}"
      vars:
        pn_password: "test_password\xff"