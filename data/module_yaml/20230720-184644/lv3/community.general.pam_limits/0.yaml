- name: Configure PAM limits
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Configure pam limits for root user
      community.general.pam_limits:
        domain: "*"
        limit_type: "hard"
        limit_item: "nofile"
        value: 5000
        use_max: true
        use_min: false
        dest: "/etc/security/limits.conf"
        comment: 9999
        backup: "no"