---
- name: Test the community.general.ibm_sa_host module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Add host to IBM Spectrum Accelerate
      community.general.ibm_sa_host:
        cluster: "{{ cluster }}"
        domain: "{{ domain }}"
        endpoints: "{{ endpoints }}"
        host: "{{ host }}"
        iscsi_chap_name: "{{ iscsi_chap_name }}"
        iscsi_chap_secret: "{{ iscsi_chap_secret }}"
        password: "{{ password }}"
        state: "{{ state }}"
        username: "{{ username }}"
      vars:
        cluster: "my-cluster"
        domain: "/shared/host-profile/Default_HostProfile"
        endpoints:
          - "https://endpoint1.example.com"
          - "https://endpoint2.example.com"
        host: "my-host"
        iscsi_chap_name: "my-chap-name"
        iscsi_chap_secret: "my-chap-secret"
        password: "password"
        state: "present"
        username: "admin"