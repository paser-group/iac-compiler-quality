---
- name: Create Taiga Issue
  hosts: localhost
  gather_facts: false

  vars:
    attachment_path: "/path/to/attachment/file.txt"
    attachment_description: "Some attachment description"
    description: "Some issue description"
    issue_type: "bug"
    priority: "high"
    project: "My Project"
    severity: "major"
    state: "open"
    status: "new"
    subject: "An issue with mixed types"
    tags:
      - "bug"
      - "taiga"

  tasks:
    - name: Create Taiga Issue with mixed types
      community.general.taiga_issue:
        taiga_host: "https://example.taiga.io"
        attachment: "{{ attachment_path | to_bytes }}"
        attachment_description: "{{ attachment_description | to_bytes }}"
        description: "{{ description | to_bytes }}"
        issue_type: "{{ issue_type | to_bytes }}"
        priority: "{{ priority | to_bytes }}"
        project: "{{ project | to_bytes }}"
        severity: "{{ severity | to_bytes }}"
        state: "{{ state | to_bytes }}"
        status: "{{ status | to_bytes }}"
        subject: "{{ subject | to_bytes }}"
        tags: "{{ tags | map('to_bytes') | list }}"
      register: taiga_result

    - name: Display Taiga Issue creation result
      debug:
        var: taiga_result