---
- name: Test playbook for latent Ansible type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create or cancel a virtual machine
      community.general.sl_vm:
        cpus: 2
        datacenter: "dal13"
        dedicated: true
        disks:
          - capacity: 100
            device: "0"
            os_disk: true
            name: "OS"
            snapshot: "global/Ubuntu 18.04 base"
        domain: "example.com"
        flavor: "B1_1X2X100"
        hostname: "test"
        hourly: false
        image_id: "15789"
        instance_id: "i-12345"
        local_disk: true
        memory: 4096
        nic_speed: 1000
        os_code: "UBUNTU_18_64"
        post_uri: "/path/to/post/script.sh"
        private: true
        private_vlan: "12345"
        public_vlan: "23456"
        ssh_keys:
          - "ssh-rsa AAAAB3Nz...xyz user@example.com"
        state: present
        tags: "ansible"
        wait: true
        wait_time: 300
        # Incorporating bytes and strings
        bytes_string_test: "{{ 100 | string }} bytes"

      register: sl_vm_result

    - name: Debug output
      debug:
        var: sl_vm_result