- name: Manage Etherstubs on Solaris
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Etherstub
      community.network.dladm_etherstub:
        name: "{{ ansible_undefined_variable }}"
        state: "{{ ansible_undefined_variable }}"
        temporary: true
      register: etherstub_result

    - name: Debug Etherstub Result
      debug:
        var: etherstub_result