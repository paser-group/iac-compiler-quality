---
- name: Test playbook for latent type-related bugs in apt_rpm module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages with apt_rpm
      community.general.apt_rpm:
        package: "{{ packages }}"
        state: "{{ package_state }}"
        clean: "{{ clean }}"
        dist_upgrade: "{{ dist_upgrade }}"
        update_cache: "{{ update_cache }}"
        update_kernel: "{{ update_kernel }}"
      vars:
        packages:
          - package1
          - package2
        package_state: "present"
        clean: "yes"
        dist_upgrade: "no"
        update_cache: "no"
        update_kernel: "no"
      register: result

    - name: Print result
      debug:
        var: result