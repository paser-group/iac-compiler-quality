- name: Manage configuration sections on Ironware devices
  hosts: all
  gather_facts: false

  tasks:
    - name: Generate configuration
      community.network.ironware_config:
        authorize: yes
        backup: yes
        backup_options:
          destination: "/path/to/backup/directory"
        lines:
          - <<EOF
            interface Ethernet1/1
              description "Configured using Ansible"
            exit
            
            interface Ethernet1/2
              description b"Configured using Ansible"
            exit
            EOF
        parents:
          - interface Ethernet1/1
        replace: no