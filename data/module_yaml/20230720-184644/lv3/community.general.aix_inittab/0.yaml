---
- name: Test playbook for 'community.general.aix_inittab' module
  hosts: localhost
  gather_facts: False

  tasks:

    - name: Create configuration that incorporates bytes and strings
      set_fact:
        init_tasks:
          - name: start_script
            action: start
            command: /usr/local/bin/service-start
            state: present
            runlevel: 2
            insertafter: rc.boot
          - name: stop_script
            action: stop
            command: /usr/local/bin/service-stop
            state: present
            runlevel: 3
            insertafter: rc.start

    - name: Insert tasks into inittab
      community.general.aix_inittab:
        tasks: "{{ init_tasks }}"