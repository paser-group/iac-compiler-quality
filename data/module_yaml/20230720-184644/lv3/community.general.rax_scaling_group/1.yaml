---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  vars:
    api_key: 'YOUR_API_KEY'  # String value for API key
    auth_endpoint: 'https://example.com/auth'  # String value for authorization endpoint
    config_drive: true  # Boolean value for config drive
    cooldown: 300  # Integer value for cooldown time in seconds
    credentials: '/path/to/credentials'  # String value for path to credentials
    disk_config: 'auto'  # String value for disk configuration
    env: 'dev'  # String value for environment
    files:
      file1: |
        This is a byte file
        with multiple lines.
    flavor: 'm1.small'  # String value for flavor
    identity_type: 'api_key'  # String value for identity type
    image: 'ubuntu18.04'  # String value for image
    key_name: 'my_key'  # String value for key name
    loadbalancers:
      - lb1
      - lb2  # List of string values for load balancers
    max_entities: 10  # Integer value for maximum entities
    meta:
      key1: 'value1'
      key2: 'value2'  # Dictionary with string values for meta attributes
    min_entities: 2  # Integer value for minimum entities
    name: 'scaling_group'  # String value for group name
    networks:
      - net1
      - net2  # List of string values for networks
    region: 'us-west-1'  # String value for region
    server_name: 'my_server'  # String value for server name
    state: 'present'  # String value for state
    tenant_id: 'YOUR_TENANT_ID'  # String value for tenant ID
    tenant_name: 'your_tenant'  # String value for tenant name
    user_data: |
      #!/bin/bash
      echo "User data script"  # User data as a byte string
    username: 'my_user'  # String value for username
    validate_certs: false  # Boolean value for validate certs
    wait: true  # Boolean value for wait
    wait_timeout: 180  # Integer value for wait timeout in seconds
  
  tasks:
    - name: Manipulate Rackspace C using rax_scaling_group
      community.general.rax_scaling_group:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        config_drive: "{{ config_drive }}"
        cooldown: "{{ cooldown }}"
        credentials: "{{ credentials }}"
        disk_config: "{{ disk_config }}"
        env: "{{ env }}"
        files: "{{ files }}"
        flavor: "{{ flavor }}"
        identity_type: "{{ identity_type }}"
        image: "{{ image }}"
        key_name: "{{ key_name }}"
        loadbalancers: "{{ loadbalancers }}"
        max_entities: "{{ max_entities }}"
        meta: "{{ meta }}"
        min_entities: "{{ min_entities }}"
        name: "{{ name }}"
        networks: "{{ networks }}"
        region: "{{ region }}"
        server_name: "{{ server_name }}"
        state: "{{ state }}"
        tenant_id: "{{ tenant_id }}"
        tenant_name: "{{ tenant_name }}"
        user_data: "{{ user_data }}"
        username: "{{ username }}"
        validate_certs: "{{ validate_certs }}"
        wait: "{{ wait }}"
        wait_timeout: "{{ wait_timeout }}"
      register: scaling_group_result