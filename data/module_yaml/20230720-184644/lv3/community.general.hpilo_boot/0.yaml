---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    # Test case: input values with bytes and strings
    image: !binary |
      SW1hZ2UgdGVzdCBlbmNvZGluZyBieXRlcyBhIHByb2JsZW0gdHlwZSBvZiB0aGUgZmlsZSB2YWx1ZQ==
    login: "admin"
    password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      37306766653031343130336534653730363866643030343661663931346232306433663965623932
      6533373534363139303436356431666432363166643033320a633234333737633830303531343238
      31646166353037346461643136623461393165383136323333643032353037353964306430323064
      3436316239653261330a303939636563313734326163656533313964363165336638376461656533
      64363234333932333235363963636532333864386566376161333033306364393666653361373339
    media: "CD"
    ssl_version: "TLSv1"
    state: "cd"

  tasks:
    - name: Test case - Input values with bytes and strings
      community.general.hpilo_boot:
        force: true
        host: "{{ inventory_hostname }}"
        image: "{{ image }}"
        login: "{{ login }}"
        password: "{{ password }}"
        media: "{{ media }}"
        ssl_version: "{{ ssl_version }}"
        state: "{{ state }}"