---
- name: Test playbook for community.general.statsd module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install community.general.statsd collection
      community.general.collection:
        name: community.general

    - name: Test case 1 - Delta as string
      community.general.statsd:
        host: "{{ host }}"
        port: "{{ port }}"
        metric: "{{ metric }}"
        delta: "true"
        state: present

    - name: Test case 2 - Metric prefix as integer
      community.general.statsd:
        host: "{{ host }}"
        port: "{{ port }}"
        metric: "{{ metric }}"
        metric_prefix: 123
        state: present

    - name: Test case 3 - Metric type as boolean
      community.general.statsd:
        host: "{{ host }}"
        port: "{{ port }}"
        metric: "{{ metric }}"
        metric_type: true
        state: present

    - name: Test case 4 - Timeout as string
      community.general.statsd:
        host: "{{ host }}"
        port: "{{ port }}"
        metric: "{{ metric }}"
        timeout: "1.5"
        state: present

    - name: Test case 5 - Value as string
      community.general.statsd:
        host: "{{ host }}"
        port: "{{ port }}"
        metric: "{{ metric }}"
        value: "10"
        state: present

  vars:
    # Define the test parameters
    host: "localhost"
    port: 8125
    metric: "my_metric"