---
- name: Manage PagerDuty user
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create PagerDuty user with bytes and strings in configuration values
      community.general.pagerduty_user:
        access_token: b'test_token'   # bytes value
        pd_email: 'test@example.com'  # string value
        pd_role: 'admin'              # string value
        pd_teams: ['team1', 'team2']  # list of string values
        pd_user: 'test_user'          # string value
        state: present

      vars:
        ansible_python_interpreter: /usr/local/bin/python3

      register: result

    - debug:
        var: result