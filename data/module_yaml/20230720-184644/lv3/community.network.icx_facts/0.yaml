---
- name: Test playbook for community.network.icx_facts module
  hosts: all
  gather_facts: false

  tasks:
    - name: Gather ICX facts
      community.network.icx_facts:
        gather_subset:
          - default
          - interfaces
          - vlans
      register: icx_facts

    - name: Print gathered facts
      debug:
        var: icx_facts