---
- name: Test playbook for community.network.ce_vxlan_global module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the community.network.ce_vxlan_global module
      include_tasks: vxlan_global.yml

- name: Manage VXLAN global attributes using community.network.ce_vxlan_global module
  hosts: network_devices
  gather_facts: false
  tasks:
    - name: Configure VXLAN global attributes
      community.network.ce_vxlan_global:
        bridge_domain_id: "{{ 10 }}"
        nvo3_acl_extend: [ "string1", 20 ]
        nvo3_ecmp_hash: { "key1": "value1", "key2": "value2" }
        nvo3_eth_trunk_hash: false
        nvo3_gw_enhanced: True
        nvo3_prevent_loops: "true"
        nvo3_service_extend: -10.5
        state: 1
        tunnel_mode_vxlan:
          - "string2"
          - 30
      register: result

    - name: Debug module output
      debug:
        var: result