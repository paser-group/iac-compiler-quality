---
- name: Test playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a project badge
      community.general.gitlab_project_badge:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        project: "your_project"
        state: present
        image_url: "https://example.com/badge.png"
        link_url: "https://example.com"
        validate_certs: false
        api_job_token: "your_job_token"
        api_oauth_token: "your_oauth_token"
        api_password: "your_password"
        api_username: "your_username"
      register: result