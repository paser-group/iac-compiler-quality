---
- name: Test OneView SAN Manager Module
  hosts: localhost
  gather_facts: false

  vars:
    api_version: 1200
    config: "/path/to/config.yaml"
    data: "{\"name\": \"test\", \"description\": \"test SAN manager\", \"address_pool_name\": \"Pool1\", \"provider_display_name\": \"Fibre Channel Managed\", \"connection_info\": {\"uname\": \"admin\", \"passwd\": \"password\"}}"
    hostname: myoneview.example.com
    image_streamer_hostname: imagestreamer.example.com
    password: mypassword
    state: present
    username: admin
    validate_etag: true

  tasks:
    - name: Test with bytes and strings
      community.general.oneview_san_manager:
        api_version: "{{ api_version }}"
        config: "{{ config }}"
        data: "{{ data }}"
        hostname: "{{ hostname }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        password: "{{ password }}"
        state: "{{ state }}"
        username: "{{ username }}"
        validate_etag: "{{ validate_etag }}"
      register: result

    - debug:
        var: result