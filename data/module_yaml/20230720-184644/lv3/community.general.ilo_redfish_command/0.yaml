---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    auth_token: "my_token"
    baseuri: 192.168.0.1
    category: power
    command:
      - "get_state"
      - "turn_on"
    password: "my_password"
    timeout: "30"
    username: "my_username"

  tasks:
    - name: Run 'community.general.ilo_redfish_command'
      community.general.ilo_redfish_command:
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        password: "{{ password }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
      register: result

    - debug:
        var: result