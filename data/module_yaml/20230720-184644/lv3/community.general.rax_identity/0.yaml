---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Load Rackspace Cloud Identity
      community.general.rax_identity:
        api_key: "myapikey"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0/"
        credentials: "/path/to/credentials/file"
        env: "prod"
        identity_type: 123456789
        region:
          - "us-west-1"
          - "us-east-1"
        state: true
        tenant_id: "12345678"
        tenant_name: 987654321
        username: "myusername"
        validate_certs: "true"
      register: identity_result

    - name: Debug identity result
      debug:
        var: identity_result