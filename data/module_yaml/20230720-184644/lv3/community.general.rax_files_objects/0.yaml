---
- name: Test playbook for community.general.rax_files_objects module
  hosts: localhost
  gather_facts: false

  vars:
    api_key: "api_key_value"
    auth_endpoint: "https://auth.example.com"
    container: "test_container"
    identity_type: "string"
    method: "post"
    region: "us-east-1"
    src: "path/to/file"
    tenant_id: "tenant_id_value"
    tenant_name: "tenant_name_value"
    type: "application/octet-stream"
    username: "username_value"

  tasks:
    - name: Upload file object
      community.general.rax_files_objects:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        container: "{{ container }}"
        identity_type: "{{ identity_type }}"
        method: "{{ method }}"
        region: "{{ region }}"
        src: "{{ src }}"
        tenant_id: "{{ tenant_id }}"
        tenant_name: "{{ tenant_name }}"
        type: "{{ type }}"
        username: "{{ username }}"
      register: upload_result

    - name: Download file object
      community.general.rax_files_objects:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        container: "{{ container }}"
        identity_type: "{{ identity_type }}"
        method: "{{ method }}"
        region: "{{ region }}"
        src: "{{ src }}"
        tenant_id: "{{ tenant_id }}"
        tenant_name: "{{ tenant_name }}"
        type: "{{ type }}"
        username: "{{ username }}"
        dest: "/path/to/download/file"
      register: download_result

    - name: Delete file object
      community.general.rax_files_objects:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        container: "{{ container }}"
        identity_type: "{{ identity_type }}"
        method: "{{ method }}"
        region: "{{ region }}"
        src: "{{ src }}"
        tenant_id: "{{ tenant_id }}"
        tenant_name: "{{ tenant_name }}"
        type: "{{ type }}"
        username: "{{ username }}"
        state: absent
      register: delete_result

    - name: Debug upload_result
      debug:
        var: upload_result

    - name: Debug download_result
      debug:
        var: download_result

    - name: Debug delete_result
      debug:
        var: delete_result