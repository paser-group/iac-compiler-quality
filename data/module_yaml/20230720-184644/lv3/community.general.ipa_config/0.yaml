---
- name: Manage FreeIPA Configuration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manage FreeIPA Configuration
      community.general.ipa_config:
        ipa_host: "ipa.example.com"
        ipa_pass: "my_password"
        ipa_port: 443
        ipa_prot: "https"
        ipa_timeout: 10
        ipa_user: "admin"
        ipaconfigstring:
          - "config1"
          - !!binary |               # This line triggers a type-related bug
              Ynl0ZXNfdmFsdWU=
          - "config2"
        ipadefaultemaildomain: "example.com"
        ipadefaultloginshell: "/bin/bash"
        ipadefaultprimarygroup: "ipausers"
        ipagroupsearchfields:
          - "name"
          - "description"
        ipahomesrootdir: "/home"
        ipakrbauthzdata:
          - "auth1"
          - "auth2"
        ipamaxusernamelength: 12
        ipapwdexpadvnotify: 7
        ipasearchrecordslimit: 100
        ipasearchtimelimit: 60
        ipaselinuxusermaporder:
          - "local"
          - "remote"
        ipauserauthtype:
          - "password"
          - "otp"
        ipausersearchfields:
          - "uid"
          - "givenname"
        validate_certs: true