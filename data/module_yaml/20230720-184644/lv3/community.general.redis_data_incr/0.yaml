---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case - Increment integer value
      community.general.redis_data_incr:
        key: "mykey"
        increment_int: "5"

    - name: Test case - Increment float value
      community.general.redis_data_incr:
        key: "mykey"
        increment_float: "3.14"

    - name: Test case - Use byte string as key
      community.general.redis_data_incr:
        key: !!binary |
          c3RyaW5nMSA9IFwiYnl0ZXNhcm92eVwi
        increment_int: 1

    - name: Test case - Use byte string as increment value
      community.general.redis_data_incr:
        key: "mykey"
        increment_int: 1
        increment_float: !!binary |
          MzE0Cg==

    - name: Test case - Use mixed byte and string values
      community.general.redis_data_incr:
        key: !!binary |
          c3RyaW5nMSA9IFwiYnl0ZXNhcm92eVwi
        increment_int: 1
        increment_float: "3.14"