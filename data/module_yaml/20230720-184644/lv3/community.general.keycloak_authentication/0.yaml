---
- name: Configure authentication in Keycloak
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure authentication
      community.general.keycloak_authentication:
        alias: "my_auth"
        auth_client_id: "my_client"
        auth_client_secret: "my_secret"
        auth_keycloak_url: "https://mykeycloak.com/auth"
        auth_password: "my_password"
        auth_realm: "my_realm"
        auth_username: "my_username"
        authenticationExecutions: []
        connection_timeout: 10
        copyFrom: "my_copy_from"
        description: "my_description"
        force: true
        http_agent: "my_agent"
        providerId: "my_provider"
        realm: "my_realm"
        state: "present"
        token: "my_token"
        validate_certs: true

    - name: Test case with bytes and strings
      community.general.keycloak_authentication:
        alias: b'my_bytes_auth'
        auth_client_id: "my_client"
        auth_client_secret: "my_secret"
        auth_keycloak_url: "https://mykeycloak.com/auth"
        auth_password: "my_password"
        auth_realm: "my_realm"
        auth_username: "my_username"
        authenticationExecutions: []
        connection_timeout: "{{ 10 }}"
        copyFrom: "my_copy_from"
        description: "my_description"
        force: true
        http_agent: "my_agent"
        providerId: "my_provider"
        realm: "my_realm"
        state: "present"
        token: "my_token"
        validate_certs: true

    - name: Test case with invalid value types
      community.general.keycloak_authentication:
        alias: "my_auth"
        auth_client_id: 123
        auth_client_secret: 456
        auth_keycloak_url: true
        auth_password: 789
        auth_realm: false
        auth_username: null
        authenticationExecutions: {}
        connection_timeout: "10"
        copyFrom: []
        description: 123
        force: "true"
        http_agent: true
        providerId: 456
        realm: false
        state: 123
        token: []
        validate_certs: "true"