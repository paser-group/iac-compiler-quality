---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Define configuration values
      set_fact:
        configuration_values:
          - "{{ bytes_value }}"
          - "{{ string_value }}"

    - name: Print configuration values
      debug:
        var: configuration_values

    - name: Validate configuration values
      fail:
        msg: "Type-related bug found in Ansible compiler!"
      when:
        - item is string
        - item | length == 15

  vars:
    bytes_value: "{{ 'bytes_value:' }}"
    string_value: "Hello, world!"