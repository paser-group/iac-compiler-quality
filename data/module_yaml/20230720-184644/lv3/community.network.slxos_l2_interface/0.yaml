- name: Manage Layer-2 interface on Extreme Networks device
  hosts: switches
  gather_facts: false

  tasks:
    - name: Configure Layer-2 interface
      community.network.slxos_l2_interface:
        name: "{{ interface_name }}"
        state: "{{ interface_state }}"
        mode: "{{ interface_mode }}"
        native_vlan: "{{ native_vlan }}"
        access_vlan: "{{ access_vlan }}"
        trunk_vlans: "{{ trunk_vlans }}"
        trunk_allowed_vlans: "{{ trunk_allowed_vlans }}"
      vars:
        interface_name: Ethernet1/1
        interface_state:  present
        interface_mode: access
        native_vlan:  10
        access_vlan: "20"
        trunk_vlans: 80
        trunk_allowed_vlans:
          - "90"
          - 100
          - "110"
          - b"120"