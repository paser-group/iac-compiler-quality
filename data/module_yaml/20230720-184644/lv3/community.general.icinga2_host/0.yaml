---
- name: Test the community.general.icinga2_host module
  hosts: localhost
  gather_facts: false

  vars:
    check_command: "check_command_string"
    client_cert: "/path/to/client_cert"
    client_key: "/path/to/client_key"
    display_name: "display_name_string"
    force: false
    force_basic_auth: true
    http_agent: "http_agent_string"
    ip: "10.1.1.1"
    name: "name_string"
    state: "present"
    template: "template_string"
    url: "https://example.com"
    url_password: "password"
    url_username: "username"
    use_gssapi: true
    use_proxy: true
    validate_certs: false
    zone: "zone_string"

  tasks:
    - name: Test with bytes in configuration values
      community.general.icinga2_host:
        check_command: "{{ check_command | to_bytes }}"
        client_cert: "{{ client_cert | to_bytes }}"
        client_key: "{{ client_key | to_bytes }}"
        display_name: "{{ display_name | to_bytes }}"
        force: "{{ force }}"
        force_basic_auth: "{{ force_basic_auth }}"
        http_agent: "{{ http_agent | to_bytes }}"
        ip: "{{ ip }}"
        name: "{{ name | to_bytes }}"
        state: "{{ state }}"
        template: "{{ template | to_bytes }}"
        url: "{{ url }}"
        url_password: "{{ url_password | to_bytes }}"
        url_username: "{{ url_username | to_bytes }}"
        use_gssapi: "{{ use_gssapi }}"
        use_proxy: "{{ use_proxy }}"
        validate_certs: "{{ validate_certs }}"
        zone: "{{ zone | to_bytes }}"
      register: result

    - name: Debug result
      debug:
        var: result