---
- name: Test playbook for 'community.general.rhn_register' module
  hosts: all
  gather_facts: false

  tasks:
    - name: Register the system
      community.general.rhn_register:
        activationkey: 12345
        ca_cert: /etc/pki/ca.crt
        channels: ["rhel-7-server-rpms", "rhel-7-server-extras-rpms"]
        enable_eus: "true"
        force: "false"
        nopackages: "false"
        password: 12345678
        profilename: "Ansible Profile"
        server_url: https://rhn.example.com/XMLRPC
        state: "present"
        systemorgid: ORG12345
        username: ansible
      register: result

    - name: Print result
      debug:
        var: result