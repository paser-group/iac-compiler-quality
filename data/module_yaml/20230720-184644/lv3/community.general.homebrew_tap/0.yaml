---
- name: Test playbook for community.general.homebrew_tap module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Homebrew tap with bytes and strings
      community.general.homebrew_tap:
        name: "{{ item.name }}"
        path: "{{ item.path }}"
        state: "{{ item.state }}"
        url: "{{ item.url }}"
      loop:
        - { name: "homebrew/core", path: "/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core", state: "present", url: "https://github.com/Homebrew/homebrew-core.git" }
        - { name: b"homebrew/cask", path: "/usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask", state: "present", url: "https://github.com/Homebrew/homebrew-cask.git" }

      register: result

    - name: Debug output
      debug:
        var: result