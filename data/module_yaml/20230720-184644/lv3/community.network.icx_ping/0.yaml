- name: Ansible Latent Bug Finder & Heuristic Test
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test ping reachability with mixed bytes and strings
      community.network.icx_ping:
        dest: 10.1.1.1
        count: "10"
        size: 1500
        source: "{{ ansible_default_ipv4.address }}"
        state: "present"
        timeout: "{{ 3 }}"
        ttl: 1
        vrf: "vrf_default"
      register: ping_result

    - name: Debug ping result
      debug:
        var: ping_result