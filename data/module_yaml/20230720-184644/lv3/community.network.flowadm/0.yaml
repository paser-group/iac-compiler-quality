- name: Manage bandwidth resource control
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure flowadm
      community.network.flowadm:
        name: "{{ item.name }}"
        state: present
        temporary: "{{ item.temporary | default(false) }}"
        local_ip: "{{ item.local_ip }}"
        local_port: "{{ item.local_port }}"
        remote_ip: "{{ item.remote_ip }}"
        dsfield: "{{ item.dsfield | default(0) }}"
        link: "{{ item.link | default('vnic0') }}"
        transport: "{{ item.transport | default('tcp') }}"
        maxbw: "{{ item.maxbw }}"
        priority: "{{ item.priority | default(0) }}"
      loop:
        # Test case 1: Configuration values with bytes and strings
        - name: Test case 1
          local_ip: 10.1.1.1
          local_port: 80
          remote_ip: 10.2.2.2
          maxbw: "10m"

    # additional tasks...