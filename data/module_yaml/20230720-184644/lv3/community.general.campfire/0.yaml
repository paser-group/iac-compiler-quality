---
- name: Test Ansible Campfire Module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test with bytes and strings
      community.general.campfire:
        msg: "{{ 'Test Message' | to_bytes }}"  # Converting string to bytes
        notify: "{{ 'notify@example.com' | to_bytes }}"  # Converting string to bytes
        room:  # Bytes value directly specified
          - "{{ 'Test Room' | to_bytes }}"
        subscription:  # Bytes value directly specified
          - "{{ 'Test Subscription' | to_bytes }}"
        token: "{{ 'test-token' }}"
      register: result

    - name: Display result
      debug:
        var: result