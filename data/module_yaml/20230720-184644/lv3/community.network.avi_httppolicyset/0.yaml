---
- name: Test playbook for community.network.avi_httppolicyset
  hosts: localhost

  tasks:
    - name: Create HTTPPolicySet
      community.network.avi_httppolicyset:
        controller: "https://{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "Test_HTTPPolicySet"
        description: "This is a test HTTPPolicySet"
        is_internal_policy: false
        avi_disable_session_cache_as_fact: true
        cloud_config_cksum: null
        avi_credentials:
          - api_version: "18.2.6"
            api_context:
              - "api_version=18.2.6"
            tenant_uuid: null
            avi_api_patch_op: null
            avi_api_update_method: null
            created_by: null
            http_request_policy: null
            http_response_policy: null
            http_security_policy: null
        tenant_ref: null
        uuid: null

  post_tasks:
    - name: Print Facts
      debug:
        var: ansible_facts