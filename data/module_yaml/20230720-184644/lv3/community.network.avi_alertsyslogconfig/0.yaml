---
- name: Test playbook for community.network.avi_alertsyslogconfig module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include Ansible Galaxy collection
      include_role:
        name: community.network

    - name: Test playbook for avi_alertsyslogconfig module
      community.network.avi_alertsyslogconfig:
        controller: "https://{{ inventory_hostname }}:{{ controller_port }}"
        username: "admin"
        password: "{{ avi_password }}"
        tenant: "admin"
        syslog_servers:
          - name: "syslog-server"
            server: "tcp://10.1.1.5:514"
            level: "ALERT_ONLY"
            tcp_pool_ref: "/api/pool?name=syslog-pool"
            tenant_ref: "/api/tenant?name=admin"

  vars:
    controller_port: 443
    avi_password: "your_password"