---
- name: Test playbook for community.network.pn_admin_service module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure pn_admin_service
      community.network.pn_admin_service:
        pn__if: "{{ item.interface }}"
        pn_cliswitch: "{{ item.switch }}"
        pn_icmp: "{{ item.icmp }}"
        pn_net_api: "{{ item.net_api }}"
        pn_nfs: "{{ item.nfs }}"
        pn_snmp: "{{ item.snmp }}"
        pn_ssh: "{{ item.ssh }}"
        pn_web: "{{ item.web }}"
        pn_web_log: "{{ item.web_log }}"
        pn_web_port: "{{ item.web_port }}"
        pn_web_ssl: "{{ item.web_ssl }}"
        pn_web_ssl_port: "{{ item.web_ssl_port }}"
        state: present
      loop:
        - { interface: 'eth0', switch: 'switch1', icmp: true, net_api: true, nfs: true, snmp: true, ssh: true, web: true, web_log: true, web_port: '8080', web_ssl: true, web_ssl_port: '8443' }
        - { interface: 'eth1', switch: 'switch2', icmp: false, net_api: false, nfs: false, snmp: false, ssh: false, web: false, web_log: false, web_port: '80', web_ssl: false, web_ssl_port: '443' }
        - { interface: 'eth2', switch: 'switch3', icmp: true, net_api: false, nfs: true, snmp: false, ssh: true, web: false, web_log: true, web_port: '8080', web_ssl: true, web_ssl_port: '8443' }