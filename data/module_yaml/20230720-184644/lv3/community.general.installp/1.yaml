---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    package_name: ['package1', b'package2']
    repository_path: '/path/to/repository'

  tasks:
    - name: Install packages
      community.general.installp:
        accept_license: 'yes'
        name: "{{ package_name }}"
        repository_path: "{{ repository_path }}"
        state: 'latest'