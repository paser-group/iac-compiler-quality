- name: Install and update packages using the community.general.pacman module
  hosts: all
  become: true

  tasks:
    - name: Convert string to bytes
      set_fact:
        byte_string: "{{ 'byte-string' | stringtohex }}"
        
    - name: Print the byte string
      debug:
        var: byte_string
      
    - name: Install package
      community.general.pacman:
        name: "{{ [byte_string, 'package1', 'package2'] }}"
        state: present
      loop: 
        - "{{ [byte_string, 'package1', 'package2'] }}"
      when: inventory_hostname == 'ubuntu1'