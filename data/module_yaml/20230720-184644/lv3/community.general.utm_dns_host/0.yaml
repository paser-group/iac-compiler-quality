---
- name: Test playbook for community.general.utm_dns_host
  hosts: localhost
  gather_facts: false

  vars:
    address: 10.1.1.5
    address6: 2001:db8::1
    comment: This is a test host
    headers:
      Content-Type: application/json
    hostname: test.example.com
    interface: eth0
    name: test-host
    resolved: true
    resolved6: false
    state: present
    timeout: 30
    utm_host: utm.example.com
    utm_port: 8080
    utm_protocol: https
    utm_token: abcdef1234567890
    validate_certs: true

  tasks:
    - name: Create DNS host record
      community.general.utm_dns_host:
        address: "{{ address }}"
        address6: "{{ address6 }}"
        comment: "{{ comment }}"
        headers: "{{ headers }}"
        hostname: "{{ hostname }}"
        interface: "{{ interface }}"
        name: "{{ name }}"
        resolved: "{{ resolved }}"
        resolved6: "{{ resolved6 }}"
        state: "{{ state }}"
        timeout: "{{ timeout }}"
        utm_host: "{{ utm_host }}"
        utm_port: "{{ utm_port }}"
        utm_protocol: "{{ utm_protocol }}"
        utm_token: "{{ utm_token }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - debug:
        var: result