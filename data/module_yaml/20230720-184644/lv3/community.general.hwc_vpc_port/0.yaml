---
- name: Create VPC resource
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create VPC
      community.general.hwc_vpc_port:
        admin_state_up: "{{ True }}"
        allowed_address_pairs:
          - mac_address: "AA:BB:CC:DD:EE:FF"
            ip_address: "192.168.0.10"
          - mac_address: "11:22:33:44:55:66"
            ip_address: "192.168.0.20"
        domain: "example.com"
        extra_dhcp_opts:
          - opt_name: "routers"
            opt_value: "192.168.0.1"
          - opt_name: "dns_servers"
            opt_value: "8.8.8.8"
        id: "123456"
        identity_endpoint: "http://identity.example.com"
        ip_address: "192.168.0.1"
        name: "myVPC"
        password: "password123"
        project: "myProject"
        region: "us-east-1"
        security_groups:
          - sg1
          - sg2
        state: "present"
        subnet_id: "subnet123"
        timeouts:
          create: 120
          delete: 60
        user: "admin"
      register: result

    - name: Debug result
      debug:
        var: result