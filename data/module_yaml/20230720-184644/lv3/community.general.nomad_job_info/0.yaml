---
- name: Test playbook for Ansible latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    client_cert: "/path/to/cert.pem"
    client_key: "/path/to/key.pem"
    host: "example.com"
    name: "test-job"
    namespace: "default"
    timeout: 10
    token: "my-token"
    use_ssl: true
    validate_certs: false

  tasks:
    - name: Get Nomad job info
      community.general.nomad_job_info:
        client_cert: "{{ client_cert }}"
        client_key: "{{ client_key }}"
        host: "{{ host }}"
        name: "{{ name }}"
        namespace: "{{ namespace }}"
        timeout: "{{ timeout }}"
        token: "{{ token }}"
        use_ssl: "{{ use_ssl }}"
        validate_certs: "{{ validate_certs }}"
      register: job_info_result

    - name: Print job info
      debug:
        var: job_info_result