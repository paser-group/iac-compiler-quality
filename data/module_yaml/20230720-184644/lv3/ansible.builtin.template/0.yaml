---
- name: Template a file
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Template a file with type-related bugs
      ansible.builtin.template:
        src: template.j2
        dest: /tmp/template.txt
        unsafe_writes: yes
        validate: "{{ '/usr/bin/my_validator.sh' }}"

      vars:
        template_var_bytes: !binary |-
          SGVsbG8gd29ybGQhCg==
        template_var_string: "{{ ansible_user }}"

      backup: false
      follow: true
      force: false
      group: mygroup
      owner: myuser
      selevel: s0
      serole: admin
      setype: system_u
      seuser: myuser
      variable_start_string: "[["
      variable_end_string: "]]"
      block_start_string: "{-{"
      block_end_string: "-}}"
      comment_start_string: "{#"
      comment_end_string: "#}"
      lstrip_blocks: true
      trim_blocks: true
      output_encoding: utf-8
      newline_sequence: "\n"