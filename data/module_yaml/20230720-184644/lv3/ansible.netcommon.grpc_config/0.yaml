---
- name: Test ansible.netcommon.grpc_config module
  hosts: all
  gather_facts: false

  tasks:
    - name: Fetch configuration/state data from gRPC
      ansible.netcommon.grpc_config:
        backup: "{{ 'true' }}"
        backup_options:
          seconds: 10
          directory: "/path/to/backup/directory"
        config: "{{ lookup('file', 'config.txt') }}"
        state: present
      register: grpc_config_result

    - name: Debug gRPC config result
      debug:
        var: grpc_config_result