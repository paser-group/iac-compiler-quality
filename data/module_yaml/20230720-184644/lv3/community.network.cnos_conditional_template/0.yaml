- name: Test playbook for community.network.cnos_conditional_template module
  hosts: localhost
  gather_facts: false

  vars:
    deviceType: cnos
    enablePassword: ansible
    host: 10.1.1.1
    password: ansible
    username: ansible

  tasks:
    - name: Include the module
      include_role:
        name: community.network.cnos_conditional_template

    - name: Trigger type-related bug
      community.network.cnos_conditional_template:
        host: "{{ host }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enablePassword: "{{ enablePassword }}"
        deviceType: "{{ deviceType }}"
        condition: "bytes{{ 'A' }}"
        outputfile: "/tmp/output.txt"
      register: result