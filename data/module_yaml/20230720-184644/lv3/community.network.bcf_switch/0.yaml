- name: Test playbook for 'community.network.bcf_switch' module
  hosts: localhost
  gather_facts: false

  vars:
    access_token: null
    controller: null
    fabric_role: null
    leaf_group: null
    mac: null
    name: null
    state: null
    validate_certs: true

  tasks:
    - name: Create a configuration value with bytes and strings
      set_fact:
        configuration: "{{ {
          'bytes_value': b'foo',
          'string_value': 'bar'
        } }}"

    - name: Create BCF switch
      community.network.bcf_switch:
        access_token: "{{ access_token }}"
        controller: "{{ controller }}"
        fabric_role: "{{ fabric_role }}"
        leaf_group: "{{ leaf_group }}"
        mac: "{{ mac }}"
        name: "{{ name }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        configuration: "{{ configuration }}"
      register: result

    - name: Print the module result
      debug:
        var: result