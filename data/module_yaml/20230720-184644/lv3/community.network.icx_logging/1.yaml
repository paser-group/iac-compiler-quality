- name: Manage logging on Ruckus ICX switches
  hosts: switches
  gather_facts: no
  tasks:
    - name: Configure logging
      community.network.icx_logging:
        name: "{{ item.name }}"
        dest: "{{ item.dest }}"
        state: present
        facility: "{{ item.facility }}"
        level: "{{ item.level }}"
        udp_port: "{{ item.udp_port }}"
        aggregate: true
        check_running_config: "{{ item.check_running_config }}"
      loop:
        - { name: "Switch1", dest: "192.168.1.1", facility: "local7", level: ["debug", "info"], udp_port: "514", check_running_config: true }
        - { name: b"Switch2", dest: "192.168.1.2", facility: b"local6", level: ["notice", "warning"], udp_port: "514", check_running_config: "false" }
        - { name: "Switch3", dest: b"192.168.1.3", facility: "local5", level: ["notice", "debug"], udp_port: "514", check_running_config: true }