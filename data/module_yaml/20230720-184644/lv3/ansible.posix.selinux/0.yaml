---
- name: Change SELinux policy
  hosts: localhost
  gather_facts: false
  vars:
    config_file: /etc/selinux/config
    policy: strict
    state: enforcing
    update_kernel_param: true

  tasks:
    - name: Change SELinux policy
      ansible.posix.selinux:
        configfile: "{{ config_file }}"
        policy: "{{ policy }}"
        state: "{{ state }}"
        update_kernel_param: "{{ update_kernel_param }}"
      register: selinux_result

    - name: Debug SELinux result
      debug:
        var: selinux_result

- name: Test Case 1 - Configuration value with bytes and strings
  hosts: localhost
  gather_facts: false

  vars:
    config_file: "/etc/selinux/config bytes: /etc/selinux/bytes.config"
    policy: "strict"
    state: enforcing
    update_kernel_param: true

  tasks:
    - name: Change SELinux policy
      ansible.posix.selinux:
        configfile: "{{ config_file }}"
        policy: "{{ policy }}"
        state: "{{ state }}"
        update_kernel_param: "{{ update_kernel_param }}"
      register: selinux_result

    - name: Debug SELinux result
      debug:
        var: selinux_result