---
- name: Test playbook for exposing latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Execute a task with string and byte variables
      shell: |
        echo "String: {{ my_string }}"      # Print the string variable
        echo "Bytes: {{ my_bytes }}"        # Print the byte variable
      vars:
        my_string: "Hello, World!"
        my_bytes: "{{ 'Hello, World!' | to_bytes }}"

    - name: Debug the variables and their types
      debug:
        var: item.value | type_debug
      loop:
        - { name: "my_string", value: "{{ my_string }}" }
        - { name: "my_bytes", value: "{{ my_bytes }}" }