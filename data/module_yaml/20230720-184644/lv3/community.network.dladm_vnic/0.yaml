---
- name: Manage VNICs on Solaris
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create VNIC with bytes and strings in configuration values
      community.network.dladm_vnic:
        link: "{{ ansible_default_ipv4.interface }}"
        mac: "00:00:5e:00:53:{{ 16|random|int }}"
        name: "vnic{{ 100|random|int }}"
        state: present
        temporary: false
        vlan: "vlan{{ 4096|random|int }}"