---
- name: Create user groups using udm_group module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create group with bytes and strings
      community.general.udm_group:
        name: "\xc3\xbc\xc3\xb1\xc3\xae\xc3\xa7\xc3\xb8\xc5\xa9" # Bytes representation of 'ünîçøū'
        ou: "ou=groups"
        position: 0
        state: present
        subpath: "cn=users"

    - name: Create group with integers as strings
      community.general.udm_group:
        name: "group1"
        ou: "ou=groups"
        position: "1" # Integer value represented as a string
        state: "present"
        subpath: "cn=users"

    - name: Create group with incorrect state
      community.general.udm_group:
        name: "group2"
        ou: "ou=groups"
        position: "2"
        state: "enabled" # Value that shouldn't be accepted for the state attribute
        subpath: "cn=users"

    - name: Create group with incorrect position
      community.general.udm_group:
        name: "group3"
        ou: "ou=groups"
        position: -1 # Negative value for position attribute
        state: "present"
        subpath: "cn=users"