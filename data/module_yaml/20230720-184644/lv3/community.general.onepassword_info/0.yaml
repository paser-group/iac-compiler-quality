---
- name: Test playbook for 'community.general.onepassword_info' module
  hosts: localhost
  gather_facts: false

  vars:
    auto_login:
      username: admin
      password: mypass
    cli_path: /usr/bin/op
    search_terms:
      - secret1
      - secret2

  tasks:
    - name: Gather information from 1Password using 'community.general.onepassword_info' module
      community.general.onepassword_info:
        auto_login: "{{ auto_login }}"
        cli_path: "{{ cli_path }}"
        search_terms: "{{ search_terms }}"
      register: op_result

    - name: Debug 'community.general.onepassword_info' result
      debug:
        var: op_result