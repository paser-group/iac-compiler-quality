- name: Testing Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create configuration values with mixed types
      set_fact:
        checkid: "{{ lookup('env', 'CHECK_ID') }}"
        key: "{{ lookup('env', 'KEY') }}"
        passwd: "{{ lookup('env', 'PASSWD') | int }}"
        state: "{{ lookup('env', 'STATE') }}"
        uid: "{{ lookup('env', 'UID') }}"

    - name: Debug configuration values
      debug:
        var: checkid
      debug:
        var: key
      debug:
        var: passwd
      debug:
        var: state
      debug:
        var: uid

    - name: Execute the pingdom module
      community.general.pingdom:
        checkid: "{{ checkid }}"
        key: "{{ key }}"
        passwd: "{{ passwd }}"
        state: "{{ state }}"
        uid: "{{ uid }}"

      # Add more tasks if needed