---
- name: Test playbook to reboot HUAWEI device
  hosts: huawei_device
  gather_facts: false
  
  tasks:
    - name: Set configuration with bytes
      set_fact:
        byte_config: "{{ 'my_byte_config' | b64encode }}"
        
    - name: Debug byte configuration
      debug:
        var: byte_config
      
    - name: Reboot the device
      community.network.ce_reboot:
        confirm: "{{ byte_config | b64decode }}"
        save_config: true
      register: reboot_result
      
    - name: Debug reboot result
      debug:
        var: reboot_result