---
- name: Test playbook for community.general.swdepot module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Install packages with swdepot
      community.general.swdepot:
        depot: "{{ lookup('pipe', 'echo -n 12345') }}/path/to/depot"
        name: "{{ item }}"
        state: present
      loop:
        - package1
        - package2
        - package3
      register: result
      changed_when: false

    - name: Debug results
      debug:
        var: result