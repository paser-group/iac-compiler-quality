- name: Test community.general.utm_network_interface_address_info module
  hosts: localhost
  gather_facts: false

  vars:
    utm_host: 10.1.1.1
    utm_port: 443
    utm_protocol: "https"
    utm_token: "my-token"
    validate_certs: false

  tasks:
    - name: Get network interface address info
      community.general.utm_network_interface_address_info:
        headers: {}
        name: "{{ item | int }}"
        state: "present"
        utm_host: "{{ utm_host }}"
        utm_port: "{{ utm_port }}"
        utm_protocol: "{{ utm_protocol | int }}"
        utm_token: "{{ utm_token | int }}"
        validate_certs: "{{ validate_certs | string }}"
      loop:
        - "eth0"
        - "eth1"
        - "eth2"