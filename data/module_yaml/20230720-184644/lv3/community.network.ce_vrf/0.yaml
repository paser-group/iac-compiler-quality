---
- name: Test playbook for the community.network.ce_vrf module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set up VPN instance
      community.network.ce_vrf:
        description: "{{ description }}"
        state: "{{ state }}"
        vrf: "{{ vrf }}"
      register: result
      ignore_errors: true

    - name: Debug output
      debug:
        var: result

  vars:
    description: "{{ 'This is a test VRF' | to_bytes }}"
    state: "{{ 'present' | to_bytes }}"
    vrf: "{{ 'test_vrf' | to_bytes }}"