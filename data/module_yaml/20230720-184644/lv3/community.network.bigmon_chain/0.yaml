---
- name: Test playbook for community.network.bigmon_chain
  hosts: localhost
  gather_facts: false

  vars:
    access_token: null
    controller: null
    name: null
    state: null
    validate_certs: true

  tasks:
    - name: Create a bigmon using bytes and strings
      community.network.bigmon_chain:
        access_token: "{{ access_token }}"
        controller: "{{ controller }}"
        name: "{{ name }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
      vars:
        access_token: b"my_secret_token"
        controller: "https://mycontroller.com"
        name: "my_bigmon"
        state: present

    - name: Remove the bigmon
      community.network.bigmon_chain:
        access_token: "{{ access_token }}"
        controller: "{{ controller }}"
        name: "{{ name }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
      vars:
        access_token: null
        controller: "https://mycontroller.com"
        name: "my_bigmon"
        state: absent