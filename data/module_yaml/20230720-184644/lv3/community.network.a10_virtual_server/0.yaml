---
- name: Ansible Latent Bug Finder - community.network.a10_virtual_server
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create A10 virtual server
      community.network.a10_virtual_server:
        host: 10.1.1.1
        username: admin
        password: secret
        virtual_server: VIP1
        virtual_server_ip: 10.1.1.10
        virtual_server_ports:
          - service_group: HTTP
            protocol: tcp
            path: /path1
          - service_group: HTTPS
            protocol: https
            path: /path2
        write_config: True
      register: result

    - debug:
        var: result