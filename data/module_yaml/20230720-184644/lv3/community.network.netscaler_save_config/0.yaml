---
- name: Test playbook to unveil latent type-related bugs in Ansible module
  hosts: localhost
  gather_facts: false
  vars:
    nitro_pass: b64_password

  tasks:
    - name: Save Netscaler configuration
      community.network.netscaler_save_config:
        nitro_user: admin
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: https
        nitro_timeout: 10
        nsip: 192.168.0.1
        validate_certs: true
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Validate result
      fail:
        msg: "Type-related bug triggered!"
      when: result is failed