---
- name: Manage AAA server global configuration
  hosts: localhost
  gather_facts: false

  vars:
    accounting_mode: "bytes"
    acct_scheme_name: "scheme1"
    authen_scheme_name: "scheme2"
    author_scheme_name: "scheme3"
    domain_name: "example.com"
    first_authen_mode: "bytes"
    first_author_mode: "bytes"
    hwtacas_template: "template1"
    local_user_group: "group1"
    radius_server_group: "group2"
    state: "present"

  tasks:
    - name: Configure AAA server
      community.network.ce_aaa_server:
        accounting_mode: "{{ accounting_mode }}"
        acct_scheme_name: "{{ acct_scheme_name }}"
        authen_scheme_name: "{{ authen_scheme_name }}"
        author_scheme_name: "{{ author_scheme_name }}"
        domain_name: "{{ domain_name }}"
        first_authen_mode: "{{ first_authen_mode }}"
        first_author_mode: "{{ first_author_mode }}"
        hwtacas_template: "{{ hwtacas_template }}"
        local_user_group: "{{ local_user_group }}"
        radius_server_group: "{{ radius_server_group }}"
        state: "{{ state }}"
      register: aaa_server_config

    - name: Debug AAA server configuration
      debug:
        var: aaa_server_config