---
- name: Test playbook for community.general.portage module
  hosts: localhost
  gather_facts: false
  become: true

  tasks:
    - name: Install packages with specific configuration values
      community.general.portage:
        package: ['nginx']
        state: 'installed'
        backtrack: 10
        changed_use: true
        deep: true
        depclean: true
        getbinpkg: true
        getbinpkgonly: false
        jobs: 4
        keepgoing: true
        loadavg: 0.5
        newuse: false
        nodeps: true
        noreplace: false
        oneshot: true
        onlydeps: false
        quiet: true
        quietbuild: true
        quietfail: false
        sync: 'true'
        update: true
        usepkg: true
        usepkgonly: false
        verbose: true
        withbdeps: false
      register: portage_output

    - name: Print portage module output
      debug:
        var: portage_output