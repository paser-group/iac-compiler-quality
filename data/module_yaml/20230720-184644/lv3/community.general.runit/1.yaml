- name: Test community.general.runit module
  hosts: all
  gather_facts: false

  tasks:
    - name: Install community.general.runit module
      ansible.builtin.pip:
        name: community.general.runit

    - name: Enable runit service
      community.general.runit:
        name: myservice
        state: present
        enabled: true
        service_dir: "/etc/sv/"
        service_src: "/path/to/service"

    - name: Disable runit service
      community.general.runit:
        name: myservice
        state: absent
        enabled: false
        service_dir: "/etc/sv/"
        service_src: "/path/to/service"