---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Set network configuration for Ubuntu node
      community.general.interfaces_file:
        dest: /etc/network/interfaces.d/eth0.cfg
        option: dhcp4
        state: present
        unsafe_writes: true
        value: |
          iface eth0 inet dhcp
          dns-nameservers 8.8.8.8
          search: "example.com"

    - name: Set network configuration for Alpine node
      community.general.interfaces_file:
        dest: /etc/network/interfaces.d/eth0.cfg
        option: dhcp4
        state: present
        unsafe_writes: true
        value: |
          iface eth0 inet dhcp
          dns-nameservers 8.8.8.8
          search: "example.com"
          domain-name: "example.com"

    - name: Set network configuration for CentOS node
      community.general.interfaces_file:
        dest: /etc/sysconfig/network-scripts/ifcfg-eth0
        option: DHCP
        state: present
        unsafe_writes: true
        value: |
          BOOTPROTO=DHCP
          DOMAIN="example.com"
          SEARCH="example.com"

...