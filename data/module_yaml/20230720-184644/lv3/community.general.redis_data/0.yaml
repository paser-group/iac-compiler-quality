---
- name: Test playbook for Ansible Redis Data Module
  hosts: localhost
  gather_facts: false

  vars:
    ca_certs: "path/to/ca_certs.pem"
    existing: true
    expiration: 3600
    keep_ttl: true
    key: "test_key"
    login_host: "redis.example.com"
    login_password: "password"
    login_port: 6379
    login_user: "admin"
    non_existing: false
    state: "present"
    tls: true
    validate_certs: true
    value: "test_value"

  tasks:
    - name: Set Redis Data
      community.general.redis_data:
        ca_certs: "{{ ca_certs }}"
        existing: "{{ existing }}"
        expiration: "{{ expiration }}"
        keep_ttl: "{{ keep_ttl }}"
        key: "{{ key }}"
        login_host: "{{ login_host }}"
        login_password: "{{ login_password }}"
        login_port: "{{ login_port }}"
        login_user: "{{ login_user }}"
        non_existing: "{{ non_existing }}"
        state: "{{ state }}"
        tls: "{{ tls }}"
        validate_certs: "{{ validate_certs }}"
        value: "{{ value }}"

    # Test cases
    - name: Test case - Set key with bytes
      community.general.redis_data:
        ca_certs: "{{ ca_certs }}"
        existing: "{{ existing }}"
        expiration: "{{ expiration }}"
        keep_ttl: "{{ keep_ttl }}"
        key: b"bytes_key"
        login_host: "{{ login_host }}"
        login_password: "{{ login_password }}"
        login_port: "{{ login_port }}"
        login_user: "{{ login_user }}"
        non_existing: "{{ non_existing }}"
        state: "{{ state }}"
        tls: "{{ tls }}"
        validate_certs: "{{ validate_certs }}"
        value: b"bytes_value"

    - name: Test case - Set key with string and bytes
      community.general.redis_data:
        ca_certs: "{{ ca_certs }}"
        existing: "{{ existing }}"
        expiration: "{{ expiration }}"
        keep_ttl: "{{ keep_ttl }}"
        key: "mixed_key"
        login_host: "{{ login_host }}"
        login_password: "{{ login_password }}"
        login_port: "{{ login_port }}"
        login_user: "{{ login_user }}"
        non_existing: "{{ non_existing }}"
        state: "{{ state }}"
        tls: "{{ tls }}"
        validate_certs: "{{ validate_certs }}"
        value: b"bytes_value"

    - name: Test case - Set key with bytes and string
      community.general.redis_data:
        ca_certs: "{{ ca_certs }}"
        existing: "{{ existing }}"
        expiration: "{{ expiration }}"
        keep_ttl: "{{ keep_ttl }}"
        key: b"bytes_key"
        login_host: "{{ login_host }}"
        login_password: "{{ login_password }}"
        login_port: "{{ login_port }}"
        login_user: "{{ login_user }}"
        non_existing: "{{ non_existing }}"
        state: "{{ state }}"
        tls: "{{ tls }}"
        validate_certs: "{{ validate_certs }}"
        value: "string_value"