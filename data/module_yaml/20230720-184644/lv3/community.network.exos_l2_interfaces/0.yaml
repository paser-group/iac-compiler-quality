---
- name: Expose latent type-related bugs in Ansible compiler
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure L2 interfaces
      community.network.exos_l2_interfaces:
        config:
          - name: 1
            type: access
            vlan: "10"
          - name: 2
            type: trunk
            trunk_allowed_vlans: "10-20"
        state: "{{ 'merged' | int }}"