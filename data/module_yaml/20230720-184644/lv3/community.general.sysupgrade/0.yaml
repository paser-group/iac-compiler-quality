---
- name: Test playbook for community.general.sysupgrade module
  hosts: all
  gather_facts: false

  vars:
    test_variable: "dummy"
    test_bytes: 'b"\x61\x62\x63"'

  tasks:
    - name: Fetch OS upgrade package
      community.general.sysupgrade:
        fetch_only: "{{ test_variable | bool }}"
        force: 1
        installurl: "{{ test_variable }}"
        keep_files: "{{ test_bytes }}"
        snapshot: "{{ test_variable | bool }}"