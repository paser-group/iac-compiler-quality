---
- name: Test playbook for 'community.general.odbc' module
  hosts: localhost
  gather_facts: false

  vars:
    commit: true
    dsn: my_dsn_name
    query: SELECT * FROM my_table
    params:
      - param1
      - param2

  tasks:
    - name: Configure ODBC connection
      community.general.odbc:
        dsn: "{{ dsn }}"
        query: "{{ query }}"
        params: "{{ params }}"
        commit: "{{ commit }}"
      register: odbc_connection

    - name: Debug ODBC connection output
      debug:
        var: odbc_connection