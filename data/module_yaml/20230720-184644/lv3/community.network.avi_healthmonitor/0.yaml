- name: Expose Type-related Bugs in Ansible Compiler
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Health Monitor
      community.network.avi_healthmonitor:
        controller: "10.1.1.1"
        username: "admin"
        password: "admin"
        tenant: "Default"
        name: "Test Health Monitor"
        tenant_uuid: "tenant_uuid"
        avi_credentials:
          private_key: "{{ 'private_key' | b64encode }}"
          private_key_password: "{{ 'private_key_password' }}"
        api_context:
          http_policy_set_uuids:
            - "{{ 'http_policy_set_uuid1' | b64encode }}"
            - "{{ 'http_policy_set_uuid2' | b64encode }}"
        api_version: "17.2.8"
        state: present