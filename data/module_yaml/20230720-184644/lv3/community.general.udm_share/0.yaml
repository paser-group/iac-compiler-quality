---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create samba share with mixed type values
      community.general.udm_share:
        state: present
        name: mixed_share
        path: /path/to/share
        owner: 1000
        group: users
        directorymode: '0755'
        sambaWriteable: 'no'
        sambaCreateMode: '0644'
        sambaDirectoryMode: '0755'
        sambaSecurityMode: user
        sambaForceGroup: 1001
        sambaForceUser: 'user1'
        sambaWriteList: 'user2, user3'
        sambaHideUnreadable: 'yes'
        sambaHostsAllow: ['10.0.0.0/24', '192.168.1.0/24']
        sambaHostsDeny: ['192.168.2.0/24']

        sambaNtAclSupport: 'yes'
        sambaInheritAcls: 'yes'
        sambaInheritOwner: 'yes'
        sambaInheritPermissions: 'yes'
        sambaOplocks: 'yes'
        sambaLevel2Oplocks: 'no'
        sambaBlockingLocks: 'yes'
        sambaStrictLocking: 'no'
        sambaFakeOplocks: 'yes'
        sambaDosFilemode: 'yes'
        sambaInvalidUsers: 'user4'
        sambaValidUsers: 'user5'
        sambaWriteable: 'yes'
        sambaPublic: 'no'
        sambaBrowseable: 'yes'
        sambaMSDFSRoot: 'no'
        sambaCscPolicy: 'manual'
        sambaBlockSize: '1G'
        sambaForceCreateMode: 'no'
        sambaForceDirectoryMode: 'no'
        sambaForceDirectorySecurityMode: 'no'
        sambaForceSecurityMode: 'no'
        sambaPreexec: '/path/to/preexec'
        sambaPostexec: '/path/to/postexec'
        sambaVFSObjects: vfs_object1
        sambaCustomSettings: ['setting1=value1', 'setting2=value2']
        nfs_hosts: ['10.0.0.10', '10.0.0.20']
        nfsCustomSettings: ['setting3=value3', 'setting4=value4']
      register: result

    - debug:
        var: result