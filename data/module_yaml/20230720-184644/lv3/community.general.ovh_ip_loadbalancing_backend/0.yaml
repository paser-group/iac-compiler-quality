---
- name: Test playbook for 'community.general.ovh_ip_loadbalancing_backend' module
  hosts: localhost
  gather_facts: false

  vars:
    application_key: "my_application_key"
    application_secret: "my_application_secret"
    consumer_key: "my_consumer_key"

  tasks:
    - name: Create test configuration values with bytes and strings
      set_fact:
        backend_config:
          name: "backend_test"
          endpoint: b"10.1.1.1"
          probe: "TCP"
          state: "present"
          timeout: 30
          weight: 1

    - name: Create OVH IP load balancing backend
      community.general.ovh_ip_loadbalancing_backend:
        application_key: "{{ application_key }}"
        application_secret: "{{ application_secret }}"
        consumer_key: "{{ consumer_key }}"
        backend: "{{ backend_config }}"