---
- name: Test Ansible Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    lunid: "123"
    name: 456
    sp_address: 789
    sp_password: 012
    sp_user: 345
    state: true

  tasks:
    - name: Add storage group member
      community.general.emc_vnx_sg_member:
        lunid: "{{ lunid | int }}"
        name: "{{ name | string }}"
        sp_address: "{{ sp_address | string }}"
        sp_user: "{{ sp_user | string }}"
        sp_password: "{{ sp_password | string }}"
        state: "{{ state | bool }}"
      register: result

    - name: Debug output
      debug:
        var: result