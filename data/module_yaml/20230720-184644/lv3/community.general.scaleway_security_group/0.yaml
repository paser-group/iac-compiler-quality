- name: Generate test cases to expose latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_timeout: "10"
    api_token: "my_token"
    api_url: "https://api.example.com"
    description: 10
    inbound_default_policy: 1
    name: "my_security_group"
    organization: 100
    organization_default: true
    outbound_default_policy: 0
    query_parameters:
      parameter1: "value1"
      parameter2: 20
    region: "us-west"
    state: true
    stateful: "yes"
    validate_certs: 0

  tasks:
    - name: Trigger latent type-related bug
      community.general.scaleway_security_group:
        api_timeout: "{{ api_timeout | int }}"
        api_token: "{{ api_token | string }}"
        api_url: "{{ api_url }}"
        description: "{{ description }}"
        inbound_default_policy: "{{ inbound_default_policy }}"
        name: "{{ name }}"
        organization: "{{ organization }}"
        organization_default: "{{ organization_default }}"
        outbound_default_policy: "{{ outbound_default_policy }}"
        query_parameters: "{{ query_parameters }}"
        region: "{{ region }}"
        state: "{{ state }}"
        stateful: "{{ stateful }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - debug:
        var: result