- name: Track code changes with PagerDuty
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create PagerDuty incident
      community.general.pagerduty_change:
        environment: Test Environment
        integration_key: your_integration_key
        link_text: 123456789
        link_url: "https://example.com"
        repo: your_repo
        revision: your_revision
        source: your_source
        summary: True
        url: "https://example.com"
        user: your_user
        validate_certs: yes
      register: result

    - name: Debug PagerDuty incident result
      debug:
        var: result