---
- name: Test playbook for community.general.awall
  hosts: localhost
  gather_facts: false
  tasks:
  
  - name: Create configuration values with bytes and strings
    set_fact:
      activate: true
      name: ['test-rule1', 'test-rule2']
      state: 'present'
  
  - name: Configure firewall rules using community.general.awall
    community.general.awall:
      activate: "{{ activate }}"
      name: "{{ name }}"
      state: "{{ state }}"
    register: result
  
  - name: Debug result
    debug:
      var: result