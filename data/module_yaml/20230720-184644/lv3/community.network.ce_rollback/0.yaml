---
- name: Test Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set checkpoint or rollback on HUAWEI device
      community.network.ce_rollback:
        action: "{{ my_action }}"
        commit_id: "{{ my_commit_id }}"
        filename: "{{ my_filename }}"
        label: "{{ my_label }}"
        last: "{{ my_last }}"
        oldest: "{{ my_oldest }}"
      register: rollback_result

    - name: Debug rollback result
      debug:
        var: rollback_result