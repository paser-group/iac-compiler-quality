---
- name: Test playbook for hwc_network_vpc module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC configuration
      community.general.hwc_network_vpc:
        credentials:
          identity_endpoint: "https://identity.api.rackspacecloud.com/v2.0"
          username: "{{ username }}"
          password: "{{ password }}"
          project: "{{ project }}"
        state: "{{ state }}"
        cidr: "10.0.0.x/24"  # Intentionally invalid CIDR to trigger a bug
        name: "my-vpc"
        region: "DFW"
        timeouts:
          create: 600
          delete: 300