---
- name: Test playbook for community.network.ce_ntp_auth
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Configure NTP authentication
      community.network.ce_ntp_auth:
        auth_mode: "{{ my_auth_mode }}"
        auth_pwd: "{{ my_auth_pwd }}"
        auth_type: "{{ my_auth_type }}"
        authentication:
          - key_id: None
            trusted_key: None
            state: None
        provider:
          host: "{{ inventory_hostname }}"
          username: admin
          password: password
          authorize: yes
          auth_pass: password

      vars:
        my_auth_mode: "none".encode()
        my_auth_pwd: "secret".encode()
        my_auth_type: "md5".encode()