---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  vars:
    account_properties: 
      bytes_property: b'Hello World'
      str_property: 'Hello World'
    auth_token: '1a2b3c4d5e'
    baseuri: 'https://example.com'
    bios_attributes: 
      bytes_attribute: b'attribute'
      str_attribute: 'attribute'
    boot_next: 'boot'
    boot_override_mode: 'legacy'
    bootdevice: 'disk'
    category: 'category'
    command: 
      - 'command1'
      - 'command2'
    id: '1234'
    new_password: 'new_password'
    new_username: 'new_username'
    password: 'password'
    resource_id: '5678'
    roleid: 'role_id'
    session_uri: 'https://example.com/session'
    strip_etag_quotes: true
    timeout: 60
    uefi_target: 'uefi'
    update_apply_time: 'immediate'
    update_creds: 
      bytes_username: b'admin'
      str_username: 'admin'
      bytes_password: b'password'
      str_password: 'password'
    update_handle: 'handle'
    update_image_uri: 'https://example.com/image'
    update_protocol: 'http'
    update_targets: 
      - 'target1'
      - 'target2'
    update_username: 'admin'
    username: 'admin'
    virtual_media: 
      bytes_uri: b'https://example.com/media'
      str_uri: 'https://example.com/media'

  tasks:
    - name: Test Playbook
      community.general.redfish_command:
        account_properties: "{{ account_properties }}"
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        bios_attributes: "{{ bios_attributes }}"
        boot_next: "{{ boot_next }}"
        boot_override_mode: "{{ boot_override_mode }}"
        bootdevice: "{{ bootdevice }}"
        category: "{{ category }}"
        command: "{{ command }}"
        id: "{{ id }}"
        new_password: "{{ new_password }}"
        new_username: "{{ new_username }}"
        password: "{{ password }}"
        resource_id: "{{ resource_id }}"
        roleid: "{{ roleid }}"
        session_uri: "{{ session_uri }}"
        strip_etag_quotes: "{{ strip_etag_quotes }}"
        timeout: "{{ timeout }}"
        uefi_target: "{{ uefi_target }}"
        update_apply_time: "{{ update_apply_time }}"
        update_creds: "{{ update_creds }}"
        update_handle: "{{ update_handle }}"
        update_image_uri: "{{ update_image_uri }}"
        update_protocol: "{{ update_protocol }}"
        update_targets: "{{ update_targets }}"
        update_username: "{{ update_username }}"
        username: "{{ username }}"
        virtual_media: "{{ virtual_media }}"
      register: result

    - name: Debug Result
      debug:
        var: result