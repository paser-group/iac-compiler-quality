---
- name: Test playbook for community.general.sysrc module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set sysrc value (bytes)
      community.general.sysrc:
        name: myconfig
        value: "myvalue".encode()
        state: present
      register: result_bytes

    - name: Debug sysrc (bytes)
      debug:
        msg: "Bytes: {{ result_bytes.stdout | from_yaml }}"

    - name: Set sysrc value (string)
      community.general.sysrc:
        name: myconfig
        value: "myvalue"
        state: present
      register: result_string

    - name: Debug sysrc (string)
      debug:
        msg: "String: {{ result_string.stdout | from_yaml }}"