---
- name: Test playbook for community.general.pritunl_org_info module
  hosts: localhost
  gather_facts: false

  vars:
    organization: "myorg"
    pritunl_api_secret: "mysecretkey"
    pritunl_api_token: "mytoken"
    pritunl_url: "https://pritunl.example.com"
    validate_certs: False

  tasks:
    - name: List Pritunl Organizations
      community.general.pritunl_org_info:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        validate_certs: "{{ validate_certs | bool }}"
      register: result

    - name: Print Result
      debug:
        var: result