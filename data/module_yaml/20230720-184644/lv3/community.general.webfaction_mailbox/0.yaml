- name: Create mailbox with mixed bytes and strings configurations
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add mailbox with mixed configurations
      community.general.webfaction_mailbox:
        login_name: "{{ 'admin' | b64encode }}"
        login_password: "{{ 'password' }}"
        mailbox_name: "{{ 'mailbox1' }}"
        mailbox_password: "{{ 'mailboxpass1' }}"
        state: present
      register: result

    - debug:
        var: result

    - name: Remove mailbox
      community.general.webfaction_mailbox:
        login_name: "{{ 'admin' | b64encode }}"
        login_password: "{{ 'password' }}"
        mailbox_name: "{{ 'mailbox1' }}"
        state: absent
      register: result

    - debug:
        var: result