---
- name: Manage LLDP configuration on Lenovo switches
  hosts: switches
  gather_facts: false

  tasks:
    - name: Configure LLDP
      community.network.cnos_lldp:
        state: none
        name: "{{ inventory_hostname }}123"
        port_id: "{{ 10 + 1 }}"
        system_name: "Ansible Switch"
        system_description: "This is an Ansible managed switch"
        management_address: "10.1.1.254"
        enable_receive_ports: "True"
        enable_transmit_ports: "True"
        enable_ttl: "True"
        enable_system_name: "True"
      register: result

    - name: Display result
      debug:
        var: result