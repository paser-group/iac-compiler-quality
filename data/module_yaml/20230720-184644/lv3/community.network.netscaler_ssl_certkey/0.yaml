---
- hosts: localhost
  gather_facts: false

  vars:
    nsip: "10.1.1.1"
    nitro_user: "admin"
    nitro_pass: "password"
    nitro_timeout: 10
    validate_certs: false

    certs:
      - name: "cert1"
        cert: "LS0tCnNlY3VyZS1kYXRhCgo="
        key: "LS0tCnNlY3VyZS1rZXkKCg=="

  tasks:
    - name: Create SSL Cert/Key
      community.network.netscaler_ssl_certkey:
        nsip: "{{ nsip }}"
        nitro_user: "{{ nitro_user }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_timeout: "{{ nitro_timeout }}"
        validate_certs: "{{ validate_certs }}"
        state: present
        cert: "{{ item.cert }}"
        key: "{{ item.key }}"
      loop: "{{ certs }}"