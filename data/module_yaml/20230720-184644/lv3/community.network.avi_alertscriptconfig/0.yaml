---
- name: Test Ansible playbook for community.network.avi_alertscriptconfig
  hosts: localhost
  gather_facts: False

  vars:
    action_script: null
    api_context:
      api_version: "17.2.7"
    avi_credentials:
      username: admin
      password: my_password
      controller: 10.0.0.1
    avi_disable_session_cache_as_fact: false
    controller: 10.0.0.1
    tenant: admin
    tenant_uuid: "e7a336d7-1976-4fa6-98fd-8aee72917da0"
    username: admin

  tasks:
    - name: Configure AlertScriptConfig with byte and string values
      community.network.avi_alertscriptconfig:
        action_script: !binary |
          cHJpbnQgImhlbGxvIg==
        api_context: "{{ api_context }}"
        avi_credentials: "{{ avi_credentials }}"
        avi_disable_session_cache_as_fact: "{{ avi_disable_session_cache_as_fact }}"
        controller: "{{ controller }}"
        name: "{{ 'Test' }}"
        password: !binary |
          bXlfcGFzc3dvcmQ=
        state: "{{ None }}"
        tenant: "{{ tenant }}"
        tenant_ref: !binary |
          ZXNhZG1pbg==
        tenant_uuid: !binary |
          ZTdhMzM2ZDctMTk3Ni00ZmE2LTk4ZmQtOGFlZTcyOTE3ZGEw
        url: "{{ None }}"
        username: "{{ username }}"
        uuid: !binary |
          YTlhOTcyN2EtYjYyNy00OTY1LTg2Y2MtMWQ2ZmJiNWYzZmEy"

      register: result

    - debug:
        var: result