---
- name: Test Ansible module for Keycloak client authorization scopes
  hosts: localhost
  connection: local
  gather_facts: false

  tasks:
    - name: Create Keycloak client authorization scope
      community.general.keycloak_authz_authorization_scope:
        auth_client_id: "admin-cli"
        auth_client_secret: "admin-cli-secret"
        auth_keycloak_url: "http://localhost:8080/auth"
        auth_password: "admin-password"
        auth_realm: "master"
        auth_username: "admin"
        client_id: "my-client"
        connection_timeout: 10
        display_name: "Test Scope"
        http_agent: "Python-urllib/Ansible"
        icon_uri: "http://localhost:8080/icons/my-scope.png"
        name: "my-scope"
        realm: "master"
        state: "present"
        token: "admin-token"
        validate_certs: true

      register: result

    - name: Display Result
      debug:
        var: result