- name: Test systemd module for type-related bugs
  hosts: all
  gather_facts: false
  vars:
    my_service_name: "myservice"
    my_service_masked: b"yes"    # Bytes data type
    my_service_enabled: yes      # Boolean data type

  tasks:
    - name: Check systemd service
      systemd:
        name: "{{ my_service_name }}"
        state: started
  
    - name: Set masked property
      systemd:
        name: "{{ my_service_name }}"
        masked: "{{ my_service_masked }}"
      
    - name: Enable systemd service
      systemd:
        name: "{{ my_service_name }}"
        enabled: "{{ my_service_enabled }}"