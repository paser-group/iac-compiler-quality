---
- name: Test playbook for community.general.iso_extract
  hosts: localhost
  gather_facts: false

  vars:
    iso_file_path: "/path/to/iso/image.iso"
    dest_path_bytes: "/path/to/extracted/files_bytes"
    dest_path_string: "/path/to/extracted/files_string"

  tasks:
    - name: Extract files using dest(path) attribute as bytes
      community.general.iso_extract:
        image: "{{ iso_file_path }}"
        dest: "{{ dest_path_bytes|to_bytes }}"
        executable: "/path/to/7z"
        files:
          - file1.txt
          - file2.txt
        force: yes
      become: true
      become_user: root
      register: extract_result_bytes

    - name: Extract files using dest(path) attribute as string
      community.general.iso_extract:
        image: "{{ iso_file_path }}"
        dest: "{{ dest_path_string }}"
        executable: "/path/to/7z"
        files:
          - file1.txt
          - file2.txt
        force: no
      become: true
      become_user: root
      register: extract_result_string

    - name: Display the results
      debug:
        var: extract_result_bytes
      debug:
        var: extract_result_string