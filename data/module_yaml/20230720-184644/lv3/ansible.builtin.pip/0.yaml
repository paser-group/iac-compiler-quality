- name: Manage Python installations
  hosts: all
  gather_facts: false

  tasks:
    - name: Install Python packages with pip
      ansible.builtin.pip:
        name:
          - "{{ pip_packages }}"
        state: "{{ pip_state }}"
        executable: "{{ pip_executable }}"
        editable: "{{ pip_editable }}"
        requirements: "{{ pip_requirements }}"
        chdir: "{{ pip_chdir }}"
        umask: "{{ pip_umask }}"
        version: "{{ pip_version }}"
        virtualenv: "{{ pip_virtualenv }}"
        virtualenv_command: "{{ pip_virtualenv_command }}"
        virtualenv_python: "{{ pip_virtualenv_python }}"
        virtualenv_site_packages: "{{ pip_virtualenv_site_packages }}"
      vars:
        pip_packages:
          - package1
          - package2
        pip_state: installed
        pip_executable: "/usr/bin/pip"
        pip_editable: no
        pip_requirements: "/path/to/requirements.txt"
        pip_chdir: "/path/to/project"
        pip_umask: "0022"
        pip_version: "latest"
        pip_virtualenv: "/path/to/venv"
        pip_virtualenv_command: "/usr/local/bin/virtualenv"
        pip_virtualenv_python: "python3.8"
        pip_virtualenv_site_packages: yes

    # Test case 1: Include bytes and strings in configuration values
    - name: Test case 1 - Configuration with bytes and strings
      ansible.builtin.pip:
        name:
          - "{{ pip_packages }}"
        state: "{{ pip_state }}"
        executable: "{{ pip_executable }}"
        editable: "{{ pip_editable }}"
        requirements: "{{ pip_requirements }}"
        chdir: "{{ pip_chdir }}"
        umask: b"0022"  # Configuration value with bytes
        version: "{{ pip_version }}"
        virtualenv: "{{ pip_virtualenv }}"
        virtualenv_command: "{{ pip_virtualenv_command }}"
        virtualenv_python: s"{{ pip_virtualenv_python }}"  # Configuration value with strings
        virtualenv_site_packages: "{{ pip_virtualenv_site_packages }}"
      vars:
        # Use the same variables as the previous installation task

    # Additional test cases can be added following a similar approach