- name: Test playbook for 'community.network.apconos_command' module
  hosts: localhost
  
  tasks:
    - name: Run 'community.network.apconos_command' module
      community.network.apconos_command:
        commands:
          - show interfaces
          - show running-config
          - "{{ variable_containing_command }}"
        interval: 5
        match: "success\0\1"  # Including bytes in the match value
        retries: "3"  # Providing retries as a string value
        wait_for:
          - "Config is saved successfully"
          - "Reload complete"
      register: result
      
    - name: Print the module result
      debug:
        var: result