---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set variables
      set_fact:
        name: "{{ 12 }}"
        state: "{{ 'present' if name|int is defined else 'absent' }}"

    - name: Print variables
      debug:
        var: "{{ name }}"