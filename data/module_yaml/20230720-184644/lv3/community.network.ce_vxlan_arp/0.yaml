---
- name: Test for latent type-related bugs in community.network.ce_vxlan_arp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set VXLAN ARP attributes
      community.network.ce_vxlan_arp:
        arp_collect_host: "{{ None }}"
        arp_suppress: "{{ None }}"
        bridge_domain_id: "{{ None }}"
        evn_bgp: "{{ None }}"
        evn_peer_ip: "{{ None }}"
        evn_reflect_client: "{{ None }}"
        evn_server: "{{ None }}"
        evn_source_ip: "{{ None }}"
        host_collect_protocol: "{{ None }}"
        state: "{{ None }}"
        vbdif_name: "{{ None }}"

      vars:
        # Custom test values incorporating bytes and strings
        arp_collect_host: "none"
        arp_suppress: "none"
        bridge_domain_id: "bd01"
        evn_bgp: "bgp01"
        evn_peer_ip: "10.0.0.1"
        evn_reflect_client: "false"
        evn_server: "server01"
        evn_source_ip: "10.0.0.2"
        host_collect_protocol: "tcp"
        state: "present"
        vbdif_name: "vxlan1"

      register: result

    - name: Debug module output
      debug:
        var: result