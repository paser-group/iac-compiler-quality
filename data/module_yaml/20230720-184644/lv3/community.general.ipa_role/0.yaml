- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Install community.general collection
      ansible.builtin.command: ansible-galaxy collection install community.general
      
    - name: Include ipa_role module
      import_role:
        name: community.general.ipa_role
        tasks_from: main.yml

    - name: Execute ipa_role module
      community.general.ipa_role:
        cn: "{{ 'Test User' }}"
        description: "{{ b'Test Description' }}"  # Incorporating bytes
        group: "{{ ['group1'] }}"
        host: "{{ ['host1.example.com'] }}"
        hostgroup: "{{ ['hg1'] }}"
        ipa_host: "{{ 'ipa.example.com' }}"
        ipa_pass: "{{ 'password' }}"
        ipa_port: "{{ 443 }}"  # Incorporating integer
        ipa_prot: "{{ 'https' }}"
        ipa_timeout: "{{ 30 }}"
        ipa_user: "{{ 'admin' }}"
        privilege: "{{ ['priv1'] }}"
        service: "{{ ['srv1'] }}"
        state: "{{ 'present' }}"
        user: "{{ ['user1'] }}"
        validate_certs: "{{ true }}"  # Incorporating boolean
      register: result

    - name: Display result
      debug:
        var: result