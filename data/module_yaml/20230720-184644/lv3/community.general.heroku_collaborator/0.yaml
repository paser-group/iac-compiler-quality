---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the heroku_collaborator module
      include_role:
        name: community.general.heroku_collaborator
    
    - name: Test - Add app collaborator with mixed bytes and strings as configuration values
      community.general.heroku_collaborator:
        api_key: "{{ ['api_key1'] | random }}"
        apps: 
          - "{{ ['app1', 'app2'] | random }}"
          - "{{ ['app3', 'app4'] | random }}"
        state: "{{ ['present', 'absent'] | random }}"
        suppress_invitation: "{{ [true, false] | random }}"
        user: "{{ ['user1', 'user2'] | random }}"
      register: result

    - name: Debug test result
      debug:
        var: result