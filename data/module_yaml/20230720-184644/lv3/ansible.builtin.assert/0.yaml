---
- name: Ansible Latent Type-Related Bug Finder
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test Case 1 - Bytes and Strings
      assert:
        that:
          - item|type_debug == 'bytes'
        fail_msg: "'{{ item }}' is not of type 'bytes'"
      loop:
        - "string"
        - b"bytes"

    - name: Test Case 2 - Bytes and Strings
      assert:
        that:
          - item|type_debug == 'str'
        fail_msg: "'{{ item }}' is not of type 'str'"
      loop:
        - "string"
        - b"bytes"