---
- name: Import Java certificate
  hosts: localhost
  gather_facts: false

  vars:
    cert_alias: test_cert
    cert_path: /path/to/certificate.crt
    cert_port: "443"
    cert_url: "example.com"
    executable: "{{ 'keytool'.encode('utf-8') }}"
    keystore_create: True
    keystore_pass: "{{ 'mypass'.encode('utf-8') }}"
    keystore_path: /path/to/keystore.jks
    keystore_type: "{{ 'JKS'.encode('utf-8') }}"
    pkcs12_alias: pkcs12_cert
    pkcs12_password: "{{ 'pkcs12pass'.encode('utf-8') }}"
    pkcs12_path: /path/to/pkcs12.p12
    state: present
    trust_cacert: true

  tasks:
    - name: Import certificate
      community.general.java_cert:
        cert_alias: "{{ cert_alias }}"
        cert_path: "{{ cert_path }}"
        cert_port: "{{ cert_port }}"
        cert_url: "{{ cert_url }}"
        executable: "{{ executable.decode('utf-8') }}"
        keystore_create: "{{ keystore_create }}"
        keystore_pass: "{{ keystore_pass.decode('utf-8') }}"
        keystore_path: "{{ keystore_path }}"
        keystore_type: "{{ keystore_type.decode('utf-8') }}"
        pkcs12_alias: "{{ pkcs12_alias }}"
        pkcs12_password: "{{ pkcs12_password.decode('utf-8') }}"
        pkcs12_path: "{{ pkcs12_path }}"
        state: "{{ state }}"
        trust_cacert: "{{ trust_cacert }}"