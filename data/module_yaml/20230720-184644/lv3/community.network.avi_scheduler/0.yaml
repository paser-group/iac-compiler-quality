---
- name: Test playbook for exposing latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Include Avi Scheduler module
      ansible.builtin.include_role:
        name: community.network.avi_scheduler
      vars:
        avi_credentials:
          controller: "{{ controller }}"
          username: "{{ username }}"
          password: "{{ password }}"
          tenant: "{{ tenant }}"
          tenant_uuid: "{{ tenant_uuid }}"

        name: "Test Name"
        enabled: true
        tenant_ref: ""
        api_context: null
        api_version: 1.0
        avi_disable_session_cache_as_fact: 1
        backup_config_ref: null
        run_mode: [1, 2, 3]
        run_script_ref: "{{ item }}"
        start_date_time: "2022-01-01"
        end_date_time: 123
        frequency: "60 minutes"
        frequency_unit: 2
        scheduler_action: false