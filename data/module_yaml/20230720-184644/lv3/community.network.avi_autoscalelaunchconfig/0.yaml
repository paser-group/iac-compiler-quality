---
- name: Test playbook for avi_autoscalelaunchconfig module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create AutoscaleLaunchConfig with mixed data types
      community.network.avi_autoscalelaunchconfig:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        api_context: "{{ [{key: 'key1', value: 'value1', secure: false}] }}"
        avi_credentials: "{{ [{username: '{{ username }}', password: '{{ password }}'}] }}"
        avi_disable_session_cache_as_fact: false
        name: "my_autoscale_launch_config"
        description: null
        tenant_uuid: "tenant_uuid"
        uuid: "launch_config_123"
        api_version: "17.2.4"
        use_external_asg: true

    - name: Verify AutoscaleLaunchConfig creation
      community.network.avi_autoscalelaunchconfig_info:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "my_autoscale_launch_config"
      register: launch_config_info

    - name: Print AutoscaleLaunchConfig details
      debug:
        var: launch_config_info