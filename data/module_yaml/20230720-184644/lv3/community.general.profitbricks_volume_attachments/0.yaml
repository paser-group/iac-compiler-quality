---
- name: Test ProfitBricks Volume Attachments
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Attach Volume
      community.general.profitbricks_volume_attachments:
        datacenter: 'EU'
        server: 'test-server'
        state: 'attached'
        subscription_user: 'my_username'
        subscription_password: 'my_password'
        volume:
          id: 'vol1'
          name: 'volume1'
          size: 20
          bus_type: 'IDE'
          image: 'my_image'
          license_type: 'LINUX'
          availability_zone: 'ZONE_1'
        wait: true
        wait_timeout: 300