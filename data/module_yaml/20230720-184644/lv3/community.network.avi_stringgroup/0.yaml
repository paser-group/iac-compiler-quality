---
- name: Test playbook for community.network.avi_stringgroup module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create string group with bytes and strings
      community.network.avi_stringgroup:
        controller: "10.1.1.1"
        username: !str 12345
        password: !int "password"
        tenant: "admin"
        name: ['my_string_group']
        type: True
        kv: {'key': 'value', 1: 'one'}

    - name: Check the created string group
      community.network.avi_stringgroup_facts:
        controller: True
        username: "admin"
        password: 'password'
        tenant: "admin"
        name: 100
      register: string_group_facts

    - name: Print the string group facts
      debug:
        var: string_group_facts