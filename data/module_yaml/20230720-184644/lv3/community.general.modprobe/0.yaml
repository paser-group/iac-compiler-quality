- name: Test Ansible modprobe module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Load modprobe module with bytes values
      community.general.modprobe:
        name: "{{ lookup('pipe', 'echo -ne \\\\x7f\\\\x45\\\\x4c\\\\x46') }}"
        params: "{{ lookup('pipe', 'echo -ne my_module_path') }}"
        persistent: "yes"
        state: "present"