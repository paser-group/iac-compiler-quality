---
- hosts: localhost
  gather_facts: false

  tasks:
    - name: Install required package bind-utils
      apt:
        name: bind-utils
        state: present
      become: true
      when: ansible_distribution == 'Ubuntu'

    - name: Configure DNS record with mixed-type data
      community.general.nsupdate:
        server: 10.1.1.1
        zone: example.com
        key_algorithm: hmac-md5
        key_name: "dns-key-1"
        key_secret: "dns-secret-1"
        port: 53
        protocol: udp
        state: present
        ttl: 3600
        record: mixed
        type: TXT
        value:
          - "This is a text string"
          - 12345
        validate: no