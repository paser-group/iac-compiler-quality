---
- name: Install packages using portinstall module
  hosts: localhost
  gather_facts: False
  
  tasks:
    - name: Install packages
      community.general.portinstall:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      loop:
        - { name: "package1", state: "present" }
        - { name: "package2", state: "present" }
        - { name: "package3", state: "absent" }
        - { name: "package4", state: "absent" }
        - { name: "package5", state: 1 }