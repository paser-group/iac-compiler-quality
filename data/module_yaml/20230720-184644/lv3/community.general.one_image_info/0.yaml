- name: Gather One image info
  hosts: localhost
  gather_facts: false

  vars:
    api_url: "https://api.example.com"   # An example URL as a string
    api_username: "admin"                # An example username as a string
    api_password: b"$3cr3tP@ssw0rd"      # An example password as bytes

    # An example list of image IDs with a mix of strings and bytes
    image_ids:
      - "image1"
      - b"image2"
      - "image3"
      - b"image4"

  tasks:
    - name: Gather image info
      community.general.one_image_info:
        api_url: "{{ api_url }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        ids: "{{ image_ids }}"
        name: "my_image"
      register: image_info

    - name: Debug image info
      debug:
        var: image_info