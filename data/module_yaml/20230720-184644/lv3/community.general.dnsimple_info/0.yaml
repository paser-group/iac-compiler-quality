---
- name: Test playbook for community.general.dnsimple_info module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Include dnsimple_info module
      ansible.builtin.include_role:
        name: community.general.dnsimple_info

    - name: Test with bytes in configuration
      community.general.dnsimple_info:
        account_id: "12345"
        api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64326636613332393234376130306332343630636366626162333934646662323037353531303136
        name: b'Domain'
        record: b'TestRecord'
        sandbox: false
      register: dns_info

    - name: Test with strings in configuration
      community.general.dnsimple_info:
        account_id: "12345"
        api_key: "my_api_key"
        name: "Domain"
        record: "TestRecord"
        sandbox: true
      register: dns_info

    - name: Print the dns_info
      debug:
        var: dns_info