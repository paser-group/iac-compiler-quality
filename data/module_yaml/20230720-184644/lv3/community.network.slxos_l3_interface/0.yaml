- name: Test playbook for 'community.network.slxos_l3_interface' module
  hosts: localhost
  gather_facts: False

  vars:
    l3_interfaces:
      - name: ethernet1
        ipv4: 192.168.0.1/24
        ipv6: 2001:db8::1/64
        aggregate: "{{ bytes(1024) }}"

  tasks:
    - name: Configure L3 interfaces
      community.network.slxos_l3_interface:
        name: "{{ item.name }}"
        ipv4: "{{ item.ipv4 }}"
        ipv6: "{{ item.ipv6 }}"
        aggregate: "{{ item.aggregate | default('None') }}"
        state: present
      loop: "{{ l3_interfaces }}"