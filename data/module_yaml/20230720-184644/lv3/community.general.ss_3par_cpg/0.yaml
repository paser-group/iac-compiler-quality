- name: Test community.general.ss_3par_cpg module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create CPG with mixed byte and string values
      community.general.ss_3par_cpg:
        storage_system_ip: "10.1.1.1"
        storage_system_username: "admin"
        storage_system_password: "password"
        state: "present"
        cpg_name: "cpg1"
        disk_type: "SSD"
        domain: "20:00:00:02:AC:00:1B:AD"
        growth_increment: "1.5 GB"  # This value includes both bytes and string
        growth_limit: "2 TB"  # This value includes both bytes and string
        growth_warning: "80 %"  # This value includes both bytes and string
        high_availability: "true"
        raid_type: "RAID6"
        secure: true
        set_size: 8

    - name: Modify CPG with mixed byte and string values
      community.general.ss_3par_cpg:
        storage_system_ip: "10.1.1.1"
        storage_system_username: "admin"
        storage_system_password: "password"
        state: "present"
        cpg_name: "cpg1"
        disk_type: "FC"  # This value is only a string
        domain: "20:00:00:02:AC:00:1B:AD"
        growth_increment: "1 TB"  # This value includes both bytes and string
        growth_limit: "2.5 GB"  # This value includes both bytes and string
        growth_warning: "90 %"  # This value includes both bytes and string
        high_availability: "false"
        raid_type: "RAID5"
        secure: true
        set_size: 16

    - name: Remove CPG
      community.general.ss_3par_cpg:
        storage_system_ip: "10.1.1.1"
        storage_system_username: "admin"
        storage_system_password: "password"
        state: "absent"
        cpg_name: "cpg1"