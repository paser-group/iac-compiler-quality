---
- name: Create a web application on WebFaction
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Add or remove applications
      community.general.webfaction_app:
        machine: "{{ machine }}"
        login_name: "{{ login_name }}"
        login_password: "{{ login_password }}"
        name: "{{ app_name }}"
        type: "{{ app_type }}"
        state: "{{ app_state }}"
        port_open: "{{ port_open }}"
        autostart: "{{ autostart }}"
        extra_info: "{{ extra_info }}"
      vars:
        machine: "{{ webfaction_machine | string }}"
        login_name: "{{ webfaction_login_name | b }}"
        login_password: "{{ webfaction_login_password }}"
        app_name: "my_app"
        app_type: b"app_type"
        app_state: "present"
        port_open: true
        autostart: b"true"
        extra_info: "Some extra info"