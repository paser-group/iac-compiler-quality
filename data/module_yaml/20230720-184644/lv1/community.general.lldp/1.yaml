---
- name: Ansible Latent Type-Related Bug Explorer
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install lldpd package on target nodes
      apt:
        name: lldpd
        state: present
      when: ansible_distribution == 'Ubuntu'

    - name: Install lldpd package on target nodes
      apk:
        name: lldpd
        state: present
      when: ansible_distribution == 'Alpine'

    - name: Install lldpd package on target nodes
      yum:
        name: lldpd
        state: present
      when: ansible_distribution in ['CentOS', 'Red Hat Enterprise Linux']

    - name: Configure lldpd on all nodes
      community.general.lldp:
        interface: Eth0
      register: lldp_output

    - name: Print lldp_output
      debug:
        var: lldp_output