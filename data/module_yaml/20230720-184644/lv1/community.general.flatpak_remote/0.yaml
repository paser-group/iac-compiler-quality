---
- name: Test playbook for flatpak_remote module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Install flatpak
      package:
        name: flatpak
        state: present

    - name: Add flatpak remote repository
      community.general.flatpak_remote:
        name: Example Repo
        state: present
        enabled: yes
        executable: /path/to/flatpak
        flatpakrepo_url: https://example.com/repo
        method: https

    - name: Challenge mixed case sensitivity for string configuration values
      vars:
        mixed_case_repo_name: "{{ 'ExAmPlE rEpO' | upper }}"
      community.general.flatpak_remote:
        name: "{{ mixed_case_repo_name }}"
        state: present
        enabled: yes
        executable: /path/to/flatpak
        flatpakrepo_url: https://example.com/repo
        method: https

    - name: Remove flatpak remote repository
      community.general.flatpak_remote:
        name: Example Repo
        state: absent