---
- name: Gather facts from network devices
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Gather facts using community.network.exos_facts module
      community.network.exos_facts:
        gather_network_resources: "{{ gather_network_resources }}"
        gather_subset: "{{ gather_subset }}"
      vars:
        gather_network_resources:
          - interfaces
          - vlans
        gather_subset:
          - hardware
          - config

    - name: Display gathered facts
      debug:
        var: ansible_facts