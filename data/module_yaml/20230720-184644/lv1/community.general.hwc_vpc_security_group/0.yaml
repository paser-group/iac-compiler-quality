---
- name: Create VPC Security Group
  hosts: localhost
  gather_facts: false

  vars:
    domain: "example_domain"
    enterprise_project_id: "example_project_id"
    id: "example_id"
    identity_endpoint: "https://example_identity_endpoint.com"
    name: "my_security_group"
    password: "example_password"
    project: "example_project"
    region: "example_region"
    state: "present"
    user: "example_user"
    vpc_id: "example_vpc_id"

  tasks:
    - name: Create VPC Security Group
      community.general.hwc_vpc_security_group:
        domain: "{{ domain }}"
        enterprise_project_id: "{{ enterprise_project_id }}"
        id: "{{ id }}"
        identity_endpoint: "{{ identity_endpoint }}"
        name: "{{ NAME }}"    # Intentional mixed case sensitivity for the variable
        password: "{{ password }}"
        project: "{{ project }}"
        region: "{{ REGION }}"    # Intentional mixed case sensitivity for the variable
        state: "{{ state }}"
        user: "{{ user }}"
        vpc_id: "{{ vpc_id }}"
      register: result

    - name: Debug result
      debug:
        var: result