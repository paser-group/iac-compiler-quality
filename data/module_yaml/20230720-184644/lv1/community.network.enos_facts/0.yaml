---

- name: Test playbook for enos_facts module
  hosts: localhost
  gather_facts: false
  tasks:

    - name: Collect facts from remote device
      community.network.enos_facts:
        host: "{{ ansible_host }}"
        username: "{{ ansible_user }}"
        password: "{{ auth_pass }}"
        authorize: "{{ authorize }}"
        gather_subset: "{{ gather_subset }}"
      register: enos_facts

    - name: Debug enos_facts output
      debug:
        var: enos_facts