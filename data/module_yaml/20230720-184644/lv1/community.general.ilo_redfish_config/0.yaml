- name: Set or update configuration attributes on HPE iLO
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set attribute value
      community.general.ilo_redfish_config:
        baseuri: "https://{{ ilo_hostname }}"
        username: "{{ ilo_username }}"
        password: "{{ ilo_password }}"
        auth_token: "{{ ilo_auth_token }}"
        category: "{{ ilo_category }}"
        attribute_name: "{{ ilo_attribute_name }}"
        attribute_value: "{{ ilo_attribute_value }}"
        timeout: "{{ ilo_timeout }}"
      vars:
        ilo_hostname: "ilo.example.com"
        ilo_username: "admin"
        ilo_password: "password"
        ilo_auth_token: "abcdef123456"
        ilo_category: "system"
        ilo_attribute_name: "power_state"
        ilo_attribute_value: "On"
        ilo_timeout: 30