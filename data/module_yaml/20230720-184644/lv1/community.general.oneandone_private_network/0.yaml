---
- name: Test playbook for Ansible latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_url: "https://api.1and1.com/v1"
    auth_token: "<YOUR_AUTH_TOKEN>"
    datacenter: "US"
    private_network: "myNetwork"
    name: "My Network"
    description: "This is my network"
    network_address: "10.1.1.0"
    subnet_mask: "24"
    add_members: ["ubuntu1", "ALPINE1"]

  tasks:
    - name: Create private network with mixed case sensitivity
      community.general.oneandone_private_network:
        api_url: "{{ api_url }}"
        auth_token: "{{ auth_token }}"
        datacenter: "{{ datacenter }}"
        private_network: "{{ private_network }}"
        name: "{{ name }}"
        description: "{{ description }}"
        network_address: "{{ network_address }}"
        subnet_mask: "{{ subnet_mask }}"
        add_members: "{{ add_members }}"
      register: network_result

    - name: Display network creation result
      debug:
        var: network_result