---
- name: Test playbook for the community.network.icx_system module
  hosts: switches
  gather_facts: no

  tasks:
    - name: Manage system attributes
      community.network.icx_system:
        aaa_servers:
          - 192.168.1.1
          - 192.168.1.2
        check_running_config: yes
        domain_name: ansible.local
        domain_search: [ansible.local, example.com]
        hostname: switch01
        name_servers:
          - 8.8.8.8
          - 8.8.4.4
        state: present
      register: system_attr_result

    - name: Debug system attribute result
      debug:
        var: system_attr_result

    # Test case 1: Mixed case sensitivity for domain_name
    - name: Test Case 1 - Mixed case sensitivity for domain_name
      community.network.icx_system:
        domain_name: ANSIBLE.LOCAL
        state: present
      register: test_case1_result

    - name: Debug test case 1 result
      debug:
        var: test_case1_result

    # Test case 2: Mixed case sensitivity for domain_search
    - name: Test Case 2 - Mixed case sensitivity for domain_search
      community.network.icx_system:
        domain_search: [ANSIBLE.LOCAL, EXAMPLE.COM]
        state: present
      register: test_case2_result

    - name: Debug test case 2 result
      debug:
        var: test_case2_result