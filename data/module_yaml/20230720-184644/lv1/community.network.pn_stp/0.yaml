---
- name: Test playbook for community.network.pn_stp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Spanning Tree Protocol
      community.network.pn_stp:
        pn_bpdus_bridge_ports: FALSE
        pn_bridge_id: "Bridge1"
        pn_bridge_priority: "128"
        pn_cliswitch: "switch1"
        pn_enable: Yes
        pn_forwarding_delay: 15
        pn_hello_time: "2"
        pn_max_age: no
        pn_mst_config_name: MSTConfig
        pn_mst_max_hops: 10
        pn_root_guard_wait_time: "0"
        pn_stp_mode: mst
        state: updated
      register: result

    - debug:
        var: result