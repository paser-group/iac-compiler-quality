---
- name: Test playbook for ansible.builtin.service module
  hosts: localhost
  gather_facts: false
  
  tasks:
  
    - name: Ensure a service is running with mixed case sensitivity
      ansible.builtin.service:
        name: "{{ service_name }}"
        state: started
        enabled: true
      vars:
        service_name: "{{ service_name | lower }}"
      register: service_result
  
    - name: Print service result
      debug:
        var: service_result