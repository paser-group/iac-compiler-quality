---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false
  vars:
    zone_name: MyZone
    zone_path: "/export/myzone"
    zone_config: myzone.xml
    zone_state: configured
    zone_timeout: 120
    zone_root_password: Passw0rd
    zone_sparse: true
    zone_attach_options: -G
    zone_create_options: "-a create_options.txt"
    zone_install_options: "-a install_options.txt"
  
  tasks:
    - name: Create a Solaris Zone
      community.general.solaris_zone:
        name: "{{ zone_name }}"
        path: "{{ zone_path }}"
        config: "{{ zone_config }}"
        state: "{{ zone_state }}"
        timeout: "{{ zone_timeout }}"
        root_password: "{{ zone_root_password }}"
        sparse: "{{ zone_sparse }}"
        attach_options: "{{ zone_attach_options }}"
        create_options: "{{ zone_create_options }}"
        install_options: "{{ zone_install_options }}"
      register: result
      
    - name: Debug output
      debug:
        var: result