---
- name: Create AAA Group
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create AAA Group
      community.general.utm_aaa_group:
        name: "MyGroup"
        state: "present"
        comment: "This is a test group"
        members: ["user1", "user2"]
        network: "10.1.1.0/24"
        backend_match: "exact"
        headers:
          X-Auth-Token: "abc123"
          Content-Type: "application/json"
        utm_host: "192.168.1.100"
        utm_port: 8443
        utm_protocol: "https"
        utm_token: "abcxyz"
        validate_certs: true
        
      register: result

    - name: Display result
      debug:
        var: result
      
- name: Test Case - Mixed Case Sensitivity
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create AAA Group
      community.general.utm_aaa_group:
        name: "MyGROup"
        state: "present"
        comment: "This is a TESt group"
        members: ["uSEr1", "uSer2"]
        network: "10.1.1.0/24"
        backend_match: "exact"
        headers:
          X-Auth-Token: "ABc123"
          Content-Type: "application/json"
        utm_host: "192.168.1.100"
        utm_port: 8443
        utm_protocol: "HTTPS"
        utm_token: "ABCxyz"
        validate_certs: true
        
      register: result

    - name: Display result
      debug:
        var: result