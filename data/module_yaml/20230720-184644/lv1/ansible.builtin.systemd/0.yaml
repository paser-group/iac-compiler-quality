- name: Test playbook for 'ansible.builtin.systemd' module
  hosts: all
  tasks:
    - name: Ensure daemon_reexec is set to true
      systemd:
        daemon_reexec: "true"
      register: result
      changed_when: false

    - name: Print daemon_reexec result
      debug:
        var: result

    - name: Ensure daemon_reload is set to true
      systemd:
        daemon_reload: true
      register: result
      changed_when: false

    - name: Print daemon_reload result
      debug:
        var: result

    - name: Ensure systemd service is enabled
      systemd:
        name: "myservice"
        enabled: True
      register: result
      changed_when: false

    - name: Print enabled result
      debug:
        var: result

    - name: Ensure systemd service is forced
      systemd:
        name: "myservice"
        force: yes
      register: result
      changed_when: false

    - name: Print force result
      debug:
        var: result

    - name: Ensure systemd service is masked
      systemd:
        name: "myservice"
        masked: "no"
      register: result
      changed_when: false

    - name: Print masked result
      debug:
        var: result

    - name: Ensure systemd service is restarted
      systemd:
        name: "myservice"
        state: "restarted"
      register: result
      changed_when: false

    - name: Print state result
      debug:
        var: result