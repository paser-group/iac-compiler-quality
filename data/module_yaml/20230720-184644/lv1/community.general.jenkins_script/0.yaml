---
- name: Execute groovy script using Jenkins Script module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute groovy script
      community.general.jenkins_script:
        url: "http://{{ hostvars['jenkins_host'].ansible_default_ipv4.address }}:8080"
        user: "admin"
        password: "admin_password"
        script: |
          println "Hello, World!"
        timeout: "120"
        validate_certs: false
      register: result

    - debug:
        var: result