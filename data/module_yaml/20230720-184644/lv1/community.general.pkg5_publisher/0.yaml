- name: Manage Solaris 11 Image Package
  hosts: solaris_hosts
  gather_facts: false

  vars:
    publisher_options:
      enabled: "True"
      mirror: ["https://repo1.example.com", "HTTPS://repo2.example.com"]
      name: "MY_PUBLISHER"
      origin: ["origin1.example.com", "origin2.example.com"]
      state: "present"
      sticky: "true"

  tasks:
    - name: Manage package publisher configuration
      community.general.pkg5_publisher:
        enabled: "{{ publisher_options.enabled }}"
        mirror: "{{ publisher_options.mirror }}"
        name: "{{ publisher_options.name }}"
        origin: "{{ publisher_options.origin }}"
        state: "{{ publisher_options.state }}"
        sticky: "{{ publisher_options.sticky }}"