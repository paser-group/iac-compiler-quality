---
- name: Test AAA server global configuration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure AAA server
      community.network.ce_aaa_server:
        accounting_mode: ENABLE
        acct_scheme_name: ACCT-SCHEME
        authen_scheme_name: 1
        author_scheme_name: 1.5
        domain_name: my-domain.com
        first_authen_mode: local
        first_author_mode: LOCAL
        hwtacas_template: HWTACAS-TEMPLATE
        local_user_group: LOCAL-USER-GROUP
        radius_server_group: RADIUS-SERVER-GROUP
        state: present
      register: result

    - name: Debug AAA server configuration
      debug:
        var: result