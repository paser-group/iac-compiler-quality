- name: Test Case - Mixed Case Sensitivity
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Define Variables
      vars:
        auth_client_id: "ABC123"
        auth_client_secret: "s3cr3t"
        auth_keycloak_url: "http://keycloak.example.com"
        auth_password: "password"
        auth_realm: "myrealm"
        auth_username: "admin"
        connection_timeout: 10
        http_agent: "Ansible"
        id: "group1"
        name: "Test Group"
        parents:
          - "parent1"
          - "parent2"
        realm: "MYREALM"  # Bug: Mixed Case Sensitivity
        state: "present"
        token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"  # Provide a valid token for testing purposes
        validate_certs: false

    - name: Create Keycloak Group
      community.general.keycloak_group:
        auth_client_id: "{{ auth_client_id }}"
        auth_client_secret: "{{ auth_client_secret }}"
        auth_keycloak_url: "{{ auth_keycloak_url }}"
        auth_password: "{{ auth_password }}"
        auth_realm: "{{ auth_realm }}"
        auth_username: "{{ auth_username }}"
        connection_timeout: "{{ connection_timeout }}"
        http_agent: "{{ http_agent }}"
        id: "{{ id }}"
        name: "{{ name }}"
        parents: "{{ parents }}"
        realm: "{{ realm }}"
        state: "{{ state }}"
        token: "{{ token }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Display Module Output
      debug:
        var: result