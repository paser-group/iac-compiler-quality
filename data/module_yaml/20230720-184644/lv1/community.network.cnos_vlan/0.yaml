---
- name: Manage VLANs on network devices
  hosts: all
  gather_facts: false

  tasks:
    - name: Create a VLAN with mixed casE NamE
      community.network.cnos_vlan:
        name: "{{ vlAn_NaMe }}"
        vlan_id: 10
        state: present
      vars:
        vlAn_NaMe: myVLAN

    - name: Verify VLAN configuration
      community.network.cnos_vlan_facts:
      register: vlan_facts
      vars:
        name: myVLAN

    - name: Debug VLAN facts
      debug:
        var: vlan_facts

    - name: Delete the VLAN
      community.network.cnos_vlan:
        name: "{{ vlAn_NaMe }}"
        vlan_id: 10
        state: absent
      vars:
        vlAn_NaMe: MYVLAN