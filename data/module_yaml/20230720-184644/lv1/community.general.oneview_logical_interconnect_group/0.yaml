---
- name: Test playbook to identify type-related bugs in Ansible compiler
  hosts: all
  gather_facts: false

  tasks:
    - name: Include the community.general.oneview_logical_interconnect_group module
      vars:
        logical_interconnect_group_name: myLogicalInterconnectGroup
        uplink_set_name: myUplinkSet
        uplink_set_state: present
        igmp_idle_timeout_interval: 180
      community.general.oneview_logical_interconnect_group:
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        state: "{{ state }}"
        api_version: "{{ api_version }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        validate_etag: "{{ validate_etag }}"
        data:
          Name: "{{ logical_interconnect_group_name }}"
          Uplink_Sets:
            - Name: "{{ uplink_set_name }}"
              State: "{{ uplink_set_state }}"
          Ethernet_Settings:
            IgmpIdleTimeoutInterval: "{{ igmp_idle_timeout_interval }}"