---
- name: Test SNMP Community Configuration
  hosts: localhost
  gather_facts: false

  vars:
    access_right: "read-only"
    acl_number: "ACL1"
    community_mib_view: "LOCAL"
    community_name: "public"
    group_name: "admins"
    notify_view: "admin"
    read_view: "RWVIEW"
    security_level: "authPriv"
    state: "present"
    write_view: "RWVIEW"

  tasks:
    - name: Configure SNMP Community
      community.network.ce_snmp_community:
        access_right: "{{ access_right | default(None) }}"
        acl_number: "{{ acl_number | default(None) }}"
        community_mib_view: "{{ community_mib_view | default(None) }}"
        community_name: "{{ community_name | default(None) }}"
        group_name: "{{ group_name | default(None) }}"
        notify_view: "{{ notify_view | default(None) }}"
        read_view: "{{ read_view | default(None) }}"
        security_level: "{{ security_level | default(None) }}"
        state: "{{ state | default(None) }}"
        write_view: "{{ write_view | default(None) }}"
      register: result

    - name: Print Result
      debug:
        var: result