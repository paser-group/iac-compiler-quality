---
- name: Assign IP subnets to network setup
  hosts: localhost
  gather_facts: false

  vars:
    ansible_python_interpreter: auto_silent

  tasks:
    - name: Assign IP subnet to ubuntu1 node
      community.general.packet_ip_subnet:
        auth_token: "{{ packet_auth_token }}"
        cidr: 10.1.1.0/24
        device_count: 1
        device_id: ubuntu1
        hostname: 10.1.1.1
        project_id: "{{ packet_project_id }}"
        state: present

    - name: Assign IP subnet to alpine1 node
      community.general.packet_ip_subnet:
        auth_token: "{{ packet_auth_token }}"
        cidr: 10.1.1.0/24
        device_count: 1
        device_id: alpine1
        hostname: 10.1.1.2
        project_id: "{{ packet_project_id }}"
        state: present

    - name: Assign IP subnet to centos1 node
      community.general.packet_ip_subnet:
        auth_token: "{{ packet_auth_token }}"
        cidr: 10.1.1.0/24
        device_count: 1
        device_id: centos1
        hostname: 10.1.1.3
        project_id: "{{ packet_project_id }}"
        state: present

    - name: Assign IP subnet to redhat1 node
      community.general.packet_ip_subnet:
        auth_token: "{{ packet_auth_token }}"
        cidr: 10.1.1.0/24
        device_count: 1
        device_id: redhat1
        hostname: 10.1.1.4
        project_id: "{{ packet_project_id }}"
        state: present