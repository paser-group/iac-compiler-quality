---
- name: Test playbook for community.network.icx_command module
  hosts: icx_devices
  gather_facts: false

  tasks:
    - name: Execute arbitrary command on ICX devices
      community.network.icx_command:
        commands: "{{ command }}"
  vars:
    command: ["show version", "show running-config", 123]