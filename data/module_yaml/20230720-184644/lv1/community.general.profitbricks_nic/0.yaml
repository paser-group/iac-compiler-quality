---
- name: Test playbook for community.general.profitbricks_nic module
  hosts: localhost
  gather_facts: false

  vars:
    datacenter: "us-west"
    lan: "public"
    name: "my-nic"
    server: "my-server"
    state: "present"
    subscription_password: "my-password"
    subscription_user: "my-username"
    wait: true
    wait_timeout: 60

  tasks:
    - name: Create a NIC with mixed case sensitivity for string configuration values
      community.general.profitbricks_nic:
        datacenter: "{{ datacenter }}"
        lan: "{{ lan }}"
        name: "{{ name }}"
        server: "{{ server }}"
        state: "{{ state | lower }}"  # Convert to lowercase to test mixed case sensitivity
        subscription_password: "{{ subscription_password }}"
        subscription_user: "{{ subscription_user }}"
        wait: "{{ wait }}"
        wait_timeout: "{{ wait_timeout }}"
      register: nic_result

    - name: Print the result
      debug:
        var: nic_result