---
- name: Ansible Playbook for community.network.pn_fabric_local module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Ensure fabric local settings
      community.network.pn_fabric_local:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_control_network: "{{ pn_control_network }}"
        pn_fabric_advertisement_network: "{{ pn_fabric_advertisement_network }}"
        pn_fabric_network: "{{ pn_fabric_network }}"
        pn_vlan: "{{ pn_vlan }}"
        state: "{{ state }}"

  vars:
    pn_cliswitch: SWITCH1
    pn_control_network: 10.1.1.0/24
    pn_fabric_advertisement_network: 192.168.1.0/24"
    pn_fabric_network: 172.16.1.0/24
    pn_vlan: vlan100
    state: present