---
- name: Test playbook for pn_dhcp_filter module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create DHCP filter
      community.network.pn_dhcp_filter:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_trusted_ports: "{{ pn_trusted_ports }}"
        state: "present"
      register: result
      ignore_errors: true

    - name: Print playbook variables and result
      debug:
        var:
          pn_cliswitch: "{{ pn_cliswitch }}"
          pn_name: "{{ pn_name }}"
          pn_trusted_ports: "{{ pn_trusted_ports }}"
          result: "{{ result }}"