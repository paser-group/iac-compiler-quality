---
- name: Manage YARN on nodes
  hosts: node_group
  become: true
  vars:
    executable: '/usr/local/bin/yarn'
    global: true
    ignore_scripts: true
    yarn_name: "yArN"

  tasks:
    - name: Install YARN globally
      community.general.yarn:
        command: 'global'
        executable: "{{ executable }}"
        global: "{{ global }}"
        ignore_scripts: "{{ ignore_scripts }}"
        name: "{{ yarn_name | lower }}"
  
- name: Test cases for mixed case sensitivity
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Change string configuration values
      set_fact:
        yarn_state: LiAtEsT
        yarn_version: 1.22.5
    
    - name: Run yarn playbook with mixed case sensitivity
      include_playbook:
        name: yarn_playbook.yml
      vars:
        state: "{{ yarn_state }}"
        version: "{{ yarn_version }}"