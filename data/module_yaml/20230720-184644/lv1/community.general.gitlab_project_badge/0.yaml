---
- name: Test playbook for community.general.gitlab_project_badge
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create color-badge-1 in GitLab project
      community.general.gitlab_project_badge:
        api_url: "{{ lookup('env', 'API_URL') }}"
        api_token: "{{ lookup('env', 'API_TOKEN') }}"
        project: "my-project"
        image_url: "https://example.com/badge.svg?color=red"
        link_url: "https://example.com"
        state: present
      register: result_1
      vars:
        API_URL: "https://gitlab.example.com/api/v4"
        API_TOKEN: "my-api-token"

    - name: Create color-badge-2 in GitLab project
      community.general.gitlab_project_badge:
        api_url: "{{ lookup('env', 'API_URL') }}"
        api_token: "{{ lookup('env', 'API_TOKEN') }}"
        project: "my-project"
        image_url: "https://example.com/badge.svg?color=blue"
        link_url: "https://example.com"
        state: present
      register: result_2

    # Add more tasks with different test cases here