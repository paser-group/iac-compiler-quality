---
- name: Test playbook for community.general.bearychat module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send BearyChat message
      community.general.bearychat:
        token: "{{ lookup('env', 'BEARYCHAT_TOKEN') }}"
        channel: TEST_CHANNEL
        text: hello from Ansible!
        markdown: "true"
        url: "https://example.com"
        attachments:
          - title: Attachment 1
            text: This is Attachment 1
            color: "#ff0000"
          - title: Attachment 2
            text: This is Attachment 2
            color: "#00ff00"

      register: result

    - name: Debug module output
      debug:
        var: result