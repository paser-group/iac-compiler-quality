---
- name: Retrieve OneView Ethernet Network Information
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include necessary collections
      include_tasks: collections_requirement.yml

    - name: Retrieve Ethernet Network Info
      oneview_ethernet_network_info:
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        api_version: "{{ api_version }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        name: "{{ item }}"
      loop:
        - ubuntu1
        - centos1
        - alpine1
        - redhat1
      register: network_info

    - name: Debug Network Info
      debug:
        var: network_info

- name: Validate Case Sensitivity Bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include necessary collections
      include_tasks: collections_requirement.yml

    - name: Create mixed case sensitivity string
      set_fact:
        mixed_case_string: "{{ ['OpEn', 'CLOSED', 'OpEnClOsEd', 'open_closed'] | random }}"

    - name: Test Mixed Case Sensitivity String
      oneview_ethernet_network_info:
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        api_version: "{{ api_version }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        name: "{{ mixed_case_string }}"
      register: network_info

    - name: Debug Network Info
      debug:
        var: network_info