---
- name: Manipulate Rackspace Cloud Files
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create container with mixed case sensitivity
      community.general.rax_files:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        container: "{{ container | lower }}"
        state: "present"
      vars:
        api_key: "your_api_key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0/"
        container: "MyContainer"
      
    - name: Upload file to container with mixed case sensitivity
      community.general.rax_files:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        container: "{{ container | lower }}"
        src: "/path/to/file.txt"
        dest: "/container/file.txt"
        state: "upload"
      vars:
        api_key: "your_api_key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0/"
        container: "TestContainer"
    
    - name: Ensure container name is case-sensitive
      community.general.rax_files:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        container: "{{ container }}"
        state: "present"
      vars:
        api_key: "your_api_key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0/"
        container: "testcontainer"