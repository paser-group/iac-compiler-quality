---
- name: Gather ZFS pool facts
  hosts: all
  gather_facts: no

  tasks:
    - name: Gather ZFS pool facts
      community.general.zpool_facts:
        name: "{{ ZPOOL_NAME | int }}"
        parsable: "{{ PARSABLE | int }}"
        properties: "{{ ZPOOL_PROPERTY | int }}"
      register: zpool_facts

    - name: Debug ZFS pool facts
      debug:
        msg: "{{ zpool_facts }}"