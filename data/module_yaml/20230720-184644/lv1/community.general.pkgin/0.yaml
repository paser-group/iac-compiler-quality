---
- name: Test playbook for 'community.general.pkgin'
  hosts: localhost
  gather_facts: false
  become: true

  tasks:
    - name: Install packages with mixed case sensitivity
      community.general.pkgin:
        name:
          - Package1
          - PaCkAgE2
        state: present
      register: result
      ignore_errors: true

    - name: Debug package installation result
      debug:
        var: result

    - name: Remove packages with mixed case sensitivity
      community.general.pkgin:
        name:
          - Package1
          - PaCkAgE2
        state: absent
      ignore_errors: true

    - name: Debug package removal result
      debug:
        var: result