- name: Test playbook for latent type-related bugs in Ansible
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set up sudoers file
      community.general.sudoers:
        user: "{{ ansible_user }}"
        commands:
          - /bin/ls
          - /bin/cat
        state: present
        validation: warn
      become: true
      become_method: sudo
  
    - name: Perform mixed case sensitivity test
      community.general.sudoers:
        user: "{{ ansible_user }}"
        commands:
          - /bin/ls
          - /bin/cat
        state: present
        validation: "{{ true | upper }}"
      become: true
      become_method: sudo
      register: result
    
    - name: Debug result
      debug:
        var: result