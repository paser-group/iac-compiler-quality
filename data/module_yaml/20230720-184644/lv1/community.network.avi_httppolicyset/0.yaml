---
- name: Test playbook for community.network.avi_httppolicyset module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create HTTPPolicySet using module
      community.network.avi_httppolicyset:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: HttpPolicySet1
        http_request_policy:
          methods:
            - HTTP_GET
        state: present
        api_version: 20.1.3

      register: result
    - debug:
        var: result