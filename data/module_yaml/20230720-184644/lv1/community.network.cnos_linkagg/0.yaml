---
- name: Test for latent type-related bugs in Ansible compiler
  hosts: localhost
  gather_facts: false
  collections:
    - community.network

  tasks:
    - name: Configure link aggregation groups
      community.network.cnos_linkagg:
        aggregate: "{{ aggregate | default('None') }}"
        group: "{{ group | default('None') }}"
        members: "{{ members | default('None') }}"
        mode: "{{ mode | default('None') }}"
        purge: "{{ purge | default(true) }}"
        state: "{{ state | default('None') }}"
      register: linkagg_result

    - name: Display the result
      debug:
        var: linkagg_result