---
- name: Test playbook for community.network.ce_vxlan_vap module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VXLAN VAP
      community.network.ce_vxlan_vap:
        host: "{{ inventory_hostname }}"
        username: admin
        password: admin123
        bind_vlan_id: "{{ ['None', 'none', None] | random }}"
        bridge_domain_id: "{{ ['None', 'none', None] | random }}"
        ce_vid: "{{ ['None', 'none', None] | random }}"
        encapsulation: "{{ ['None', 'none', None] | random }}"
        l2_sub_interface: "{{ ['None', 'none', None] | random }}"
        pe_vid: "{{ ['None', 'none', None] | random }}"
        state: "{{ ['None', 'none', None] | random }}"
      register: result

    - name: Display module output
      debug:
        var: result