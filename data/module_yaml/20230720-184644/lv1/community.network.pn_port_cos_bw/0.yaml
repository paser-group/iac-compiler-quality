---
- name: Test playbook for community.network.pn_port_cos_bw module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure port COS and bandwidth
      community.network.pn_port_cos_bw:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_cos: "{{ pn_cos }}"
        pn_max_bw_limit: "{{ pn_max_bw_limit }}"
        pn_min_bw_guarantee: "{{ pn_min_bw_guarantee }}"
        pn_port: "{{ pn_port }}"
        pn_weight: "{{ pn_weight }}"
        state: "{{ state }}"
      vars:
        pn_cliswitch: "pn1"
        pn_cos: "3"
        pn_max_bw_limit: "100"
        pn_min_bw_guarantee: "50"
        pn_port: "1/1/1"
        pn_weight: "10"
        state: "present"