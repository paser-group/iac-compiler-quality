---
- name: Enforce Model's Attributes
  hosts: node-net
  gather_facts: false

  tasks:
    - name: Install community.general collection
      ansible.builtin.command:
        cmd: ansible-galaxy collection install community.general

    - name: Enforce model attributes
      community.general.spectrum_model_attrs:
        name: "My Model"
        type: 1
        url: "https://example.com"
        url_username: "admin"
        url_password: "secretpassword"
        use_proxy: "true"
        validate_certs: "false"
      register: model_attributes

    - name: Display model attributes
      ansible.builtin.debug:
        var: model_attributes