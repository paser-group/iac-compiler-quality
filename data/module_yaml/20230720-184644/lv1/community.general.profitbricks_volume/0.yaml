- name: Test playbook for community.general.profitbricks_volume
  hosts: localhost
  gather_facts: false
  become: false

  tasks:
    - name: Create a ProfitBricks volume
      community.general.profitbricks_volume:
        auto_increment: true
        bus: SATA
        count: 1
        datacenter: "example-datacenter"
        disk_type: HDD
        image: "test-image"
        image_password: "test-password"
        instance_ids:
          - "instance-id-1"
          - "instance-id-2"
        licence_type: "test-licence"
        name: "test-volume"
        server: "test-server"
        size: 100
        ssh_keys:
          - "ssh-key-1"
          - "ssh-key-2"
        state: present
        subscription_password: "test-password"
        subscription_user: "test-user"
        wait: true
        wait_timeout: 30

      register: volume_result

    - name: Print volume creation result
      debug:
        var: volume_result