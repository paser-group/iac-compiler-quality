- name: Configure Lenovo ENOS
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Set ENOS configuration
      community.network.enos_config:
        admin: true
        after: None
        auth_pass: None
        authorize: true
        backup: true
        backup_options:
          directory: /backup
          prefix: enos
        before: None
        comment: None
        config: |
          interface GigabitEthernet0/1
            ip address 10.0.0.1 255.255.255.0
            description "Ansible Test Interface"
        lines: None
        match: None
        parents: None
        replace: None
        src: None
      register: enos_result

    - debug:
        var: enos_result