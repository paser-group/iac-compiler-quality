---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manage packages using dnf module
      ansible.builtin.dnf:
        name: "{{ item }}"
        state: present
        disable_excludes: DISABLE_EXCLUDES
        disablerepo: DISABLE_REPO
        enable_plugin: ENABLE_PLUGIN
        enablerepo: ENABLE_REPO
        exclude: "{{ item }}"
        cacheonly: "true"
      loop:
        - apache
        - nginx
      register: result

    - name: Debug package management result
      debug:
        var: result