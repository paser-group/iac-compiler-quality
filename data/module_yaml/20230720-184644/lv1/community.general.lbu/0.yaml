---
- name: Test 'community.general.lbu' module
  hosts: all
  become: true
  vars:
    lbu_options:
      commit: "{{ 'true' }}"
      exclude: ["{{ '/tmp/excluded_file.txt' }}"]
      include: ["{{ '/tmp/included_file.txt' }}"]
      num_backups: 5
  tasks:
    - name: Execute 'community.general.lbu' module
      community.general.lbu:
        src: "{{ '/tmp/source_file.txt' }}"
        dest: "/tmp/backup"
        commit: "{{ lbu_options.commit }}"
        exclude: "{{ lbu_options.exclude }}"
        include: "{{ lbu_options.include }}"
        num_backups: "{{ lbu_options.num_backups }}"