---
- name: Test Ansible compiler for mixed case sensitivity bug
  hosts: localhost
  connection: local
  gather_facts: false

  vars:
    server_name: "{{ 'MyServer' | lower }}"
    switch_name: "ARISTA1"
    switch_port: "eth1/1"
    template: "PORT_CONFIG"
    host: "cloudvision.example.com"
    port: 443
    protocol: "https"
    username: "admin"
    password: "password"
    auto_run: true
    port_vlan: 100

  tasks:
    - name: Provision server port
      community.network.cv_server_provision:
        server_name: "{{ server_name }}"
        switch_name: "{{ switch_name }}"
        switch_port: "{{ switch_port }}"
        template: "{{ template }}"
        host: "{{ host }}"
        port: "{{ port }}"
        protocol: "{{ protocol }}"
        username: "{{ username }}"
        password: "{{ password }}"
        auto_run: "{{ auto_run }}"
        port_vlan: "{{ port_vlan }}"
      register: result

    - name: Display result
      debug:
        var: result