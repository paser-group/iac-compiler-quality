- name: Transfer files to/from Ruckus ICX devices
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Include the 'community.network.icx_copy' module
      community.network.icx_copy:
        remote_server: "{{ host }}"
        remote_user: "{{ user }}"
        remote_pass: "{{ pass }}"
        remote_filename: "{{ file }}"
        protocol: "{{ proto }}"
        download: "{{ dl }}"
      register: result
      
    - name: Debug result
      debug:
        var: result