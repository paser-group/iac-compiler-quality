- name: Test community.general.webfaction_db module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Add or remove a database on Webfaction
      community.general.webfaction_db:
        login_name: "{{ lookup('env', 'WEBFACTION_USERNAME') }}"
        login_password: "{{ lookup('env', 'WEBFACTION_PASSWORD') }}"
        machine: "{{ lookup('env', 'WEBFACTION_MACHINE') }}"
        name: "MyDB"
        password: "MyDBPassword"
        state: "present"
        type: "postgres"
      register: result

    - debug:
        var: result