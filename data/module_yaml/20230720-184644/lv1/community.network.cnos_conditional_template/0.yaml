---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    deviceType: "SWITCH"
    username: "admin"
    password: "password"
    enablePassword: "enablepass"
    host: "10.1.1.1"
    outputfile: "config.txt"

  tasks:
    - name: Include community.network.cnos_conditional_template module
      include_role:
        name: community.network.cnos_conditional_template
      vars:
        deviceType: "{{ deviceType }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enablePassword: "{{ enablePassword }}"
        host: "{{ host }}"
        outputfile: "{{ outputfile }}"

    - name: Debug the output
      debug:
        var: cnos_conditional_template_output