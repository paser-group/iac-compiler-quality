---
- name: Ansible Latent Type-Related Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install required Ansible collections
      ansible.builtin.pip:
        name: "ansible-collections==2.0.0"

    - name: Fetch GitHub release with mixed case repo
      community.general.github_release:
        action: "fetch"
        repo: "AnSiBlE/AnSiBlE"  # Mixed case repo name
        name: "v2.9.0"
        token: "{{ github_token }}"
      register: release_info

    - name: Debug release info
      ansible.builtin.debug:
        var: release_info

    - name: Validate release info
      assert:
        that:
          - release_info is defined
          - release_info.assets[0].name == "ansible-2.9.0.tar.gz"