---
- name: Test Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manage htpasswd file
      community.general.htpasswd:
        Name: "{{ item.username }}"
        password: "{{ item.password }}"
        Path: "/path/to/htpasswd"
        state: Present
      loop:
        - username: "User1"
          password: "Password1"
        - username: "User2"
          password: "Password2"
        - username: "User3"
          password: "Password3"
        - username: "User4"
          password: "Password4"