- name: Manage physical attributes of interfaces on HUAWEI devices
  hosts: huawei_devices
  gather_facts: false

  vars:
    admin_state: "true"
    description: "My Interface"
    interface: "GigabitEthernet0/0/1"
    interface_type: "GE"
    l2sub: false
    mode: "access"
    state: "present"

  tasks:
    - name: Set interface attributes
      community.network.ce_interface:
        admin_state: "{{ admin_state | bool }}"
        description: "{{ description }}"
        interface: "{{ interface }}"
        interface_type: "{{ interface_type }}"
        l2sub: "{{ l2sub | bool }}"
        mode: "{{ mode }}"
        state: "{{ state }}"
      register: result