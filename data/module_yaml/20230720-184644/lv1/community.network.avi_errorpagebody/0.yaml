- name: Test playbook for community.network.avi_errorpagebody module
  hosts: localhost
  gather_facts: False

  vars:
    api_context:
      api_version: "17.2.10"
      avi_credentials:
        username: "admin"
        password: "password"
        controller: "192.168.1.100"
        tenant: "admin"
    error_page_body: "<html><body>Error Page</body></html>"
    tenant_uuid: "tenant-uuid"

  tasks:
    - name: Configure ErrorPageBody
      community.network.avi_errorpagebody:
        controller: "{{ api_context.controller }}"
        username: "{{ api_context.avi_credentials.username }}"
        password: "{{ api_context.avi_credentials.password }}"
        tenant: "{{ api_context.avi_credentials.tenant }}"
        api_context: "{{ api_context }}"
        tenant_uuid: "{{ tenant_uuid }}"
        error_page_body: "{{ error_page_body }}"
        state: present
      register: result

    - name: Debug result
      debug:
        var: result