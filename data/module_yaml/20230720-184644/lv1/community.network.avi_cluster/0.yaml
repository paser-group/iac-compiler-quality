- name: Set up Avi cluster
  hosts: localhost
  gather_facts: false

  vars:
    # Avi cluster configuration
    api_context:
      api_version: "17.1.1"
      avi_api_patch_op: null
      avi_api_update_method: null
      avi_credentials:
        username: "admin"
        password: "password"
      avi_disable_session_cache_as_fact: false
      controller: "controller.example.com"
      name: null
      nodes: null
      rejoin_nodes_automatically: true
      state: null
      tenant: "default"
      tenant_ref: null
      tenant_uuid: null
      url: null
      uuid: null
      virtual_ip: null

  tasks:
    - name: Test Case 1 - Mixed case sensitivity in string configuration
      community.network.avi_cluster:
        api_context:
          api_version: "{{ api_context.api_version }}"
          avi_api_patch_op: "{{ api_context.avi_api_patch_op }}"
          avi_api_update_method: "{{ api_context.avi_api_update_method }}"
          avi_credentials:
            username: "{{ api_context.avi_credentials.username }}"
            password: "{{ api_context.avi_credentials.password }}"
          avi_disable_session_cache_as_fact: "{{ api_context.avi_disable_session_cache_as_fact }}"
          controller: "{{ api_context.controller }}"
          name: "{{ api_context.name }}"
          nodes: "{{ api_context.nodes }}"
          rejoin_nodes_automatically: "{{ api_context.rejoin_nodes_automatically }}"
          state: "{{ api_context.state }}"
          tenant: "{{ api_context.tenant }}"
          tenant_ref: "{{ api_context.tenant_ref }}"
          tenant_uuid: "{{ api_context.tenant_uuid }}"
          url: "{{ api_context.url }}"
          uuid: "{{ api_context.uuid }}"
          virtual_ip: "{{ api_context.virtual_ip | lower }}" # Mixed case sensitivity

      register: result
      ignore_errors: true

    - debug:
        var: result

    # Add more test cases here as needed