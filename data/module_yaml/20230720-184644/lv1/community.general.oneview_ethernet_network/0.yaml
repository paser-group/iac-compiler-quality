---
- name: Manage OneView Ethernet Network
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Ethernet Network
      community.general.oneview_ethernet_network:
        config: /path/to/oneview_config.json
        hostname: "{{ image_streamer_hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        validate_etag: true
        state: present
        data:
          name: MyEthernetNetwork
          vlanId: 100
          purpose: General
          smartLink: true
          privateNetwork: false
          ethernetNetworkType: Tagged
          connectionTemplateUri: '/rest/connection-templates/1'

    - name: Delete Ethernet Network
      community.general.oneview_ethernet_network:
        config: /path/to/oneview_config.json
        hostname: "{{ image_streamer_hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        validate_etag: true
        state: absent
        data:
          name: MyEthernetNetwork