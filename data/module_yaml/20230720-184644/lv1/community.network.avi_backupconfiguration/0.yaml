---
- name: Test playbook for community.network.avi_backupconfiguration module
  hosts: localhost
  gather_facts: false

  vars:
    api_version: "20.1.1"
    avi_credentials:
      controller: "https://{{ controller }}"
      username: "{{ username }}"
      password: "{{ password }}"

    # Define test cases
    test_cases:
      - name: "Test with mixed case sensitivity in 'state' parameter"
        params:
          state: "ENaBle"
      - name: "Test with mixed case sensitivity in 'upload_to_remote_host' parameter"
        params:
          upload_to_remote_host: "trUe"
      - name: "Test with mixed case sensitivity in 'upload_to_s3' parameter"
        params:
          upload_to_s3: "FaLsE"

  tasks:
    - name: Test with various test cases
      community.network.avi_backupconfiguration:
        api_context: "{{ avi_credentials }}"
        api_version: "{{ api_version }}"
        controller: "{{ controller }}"
        state: "{{ item.params.state | default(None) }}"
        upload_to_remote_host: "{{ item.params.upload_to_remote_host | default(None) }}"
        upload_to_s3: "{{ item.params.upload_to_s3 | default(None) }}"
      loop: "{{ test_cases }}"