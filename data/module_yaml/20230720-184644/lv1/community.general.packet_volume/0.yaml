---
- name: Test playbook for the packet_volume module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a new packet_volume
      community.general.packet_volume:
        auth_token: "my_auth_token"
        billing_cycle: "monthly"
        description: "Testing packet_volume creation"
        facility: "nyc1"
        id: "abc123"
        locked: false
        name: "test_volume"
        plan: "storage_1"
        project_id: "my_project_id"
        size: 100
        snapshot_policy:
          enabled: true
          interval: 1
          keep_daily: 7
          keep_monthly: 2
        state: present

    - name: Delete the packet_volume
      community.general.packet_volume:
        auth_token: "my_auth_token"
        id: "abc123"
        state: absent