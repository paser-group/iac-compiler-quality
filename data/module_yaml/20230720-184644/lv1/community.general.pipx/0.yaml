---
- name: Test playbook for 'community.general.pipx' module
  hosts: localhost
  become: true
  vars:
    pipx_install_path: /usr/local/bin/pipx
    pipx_apps:
      - name: myapp
        state: present
        force: yes
        python: python3.8
      - name: anotherapp
        state: present
        force: no
        python: python3.9
  tasks:
    - name: Install pipx
      community.general.pipx:
        state: present
        executable: "{{ pipx_install_path }}"
        system_site_packages: yes
        include_injected: no
    - name: Install pipx apps
      community.general.pipx:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
        force: "{{ item.force }}"
        python: "{{ item.python }}"
      with_items: "{{ pipx_apps }}"