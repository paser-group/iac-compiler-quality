---
- name: Send text message using Twilio
  hosts: localhost
  gather_facts: false

  vars:
    account_sid: "ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
    auth_token: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
    from_number: "+1234567890"
    to_numbers:
      - "+9876543210"
    media_url: "http://example.com/media/image.jpg"
    msg: "Hello, World!"

  tasks:
    - name: Send text message
      community.general.twilio:
        account_sid: "{{ account_sid }}" # String configuration value
        auth_token: "{{ auth_token }}"   # String configuration value
        from_number: "{{ from_number }}" # String configuration value
        to_numbers: "{{ to_numbers }}"   # List configuration value
        media_url: "{{ media_url }}"     # String configuration value
        msg: "{{ msg }}"                 # String configuration value
      register: result

    - name: Display response
      debug:
        var: result