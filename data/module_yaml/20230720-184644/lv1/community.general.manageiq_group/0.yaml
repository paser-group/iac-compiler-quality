---
- name: Test manageiq_group module
  hosts: localhost
  gather_facts: false

  vars:
    lowercase_state: "present"
    uppercase_state: "PRESENT"

  tasks:
    - name: Create manageiq group with mixed case sensitivity
      community.general.manageiq_group:
        name: mygroup
        state: "{{ lowercase_state }}"
      register: lowercase_result

    - name: Debug lowercase result
      debug:
        var: lowercase_result

    - name: Create manageiq group with uppercase state
      community.general.manageiq_group:
        name: mygroup
        state: "{{ uppercase_state }}"
      register: uppercase_result

    - name: Debug uppercase result
      debug:
        var: uppercase_result