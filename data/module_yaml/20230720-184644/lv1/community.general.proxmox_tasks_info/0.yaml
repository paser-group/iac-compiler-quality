---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_host: Your_API_Host
    api_password: Your_API_Password
    api_token_id: Your_API_Token_ID
    api_token_secret: Your_API_Token_Secret
    api_user: Your_API_User
    node: Your_Proxmox_Node
    task: Your_Task_Name
    validate_certs: false

  tasks:
    - name: Retrieve information from Proxmox
      community.general.proxmox_tasks_info:
        api_host: "{{ api_host | lower }}"
        api_password: "{{ api_password | upper }}"
        api_token_id: "{{ api_token_id | swapcase }}"
        api_token_secret: "{{ api_token_secret | capitalize }}"
        api_user: "{{ api_user | lower }}"
        node: "{{ node | swapcase }}"
        task: "{{ task | capitalize }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Debug Result
      debug:
        var: result