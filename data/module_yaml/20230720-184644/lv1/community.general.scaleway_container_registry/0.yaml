---
- name: Test playbook for community.general.scaleway_container_registry module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Scaleway Container Registry
      community.general.scaleway_container_registry:
        api_url: "https://api.scaleway.com"
        api_token: "YOUR_API_TOKEN"
        project_id: "YOUR_PROJECT_ID"
        name: "Test Registry"
        description: "This is a test registry"
        query_parameters:
          privacy_policy: "PUBLIC"
        state: present
        wait: true
        wait_sleep_time: 5
        wait_timeout: 600
      register: registry_result

    - name: Debug Registry Result
      debug:
        var: registry_result