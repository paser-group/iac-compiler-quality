- name: Manage OS templates in Proxmox
  hosts: localhost
  gather_facts: false
  vars:
    api_host: "your_proxmox_api_host"
    api_user: "your_proxmox_api_user"
    api_password: "your_proxmox_api_password"

  tasks:
    - name: Import OS template
      community.general.proxmox_template:
        api_host: "{{ api_host }}"
        api_user: "{{ api_user }}"
        api_password: "{{ api_password }}"
        node: "your_proxmox_node"
        storage: "your_proxmox_storage"
        template: "template_name"
        src: "/path/to/os/template.tar.gz"
        validate_certs: false
      register: result
    
    - name: Check result
      debug:
        var: result