- hosts: all
  gather_facts: false
  tasks:
    - name: Test URI module with different configurations
      ansible.builtin.uri:
        url: "{{ url }}"
        method: "{{ method|default('GET') }}"
        validate_certs: "{{ validate_certs|default(true) }}"
        status_code: "{{ status_code|default([]) }}"
        return_content: "{{ return_content|default(false) }}"
      register: result
      vars:
        url: "https://www.example.com/"
        method: "GET"
        validate_certs: true
        status_code:
          - 200
        return_content: false

    - name: Print result
      debug:
        var: result