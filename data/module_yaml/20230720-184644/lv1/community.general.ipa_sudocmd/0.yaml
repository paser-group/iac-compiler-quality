---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure IPA Sudo Command
      community.general.ipa_sudocmd:
        state: present
        ipa_host: "{{ ipa_host }}"
        ipa_user: "{{ ipa_user }}"
        ipa_pass: "{{ ipa_pass }}"
        ipa_port: "{{ ipa_port }}"
        ipa_prot: "{{ ipa_prot }}"
        ipa_timeout: "{{ ipa_timeout }}"
        sudocmd: "{{ sudocmd }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Print result
      debug:
        var: result

- name: Test case - Mixed case sensitivity for string configuration values
  hosts: localhost
  gather_facts: false
  vars:
    ipa_host: "10.1.1.1"
    ipa_user: "admin"
    ipa_pass: "password"
    ipa_port: 443
    ipa_prot: "https"
    ipa_timeout: 10
    sudocmd: "SUdo"
    validate_certs: true
  tasks:
    - name: Mixed case sensitivity test
      include_tasks: test_case.yml

- name: Test case - Proper case sensitivity for string configuration values
  hosts: localhost
  gather_facts: false
  vars:
    ipa_host: "10.1.1.1"
    ipa_user: "admin"
    ipa_pass: "password"
    ipa_port: 443
    ipa_prot: "https"
    ipa_timeout: 10
    sudocmd: "sudo"
    validate_certs: true
  tasks:
    - name: Proper case sensitivity test
      include_tasks: test_case.yml