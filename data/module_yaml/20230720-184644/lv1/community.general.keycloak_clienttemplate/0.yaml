---
- name: Test playbook for keycloak_clienttemplate module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a new Keycloak client template
      community.general.keycloak_clienttemplate:
        realm: myrealm
        id: myclienttemplate
        name: My Client Template
        protocol: openid-connect
        auth_realm: myrealm
        auth_username: admin
        auth_password: mypassword
        auth_keycloak_url: http://localhost:8080/auth
        state: present
      register: result
      ignore_errors: true

    - name: Debug result
      debug:
        var: result

    - name: Test case 1 - Mixed case sensitivity for string configuration values
      community.general.keycloak_clienttemplate:
        realm: myrealm
        id: anotherclienttemplate
        name: "{{ NAME }}"
        protocol: openid-connect
        auth_realm: "{{ AUTH_REALM }}"
        auth_username: admin
        auth_password: mypassword
        auth_keycloak_url: http://localhost:8080/auth
        state: present
      register: testcase1_result
      ignore_errors: true

    - name: Debug testcase1_result
      debug:
        var: testcase1_result