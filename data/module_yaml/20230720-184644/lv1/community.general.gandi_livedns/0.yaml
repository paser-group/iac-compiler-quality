---
- name: Test playbook for gandi_livedns module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create DNS record with mixed case sensitivity
      community.general.gandi_livedns:
        api_key: "MY_API_KEY"
        domain: "example.com"
        record: "TestRecord"
        state: present
        ttl: 3600
        type: "A"
        values:
          - 10.1.1.1
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Update DNS record case sensitivity
      community.general.gandi_livedns:
        api_key: "MY_API_KEY"
        domain: "example.com"
        record: "testrecord" # Mixed case sensitivity in record name
        state: present
        ttl: 3600
        type: "A"
        values:
          - 10.1.1.2
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Delete DNS record with mixed case sensitivity
      community.general.gandi_livedns:
        api_key: "MY_API_KEY"
        domain: "example.com"
        record: "TESTRCORD"
        state: absent
        ttl: 3600
        type: "A"
        values:
          - 10.1.1.1
      register: result

    - name: Debug result
      debug:
        var: result