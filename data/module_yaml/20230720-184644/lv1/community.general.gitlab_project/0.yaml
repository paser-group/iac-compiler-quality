- name: Test Case - Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    project_name: "My_Project"
    api_url: 12345
    gitlab_api_token: 98765
    gitlab_project_visibility: "private"
    gitlab_default_branch: "main"
    remove_source_branch_after_merge: "no"

  tasks:
    - name: Create GitLab project
      community.general.gitlab_project:
        name: "{{ project_name }}"
        api_url: "{{ api_url }}"
        api_token: "{{ gitlab_api_token }}"
        visibility: "{{ gitlab_project_visibility }}"
        default_branch: "{{ gitlab_default_branch }}"
        remove_source_branch_after_merge: "{{ remove_source_branch_after_merge }}"
      register: result

    - name: Show result
      debug:
        var: result