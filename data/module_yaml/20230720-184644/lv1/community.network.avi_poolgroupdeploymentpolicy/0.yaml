---
- name: Ansible Playbook to Expose Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    # Define variables with mixed case configuration values
    apiContext:
      Controller: "https://{{ ansible_host }}"
    target_test_traffic_ratio: '10'

  tasks:
    - name: Include Ansible module
      include_role:
        name: community.network.avi_poolgroupdeploymentpolicy
        tasks_from: create

      vars:
        api_context: "{{ apiContext }}"

    - name: Create Pool Group Deployment Policy
      community.network.avi_poolgroupdeploymentpolicy:
        api_context: "{{ api_context }}"
        target_test_traffic_ratio: "{{ target_test_traffic_ratio }}"