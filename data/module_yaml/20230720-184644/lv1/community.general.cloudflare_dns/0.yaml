---
- name: Test Playbook for Cloudflare DNS
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create Cloudflare DNS record
      community.general.cloudflare_dns:
        account_api_key: "YOUR_ACCOUNT_API_KEY"
        account_email: "YOUR_ACCOUNT_EMAIL"
        algorithm: 10
        api_token: "YOUR_API_TOKEN"
        cert_usage: 0
        hash_type: 1
        key_tag: 12345
        port: 443
        priority: 1
        proto: "tcp"
        proxied: false
        record: "www.example.com"
        selector: 32767
        service: "service"
        solo: true
        state: "present"
        timeout: 10
        ttl: 3600
        type: "A"
        value: "192.168.1.1"
        weight: 5
        zone: "example.com"
      register: result
      ignore_errors: true

    - name: Display Cloudflare DNS record result
      debug:
        var: result

    - name: Validate mixed case sensitivity for string attributes
      set_fact:
        mixed_case_test: "{{ 'EvAlUaTE' | to_meta('dict') }}"
        options:
          account_api_key: "{{ mixed_case_test['account_api_key'] }}"
          account_email: "{{ mixed_case_test['account_email'] }}"
          algorithm: "{{ mixed_case_test['algorithm'] }}"
          api_token: "{{ mixed_case_test['api_token'] }}"
          cert_usage: "{{ mixed_case_test['cert_usage'] }}"
          hash_type: "{{ mixed_case_test['hash_type'] }}"
          key_tag: "{{ mixed_case_test['key_tag'] }}"
          port: "{{ mixed_case_test['port'] }}"
          priority: "{{ mixed_case_test['priority'] }}"
          proto: "{{ mixed_case_test['proto'] }}"
          proxied: "{{ mixed_case_test['proxied'] }}"
          record: "{{ mixed_case_test['record'] }}"
          selector: "{{ mixed_case_test['selector'] }}"
          service: "{{ mixed_case_test['service'] }}"
          solo: "{{ mixed_case_test['solo'] }}"
          state: "{{ mixed_case_test['state'] }}"
          timeout: "{{ mixed_case_test['timeout'] }}"
          ttl: "{{ mixed_case_test['ttl'] }}"
          type: "{{ mixed_case_test['type'] }}"
          value: "{{ mixed_case_test['value'] }}"
          weight: "{{ mixed_case_test['weight'] }}"
          zone: "{{ mixed_case_test['zone'] }}"
      ignore_errors: true

    - name: Display mixed case sensitivity test results
      debug:
        var: options