- name: Test playbook for community.general.stackdriver module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send code deploy and annotation
      community.general.stackdriver:
        annotated_by: "{{ annotatedBy }}"
        deployed_by: "{{ deployedBy }}"
        deployed_to: "{{ deployedTo }}"
        event: "{{ event }}"
        event_epoch: "{{ eventEpoch }}"
        instance_id: "{{ instanceId }}"
        key: "{{ key }}"
        level: "{{ level }}"
        msg: "{{ msg }}"
        repository: "{{ repository }}"
        revision_id: "{{ revisionId }}"
      vars:
        annotatedBy: "testUser"
        deployedBy: "testDeployer"
        deployedTo: "testEnvironment"
        event: "code_deployment"
        eventEpoch: "1624648263"
        instanceId: "testInstance"
        key: "testKey"
        level: "INFO"
        msg: "Test message"
        repository: "testRepository"
        revisionId: "12345"

    - name: Test case: Mixed case sensitivity in string configuration values - AnnotatedBy
      community.general.stackdriver:
        annotated_by: "{{ AnnotatedBy }}"
        deployed_by: "{{ deployedBy }}"
        deployed_to: "{{ deployedTo }}"
        event: "{{ event }}"
        event_epoch: "{{ eventEpoch }}"
        instance_id: "{{ instanceId }}"
        key: "{{ key }}"
        level: "{{ level }}"
        msg: "{{ msg }}"
        repository: "{{ repository }}"
        revision_id: "{{ revisionId }}"
      vars:
        AnnotatedBy: "testUser"
        deployedBy: "testDeployer"
        deployedTo: "testEnvironment"
        event: "code_deployment"
        eventEpoch: "1624648263"
        instanceId: "testInstance"
        key: "testKey"
        level: "INFO"
        msg: "Test message"
        repository: "testRepository"
        revisionId: "12345"