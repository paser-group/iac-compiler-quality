---
- hosts: localhost
  gather_facts: False
  vars:
    alert_profiles:
      - name: Example Profile
        resource_type: Vm
        state: present
        manageiq_connection:
          host: manageiq.example.com
          username: admin
          password: password123

  tasks:
    - name: Debug Alert Profiles
      debug:
        var: alert_profiles

    - name: Configure Alert Profiles
      community.general.manageiq_alert_profiles:
        alerts: "{{ alert_profiles }}"