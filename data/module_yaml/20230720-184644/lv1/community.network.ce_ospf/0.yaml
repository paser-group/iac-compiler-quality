---
- name: Manage OSPF configuration on HUAWEI devices
  hosts: huawei_devices
  gather_facts: false
  vars:
    ospf_area: "0.0.0.0"
    ospf_process_id: "1"
    ospf_auth_mode: "simple"
    ospf_auth_text_simple: "password"

  tasks:
    - name: Configure OSPF instance
      community.network.ce_ospf:
        process_id: "{{ ospf_process_id }}"
        area: "{{ ospf_area }}"
        auth_mode: "{{ ospf_auth_mode }}"
        auth_text_simple: "{{ ospf_auth_text_simple }}"
      register: result

    - name: Display OSPF configuration result
      debug:
        var: result