---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case 1 - mixed case sensitivity with string values
      ansible.builtin.fail:
        msg: "Value is not valid."
      vars:
        string_value: "{{ ['mixedCase', 'MixedCase', 'MIXEDCASE'] | random }}"
      failed_when:
        - string_value | lower != "mixedcase" and string_value | upper != "MIXEDCASE"

    - name: Test case 2 - mixed case sensitivity with variable values
      ansible.builtin.fail:
        msg: "Value is not valid."
      vars:
        variable_value: "{{ ['mixedCase', 'MixedCase', 'MIXEDCASE'] | random }}"
      failed_when:
        - variable_value.lower() != "mixedcase" and variable_value.upper() != "MIXEDCASE"