- name: Execute commands on network devices
  hosts: all
  gather_facts: no

  tasks:
    - name: Run enos_command module
      community.network.enos_command:
        auth_pass: "{{ auth_pass | default(None) }}"
        authorize: "{{ authorize | default(true) }}"
        commands: "{{ commands }}"
        interval: "{{ interval | default(None) }}"
        match: "{{ match | default(None) }}"
        retries: "{{ retries | default(None) }}"
        wait_for: "{{ wait_for | default(None) }}"
      register: result

    - name: Print command output
      debug:
        var: result

- name: Test Case - Mixed case sensitivity for string configuration values
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Set mixed case sensitivity values
      set_fact:
        auth_pass: "{{ auth_pass | default(None) }}"
        authorize: "{{ authorize | default(true) }}"
        commands: "{{ commands }}"
        interval: "{{ interval | default(None) }}"
        match: "{{ match | default(None) }}"
        retries: "{{ retries | default(None) }}"
        wait_for: "{{ wait_for | default(None) }}"

    - name: Include the previous playbook
      import_playbook: playbook.yml