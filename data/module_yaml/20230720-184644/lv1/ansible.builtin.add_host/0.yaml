---
- name: Add hosts to inventory
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set host variables
      set_fact:
        ubuntu_host: 'ubuntu1'
        alpine_host: 'alpine1'
        centos_host: 'centos1'
        redhat_host: 'redhat1'

    - name: Add hosts to inventory
      ansible.builtin.add_host:
        name: "{{ host }}"
        groups: "{{ group }}"
      vars:
        host: "{{ item }}"
        group: "{{ groups[item] }}"
      loop:
        - ubuntu_host
        - alpine_host
        - centos_host
        - redhat_host

- name: Test Cases
  hosts: all
  gather_facts: false

  tasks:
    - name: Test mixed case sensitivity bug
      debug:
        var: groups['WeB_hOsTs']