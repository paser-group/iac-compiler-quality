---
- name: Test playbook to uncover type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create SNMP VACM users
      community.network.pn_snmp_vacm:
        pn_auth: "{{ item.pn_auth }}"
        pn_cliswitch: "{{ item.pn_cliswitch }}"
        pn_oid_restrict: "{{ item.pn_oid_restrict }}"
        pn_priv: "{{ item.pn_priv }}"
        pn_user_name: "{{ item.pn_user_name }}"
        pn_user_type: "{{ item.pn_user_type }}"
        state: "{{ item.state }}"
      loop:
        - { pn_auth: "true", pn_cliswitch: "cisco", pn_oid_restrict: "snmpv3_group", pn_priv: "true", pn_user_name: "Username1", pn_user_type: "authPriv", state: "present" }
        - { pn_auth: "false", pn_cliswitch: "cisco", pn_oid_restrict: "snmpv3_group", pn_priv: "true", pn_user_name: "username2", pn_user_type: "authPriv", state: "present" }
        - { pn_auth: "true", pn_cliswitch: "cisco", pn_oid_restrict: "snmpv3_group", pn_priv: "false", pn_user_name: "Username3", pn_user_type: "authNoPriv", state: "present" }
        - { pn_auth: "false", pn_cliswitch: "cisco", pn_oid_restrict: "snmpv3_group", pn_priv: "false", pn_user_name: "username4", pn_user_type: "authNoPriv", state: "present" }