---
- name: Test playbook for community.network.a10_server module
  hosts: localhost
  gather_facts: false
  vars:
    server_name: "test-server"
    server_ip: "10.1.1.1"
    username: "admin"
    password: "admin"
    url: "http://{{ server_ip }}/api"
    url_username: "admin"
    url_password: "admin"
    state: "present"
  
  tasks:
    - name: Create A10 Server configuration
      community.network.a10_server:
        host: "{{ url }}"
        username: "{{ url_username }}"
        password: "{{ url_password }}"
        server_name: "{{ server_name }}"
        server_ip: "{{ server_ip }}"
        state: "{{ state }}"
      delegate_to: localhost
      register: result
    
    - name: Debug output
      debug:
        var: result