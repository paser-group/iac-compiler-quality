---
- name: Test playbook for icinga2_host module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create hosts in Icinga2
      community.general.icinga2_host:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
        ip: "{{ item.ip }}"
        display_name: "{{ item.display_name }}"
        check_command: "{{ item.check_command }}"
        template: "{{ item.template }}"
        use_proxy: "{{ item.use_proxy }}"
        force: "{{ item.force }}"
        variables: "{{ item.variables }}"
      loop:
        - name: CentOS1
          state: present
          ip: 10.1.1.3
          display_name: centos1
          check_command: ping
          template: generic-host
          use_proxy: false
          force: false
          variables: {}
        - name: RedHat1
          state: present
          ip: 10.1.1.4
          display_name: redhat1
          check_command: ping
          template: generic-host
          use_proxy: False
          force: False
          variables: {}