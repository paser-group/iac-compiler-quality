---
- name: Test playbook for Ansible type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a ManageIQ user
      community.general.manageiq_user:
        manageiq_connection:
          url: "https://manageiq.example.com"
          username: "admin"
          password: "password"
        userid: "TestUser"
        name: "Test User"
        email: "testuser@example.com"
        group: "Test Group"
        password: "secret"
        state: "present"
        update_password: "always"
      register: result

    - name: Debug output
      debug:
        var: result