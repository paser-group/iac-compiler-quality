- name: Test playbook for community.network.pn_stp_port module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure STP port
      community.network.pn_stp_port:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_port: "{{ pn_port }}"
        pn_stp_port_args:
          pn_block: "{{ pn_block }}"
          pn_bpdu_guard: "{{ pn_bpdu_guard }}"
          pn_cost: "{{ pn_cost }}"
          pn_edge: "{{ pn_edge }}"
          pn_filter: "{{ pn_filter }}"
          pn_priority: "{{ pn_priority }}"
          pn_root_guard: "{{ pn_root_guard }}"
        state: "{{ state }}"
      register: result

    - name: Debug result
      debug:
        var: result