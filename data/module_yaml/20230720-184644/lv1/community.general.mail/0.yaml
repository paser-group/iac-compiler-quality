---
- name: Test Ansible 'community.general.mail' module
  hosts: localhost
  gather_facts: false

  tasks:

    # Test case 1: Mixed case sensitivity in string configuration values
    - name: Test Mixed Case Sensitivity
      community.general.mail:
        host: '{{ HOST }}'
        port: '{{ PORT }}'
        username: '{{ USERNAME }}'
        password: '{{ PASSWORD }}'
        timeout: '{{ TIMEOUT }}'
        sender: '{{ sender }}'
        to: '{{ TO }}'
        cc: '{{ CC }}'
        bcc: '{{ BCC }}'
        subject: '{{ SUBJECT }}'
        body: '{{ BODY }}'
        charset: '{{ CHARSET }}'
        attach: '{{ ATTACH }}'
        headers: '{{ HEADERS }}'
        subtype: '{{ SUBTYPE }}'
      vars:
        HOST: 'smtp.example.com'
        PORT: 25
        USERNAME: 'myuser'
        PASSWORD: 'mypassword'
        TIMEOUT: 10
        sender: 'test@example.com'
        TO: ['recipient1@example.com', 'Recipient2@example.com']
        CC: ['cc1@example.com', 'cc2@example.com']
        BCC: ['bcc1@example.com', 'bcc2@example.com']
        SUBJECT: 'Test Email'
        BODY: 'This is a test email.'
        CHARSET: 'UTF-8'
        ATTACH: ['/path/to/file1', '/path/to/file2']
        HEADERS:
          - 'X-Mailer: Ansible Mail Module'
          - 'Reply-To: reply@example.com'
        SUBTYPE: 'mixed'
      register: result

    - debug:
        var: result