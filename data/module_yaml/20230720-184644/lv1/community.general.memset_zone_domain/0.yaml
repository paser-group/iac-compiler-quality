---
- name: Test playbook for Ansible latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create domain
      community.general.memset_zone_domain:
        api_key: "my_api_key"  # Replace with your actual api_key
        domain: "example.com"
        zone: "example_zone"
        state: present
      register: result
      ignore_errors: true

    - debug:
        var: result

    - name: Delete domain
      community.general.memset_zone_domain:
        api_key: "my_api_key"  # Replace with your actual api_key
        domain: "example.com"
        zone: "example_zone"
        state: absent
      register: result
      ignore_errors: true

    - debug:
        var: result