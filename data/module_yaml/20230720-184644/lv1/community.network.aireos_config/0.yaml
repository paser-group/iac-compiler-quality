- name: Test playbook for community.network.aireos_config module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Load the intended configuration
      set_fact:
        intended_config: "configure terminal\ninterface GigabitEthernet1\nno shutdown"
      
    - name: Apply the intended configuration
      community.network.aireos_config:
        backup: true
        backup_options:
          dir_path: "/var/backup"
          diff_if_backup_exists: true
        intended_config: "{{ intended_config }}"
      register: result
      check_mode: true

    - name: Debug the result
      debug:
        var: result