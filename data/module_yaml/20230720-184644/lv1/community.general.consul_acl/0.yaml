- name: Manipulate Consul ACL
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Consul ACL
      community.general.consul_acl:
        host: "localhost"
        port: 8500
        scheme: "http"
        mgmt_token: "management_token"
        state: "present"
        name: "my_acl"
        rules:
          - key_prefix: "foo/"
            policy: "write"
          - key_prefix: "bar/"
            policy: "read"
      register: acl_result