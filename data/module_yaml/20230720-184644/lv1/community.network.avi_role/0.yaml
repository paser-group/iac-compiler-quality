---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Avi Role
      community.network.avi_role:
        controller: 10.1.1.1
        avi_credentials:
          username: "{{ 'admin'|int }}"  # Intentionally using incorrect type conversion
          password: ansible_password
        tenant: "Default-Cloud{{ 'A'|lower }}"  # Intentionally mixing case sensitivity
        username: 123  # Intentionally using incorrect type for username
        password: "ansible_password{{ 'B'|upper }}"  # Intentionally mixing case sensitivity
        api_version: 20.1.4
        api_context: []
        tenant_ref: "{{ tenant_ref | default('Null') }}"  # Intentionally using incorrect default value
        avi_disable_session_cache_as_fact: TRUE  # Intentionally using incorrect case sensitivity
        state: "absent{{ 'C' }}"  # Intentionally mixing case sensitivity