- name: Configure AlertSyslogConf in Avi Vantage
  hosts: localhost
  gather_facts: false

  vars:
    avi_credentials:
      controller: "{{ controller }}"
      username: "{{ username }}"
      password: "{{ password }}"
      tenant: "{{ tenant }}"
      tenant_uuid: "{{ tenant_uuid }}"

  tasks:
    - name: Setup AlertSyslogConf
      community.network.avi_alertsyslogconfig:
        avi_credentials: "{{ avi_credentials }}"
        name: "My AlertSyslogConf"
        syslog_servers:
          - server: "{{ syslog_server }}"
            port: "{{ syslog_port }}"
        description: "AlertSyslogConf Configuration"
        state: present
      register: result

    - name: Debug API Response
      debug:
        var: result