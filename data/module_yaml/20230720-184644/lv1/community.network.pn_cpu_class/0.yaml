- name: Latent Bug Detection Playbook
  hosts: all
  gather_facts: false

  vars:
    pn_cliswitch: "{{ inventory_hostname }}"
    pn_name: "Class1"
    pn_rate_limit: "1000"
    pn_hog_protect: "no"

  tasks:
    - name: Test Case 1
      community.network.pn_cpu_class:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name | lower }}"  # Use lowercase filter to introduce type-related bug
        pn_rate_limit: "{{ pn_rate_limit }}"
        pn_hog_protect: "{{ pn_hog_protect }}"
        state: present