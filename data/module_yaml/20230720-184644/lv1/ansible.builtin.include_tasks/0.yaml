- name: Include tasks based on OS type
  hosts: localhost
  gather_facts: false

  vars:
    os_type: "{{ ansible_distribution }}"

  tasks:
    - include_tasks:
        file: "{{ os_type | lower }}.yaml"
        apply: "{{ bool(os_type | lower == 'ubuntu') }}"

    - include_tasks:
        file: "{{ os_type | lower }}.yaml"
        apply: "{{ bool(os_type | lower == 'alpine') }}"

    - include_tasks:
        file: "{{ os_type | lower }}.yaml"
        apply: "{{ bool(os_type | lower == 'centos') }}"

    - include_tasks:
        file: "{{ os_type | lower }}.yaml"
        apply: "{{ bool(os_type | lower == 'redhat') }}"