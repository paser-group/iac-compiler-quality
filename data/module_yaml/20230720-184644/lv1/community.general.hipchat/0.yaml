---
- name: Ansible Latent Bug Finder & Heuristic Test
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install hipchat module
      pip:
        name: hipchat
        state: present

    - name: Trigger latent type-related bug
      community.general.hipchat:
        api: "{{ api | default('') }}"
        color: "{{ color | default('') }}"
        msg: "{{ msg | default('') }}"
        msg_format: "{{ msg_format | default('') }}"
        msg_from: "{{ msg_from | default('') }}"
        notify: "{{ notify | default(false) }}"
        room: "{{ room | default('') }}"
        token: "{{ token | default('') }}"
        validate_certs: "{{ validate_certs | default(false) }}"
      register: result

    - debug:
        var: result