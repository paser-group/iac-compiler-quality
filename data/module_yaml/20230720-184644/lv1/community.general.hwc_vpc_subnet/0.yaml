---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    vpc_id: "vpc-123456"
    availability_zone: "us-west-1"
    cidr: "10.1.1.0/24"
    dhcp_enable: "True"
    dns_address:
      - "8.8.8.8"
      - "8.8.4.4"
    domain: "example.com"
    gateway_ip: "10.1.1.254"
    id: "subnet-123456"
    identity_endpoint: "https://identity.example.com"
    name: "MySubnet"
    password: "myPaSsWoRd"
    project: "MyProject"
    region: "us-west-1"
    state: "present"
    timeouts:
      create: 300
      delete: 300
    user: "MyUser"

  tasks:
    - name: Create VPC subnet with mixed-case configuration values
      community.general.hwc_vpc_subnet:
        vpc_id: "{{ vpc_id }}"
        availability_zone: "{{ availability_zone }}"
        cidr: "{{ cidr }}"
        dhcp_enable: "{{ dhcp_enable }}"
        dns_address: "{{ dns_address }}"
        domain: "{{ domain }}"
        gateway_ip: "{{ gateway_ip }}"
        id: "{{ id }}"
        identity_endpoint: "{{ identity_endpoint }}"
        name: "{{ name }}"
        password: "{{ password }}"
        project: "{{ project }}"
        region: "{{ region }}"
        state: "{{ state }}"
        timeouts: "{{ timeouts }}"
        user: "{{ user }}"

      register: result

    - name: Print the result
      debug:
        var: result