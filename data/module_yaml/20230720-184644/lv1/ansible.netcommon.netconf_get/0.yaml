---
- name: Fetch NETCONF configuration data
  hosts: localhost
  gather_facts: false

  vars:
    device_ip: "10.1.1.1"
    username: "admin"
    password: "secret"

  tasks:
    - name: Fetch NETCONF data
      ansible.netcommon.netconf_get:
        display: "CONFIG"
        filter: "config.xml"
        lock: "READ"
        source: "running"
        host: "{{ device_ip }}"
        username: "{{ username }}"
        password: "{{ password }}"
      register: netconf_output

    - name: Display NETCONF data
      debug:
        var: netconf_output