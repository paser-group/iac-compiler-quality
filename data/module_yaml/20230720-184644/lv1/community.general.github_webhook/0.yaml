---
- name: Test playbook to uncover latent type-related bugs in Ansible compiler
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install required pip packages
      pip:
        name: community.general

    - name: Create a GitHub webhook using community.general.github_webhook module
      community.general.github_webhook:
        github_url: "https://api.github.com"
        user: "user"
        password: "password"
        repository: "repository"
        url: "https://webhook.url"
        state: "present"
        active: true
        insecure_ssl: false
        secret: "secret"
        content_type: "application/json"
        events:
          - push
          - pull_request
        token: "token"
      register: result

    - name: Debugging output
      debug:
        var: result