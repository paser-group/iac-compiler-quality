- name: Test Ansible Compiler for Type-Related Bugs
  hosts: localhost
  tasks:
    - name: Test 1 - auth_keycloak_url
      community.general.keycloak_user_rolemapping:
        auth_keycloak_url: "http://10.1.1.1:8080/Auth"
        auth_realm: "myrealm"
        auth_client_id: "myclient"
        auth_client_secret: "myclientsecret"
        auth_username: "admin"
        auth_password: "adminpassword"
        target_username: "user1"
        roles:
          - ROLE_1
          - RoLe_2
        state: present
        validate_certs: true

    - name: Test 2 - auth_realm
      community.general.keycloak_user_rolemapping:
        auth_keycloak_url: "http://10.1.1.1:8080/auth"
        auth_realm: "MyRealm"
        auth_client_id: "myclient"
        auth_client_secret: "myclientsecret"
        auth_username: "admin"
        auth_password: "adminpassword"
        target_username: "user1"
        roles:
          - role_1
          - ROLE_2
        state: present
        validate_certs: true

    - name: Test 3 - auth_client_id
      community.general.keycloak_user_rolemapping:
        auth_keycloak_url: "http://10.1.1.1:8080/auth"
        auth_realm: "myrealm"
        auth_client_id: "MyClient"
        auth_client_secret: "myclientsecret"
        auth_username: "admin"
        auth_password: "adminpassword"
        target_username: "user1"
        roles:
          - role_1
          - role_2
        state: present
        validate_certs: true

    - name: Test 4 - roles
      community.general.keycloak_user_rolemapping:
        auth_keycloak_url: "http://10.1.1.1:8080/auth"
        auth_realm: "myrealm"
        auth_client_id: "myclient"
        auth_client_secret: "myclientsecret"
        auth_username: "admin"
        auth_password: "adminpassword"
        target_username: "user1"
        roles:
          - Role_1
          - ROLE_2
        state: present
        validate_certs: true