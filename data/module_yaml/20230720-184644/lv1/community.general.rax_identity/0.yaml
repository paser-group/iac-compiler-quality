---
- name: Test playbook for community.general.rax_identity
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Load Rackspace Identity
      community.general.rax_identity:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        credentials: "{{ credentials }}"
        env: "{{ env }}"
        # Include mixed case sensitivity values
        identity_type: "{% if mixed_case %}RAX_APIKEY{% else %}rax_apikey{% endif %}"
        region: "{{ region }}"
        state: "{{ state }}"
        tenant_id: "{{ tenant_id }}"
        # Include mixed case sensitivity values
        tenant_name: "{% if mixed_case %}TENANT_NAME{% else %}tenant_name{% endif %}"
        username: "{{ username }}"
        validate_certs: "{{ validate_certs }}"
      ignore_errors: true
      register: identity_result
    - debug:
        var: identity_result
...