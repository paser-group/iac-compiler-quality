---
- name: Test playbook for community.network.pn_vrouter_ospf module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create vRouter OSPF configuration
      community.network.pn_vrouter_ospf:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_netmask: "{{ pn_netmask }}"
        pn_network: "{{ pn_network }}"
        pn_ospf_area: "{{ pn_ospf_area }}"
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        state: 10.1.1.1
      register: result
      
    - name: Debug output
      debug:
        var: result
        
    - name: Validate OSPF configuration
      assert:
        that: 
          - "'error' in result"
          - "'failed' in result"
        msg: "Ansible module contains a latent type-related bug"