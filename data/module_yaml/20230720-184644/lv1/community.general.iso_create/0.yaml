---
- name: Generate ISO file
  hosts: localhost
  become: true

  vars:
    dest_iso: "/path/to/iso/file.iso"  # Specify the destination ISO file path
    interchange_level: 1  # Set the interchange level
    joliet: 1  # Enable Joliet
    rock_ridge: "OFF"  # Set the Rock Ridge option
    src_files:
      - "/path/to/source/file1.txt"  # Add source files to include in the ISO
      - "/path/to/source/file2.txt"
    udf: false  # Disable UDF file system
    vol_ident: "MyISO"  # Set the volume identifier

  tasks:
    - name: Generate ISO
      community.general.iso_create:
        dest_iso: "{{ dest_iso }}"
        interchange_level: "{{ interchange_level }}"
        joliet: "{{ joliet }}"
        rock_ridge: "{{ rock_ridge }}"
        src_files: "{{ src_files }}"
        udf: "{{ udf }}"
        vol_ident: "{{ vol_ident }}"
      register: iso_generation_result

    - name: Print ISO generation result
      debug:
        var: iso_generation_result