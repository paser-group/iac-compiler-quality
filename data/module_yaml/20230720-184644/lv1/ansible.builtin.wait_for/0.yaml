- hosts: localhost
  tasks:
    - name: Wait for a specific condition
      ansible.builtin.wait_for:
        host: "localhost"
        port: 8080
        timeout: 10
        connect_timeout: 5
        state: "{{ state }}"
      register: wait_result

    - name: Print the wait result
      ansible.builtin.debug:
        var: wait_result