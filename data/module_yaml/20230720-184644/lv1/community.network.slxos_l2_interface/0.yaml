---
- name: Test playbook for community.network.slxos_l2_interface module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create Layer-2 interface with mixed case sensitivity
      community.network.slxos_l2_interface:
        access_vlan: NONE
        aggregate: nOnE
        mode: NoNe
        name: None
        native_vlan: Null
        state: "NONE"
        trunk_allowed_vlans: "None"
        trunk_vlans: "nOnE"

      register: result
      
    - name: Display debug output
      debug:
        var: result

    - name: Fail the playbook if a latent bug is detected
      fail:
        msg: A latent bug in the Ansible compiler has been triggered!

    - name: Dummy task
      command: echo "This task is executed if no bug is triggered."
      when: not result.changed