---
- name: Test Ansible Latent Bugs in Scaleway DB Backup
  hosts: localhost
  gather_facts: false

  vars:
    api_timeout: 60
    api_token: "my_api_token"
    api_url: "https://api.scaleway.com"
    database_name: "my_database"
    expires_at: "2023-12-31"
    id: "backup_123"
    instance_id: "db_instance_123"
    name: "my_backup"
    query_parameters:
      incremental: True
      full_backup: False
    region: "par1"
    state: "present"
    validate_certs: False
    wait: True
    wait_sleep_time: 10
    wait_timeout: 180

  tasks:
    - name: Test Case 1 - Mixed case sensitivity for string configuration values
      scaleway_database_backup:
        api_timeout: "{{ api_timeout }}"
        api_token: "{{ api_token|int }}"
        api_url: "{{ api_url }}"
        database_name: "{{ database_name|int }}"
        expires_at: "{{ expires_at|int }}"
        id: "{{ id|int }}"
        instance_id: "{{ instance_id }}"
        name: "{{ name|int }}"
        query_parameters: "{{ query_parameters|int }}"
        region: "{{ region|int }}"
        state: "{{ state|int }}"
        validate_certs: "{{ validate_certs }}"
        wait: "{{ wait }}"
        wait_sleep_time: "{{ wait_sleep_time|int }}"
        wait_timeout: "{{ wait_timeout|int }}"
      register: result

    - name: Debug output
      debug:
        var: result