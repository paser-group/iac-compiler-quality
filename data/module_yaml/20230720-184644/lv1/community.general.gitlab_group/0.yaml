- name: GitLab Group Creation
  hosts: all
  gather_facts: false
  become: true

  vars:
    gitlab_group:
      name: "testGroup"
      description: "This is a test group"
      api_token: "ABC123"
      state: present

  tasks:
    - name: Create GitLab Group
      community.general.gitlab_group:
        name: "{{ gitlab_group.name }}"
        description: "{{ gitlab_group.Description }}"
        api_token: "{{ gitlab_group.api_token | lower }}"
        state: "{{ gitlab_group.state }}"
      register: result

    - debug:
        var: result