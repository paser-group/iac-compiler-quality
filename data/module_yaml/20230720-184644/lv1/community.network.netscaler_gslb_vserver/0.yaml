---
- name: Test playbook for community.network.netscaler_gslb_vserver module
  hosts: localhost
  gather_facts: false

  vars:
    nitro_user: admin
    nitro_pass: password
    nitro_protocol: http
    nitro_timeout: 10
    validate_certs: false

  tasks:
    - name: Create gslb vserver with mixed case sensitivity bug
      community.network.netscaler_gslb_vserver:
        nsip: 10.1.1.1
        nitro_user: "{{ nitro_user }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        validate_certs: "{{ validate_certs }}"
        state: present
        name: "MyGSLBVServer"
        lbmethod: "ROUNDrobin"  # Mixed case sensitivity in lbmethod value
        servicetype: "httP"  # Mixed case sensitivity in servicetype value
        disableprimaryondown: "False"  # Mixed case sensitivity in disableprimaryondown value
        save_config: True
      register: result

    - name: Debug result
      debug:
        var: result