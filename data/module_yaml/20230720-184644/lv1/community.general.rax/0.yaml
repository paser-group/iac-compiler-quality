---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_key: "YOUR_RACKSPACE_API_KEY"
    auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0"
    image: "IMAGE_NAME"
    flavor: "FLAVOR"
    network: "NETWORK_NAME"

  tasks:
    - name: Create an instance in Rackspace
      community.general.rax:
        api_key: "{{ api_key }}"
        auth_endpoint: "{{ auth_endpoint }}"
        image: "{{ IMAGE | upper }}"
        flavor: "{{ flavor }}"
        networks:
          - "{{ network }}"
      register: result