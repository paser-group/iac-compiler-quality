---
- name: Test playbook for 'community.general.hwc_vpc_private_ip' module
  hosts: localhost
  gather_facts: false
  vars:
    domain: "example.com"
    id: "12345"
    identity_endpoint: "https://identity.endpoint.com"
    ip_address: "10.1.1.100"
    password: "secretpassword"
    project: "myproject"
    region: "us-west-1"
    state: "present"
    subnet_id: "subnet-123456"
    user: "myuser"

  tasks:
    - name: Create VPC private IP resource
      community.general.hwc_vpc_private_ip:
        domain: "{{ domain | lower }}"  # Mixed case sensitivity test case
        id: "{{ id }}"
        identity_endpoint: "{{ identity_endpoint }}"
        ip_address: "{{ ip_address }}"
        password: "{{ password }}"
        project: "{{ project }}"
        region: "{{ region }}"
        state: "{{ state }}"
        subnet_id: "{{ subnet_id }}"
        user: "{{ user }}"
      register: private_ip_resource

    - name: Debug output
      debug:
        var: private_ip_resource

    - name: Test case to trigger bug
      fail:
        msg: "Mixed case sensitivity bug triggered successfully!"
      when: private_ip_resource.domain != domain  # Bug trigger condition