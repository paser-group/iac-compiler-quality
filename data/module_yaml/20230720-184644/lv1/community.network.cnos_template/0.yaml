---
- name: Test playbook to uncover latent type-related bugs
  hosts: switches
  gather_facts: false

  tasks:
    - name: Configure switch using template
      community.network.cnos_template:
        commandfile: "{{ command_file }}"
        deviceType: "{{ device_type }}"
        enablePassword: "{{ enable_password }}"
        host: "{{ inventory_hostname }}"
        outputfile: "{{ output_file }}"
        password: "{{ password }}"
        username: "{{ username }}"
      register: result

    - name: Print debug output
      debug:
        var: result