- name: Test ansible.posix.selinux module for type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set SELinux policy to enforcing
      ansible.posix.selinux:
        policy: enforcing
        state: Enforcing # Mixed case sensitivity for 'state' value
        update_kernel_param: "{{ update_kernel_param | default(false) }}"
      register: selinux_result

    - name: Debug SELinux result
      debug:
        var: selinux_result