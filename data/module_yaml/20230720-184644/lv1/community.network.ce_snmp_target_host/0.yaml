- name: Manage SNMP target host configuration
  hosts: all
  gather_facts: false

  tasks:
    - name: Configure SNMP target host on HUAWEI devices
      community.network.ce_snmp_target_host:
        address: "{{ item.address }}"
        connect_port: "{{ item.connect_port }}"
        host_name: "{{ item.host_name }}"
        interface_name: "{{ item.interface_name }}"
        is_public_net: "{{ item.is_public_net }}"
        notify_type: "{{ item.notify_type }}"
        recv_port: "{{ item.recv_port }}"
        security_level: "{{ item.security_level }}"
        security_model: "{{ item.security_model }}"
        security_name: "{{ item.security_name }}"
        security_name_v3: "{{ item.security_name_v3 }}"
        version: "{{ item.version }}"
        vpn_name: "{{ item.vpn_name }}"
      loop:
        - { address: none, connect_port: none, host_name: none, interface_name: none, is_public_net: none, notify_type: none, recv_port: none, security_level: none, security_model: none, security_name: none, security_name_v3: none, version: none, vpn_name: none }

      # Perform additional tasks to validate the operation or check for bugs