---
- name: Test community.general.ldap_entry module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add LDAP entry
      community.general.ldap_entry:
        dn:
          - CN=MyEntry1,DC=example,DC=com
          - CN=MyEntry2,DC=example,DC=com
        objectClass: [top, person]
        state: present
        bind_dn: "CN=Admin,DC=example,DC=com"
        bind_pw: "admin_password"
        ca_path: "/path/to/ca_cert.pem"
        recursive: True
        referrals_chasing: "ignore"
        sasl_class: "GSSAPI"
        server_uri: "ldaps://ldap.example.com:636"
        start_tls: True
        validate_certs: True
        xorder_discovery: "none"