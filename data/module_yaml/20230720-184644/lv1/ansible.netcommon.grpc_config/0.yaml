---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Fetch configuration/state data from gRPC
      ansible.netcommon.grpc_config:
        backup: true
        backup_options:
          directory: /var/backup
        config: "CONFIG"
        state: "FETCH"

      # By setting mixed case configuration value, we aim to unveil potential bugs
      # related to case sensitivity in the Ansible compiler

      vars:
        CONFIG: "MixedCaseConfig"

      # The CONFIG variable will be used to define the 'config' option with a mixed case value