---
- name: Manage interface specific VPN configuration
  hosts: all
  gather_facts: false

  tasks:
    - name: Configure VPN interface
      community.network.ce_vrf_interface:
        provider: "{{ vrf_provider }}"
        state: "{{ vpn_state }}"
        vrf: "{{ vpn_vrf }}"
        vpn_interface: "{{ vpn_interface }}"
        ipv4_address: "{{ vpn_ipv4_address }}"
        ipv6_address: "{{ vpn_ipv6_address }}"
        description: "{{ vpn_description }}"
      register: result