- name: Create XenServer VM
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create VM
      community.general.xenserver_guest:
        folder: MyFolder
        name: CentOS-VM
        hostname: 10.1.1.3
        username: admin
        password: mypassword
        state: present
        disks:
          - size: 10
            sr: "Local storage"
            device: 0
        networks:
          - bridge: xenbr0
        validate_certs: False
      register: result

    - debug:
        var: result