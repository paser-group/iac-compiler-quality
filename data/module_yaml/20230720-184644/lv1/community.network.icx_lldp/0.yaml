---
- name: Test playbook for community.network.icx_lldp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set LLDP configuration on Ruckus ICX
      community.network.icx_lldp:
        check_running_config: true
        interfaces:
          - GigabitEthernet1/1
          - "{{ unknown_interface }}"
        state: enable

    - name: Validate LLDP configuration
      community.network.icx_lldp_facts:
        interfaces:
          - GigabitEthernet1/1
          - "{{ unknown_interface }}"
      register: lldp_facts

    - name: Print LLDP facts
      debug:
        var: lldp_facts