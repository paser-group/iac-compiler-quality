---
- hosts: all
  gather_facts: no
  
  vars:
    byte_string_block: !!binary |
      LS0tCk5ldyBCbG9jawotLS0=

  tasks:
  - name: Set a byte string block of text in examplefile.txt
    ansible.builtin.blockinfile:
      path: '/tmp/examplefile.txt'
      block: "{{ byte_string_block }}"

  - name: Verify the byte string block of tex in examplefile.txt
    shell: cat /tmp/examplefile.txt
    register: result

  - name: Checking the result
    assert:
      that:
        - "'New Block' not in result.stdout"
      fail_msg: "ByteString Block failed"
      success_msg: "ByteString Block is successful"

  - name: Remove the byte string block in examplefile.txt
    ansible.builtin.blockinfile:
      path: '/tmp/examplefile.txt'
      state: absent
      block: "{{ byte_string_block }}"

  - name: Verify removal of the byte string block in examplefile.txt
    shell: cat /tmp/examplefile.txt
    register: result

  - name: Checking the result after removal
    assert:
      that:
        - "'New Block' not in result.stdout"
      fail_msg: "Removal of ByteString Block failed"
      success_msg: "Removal of ByteString Block is successful"

...