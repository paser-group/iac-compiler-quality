- hosts: ubuntu1
  become: yes
  tasks:
    - name: Set testvars
      set_fact:
        byte_string: "{{'apt_package' | b64encode }}"
        byte_string_list: "{{['apt_package', 'libc6'] | b64encode }}"

    - name: Introduce byte string values to the 'name' parameter
      ansible.builtin.apt:
        name: "{{ byte_string }}"
        state: present
      register: result
      ignore_errors: yes
    
    - debug:
        var: result

    - name: Introduce byte string values to the 'name' parameter (list)
      ansible.builtin.apt:
        name: "{{ byte_string_list }}"
        state: present
      register: result2
      ignore_errors: yes

    - debug:
        var: result2

    - name: Trigger potential bugs by introducing byte string to 'default_release' parameter
      ansible.builtin.apt:
        name: sudo
        default_release: "{{ 'stable' | b64encode }}"
      register: result3
      ignore_errors: yes

    - debug:
        var: result3