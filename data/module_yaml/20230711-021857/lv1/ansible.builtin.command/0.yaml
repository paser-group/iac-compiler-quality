---
- name: Ansible type-related bug explorer playbook
  hosts: all
  gather_facts: no 

  tasks:
    
    - name: Check cmd as list
      command:
        argv:
          - echo
          - "Hello World"
      register: command_output

    - name: Print command output
      debug:
        var: command_output.stdout_lines
        
    - name: Check cmd as string
      command:
        cmd: "uname -r"
      register: command_output

    - name: Print command output
      debug:
        var: command_output.stdout_lines
        
    - name: Check stdin as string
      shell: "cat"
      args:
        stdin: "Hello from stdin"
      register: command_output

    - name: Print command output
      debug:
        var: command_output.stdout_lines
        
    - name: Testing 'creates' option
      command:
        cmd: "touch /tmp/testfile"
        creates: "/tmp/testfile"
    
    - name: Testing 'creates' case sensitivity
      command:
        cmd: "touch /tmp/TestFile"
        creates: "/tmp/testfile"
      ignore_errors: true
      register: command_output

    - name: Print command output
      debug:
        var: command_output
...