- hosts: localhost
  gather_facts: no
  tasks:
    - name: Add Docker node with Ubuntu distribution
      add_host:
        hostname: "ubuntu1"
        ansible_host: "10.1.1.1"
        groups: ['all_hosts', 'ubuntu_hosts']
    - name: Add Docker node with Alpine distribution
      add_host:
        hostname: "alpine1"
        ansible_host: "10.1.1.2"
        groups: ['all_hosts', 'alpine_hosts']
    - name: Add Docker node with CentOS distribution
      add_host:
        hostname: "centos1"
        ansible_host: "10.1.1.3"
        groups: ['all_hosts', 'centos_hosts']
    - name: Add Docker node with Red Hat distribution
      add_host:
        hostname: "redhat1"
        ansible_host: "10.1.1.4"
        groups: ['all_hosts', 'redhat_hosts']
        
- name: Assert task to check for bugs
  hosts: all_hosts
  gather_facts: no
  
  tasks:
    # Validate that hostname is str 
    - name: Check hostname should be a string
      assert:
        that: 
          - "{{ inventory_hostname | type_debug }} == 'str'" 
        fail_msg: "Hostname is not a string"
    # Test connectivity between all the added hosts
    - name: check ping of nodes 
      ping: