---
- hosts: all
  gather_facts: No
  vars:
    cmd_no_error: "echo no error"
    cmd_with_error: "ech error"
    chdir_path: "/tmp"
    file_path: "/tmp/fake_path"
    stdin_data: "stdin data"
  
  tasks:
  - name: Execute a command handling both string and bytes type
    ansible.builtin.command:
      argv: 
        - "{{ cmd_no_error }}"
        - "{{ cmd_no_error.encode('utf-8') }}"
      chdir: "{{ chdir_path }}"
    register: result_string_bytes
    ignore_errors: True

  - debug: 
      var: result_string_bytes

  - name: Execute a command causing an error using string and bytes type
    ansible.builtin.command:
      argv: 
        - "{{ cmd_with_error }}"
        - "{{ cmd_with_error.encode('utf-8') }}"
      chdir: "{{ chdir_path }}"
    register: result_error_string_bytes
    ignore_errors: True

  - debug: 
      var: result_error_string_bytes
...