- name: Test add_host module for type-related bugs
  hosts: localhost
  gather_facts: false
  tasks:
    - name: "Add hosts to inventory with mixed case sensitivity"
      ansible.builtin.add_host:
        name: "{{ item.Name }}"
        groups: "{{ item.Groups }}"
        ansible_host: "{{ item.Ip }}"
      loop:
        - { Name: "ubuntu1", Groups: ["linux"], Ip: "10.1.1.1" }
        - { Name: "alpine1", Groups: ["Linux"], Ip: "10.1.1.2" }
        - { name: "centos1", groups: ["LinuX"], ip: "10.1.1.3" }
        - { name: "redhat1", groups: ["LINuX"], ip: "10.1.1.4" }
      register: added_host

    - name: "Debug added hosts"
      debug:
        var: added_host