---
- name: Insert Text Block into File
  hosts: localhost
  gather_facts: false

  vars:
    # Test case variables
    text_block: "{{ 'This is a sample text block' | b64decode }}"
    file_path: "/path/to/file.txt"

  tasks:
    - name: Insert text block
      ansible.builtin.blockinfile:
        path: "{{ file_path }}"
        block: "{{ text_block }}"
        create: true
      register: result
      ignore_errors: true

    - name: Debug result
      ansible.builtin.debug:
        var: result

    - name: Remove text block
      ansible.builtin.blockinfile:
        path: "{{ file_path }}"
        state: absent
      register: result
      ignore_errors: true

    - name: Debug result
      ansible.builtin.debug:
        var: result