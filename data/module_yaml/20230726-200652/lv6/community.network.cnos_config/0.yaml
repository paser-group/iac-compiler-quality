---
- name: CNOS Config Test
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Lenovo CNOS
      community.network.cnos_config:
        admin: 1
        after: null
        backup: 1
        backup_options:
          dir_path: /tmp
          backup_facts: yes
        before: null
        comment: null
        config: null
        lines: null
        match: null
        parents: null
        replace: null
        src: null
      register: result
      ignore_errors: true

    - name: Print Result
      debug:
        var: result

    - name: Compare Output
      set_fact:
        test_failed: true
      when: "'TypeError' in result.msg"

- name: Heuristic Testing
  hosts: docker_hosts
  gather_facts: false

  tasks:
    - name: Generate Strings with Varied Encodings
      ansible.builtin.debug:
        msg: "{{ item }}"
      with_items:
        - 'string'
        - 'str√≠ng'
        - 'str\u0069ng'
        - '\x73\x74\x72\x69\x6e\x67'

    - name: Debug
      debug:
        msg: "Debug Message"