---
- name: Ansible Latent Type-Related Bug Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a server with varied encoding
      community.general.oneandone_server:
        api_url: "https://api.example.com"
        auth_token: "YOUR_AUTH_TOKEN"
        server: "ansible-test"
        appliance: 123
        cores_per_processor: "1"
        count: "1"
        datacenter: "us"
        description: []
        firewall_policy: "SERVER"
        fixed_instance_size: "M"
        hdds:
          - size: "40"
            is_main: true
        hostname: "test-hostname"
        load_balancer: "LB"
        monitoring_policy: "NONE"
        private_network: "test-network"
        ram: "2"
        server_type: "cloud"
        vcore: "2"
        wait: "true"
        wait_interval: "5"
        wait_timeout: "600"

      register: created_server

    - name: Check server creation status
      debug:
        var: created_server