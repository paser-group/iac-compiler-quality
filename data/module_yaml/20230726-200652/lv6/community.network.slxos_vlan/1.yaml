- hosts: all
  gather_facts: false
  become: true

  tasks:
    - name: Manage VLANs
      community.network.slxos_vlan:
        vlan_id: "{{ vlan_id | ansible_encoding('utf-8') }}"
        name: "{{ vlan_name | ansible_encoding('unicode_escape') }}"
        state: "{{ vlan_state | ansible_encoding('unicode_escape') }}"
        purge: "{{ vlan_purge | ansible_encoding('unicode_escape') }}"
        aggregate: "{{ vlan_aggregate | ansible_encoding('unicode_escape') }}"
        delay: "{{ vlan_delay | ansible_encoding('unicode_escape') }}"
        interfaces: "{{ vlan_interfaces | ansible_encoding('unicode_escape') }}"
      register: result

    - name: Debug output
      debug:
        var: result