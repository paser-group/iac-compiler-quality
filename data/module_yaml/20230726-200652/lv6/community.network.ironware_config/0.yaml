---
- name: Test playbook to expose latent type-related bugs
  hosts: localhost
  gather_facts: no
  vars:
    - config_encodings:
        - "utf-8"
        - "utf-16"
        - "utf-32"
        - "iso-8859-1"
        - "iso-8859-2"
  tasks:
    - name: Configure Ironware device with varied encodings
      community.network.ironware_config:
        config: "{{ item }}"
        encoding: "{{ item }}"
      loop: "{{ config_encodings }}"
      register: result
      ignore_errors: true

    - debug:
        var: result