---
- name: Test playbook for rax_mon_notification module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Rackspace Cloud Monitoring Notification
      community.general.rax_mon_notification:
        api_key: 1234567890
        auth_endpoint: "https://your_auth_endpoint"
        credentials: "/path/to/credentials.yaml"
        details:
          detail1: "value1"
          detail2: "value2"
        env: "production"
        identity_type: "user"
        label: 9876543210
        notification_type: "email"
        region: "us-east-1"
        state: "present"
        tenant_id: "abcd1234"
        tenant_name: "your_tenant_name"
        username: "your_username"
        validate_certs: True
      register: result
      ignore_errors: true

    - name: Display result
      debug:
        var: result

    - name: Delete Rackspace Cloud Monitoring Notification
      community.general.rax_mon_notification:
        api_key: 1234567890
        auth_endpoint: "https://your_auth_endpoint"
        credentials: "/path/to/credentials.yaml"
        details:
          detail1: "value1"
          detail2: "value2"
        env: "production"
        identity_type: "user"
        label: 9876543210
        notification_type: "email"
        region: "us-east-1"
        state: "absent"
        tenant_id: "abcd1234"
        tenant_name: "your_tenant_name"
        username: "your_username"
        validate_certs: True
      register: result
      ignore_errors: true

    - name: Display result
      debug:
        var: result