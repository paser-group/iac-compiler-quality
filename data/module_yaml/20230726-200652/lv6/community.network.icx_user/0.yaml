---
- name: Manage user accounts on Ruckus ICX switches
  hosts: switches
  gather_facts: false

  tasks:
    - name: Create a user account with encoded password
      community.network.icx_user:
        name: testuser
        configured_password: "cGFzc3dvcmQ="
        privilege: "admin"
        state: present
      register: result

    - name: Debug the result
      debug:
        var: result