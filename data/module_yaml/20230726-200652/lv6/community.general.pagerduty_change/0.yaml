- name: Test playbook for 'community.general.pagerduty_change' module
  hosts: localhost
  gather_facts: false
  
  vars:
    integration_key: "your_integration_key"
    summary: "Test change summary"
    details: "Test change details"
    url: "http://example.com"
  
  tasks:
    - name: Trigger 'community.general.pagerduty_change' module
      community.general.pagerduty_change:
        integration_key: "{{ integration_key }}"
        summary: "{{ summary }}"
        details: "{{ details }}"
        url: "{{ url }}"
      register: result
      
    - name: Display result
      debug:
        var: result
      
    - name: Check result
      assert:
        that: result | success