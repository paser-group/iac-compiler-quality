---
- name: Gather ICX facts
  hosts: icx_device

  tasks:
    - name: Collect ICX facts
      community.network.icx_facts:
        gather_subset:
          - "{{ var | b64encode }}"
          - "{{ var | encode('utf-16') }}"

      register: icx_facts

    - name: Debug ICX facts
      debug:
        var: icx_facts