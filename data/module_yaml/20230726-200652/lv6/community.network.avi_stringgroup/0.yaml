---
- name: Test playbook for community.network.avi_stringgroup module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create StringGroup with varied encodings
      community.network.avi_stringgroup:
        controller: "https://{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "StringGroup1"
        description: "Test StringGroup with varied encodings"
        kv:
          - key: "key1"
            value: "{{ 'value1' | b64encode }}"
          - key: "key2"
            value: "{{ 'value2' | urlencode }}"
          - key: "key3"
            value: "{{ 'value3' | b64decode }}"
        state: present
      register: result

    - name: Debug module output
      debug:
        var: result