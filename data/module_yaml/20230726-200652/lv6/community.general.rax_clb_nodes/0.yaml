---
- name: Test playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add nodes
      community.general.rax_clb_nodes:
        address: "10.1.1.1"
        api_key: "my_api_key"
        auth_endpoint: "https://auth.example.com"
        credentials: "/path/to/credentials"
        env: "production"
        identity_type: "rax_token"
        load_balancer_id: 12345
        node_id: 123
        port: 80
        region: "us-east"
        state: "present"
        tenant_id: "my_tenant_id"
        tenant_name: "my_tenant_name"
        type: "PRIMARY"
        username: "my_username"
        validate_certs: true
        virtualenv: "/path/to/virtualenv"
        wait: true
        wait_timeout: 120
        weight: 5
      register: result_add_node

    - debug:
        var: result_add_node