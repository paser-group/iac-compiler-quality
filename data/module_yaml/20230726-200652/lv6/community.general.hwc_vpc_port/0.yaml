- hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC Port
      community.general.hwc_vpc_port:
        admin_state_up: "{{ lookup('env', 'ADMIN_STATE_UP') }}"
        allowed_address_pairs: "{{ lookup('env', 'ALLOWED_ADDRESS_PAIRS') }}"
        domain: "{{ lookup('env', 'DOMAIN') }}"
        extra_dhcp_opts: "{{ lookup('env', 'EXTRA_DHCP_OPTS') }}"
        id: "{{ lookup('env', 'VPC_PORT_ID') }}"
        identity_endpoint: "{{ lookup('env', 'IDENTITY_ENDPOINT') }}"
        ip_address: "{{ lookup('env', 'IP_ADDRESS') }}"
        name: "{{ lookup('env', 'NAME') }}"
        password: "{{ lookup('env', 'PASSWORD') }}"
        project: "{{ lookup('env', 'PROJECT') }}"
        region: "{{ lookup('env', 'REGION') }}"
        security_groups: "{{ lookup('env', 'SECURITY_GROUPS') }}"
        state: "{{ lookup('env', 'STATE') }}"
        subnet_id: "{{ lookup('env', 'SUBNET_ID') }}"
        timeouts: "{{ lookup('env', 'TIMEOUTS') }}"
        user: "{{ lookup('env', 'USER') }}"
      register: result

    - debug:
        var: result