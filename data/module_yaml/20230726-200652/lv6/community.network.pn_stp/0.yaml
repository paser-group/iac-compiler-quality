- name: Discover latent type-related bugs in community.network.pn_stp module
  hosts: all
  gather_facts: false
  tasks:
    - name: Enable Spanning Tree Protocol
      community.network.pn_stp:
        pn_cliswitch: "{{ 'none' }}"
        pn_enable: "{{ true }}"
        pn_stp_mode: "{{ 'rstp' }}"
        pn_bridge_priority: "{{ '64' }}"
        pn_bridge_id: "{{ '00:11:22:33:44:55' }}"
        pn_hello_time: "{{ '2' }}"
        pn_forwarding_delay: "{{ '15' }}"
        pn_max_age: "{{ '20' }}"
        pn_root_guard_wait_time: "{{ '30' }}"
        pn_bpdus_bridge_ports:
          - "{{ '1,2,3' }}"
        state: "{{ 'present' }}"