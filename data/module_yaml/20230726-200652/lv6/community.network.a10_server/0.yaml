---
- name: Test playbook for community.network.a10_server
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case 1 - Send a request to the A10 server with default options
      community.network.a10_server:
        host: "{{ server_ip }}"
        username: "{{ username }}"
        password: "{{ password }}"
        url: "{{ url }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        write_config: "{{ write_config }}"
      vars:
        server_ip: "10.1.1.1"
        username: "admin"
        password: "password"
        url: "/abc"
        state: "present"
        validate_certs: true
        write_config: true

    - name: Test case 2 - Send a request with client_cert and client_key options
      community.network.a10_server:
        host: "{{ server_ip }}"
        username: "{{ username }}"
        password: "{{ password }}"
        url: "{{ url }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        write_config: "{{ write_config }}"
        client_cert: "/path/to/client_cert.pem"
        client_key: "/path/to/client_key.pem"
      vars:
        server_ip: "10.1.1.1"
        username: "admin"
        password: "password"
        url: "/abc"
        state: "present"
        validate_certs: true
        write_config: true

    - name: Test case 3 - Send a request with force and force_basic_auth options
      community.network.a10_server:
        host: "{{ server_ip }}"
        username: "{{ username }}"
        password: "{{ password }}"
        url: "{{ url }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        write_config: "{{ write_config }}"
        force: true
        force_basic_auth: true
      vars:
        server_ip: "10.1.1.1"
        username: "admin"
        password: "password"
        url: "/abc"
        state: "present"
        validate_certs: true
        write_config: true

    - name: Test case 4 - Send a request with non-ASCII encoded strings for username and password
      community.network.a10_server:
        host: "{{ server_ip }}"
        username: "{{ username | b64decode }}"
        password: "{{ password | b64decode }}"
        url: "{{ url }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        write_config: "{{ write_config }}"
      vars:
        server_ip: "10.1.1.1"
        username: "YWRtaW4="  # base64 encoded "admin"
        password: "cGFzc3dvcmQ="  # base64 encoded "password"
        url: "/abc"
        state: "present"
        validate_certs: true
        write_config: true