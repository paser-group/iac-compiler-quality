---
- name: Example playbook for yum module with varied encodings
  hosts: all
  become: yes
  become_method: sudo

  tasks:
    - name: Install packages with varied encodings
      yum:
        name: "{{ item }}"
        state: present
        disable_excludes: main
        disable_gpg_check: yes
        validate_certs: no
      loop:
        - "{{ 'package1'.encode('utf-8') }}"
        - "{{ 'package2'.encode('utf-16') }}"
        - "{{ 'package3'.encode('latin-1') }}"

    - name: Remove packages with varied encodings
      yum:
        name: "{{ item }}"
        state: absent
        disable_excludes: main
        disable_gpg_check: yes
        validate_certs: no
      loop:
        - "{{ 'package4'.encode('utf-8') }}"
        - "{{ 'package5'.encode('utf-16') }}"