---
- name: Test community.general.zfs module for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ZFS dataset
      community.general.zfs:
        name: "testpool/testdataset"
        state: present
        extra_zfs_properties:
          recordsize: 8192
          mountpoint: "/mnt/test"
          compression: "gzip-9"
          utf8only: "üñîçø∂ë"
          specialchars: "'\"!@#$%^&*()-=[]{};:,.<>/? \n"
      register: result

    - debug: var=result