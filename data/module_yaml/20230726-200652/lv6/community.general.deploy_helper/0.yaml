---
- name: Test playbook for Ansible latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Deploy application using deploy_helper
      community.general.deploy_helper:
        state: 1  # Bug: 'state' should be of type str, not int
        path: "/var/www/my_app"
        current_path: "/var/www/my_app/current"
        shared_path: "/var/www/my_app/shared"
        releases_path: "/var/www/my_app/releases"
        release: "20221231000000"
        keep_releases: "3"  # Bug: 'keep_releases' should be of type int, not str
        owner: "myuser"
        group: "mygroup"
        mode: "0755"  # Bug: 'mode' should be of type raw, not str
        seuser: true  # Bug: 'seuser' should be of type str, not bool
        serole: "object_r"
        setype: "httpd_sys_content_t"
        selevel: "s0"
        unfinished_filename: ["tmp1", "tmp2"]  # Bug: 'unfinished_filename' should be of type str, not list
        unsafe_writes: "false"  # Bug: 'unsafe_writes' should be of type bool, not str
        clean: "true"  # Bug: 'clean' should be of type bool, not str

      register: deploy_result

    - name: Display deploy result
      debug:
        var: deploy_result