---
- name: Test playbook for community.network.avi_scheduler module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create scheduler object
      community.network.avi_scheduler:
        api_context: {}  # Specify any relevant context parameters
        api_version: "20.1.3"  # Provide the desired API version
        avi_credentials:
          controller: "{{ controller }}"
          username: "{{ username }}"
          password: "{{ password }}"
          tenant: "{{ tenant }}"
        state: present
        name: "test_scheduler"
        tenant_uuid: "tenant_uuid"
        enabled: true
        frequency: 1
        frequency_unit: "minutes"
        start_date_time: "{{ ansible_date_time.iso8601 }}"
        end_date_time: "2023-01-01T00:00:00Z"

    - name: Debug output
      debug:
        msg: "Scheduler object created successfully."