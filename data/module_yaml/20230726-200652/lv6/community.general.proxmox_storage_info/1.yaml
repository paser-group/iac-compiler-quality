- name: Test 'community.general.proxmox_storage_info' module
  hosts: all
  gather_facts: false
  vars:
    api_host: "127.0.0.1"
    api_password: "test_password"
    api_token_id: "test_token_id"
    api_token_secret: "test_token_secret"
    api_user: "test_user"
    storage: "storage_name"
    type: "storage_type"
    validate_certs: true
  tasks:
    - name: Test with different string encodings
      community.general.proxmox_storage_info:
        api_host: "{{ api_host }}"
        api_password: "{{ api_password }}"
        api_token_id: "{{ api_token_id }}"
        api_token_secret: "{{ api_token_secret }}"
        api_user: "{{ api_user }}"
        storage: "{{ storage|b64decode }}"
        type: "{{ type }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Print module output
      debug:
        var: result