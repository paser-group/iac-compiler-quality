---
- hosts: localhost
  gather_facts: false

  vars:
    # Define the GitLab API credentials
    api_job_token: "my_api_job_token"
    api_oauth_token: "my_api_oauth_token"
    api_password: "my_api_password"
    api_token: "my_api_token"
    api_url: "https://gitlab.example.com/api/v4/"
    api_username: "my_api_username"

    # Define the project details
    project: "myproject"
    purge: false
    state: "present"
    validate_certs: true
    variables:
      - name: "VAR1"
        value: "Value 1"
      - name: "VAR2"
        value: "Value 2"
    vars:
      VAR3: "Value 3"
      VAR4: "Value 4"

  tasks:
    - name: Create/Update/Delete GitLab project variables
      community.general.gitlab_project_variable:
        api_job_token: "{{ api_job_token }}"
        api_oauth_token: "{{ api_oauth_token }}"
        api_password: "{{ api_password }}"
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        api_username: "{{ api_username }}"
        project: "{{ project }}"
        purge: "{{ purge }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        variables: "{{ variables }}"
        vars: "{{ vars }}"