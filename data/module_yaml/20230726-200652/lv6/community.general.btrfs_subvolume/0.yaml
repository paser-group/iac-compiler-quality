---
- name: Test playbook for btrfs_subvolume module
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Create btrfs subvolume with varied encodings
      community.general.btrfs_subvolume:
        name: "{{ item.name }}"
        automount: "{{ item.automount }}"
        default: "{{ item.default }}"
        filesystem_device: "{{ item.filesystem_device }}"
        filesystem_label: "{{ item.filesystem_label }}"
        filesystem_uuid: "{{ item.filesystem_uuid }}"
        recursive: "{{ item.recursive }}"
        snapshot_conflict: "{{ item.snapshot_conflict }}"
        snapshot_source: "{{ item.snapshot_source }}"
        state: "{{ item.state }}"
      loop:
        - { name: "测试", automount: true, default: true, filesystem_device: "/dev/sda1", filesystem_label: "测试", filesystem_uuid: "测试", recursive: true, snapshot_conflict: "测试", snapshot_source: "测试", state: "present" }
        - { name: "測試", automount: true, default: false, filesystem_device: "/dev/sdb1", filesystem_label: "測試", filesystem_uuid: "測試", recursive: false, snapshot_conflict: "測試", snapshot_source: "測試", state: "absent" }
        - { name: "टेस्ट", automount: false, default: true, filesystem_device: "/dev/sdc1", filesystem_label: "टेस्ट", filesystem_uuid: "टेस्ट", recursive: true, snapshot_conflict: "टेस्ट", snapshot_source: "टेस्ट", state: "present" }