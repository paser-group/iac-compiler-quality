---
- name: Download Files from HTTP
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Test Case 1 - Default Encoding
      ansible.builtin.get_url:
        url: "http://example.com/file.txt"
        dest: "/tmp/file.txt"
      register: result_1
      ignore_errors: true

    - name: Test Case 2 - UTF-8 Encoding
      ansible.builtin.get_url:
        url: "http://example.com/file.txt"
        dest: "/tmp/file.txt"
        headers:
          Content-Type: "text/plain; charset=utf-8"
      register: result_2
      ignore_errors: true

    - name: Test Case 3 - Base64 Encoding
      ansible.builtin.get_url:
        url: "http://example.com/file.txt"
        dest: "/tmp/file.txt"
        headers:
          Content-Type: "text/plain; charset=base64"
      register: result_3
      ignore_errors: true

    - name: Test Case 4 - URL Encoding
      ansible.builtin.get_url:
        url: "http://example.com/file%20with%20spaces.txt"
        dest: "/tmp/file.txt"
      register: result_4
      ignore_errors: true
      
    # Add more test cases based on the heuristic here
      
    - name: Print Results
      debug:
        var: item
      with_items:
        - result_1
        - result_2
        - result_3
        - result_4
        # Add more result variables here