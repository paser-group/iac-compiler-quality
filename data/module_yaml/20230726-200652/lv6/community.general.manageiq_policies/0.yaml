- name: Manage resource policies
  hosts: localhost
  tasks:
    - name: Create resource policy
      community.general.manageiq_policies:
        manageiq_connection:
          miq_hostname: "https://management.example.com"
          miq_username: "admin"
          miq_password: "password"
        policy_profiles:
          - name: "Profile 1"
            policies:
              - name: "Policy 1"
                description: "Resource policy 1"
                resource_type: "VirtualMachine"
                resource_id: "12345"  # Potential type-related bug: resource_id is defined as a string instead of an integer
                resource_name: "VM1"
          - name: "Profile 2"
            policies:
              - name: "Policy 2"
                description: "Resource policy 2"
                resource_type: "VirtualMachine"
                resource_id: 67890
                resource_name: "VM2"
        state: present