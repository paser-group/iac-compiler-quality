---
- name: Test Ansible Latent Type-Related Bugs in community.network.dladm_vlan module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VLAN interface with varied encodings
      community.network.dladm_vlan:
        link: "{{ link }}"
        name: "{{ name }}"
        state: "{{ state }}"
        temporary: "{{ temporary }}"
        vlan_id: "{{ vlan_id | int }}"

      vars:
        link: null
        name: null
        state: null
        temporary: False  # Initialize to default value
        vlan_id: null

      vars_prompt:
        - name: link
          prompt: "Enter link name"
          private: False

        - name: name
          prompt: "Enter VLAN interface name"
          private: False

        - name: state
          prompt: "Enter state"
          private: False

        - name: temporary
          prompt: "Enter temporary (True/False)"
          private: False

        - name: vlan_id
          prompt: "Enter VLAN ID"
          private: False

      register: result

    - debug:
        var: result