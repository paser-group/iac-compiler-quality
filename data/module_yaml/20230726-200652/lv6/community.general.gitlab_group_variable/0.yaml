- name: Test playbook for 'community.general.gitlab_group_variable' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create GitLab group variable with incorrect value type
      community.general.gitlab_group_variable:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "YOUR_API_TOKEN"
        group: "my_group"
        validate_certs: false
        variables:
          - key: "test_variable"
            value: 123
            secret_value: "False"
            protected: false
      register: result
      ignore_errors: yes

    - name: Print GitLab group variable creation result
      debug:
        var: result