---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send Mattermost Message with Varied Encodings
      community.general.mattermost:
        api_key: "YOUR_API_KEY"
        channel: "test-channel"
        text: "{{ item }}"
        validate_certs: false
      loop:
        - "{{ ['Test Message'] | random }}"
        - "{{ 123 }}"
        - "{{ false }}"
        - "{{ {'key': 'value'} }}"