- name: Test playbook for 'community.general.utm_dns_host' module
  hosts: localhost
  gather_facts: false
  vars:
    address: example.com
    comment: "Test comment"
    headers: {'Content-Type': 'application/json'}
    hostname: "10.1.1.1"
    interface: eth0
    name: "test host"
    resolved: true
    state: present
    timeout: 10
    utm_host: example.com
    utm_port: 8080
    utm_protocol: http
    utm_token: ABC123
    validate_certs: true

  tasks:
    - name: Create DNS host
      community.general.utm_dns_host:
        name: "{{ name }}"
        address: "{{ address | b64encode }}"
        comment: "{{ comment }}"
        headers: "{{ headers }}"
        hostname: "{{ hostname }}"
        interface: "{{ interface }}"
        resolved: "{{ resolved }}"
        state: "{{ state }}"
        timeout: "{{ timeout }}"
        utm_host: "{{ utm_host }}"
        utm_port: "{{ utm_port }}"
        utm_protocol: "{{ utm_protocol }}"
        utm_token: "{{ utm_token }}"
        validate_certs: "{{ validate_certs }}"