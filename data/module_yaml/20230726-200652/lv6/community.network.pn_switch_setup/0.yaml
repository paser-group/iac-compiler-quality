- name: Test play for community.network.pn_switch_setup
  hosts: localhost
  gather_facts: false

  vars:
    pn_switch_name: "{{ '\"' + item + '\"' }}"
    pn_switch_names:
      - "ubuntu1\xe2\x80\x8b"
      - "alpine1\xe2\x80\x8b"
      - "centos1\xe2\x80\x8b"
      - "redhat1\xe2\x80\x8b"

  tasks:
    - name: Test with varied encoding strings
      community.network.pn_switch_setup:
        pn_switch_name: "{{ pn_switch_name }}"
      loop: "{{ pn_switch_names }}"
      loop_control:
        loop_var: item
      register: result

    - name: Display the result
      debug:
        var: result