- name: Test Keycloak Client Scope
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create Keycloak Client Scope
      community.general.keycloak_clientscope:
        auth_keycloak_url: "https://keycloak.example.com/auth"
        auth_realm: "my_realm"
        auth_username: "admin"
        auth_password: "admin_password"
        auth_client_id: "admin-cli"
        validate_certs: false
        name: "{{ item }}"
        state: present
      with_items:
        - "Test Scope"
        - 123                                          # Trigger for type-related bug
        - "{{ [1, 2, 3] }}"                            # Trigger for type-related bug
        - "{{ True }}"                                 # Trigger for type-related bug
        - "{{ null }}"                                 # Trigger for type-related bug
        - "'Test{{ ansible_inventory_hostname_short }}'"  # Dynamic string value