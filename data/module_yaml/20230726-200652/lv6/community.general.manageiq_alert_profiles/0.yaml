---
- name: Test playbook for manageiq_alert_profiles module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure alert profiles
      community.general.manageiq_alert_profiles:
        manageiq_connection:
          api_url: "https://manageiq.example.com"
          username: "admin"
          password: "password"
        name: "Invalid Alert Profile"
        resource_type: "vm"
        state: present
        alerts:
          - event_type: "evm_event_name"
            event_where_clause: "event_type = true"
            enabled: true
            action:
              subject: "Invalid Subject ÿÿÿ"
              body: "Invalid Body ÿÿÿ"
              notification_type: "email"
              enabled: true
        notes: "Invalid notes ÿÿÿ"
      register: result

    - name: Display result
      debug:
        var: result