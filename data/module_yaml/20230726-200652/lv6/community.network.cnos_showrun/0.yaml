---
- name: Execute 'community.network.cnos_showrun' module
  hosts: all
  gather_facts: false

  tasks:
    - name: 'community.network.cnos_showrun'
      ansible_collections:
        - community.network
      connection: network_cli
      vars:
        deviceType: cnos
        host: "{{ inventory_hostname }}"
        username: admin
        password: "{{ password }}"
        outputfile: "/tmp/showrun_{{ inventory_hostname }}.txt"
      register: showrun_output

    - name: Output the results
      debug:
        var: showrun_output