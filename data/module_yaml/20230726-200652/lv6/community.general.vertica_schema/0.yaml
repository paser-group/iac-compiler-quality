- name: Add Vertica Schema
  hosts: all
  gather_facts: false
  collections:
    - community.general

  vars:
    cluster: "my_vertica_cluster"
    db: "my_db"
    schema: "my_schema"
    state: "present"
    login_user: "dbadmin"
    login_password: "password"
    owner: "dbadmin"
    usage_roles: "role1"
    create_roles: "role2"
    port: "5433"

  tasks:
    - name: Add Vertica Schema
      community.general.vertica_schema:
        cluster: "{{ cluster }}"
        db: "{{ db }}"
        schema: "{{ schema }}"
        state: "{{ state }}"
        login_user: "{{ login_user }}"
        login_password: "{{ login_password }}"
        owner: "{{ owner }}"
        usage_roles: "{{ usage_roles }}"
        create_roles: "{{ create_roles }}"
        port: "{{ port }}"