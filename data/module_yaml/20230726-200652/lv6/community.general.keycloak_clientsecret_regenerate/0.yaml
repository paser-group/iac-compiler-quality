---
- name: Regenerate Keycloak client secret
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Regenerate client secret
      community.general.keycloak_clientsecret_regenerate:
        auth_client_id: 12345
        auth_client_secret: true
        auth_keycloak_url: 10.1.1.1
        auth_password: ["password"]
        auth_realm: my_realm
        auth_username: alice
        client_id: client1
        connection_timeout: "10"
        http_agent: ansible
        id: null
        realm: ~
        token: |
          -----BEGIN CERTIFICATE-----
          MIID...
          ...
          -----END CERTIFICATE-----
        validate_certs: "true"
      register: result

    - name: Debug result
      debug:
        var: result