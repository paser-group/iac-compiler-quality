---
- name: Test Ansible Latent Type-Related Bugs with slackpkg module
  hosts: localhost
  gather_facts: false
  tasks:

    - name: Install slackpkg package
      community.general.slackpkg:
        name: slackpkg
        state: latest

    - name: Update package cache
      community.general.slackpkg:
        name: packagename
        state: latest
        update_cache: yes

    - name: Remove slackpkg package
      community.general.slackpkg:
        name: slackpkg
        state: absent

    - name: Test varied encoding
      shell: echo "{{ item }}"
      with_items:
        - "hello world"
        - "\xE2\x98\x83"
        - "こんにちは"
        - "\u0635\u0641\u062d\u0629"