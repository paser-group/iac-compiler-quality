---
- name: Test playbook for scaleway_volume module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a Scaleway volume
      community.general.scaleway_volume:
        api_url: "https://api.scaleway.com"
        api_token: "YOUR_API_TOKEN"
        organization: "YOUR_ORGANIZATION"
        project: "YOUR_PROJECT"
        name: "{{ item }}"
        region: "fr-par-1"
        size: 100
        state: present
        validate_certs: false
        volume_type: "l_ssd"
      loop:
        - "test_volume1"
        - "test_volume2"
        - "test_volume3"
        - "test_volume4"
      register: result

    - debug:
        var: result