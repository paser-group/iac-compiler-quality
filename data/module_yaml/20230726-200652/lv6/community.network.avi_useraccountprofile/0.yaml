---
- name: Test playbook for community.network.avi_useraccountprofile module
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Create user account profile with different encodings
      community.network.avi_useraccountprofile:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        api_context:
          - api_version: "{{ api_version }}"
            avi_api_patch_op: "{{ avi_api_patch_op }}"
            avi_api_update_method: "{{ avi_api_update_method }}"
            max_login_failure_count: "{{ max_login_failure_count }}"
            max_password_history_count: "{{ max_password_history_count }}"
            max_concurrent_sessions: "{{ max_concurrent_sessions }}"
            account_lock_timeout: "{{ account_lock_timeout }}"
            credentials_timeout_threshold: "{{ credentials_timeout_threshold }}"
            avi_disable_session_cache_as_fact: "{{ avi_disable_session_cache_as_fact }}"
            name: "{{ name }}"
            state: "{{ state }}"
            tenant_uuid: "{{ tenant_uuid }}"
            url: "{{ url }}"
            uuid: "{{ uuid }}"
        avi_credentials:
          - username: "{{ username }}"
            password: "{{ password }}"
      register: result

    - name: Display result
      debug:
        var: result