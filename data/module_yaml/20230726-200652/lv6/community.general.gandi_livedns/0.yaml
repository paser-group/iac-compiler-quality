- name: Test Gandi Livedns Module
  hosts: localhost
  gather_facts: false
  vars:
    api_key: 'my_secret_api_key'
    domain: 'example.com'
    record: 'test-record'
    state: present
    ttl: 3600
    type: A
    values:
      - "10.1.1.1"
      - 10.1.1.2
      - fa:ce:b0:0c:0d:0e
      - ["10.1.1.3"]
      - {"key": "value"}
  
  tasks:
    - name: Create test record
      community.general.gandi_livedns:
        api_key: "{{ api_key }}"
        domain: "{{ domain }}"
        record: "{{ record }}"
        state: "{{ state }}"
        ttl: "{{ ttl }}"
        type: "{{ type }}"
        values: "{{ values }}"
      register: result

    - name: Debug result
      debug:
        var: result