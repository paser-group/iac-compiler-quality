---
- name: Ansible Latent Type-Related Bug Exploration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Trigger latent type-related bug
      community.general.consul_session:
        name: "{{ 10.1.1.1 }}"
        state: "{{ ['running', 'paused', 'stopped'] | shuffle }}"
        datacenter: 
          - "{{ ['dc1', 'dc2'] | shuffle }}"
        host: 
          - "{{ ['localhost', '127.0.0.1'] | shuffle }}"
        scheme: "{{ 'http' }}"
        port: 
          - "{{ true }}"
        checks: 
          - "{{ true }}"
        ttl: "{{ 'hello' }}"