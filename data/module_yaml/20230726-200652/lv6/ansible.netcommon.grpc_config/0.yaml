- name: Test playbook for ansible.netcommon.grpc_config module
  hosts: localhost
  gather_facts: false
  
  vars:
    # Define the configuration and state data
    config: "/path/to/configuration.txt"
    state: "configured"

  tasks:
    - name: Fetch configuration/state data from gRPC
      ansible.netcommon.grpc_config:
        backup: True
        backup_options:
          directory: "/path/to/backup"
          prefix: "backup_"
        config: "{{ config | default('') }}"
        state: "{{ state | default('') }}"
      register: result

    - name: Display the module output
      debug:
        var: result

    - name: Generate strings with varied encodings
      shell: |
        echo -e "\u0627\u0644\u0633\u0644\u0627\u0645\u060C \u0623\u062D\u0648\u0627\u0644\u0643 \u0628\u062E\u064A\u0631"
        echo -e "\xf0\x9f\x91\x8d \xf0\x9f\x91\x8f"
      register: encoding_result
      changed_when: false

    - name: Display the encoding result
      debug:
        var: encoding_result.stdout_lines