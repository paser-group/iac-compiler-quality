---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Generate strings with varied encodings
      set_fact:
        string_encodings:
          - UTF-8
          - UTF-16
          - UTF-32
          - ISO-8859-1
          - ISO-8859-2
          - ISO-8859-3

    - name: Debug string encodings
      debug:
        var: string_encodings

    - name: Run cobbler_sync module with different string encodings
      community.general.cobbler_sync:
        host: "{{ host }}"
        password: "{{ password }}"
        port: "{{ port }}"
        use_ssl: "{{ use_ssl }}"
        username: "{{ username }}"
        validate_certs: "{{ validate_certs }}"
      loop: "{{ string_encodings }}"
      register: result
      
    - name: Debug module output
      debug:
        var: result