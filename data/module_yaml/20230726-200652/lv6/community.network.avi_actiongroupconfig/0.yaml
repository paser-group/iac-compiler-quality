---
- name: Test playbook to uncover latent type-related bugs in Ansible module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include required Ansible module
      include_role:
        name: ansible-network.network.avi
        tasks_from: actiongroupconfig.yml

    - name: Generate strings with varied encodings
      set_fact:
        encoded_strings:
          - None
          - "{'key': 'value'}"
          - "v1"
          - True
          - None
          - None
          - "{'user': 'admin', 'password': 'pass'}"
          - True
          - "192.168.1.1"
          - None
          - None
          - False
          - None
          - None
          - "secret"
          - None
          - "present"
          - None
          - None
          - "default"
          - None
          - "1234567890"
          - None
          - "admin"
          - None

    - name: Execute actiongroupconfig module with encoded strings
      community.network.avi_actiongroupconfig:
        action_script_config_ref: "{{ encoded_strings[0] }}"
        api_context: "{{ encoded_strings[1] }}"
        api_version: "{{ encoded_strings[2] }}"
        autoscale_trigger_notification: "{{ encoded_strings[3] }}"
        avi_api_patch_op: "{{ encoded_strings[4] }}"
        avi_api_update_method: "{{ encoded_strings[5] }}"
        avi_credentials: "{{ encoded_strings[6] }}"
        avi_disable_session_cache_as_fact: "{{ encoded_strings[7] }}"
        controller: "{{ encoded_strings[8] }}"
        description: "{{ encoded_strings[9] }}"
        email_config_ref: "{{ encoded_strings[10] }}"
        external_only: "{{ encoded_strings[11] }}"
        level: "{{ encoded_strings[12] }}"
        name: "{{ encoded_strings[13] }}"
        password: "{{ encoded_strings[14] }}"
        snmp_trap_profile_ref: "{{ encoded_strings[15] }}"
        state: "{{ encoded_strings[16] }}"
        syslog_config_ref: "{{ encoded_strings[17] }}"
        tenant: "{{ encoded_strings[18] }}"
        tenant_ref: "{{ encoded_strings[19] }}"
        tenant_uuid: "{{ encoded_strings[20] }}"
        url: "{{ encoded_strings[21] }}"
        username: "{{ encoded_strings[22] }}"
        uuid: "{{ encoded_strings[23] }}"
      register: result

    - name: Debug result
      debug:
        var: result