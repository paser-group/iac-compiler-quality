---
- name: Test playbook for scaleway_container_namespace module
  hosts: localhost
  gather_facts: false
  tasks:
    # Install required community.general collection
    - name: Install required Ansible collection
      ansible.builtin.shell: ansible-galaxy collection install community.general

    # Trigger type-related bug
    - name: Trigger type-related bug in scaleway_container_namespace module
      community.general.scaleway_container_namespace:
        api_timeout: "1"
        api_token: "my_api_token"
        api_url: "https://api.scaleway.com"
        description: "Test namespace"
        environment_variables:
          - name: "ENV_VAR_1"
            value: "Value 1"
        name: "test_namespace"
        project_id: "my_project_id"
        query_parameters:
          - name: "param_1"
            value: "value_1"
        region: "ams1"
        secret_environment_variables:
          - name: "SECRET_ENV_VAR_1"
            value: "Secret Value 1"
        state: "present"
        validate_certs: false
        wait: true
        wait_sleep_time: "10"
        wait_timeout: "60"

      # Add more task(s) to verify the behavior and output of the module

      register: result

    # Debug the result to identify type-related bugs
    - name: Debug result
      ansible.builtin.debug:
        var: result