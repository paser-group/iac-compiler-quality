---
- name: Test playbook for community.network.pn_vrouter_bgp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure vRouter BGP
      community.network.pn_vrouter_bgp:
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        pn_neighbor: "{{ pn_neighbor }}"
        pn_remote_as: "{{ pn_remote_as }}"
        pn_interface: "{{ pn_interface }}"
        pn_password: "{{ pn_password }}"
        pn_route_map_in: "{{ pn_route_map_in }}"
        pn_route_map_out: "{{ pn_route_map_out }}"
        pn_prefix_list_in: "{{ pn_prefix_list_in }}"
        pn_prefix_list_out: "{{ pn_prefix_list_out }}"
        pn_advertisement_interval: "{{ pn_advertisement_interval }}"
        pn_allowas_in: "{{ pn_allowas_in }}"
        pn_bfd: "{{ pn_bfd }}"
        pn_bfd_multihop: "{{ pn_bfd_multihop }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_connect_retry_interval: "{{ pn_connect_retry_interval }}"
        pn_default_originate: "{{ pn_default_originate }}"
        pn_ebgp_multihop: "{{ pn_ebgp_multihop }}"
        pn_max_prefix: "{{ pn_max_prefix }}"
        pn_max_prefix_warn_only: "{{ pn_max_prefix_warn_only }}"
        pn_multi_protocol: "{{ pn_multi_protocol }}"
        pn_neighbor_holdtime: "{{ pn_neighbor_holdtime }}"
        pn_neighbor_keepalive_interval: "{{ pn_neighbor_keepalive_interval }}"
        pn_next_hop_self: "{{ pn_next_hop_self }}"
        pn_no_route_map_in: "{{ pn_no_route_map_in }}"
        pn_no_route_map_out: "{{ pn_no_route_map_out }}"
        pn_override_capability: "{{ pn_override_capability }}"
        pn_route_reflector_client: "{{ pn_route_reflector_client }}"
        pn_send_community: "{{ pn_send_community }}"
        pn_soft_reconfig_inbound: "{{ pn_soft_reconfig_inbound }}"
        pn_update_source: "{{ pn_update_source }}"
        pn_weight: "{{ pn_weight }}"
        state: present
      register: result

    - name: Print result
      debug:
        var: result