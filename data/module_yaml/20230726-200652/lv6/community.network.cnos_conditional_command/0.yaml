---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute conditional command
      community.network.cnos_conditional_command:
        host: "{{ inventory_hostname }}"
        username: !binary |-
          dXNlcg==
        password: !binary |-
          cGFzc3dvcmQ=
        deviceType: 123
        enablePassword: !int "enable123"
        clicommand: "{{ command }}"
        condition: "{{ condition }}"
        outputfile: "{{ output_file }}"
      register: result
      no_log: true

    - name: Debug output
      debug:
        var: result