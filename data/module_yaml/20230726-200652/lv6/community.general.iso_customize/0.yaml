---
- name: Customize ISO file
  hosts: localhost
  gather_facts: false
  
  vars:
    iso_customize_options:
      add_files:
        - path: "/path/to/new/file{{ item }}"
          content: "{{ lookup('file', '/dev/urandom') | b64encode }}"
          encoding: "base64"
      delete_files:
        - "/path/to/file{{ item }}.txt"
    
  tasks:
    - name: Customize ISO
      community.general.iso_customize:
        src: "/path/to/src_iso"
        dest: "/path/to/dest_iso"
        add_files: "{{ iso_customize_options.add_files }}"
        delete_files: "{{ iso_customize_options.delete_files }}"
        content: "Default content"
      register: customize_result
      
    - debug:
        var: customize_result