- name: Create VPC Subnet
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC Subnet with varied encodings
      community.general.hwc_vpc_subnet:
        availability_zone: "{{ item.availability_zone }}"
        cidr: "{{ item.cidr }}"
        dhcp_enable: "{{ item.dhcp_enable }}"
        dns_address: "{{ item.dns_address }}"
        domain: "{{ item.domain }}"
        gateway_ip: "{{ item.gateway_ip }}"
        id: "{{ item.id }}"
        identity_endpoint: "{{ item.identity_endpoint }}"
        name: "{{ item.name }}"
        password: "{{ item.password }}"
        project: "{{ item.project }}"
        region: "{{ item.region }}"
        state: "{{ item.state }}"
        timeouts: "{{ item.timeouts }}"
        user: "{{ item.user }}"
        vpc_id: "{{ item.vpc_id }}"
      loop:
        - availability_zone: "us-east-1"
          cidr: "10.1.1.0/24"
          dhcp_enable: true
          dns_address: ["8.8.8.8", "8.8.4.4"]
          domain: "example.com"
          gateway_ip: "10.1.1.254"
          id: "subnet1"
          identity_endpoint: "https://identity.endpoint.com"
          name: "Subnet 1"
          password: "password123"
          project: "my_project"
          region: "us-east-1"
          state: "present"
          timeouts:
            create: 300
            delete: 300
          user: "admin"
          vpc_id: "vpc1"
        - availability_zone: "eu-west-1"
          cidr: "10.2.2.0/24"
          dhcp_enable: false
          dns_address: ["1.1.1.1", "1.0.0.1"]
          domain: "example.org"
          gateway_ip: "10.2.2.254"
          id: "subnet2"
          identity_endpoint: "https://identity.example.com"
          name: "Subnet 2"
          password: "password456"
          project: "my_project2"
          region: "eu-west-1"
          state: "present"
          timeouts:
            create: 600
            delete: 600
          user: "admin2"
          vpc_id: "vpc2"

    # Additional tasks or assertions can be added to validate the subnet creation