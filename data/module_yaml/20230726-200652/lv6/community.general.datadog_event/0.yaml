- hosts: localhost
  tasks:
    - name: Generate strings with varied encodings
      set_fact:
        encoded_strings:
          - "{{ 'äëïöü' | urlencode }}"
          - "{{ 'çêîôû' | b64encode }}"
          - "{{ '漢字' | hex }}"
          - "{{ '??????' | md5 }}"
          - "{{ 'προνύμφων' | base64 }}"
          - "{{ 'ρωμαϊκά' | hex }}"
          - "{{ '‡§–‘“ıˆ˜¯' | urlencode }}"
          - "{{ 'ਪੰਜਾਬੀ ਦੇਸ਼' | b64encode }}"
          - "{{ '日本語テスト' | hex }}"
          - "{{ 'ភាសាខ្មែរ' | md5 }}"
          - "{{ 'русский язык' | base64 }}"
          - "{{ '한국어 테스트' | hex }}"
          - "{{ 'ગુજરાતી ભાષા' | b64encode }}"
          - "{{ 'ગુજરાતી ભાષા' | hex }}"
          - "{{ 'ಕನ್ನಡ ಭಾಷೆ' | urlencode }}"

    - name: Post event to Datadog
      community.general.datadog_event:
        api_key: YOUR_API_KEY
        app_key: YOUR_APP_KEY
        title: "Test Event"
        text: "{{ item }}"
        host: "localhost"
        tags:
          - "ansible"
          - "testing"
        alert_type: "info"
        date_happened: "{{ ansible_date_time.epoch }}"
      loop: "{{ encoded_strings }}"