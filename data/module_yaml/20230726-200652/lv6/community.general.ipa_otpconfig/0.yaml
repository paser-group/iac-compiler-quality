---
- name: Test playbook for community.general.ipa_otpconfig module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure OTP settings with varied encodings
      community.general.ipa_otpconfig:
        ipa_host: "{{ ipa_host }}"
        ipa_user: 123
        ipa_pass: 456
        ipa_port: "{{ ipa_port }}"
        ipa_prot: 789
        ipa_timeout: "{{ ipa_timeout }}"
        ipatokenhotpauthwindow: "{{ ipatokenhotpauthwindow }}"
        ipatokenhotpsyncwindow: "abc"
        ipatokentotpauthwindow: "{{ ipatokentotpauthwindow }}"
        ipatokentotpsyncwindow: 123
        validate_certs: "{{ validate_certs }}"

      register: result

    - name: Debug module output
      debug:
        var: result