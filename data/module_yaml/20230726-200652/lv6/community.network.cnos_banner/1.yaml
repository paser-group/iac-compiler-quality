---
- name: Test playbook for cnos_banner module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Configure banner with varied encodings
      community.network.cnos_banner:
        banner: "{{ banner }}"
        state: "{{ state }}"
        text: "{{ text }}"
      register: banner_result
      vars:
        banner: "{{ ['Hello World', 'Ansible', 'Test Playbook'] | random }}"
        state: "{{ ['present', 'absent'] | random }}"
        text: "{{ ['{{ banner | b64encode }}', '{{ banner | hexlify }}'] | random }}"

    - name: Debug banner_result
      debug:
        var: banner_result