- name: Test playbook for community.general.xenserver_guest_info module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Gather information for virtual machines
      community.general.xenserver_guest_info:
        hostname: "xenserver.example.com"
        username: "{{ 'admin' | unicode(to='utf-8') }}"
        password: "admin123"
        uuid: "VM-UUID-123"
        validate_certs: true

      register: vm_info

    - name: Display gathered information
      debug:
        var: vm_info