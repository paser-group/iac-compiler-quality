---
- name: Test znode module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create znode with different encodings
      uri:
        url: "http://{{ ansible_host }}:{{ ansible_port }}/my_znode"
        method: POST
        headers:
          Content-Type: "{{ item.content_type }}"
        body: "{{ item.content }}"
        status_code: 200
      with_items:
        - { content_type: "text/plain", content: "Hello, World!" }
        - { content_type: "application/json", content: "Hello, World!" }
        - { content_type: "application/octet-stream", content: "SGVsbG8sIFdvcmxkIQ==" }  # Base64 encoded
        # Add more variations here
      register: result

    - name: Display create result
      debug:
        var: result