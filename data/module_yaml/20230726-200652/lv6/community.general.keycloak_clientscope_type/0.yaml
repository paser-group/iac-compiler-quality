---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false
  vars:
    test_strings:
      - 'some_string'
      - '☺'
      - 'åêîøü'
      - 'こんにちは'
      - 'مرحبا'

  tasks:
    - name: Set the type of clientscope in realm/clients
      community.general.keycloak_clientscope_type:
        auth_client_id: my_client
        auth_client_secret: my_client_secret
        auth_keycloak_url: https://keycloak.example.com/auth
        auth_password: my_password
        auth_realm: my_realm
        auth_username: my_username
        client_id: my_client_id
        connection_timeout: 30
        default_clientscopes: "{{ test_strings }}"
        http_agent: 'Mozilla/5.0 (X11; Fedora; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36'
        optional_clientscopes:
          - optional1
          - optional2
        realm: my_realm
        token: my_token
        validate_certs: true