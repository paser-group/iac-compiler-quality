---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Upload object with different encodings
      community.general.rax_files_objects:
        api_key: "{{ ansible_password }}"
        auth_endpoint: "https://example.com/auth"
        container: "test_container"
        dest: "/path/to/destination"
        src: "/path/to/source/{{ item }}"
      with_items:
        - "file1.txt"
        - "file2.txt"
        - "file3.txt"
        - "file4.txt"
      register: upload_object_result

    - name: Print upload object result
      debug:
        var: upload_object_result

    - name: Download object with different encodings
      community.general.rax_files_objects:
        api_key: "{{ ansible_password }}"
        auth_endpoint: "https://example.com/auth"
        container: "test_container"
        dest: "/path/to/destination/{{ item }}"
        src: "/path/to/source"
      with_items:
        - "file1.txt"
        - "file2.txt"
        - "file3.txt"
        - "file4.txt"
      register: download_object_result

    - name: Print download object result
      debug:
        var: download_object_result

    - name: Delete object with different encodings
      community.general.rax_files_objects:
        api_key: "{{ ansible_password }}"
        auth_endpoint: "https://example.com/auth"
        container: "test_container"
        src: "/path/to/source/{{ item }}"
      with_items:
        - "file1.txt"
        - "file2.txt"
        - "file3.txt"
        - "file4.txt"
      register: delete_object_result

    - name: Print delete object result
      debug:
        var: delete_object_result