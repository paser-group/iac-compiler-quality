---
- name: Test playbook for cnos_logging module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate strings with varied encodings
      vars:
        strings:
          - 'normal_string'
          - "{{ 'normal_string' | to_json }}"
          - "{{ 'normal_string' | to_yaml }}"
          - "{{ 'normal_string' | b64encode }}"
          - "{{ 'normal_string' | b32encode }}"
          - "{{ 'normal_string' | urlencode }}"
      block:
        - name: Include the 'community.network.cnos_logging' module
          include_role:
            name: community.network.cnos_logging
          vars:
            aggregate: "{{ item }}"
            dest: "{{ item }}"
            facility: "{{ item }}"
            level: "{{ item }}"
            name: "{{ item }}"
            size: "{{ item }}"
            state: "{{ item }}"
          loop: "{{ strings }}"