---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute the module with potentially conflicting variable types
      community.general.utm_ca_host_key_cert_info:
        headers:
          Content-Type: "{{ 'application/json' }}"
        name: "{{ 'my_ca_cert' }}"
        state: "{{ 'present' }}"
        utm_host: "{{ 'localhost' }}"
        utm_port: "{{ -8443 }}"
        utm_protocol: "{{ 'https' }}"
        utm_token: "{{ 'my_token' }}"
        validate_certs: "{{ true }}"
      register: result

    - name: Debug module output
      debug:
        var: result