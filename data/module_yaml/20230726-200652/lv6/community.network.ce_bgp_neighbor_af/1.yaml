---
- name: Manage BGP neighbor Address-family configuration
  hosts: bgp_nodes
  gather_facts: false
  tasks:
    - name: Test varied encodings
      debug:
        msg:
          - "{{ test_string | list }}"
          - "{{ test_string | json_query(query) }}"
          - "{{ test_string | regex_replace(regex, replace) }}"
      vars:
        test_string: "Test String"
        query: "[?@ == `T` || @ == `e` || @ == `s` || @ == `t` || @ == ` ` || @ == `S` || @ == `t` || @ == `r` || @ == `i` || @ == `n` || @ == `g`] | [0]"
        regex: "(.)"
        replace: "\\1"