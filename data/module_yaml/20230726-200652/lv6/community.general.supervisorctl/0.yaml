- name: Test playbook for 'community.general.supervisorctl' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Check status of the program
      supervisorctl:
        name: "{{ ['my_program'] | random }}"
        state: "{{ ['status', 'stopped', 'started', 'restarted', 'absent'] | random }}"
      register: program_status

    - name: Print program status
      debug:
        var: program_status.stdout