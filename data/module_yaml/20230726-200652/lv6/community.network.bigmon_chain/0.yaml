- name: Test playbook for the community.network.bigmon_chain module
  hosts: localhost
  gather_facts: false

  vars:
    access_token: null
    controller: null
    name: null
    state: null
    validate_certs: false

  tasks:
    - name: Generate strings with varied encodings
      vars:
        encodings:
          - 'utf-8'
          - 'utf-16'
          - 'utf-32'

      debug:
        var: item
        msg: "Encoded string: {{ item | encoding(lookup('vars', 'encoding')) }}"

    - name: Create a bigmon chain
      community.network.bigmon_chain:
        access_token: "{{ access_token }}"
        controller: "{{ controller }}"
        name: "{{ name }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Print the result of creating the bigmon chain
      debug:
        var: result

    - name: Remove the bigmon chain
      community.network.bigmon_chain:
        access_token: "{{ access_token }}"
        controller: "{{ controller }}"
        name: "{{ name }}"
        state: absent
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Print the result of removing the bigmon chain
      debug:
        var: result