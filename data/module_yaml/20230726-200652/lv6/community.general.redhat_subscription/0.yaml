---
- name: Test Ansible Latent Type-Related Bug
  hosts: all
  gather_facts: false
  vars:
    username: True
    password: 123
    server_hostname: ['ansible']
    syspurpose:
      name: 10.1.1.1
      description: 10.1.1.2
      rhn_platform: 10.1.1.3
      rhn_service_level: True
      rhn_role: 123
  tasks:
    - name: Register and subscribe to RHSM
      redhat_subscription:
        state: present
        username: '{{ username }}'
        password: '{{ password }}'
        server_hostname: '{{ server_hostname }}'
        syspurpose: '{{ syspurpose }}'
      register: result

    - name: Debug result
      debug:
        var: result