---
- name: Test BigPanda Integration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test with different encodings
      community.general.bigpanda:
        component: "Test Component"
        deployment_message: "Test Deployment"
        description: "Test Description"
        env: "Test Env"
        hosts: "Test Hosts"
        owner: "Test Owner"
        source_system: "Test Source"
        state: "Test State"
        token: "Test Token"
        url: "Test URL"
        validate_certs: false
        version: "Test Version"
      vars:
        encoding: [
          "utf-8",
          "utf-16",
          "utf-32",
          "iso-8859-1",
          "iso-8859-2"
        ]
      loop: "{{ encoding }}"
      loop_control:
        loop_var: encoding_var

      register: result

    - name: Show result for each encoding
      debug:
        msg: "Result for encoding {{ encoding_var }} - {{ result.stdout }}"