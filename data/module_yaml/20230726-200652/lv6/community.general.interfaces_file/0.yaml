- name: Tweak settings in /etc/network/interfaces file
  hosts: all
  become: yes
  gather_facts: no

  tasks:
    - name: Configure network interfaces
      community.general.interfaces_file:
        dest: /etc/network/interfaces
        iface: eth0
        attributes: ['up', 'down']
        option: 'pre-up'
        value: 'echo "Hello, World!"'
        state: present
      register: result

    - debug:
        var: result