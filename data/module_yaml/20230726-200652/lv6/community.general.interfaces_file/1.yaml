- name: Tweak settings in /etc/network/interfaces file
  hosts: all
  become: yes
  gather_facts: no

  tasks:
    - name: Configure network interfaces
      community.general.interfaces_file:
        dest: /etc/network/interfaces
        iface: eth0
        attributes: ['up', 'down']
        option: 'pre-up'
        value: "{{ item }}"
        state: present
      with_items:
        - "echo 'Hello, World!'"
        - "echo 'Hello, World!' | base64"
        - "echo 'Hello, World!' | sha256sum"
        - "echo 'Hello, World!' | gzip"
      register: result

    - debug:
        var: result