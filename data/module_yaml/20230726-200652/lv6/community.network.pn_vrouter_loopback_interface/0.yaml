- name: Test playbook for community.network.pn_vrouter_loopback_interface
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Set encoded string
      set_fact:
        pn_cliswitch_encoded: "{{ pn_cliswitch | b64encode }}"
        
    - name: Add or remove vrout...
      community.network.pn_vrouter_loopback_interface:
        pn_cliswitch: "{{ pn_cliswitch_encoded }}"
        pn_index: "{{ pn_index }}"
        pn_ip: "{{ pn_ip }}"
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        state: "{{ state }}"
      register: result

    - name: Print the result
      debug:
        var: result