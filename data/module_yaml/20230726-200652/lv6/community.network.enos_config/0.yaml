---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure ENOS devices
      community.network.enos_config:
        admin: "true"
        authorize: "true"
        auth_pass: "supersecret"
        backup: "true"
        backup_options:
          dir_path: "/backup"
        src: "{}_config.cfg".format(inventory_hostname)
        config: |
          !
          interface eth1
            ip address 10.1.1.1/24
          !
      register: config_result

    - name: Display the result
      debug:
        var: config_result