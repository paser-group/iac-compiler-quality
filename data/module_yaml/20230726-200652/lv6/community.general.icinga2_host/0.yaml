---
- name: Icinga2 Host Configuration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Icinga2 Hosts
      community.general.icinga2_host:
        name: "{{ item }}"
        url: "https://icinga2.example.com"
        url_username: "admin"
        url_password: "admin"
        ip: "10.1.1.1"
        state: present
      loop: "{{ ['ubuntu1', 'ubuntu1'.decode('utf-8').encode('utf-16')] }}"