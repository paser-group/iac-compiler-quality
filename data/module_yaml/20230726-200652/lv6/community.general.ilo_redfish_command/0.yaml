---
- name: Test playbook for iLO Redfish commands
  hosts: localhost
  gather_facts: false
  vars:
    auth_token: "your_auth_token"
    baseuri: "https://ilo.example.com/redfish/v1"
    category: "login"
    command:
      - "session"
      - "-S"
      - "-U"
      - "{{ username }}"
      - "-P"
      - "{{ password }}"
    password: "your_password"
    timeout: "30"
    username: "your_username"

  tasks:
    - name: Execute iLO Redfish command
      ilo_redfish_command:
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        password: "{{ password }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
      register: result

    - name: Debug result
      debug:
        var: result