---
- name: Test Redfish Info Module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate strings with varied encodings
      set_fact:
        encoded_strings: [
          "{{ 'test_string' | b64encode() }}",
          "{{ 'test_string' | urlencode }}",
          "{{ 'test_string' | json_query('[0]') }}"
        ]

    - name: Test Redfish Info Module with different encodings
      community.general.redfish_info:
        auth_token: "{{ encoded_auth_token }}"
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        password: "{{ encoded_password }}"
        timeout: "{{ timeout | int }}"
        update_handle: "{{ update_handle }}"
        username: "{{ username }}"
      vars:
        encoded_auth_token: "{{ item }}"
        encoded_password: "{{ item }}"
      loop: "{{ encoded_strings }}"