---
- name: Test playbook for smartos_image_info module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set up variables
      set_fact:
        test_images:
          - 'datá:image=A6k8f3\xb1\xab\xf6\x05'
          - 'image=7263616e646f6d'
          - 'image=736f6d65'
          - 'image=87//78ds'
          - 'imagé=646174/E5\x92\x8d'
          - 'image=54686973\xa1\xe8'
          - 'image=636c6f7564'
          - 'image=54686973/event=E5\x92\x8d'

    - name: Get information about SmartOS images
      community.general.smartos_image_info:
        image: "{{ item }}"
      loop: "{{ test_images }}"
      register: image_info_output

    - name: Display image information
      debug:
        var: image_info_output