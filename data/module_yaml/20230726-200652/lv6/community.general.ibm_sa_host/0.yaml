- name: Add or Remove hosts from IBM Spectrum Accelerate File System
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Include required role
      include_role:
        name: ibm.spectrum_accelerate
        tasks_from: sa_host

    - name: Add or Remove hosts
      community.general.ibm_sa_host:
        cluster: "my_cluster"
        domain: "my_domain"
        endpoints: "https://my-endpoint.com"
        host: "10.1.1.1"
        iscsi_chap_name: "chap_user"
        iscsi_chap_secret: "chap_password"
        password: "my_password"
        state: present
        username: "my_username"
      register: result

    - name: Debug result
      debug:
        var: result