---
- name: Test playbook for ansible.builtin.rpm_key module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Add or remove GPG key with varied encodings
      ansible.builtin.rpm_key:
        key: "{{ item }}"
        state: present
        validate_certs: false
      with_items:
        - 'example.key'
        - '{{ "\u0441\u043f\u0430\u0441\u0438\u0431\u043e".encode("utf-8") }}'
        - '{{ "\xe8\xb0\xa2\xe8\xb0\xa2".encode("gbk") }}'
      register: result

    - name: Debug result
      ansible.builtin.debug:
        var: result