- name: Test playbook for 'community.general.ipa_dnszone' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add IPA DNS zone
      community.general.ipa_dnszone:
        ipa_host: "{{ ipa_host }}"
        ipa_user: "{{ ipa_user }}"
        ipa_pass: "{{ ipa_pass }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        zone_name: "{{ zone_name }}"
        allowsyncptr: "{{ allowsyncptr }}"
        dynamicupdate: "{{ dynamicupdate }}"
        ipa_port: "{{ ipa_port }}"
        ipa_prot: "{{ ipa_prot }}"
        ipa_timeout: "{{ ipa_timeout }}"

      vars:
        ipa_host: "10.1.1.1"
        ipa_user: "admin"
        ipa_pass: "password"
        state: "present"
        validate_certs: false
        zone_name: "{{ zone_name }}" # Potential type-related bug: referencing undefined variable 'zone_name'
        allowsyncptr: true
        dynamicupdate: false
        ipa_port: "https" # Potential type-related bug: assigning a string to an integer variable
        ipa_prot: 443 # Potential type-related bug: assigning an integer to a string variable
        ipa_timeout: "30" # Potential type-related bug: assigning a string to an integer variable