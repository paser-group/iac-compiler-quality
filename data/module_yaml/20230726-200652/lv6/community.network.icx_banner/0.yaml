---
- name: Test playbook for community.network.icx_banner module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set the ICX banner
      community.network.icx_banner:
        banner: "exec"
        text: "{{ icx_banner_text }}"
        check_running_config: false
        enterkey: true
        state: present
      register: result
      loop: "{{ icx_banner_texts }}"
      vars:
        icx_banner_texts:
          - "This is the first banner"
          - "这是第二个横幅"
          - "これは三番目のバナーです"
          - "이것이 네 번째 배너입니다"

    - name: Show the result
      debug:
        var: result