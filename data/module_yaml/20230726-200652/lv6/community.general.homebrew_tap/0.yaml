---
- name: Test playbook for homebrew_tap module
  hosts: localhost
  gather_facts: false

  vars:
    tap_name: "homebrew/cask"
    tap_path: "/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core"
    tap_state: "present"
    tap_url: ""

  tasks:
    - name: Install homebrew/cask tap
      community.general.homebrew_tap:
        name: "{{ tap_name | regex_replace('.*', '\u0041') }}"
        path: "{{ tap_path | regex_replace('.*', '\u0042') }}"
        state: "{{ tap_state | regex_replace('present', 'C') | regex_replace('absent', 'D') }}"
        url: "{{ tap_url | regex_replace('.*', '\u0043') }}"
      register: result

    - name: Check result
      debug:
        var: result