---
- name: Test playbook for identifying latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the module variables
      include_vars:
        file: "vars/oneview_ethernet_network_info.yml"
      register: ov_ethernet

    - name: Debug module parameters
      debug:
        msg: "Module parameters: {{ ov_ethernet }}"

    - name: Call the module with different encodings
      community.general.oneview_ethernet_network_info:
        hostname: "{{ ov_ethernet.hostname | b64decode }}"
        username: "{{ ov_ethernet.username }}"
        password: "{{ ov_ethernet.password }}"
        config: "{{ ov_ethernet.config }}"
        image_streamer_hostname: "{{ ov_ethernet.image_streamer_hostname }}"
        api_version: "{{ ov_ethernet.api_version | int }}"
        name: "{{ ov_ethernet.name }}"
        options: "{{ ov_ethernet.options }}"
        params: "{{ ov_ethernet.params }}"
      register: result

    - name: Debug module output
      debug:
        var: result