---
- name: Test playbook for community.general.xenserver_guest_powerstate module
  hosts: localhost
  connection: local
  gather_facts: false

  tasks:
    - name: Power on virtual machine
      community.general.xenserver_guest_powerstate:
        hostname: "10.1.1.1"
        username: "admin"
        password: "password"
        uuid: "UUID1"
        state: "running"
        state_change_timeout: 120
        validate_certs: false
        wait_for_ip_address: true
      register: result
      ignore_errors: true

    - name: Print power state result
      debug:
        var: result