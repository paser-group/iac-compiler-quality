---
- name: Test playbook
  hosts: localhost
  gather_facts: false
  
  vars:
    pn_cliswitch: "{{ lookup('env', 'PN_CLISWITCH') }}"
    pn_netmask: "{{ lookup('env', 'PN_NETMASK') }}"
    pn_network: "{{ lookup('env', 'PN_NETWORK') }}"
    pn_ospf_area: "{{ lookup('env', 'PN_OSPF_AREA') }}"
    pn_vrouter_name: "{{ lookup('env', 'PN_VROUTER_NAME') }}"
    state: "{{ lookup('env', 'STATE') }}"
  
  tasks:
    - name: Check pn_vrouter_ospf module
      community.network.pn_vrouter_ospf:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_netmask: "{{ pn_netmask }}"
        pn_network: "{{ pn_network }}"
        pn_ospf_area: "{{ pn_ospf_area }}"
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        state: "{{ state }}"
      register: result
  
    - name: Display module output
      debug:
        var: result