---
- name: Ansible Latent Bug Finder - Icinga2 Feature
  hosts: localhost
  gather_facts: false
  become: false

  tasks:
    - name: Generate strings with varied encodings
      debug:
        msg: "{{ item }}"
      loop:
        - "Icinga2 Feature 1"
        - 123
        - true
        - [1, 2, 3]
        - {"key": "value"}

    - name: Add Icinga2 feature
      community.general.icinga2_feature:
        name: "{{ item }}"
        state: present
      loop:
        - icinga2_module1
        - icinga2_module2
        - icinga2_module3
        - icinga2_module4
        - icinga2_module5
      register: result

    - name: Display module results
      debug:
        var: result