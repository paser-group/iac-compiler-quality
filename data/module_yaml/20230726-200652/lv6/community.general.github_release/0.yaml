---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost

  tasks:
    - name: Generate strings with varied encodings
      set_fact:
        strings: "{{ ['test_string', '测试字符串', 'टेस्ट स्ट्रिंग'] | map('string.encode', 'utf-8') | list }}"

    - name: Print the generated strings
      debug:
        var: strings

    - name: Test community.general.github_release with varied encodings
      community.general.github_release:
        action: "{{ item }}"
        repo: "ansible/ansible"
        tag: "{{item}}"
      loop: "{{ strings }}"