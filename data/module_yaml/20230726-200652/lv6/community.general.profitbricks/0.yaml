---
- name: Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ProfitBricks instance
      profitbricks:
        assign_public_ip: true
        auto_increment: true
        bus: "bus_string"
        cores: 2
        count: 1
        cpu_family: "cpu_family_string"
        datacenter: "datacenter_string"
        disk_type: "disk_type_string"
        image: "image_string"
        image_password: "image_password_string"
        instance_ids:
          - "instance_id_string"
        lan: 1
        location: "location_string"
        name: "name_string"
        ram: 4
        remove_boot_volume: true
        ssh_keys:
          - "ssh_key_string"
        state: "present"
        subscription_password: "subscription_password_string"
        subscription_user: "subscription_user_string"
        volume_size: 20
        wait: true
        wait_timeout: 300

      vars:
        invalid_encoding_strings:
          - "invalid_encoding_üòä_string"
          - "invalid_encoding_ùÑû_string"

    - name: Test for latent type-related bug
      debug:
        msg: "{{ item }}"
      loop: "{{ invalid_encoding_strings }}"