---
- name: Manage Vexata Volumes
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Vexata Volume
      community.general.vexata_volume:
        array: "{{ item.array }}"
        name: "{{ item.name }}"
        password: "{{ item.password }}"
        size: "{{ item.size }}"
        state: "{{ item.state }}"
        user: "{{ item.user }}"
        validate_certs: "{{ item.validate_certs }}"
      loop:
        - { array: 'vexata-array1', name: 'volume1', password: 'my_password1', size: '10G', state: 'present', user: 'admin', validate_certs: true }
        - { array: 123, name: 'volume2', password: 'my_password2', size: '20G', state: 'present', user: 'admin', validate_certs: true }
        - { array: 'vexata-array3', name: 456, password: 'my_password3', size: '30G', state: 'present', user: 'admin', validate_certs: true }
        - { array: 'vexata-array4', name: 'volume4', password: 'my_password4', size: 40, state: 'present', user: 'admin', validate_certs: true }
        - { array: 'vexata-array5', name: 'volume5', password: 'my_password5', size: '50G', state: 'present', user: 789, validate_certs: true }
        - { array: 'vexata-array6', name: 'volume6', password: 'my_password6', size: '60G', state: 'present', user: 'admin', validate_certs: 'true' }
        - { array: 'vexata-array7', name: 'volume7', password: 'my_password7', size: '70G', state: 'present', user: 'admin', validate_certs: 'false' }