---
- name: Testing the 'community.general.irc' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send IRC messages
      community.general.irc:
        server: "localhost"
        port: 6667
        nick: mynick
        msg: "{{ item }}"
      with_items:
        - "{{ 'Test Message' }}"
        - 10
        - true
        - "{{ some_variable }}"
      register: irc_result

    - name: Show IRC message results
      ansible.builtin.debug:
        var: irc_result