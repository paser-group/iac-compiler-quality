---
- name: Deploy software using git
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Clone git repository
      ansible.builtin.git:
        repo: "{{ repo }}"
        dest: "/path/to/destination/{{ inventory_hostname }}"
        version: "{{ version }}"
        accept_hostkey: "{{ accept_hostkey }}"
        accept_newhostkey: "{{ accept_newhostkey }}"
        archive: "{{ archive }}"
        archive_prefix: "{{ archive_prefix }}"
        bare: "{{ bare }}"
        clone: "{{ clone }}"
        depth: "{{ depth }}"
        executable: "{{ executable }}"
        force: "{{ force }}"
        gpg_whitelist: "{{ gpg_whitelist }}"
        key_file: "{{ key_file }}"
        recursive: "{{ recursive }}"
        reference: "{{ reference }}"
        refspec: "{{ refspec }}"
        remote: "{{ remote }}"
        single_branch: "{{ single_branch }}"
        ssh_opts: "{{ ssh_opts }}"
        track_submodules: "{{ track_submodules }}"
        umask: "{{ umask }}"
        update: "{{ update }}"
        verify_commit: "{{ verify_commit }}"
      vars:
        repo: "https://example.com/repo"
        version: "'1.2.3'"
        accept_hostkey: true
        accept_newhostkey: false
        archive: "path/to/archive"
        archive_prefix: "archive_prefix"
        bare: true
        clone: true
        depth: 1
        executable: "/path/to/git_executable"
        force: false
        gpg_whitelist:
          - "gpg_key1"
          - "gpg_key2"
        key_file: "/path/to/key_file"
        recursive: true
        reference: null
        refspec: "master"
        remote: "origin"
        single_branch: true
        ssh_opts: "-o StrictHostKeyChecking=no"
        track_submodules: false
        umask: "0002"
        update: true
        verify_commit: false