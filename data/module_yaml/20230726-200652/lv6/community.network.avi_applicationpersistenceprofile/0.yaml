---
- name: Test playbook for 'community.network.avi_applicationpersistenceprofile' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Application Persistence Profile
      community.network.avi_applicationpersistenceprofile:
        controller: "example.avi.com"
        username: "ansible"
        password: "secret"
        tenant: "Default"
        state: present
        
        # Test Cases
        name: "{{ item }}"
      loop:
        # Test case 1: Regular ASCII string
        - "Test1"
        
        # Test case 2: Unicode string
        - "\u0167\u0117\u0153\u0165 2"
        
        # Test case 3: URL encoded string
        - "Test%203"
        
        # Test case 4: Base64 encoded string
        - "{{ 'Test4' | b64encode }}"
        
        # Test case 5: Hex encoded string
        - "{{ 'Test5' | regex_replace('(.{2})', '\\1:') | regex_replace(':$', '') }}"
        
      register: result

    - name: Debug results
      debug:
        var: result