---
- name: Test playbook to uncover type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the community.general.datadog_monitor module
      include_vars:
        file: datadog_monitor.yml

    - name: Create datadog monitor with varied test cases
      community.general.datadog_monitor:
        api_host: "{{ api_host }}"
        api_key: "{{ api_key }}"
        app_key: "{{ app_key }}"
        escalation_message: "{{ escalation_message }}"
        evaluation_delay: "{{ evaluation_delay }}"
        id: "{{ id }}"
        include_tags: "{{ include_tags }}"
        locked: "{{ locked }}"
        name: "{{ name }}"
        new_host_delay: "{{ new_host_delay }}"
        no_data_timeframe: "{{ no_data_timeframe }}"
        notification_message: "{{ notification_message }}"
        notify_audit: "{{ notify_audit }}"
        notify_no_data: "{{ notify_no_data }}"
        priority: "{{ priority }}"
        query: "{{ query }}"
        renotify_interval: "{{ renotify_interval }}"
        require_full_window: "{{ require_full_window }}"
        silenced: "{{ silenced }}"
        state: "{{ state }}"
        tags: "{{ tags }}"
        thresholds: "{{ thresholds }}"
        timeout_h: "{{ timeout_h }}"
        type: "{{ type }}"
      register: result

    - name: Print the result
      debug:
        var: result