---
- name: Test playbook for community.general.imc_rest
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test with varied encoded strings
      community.general.imc_rest:
        content: "{{ item }}"
        hostname: "example.com"
        password: "password"
        path: "/path/to/resource"
        protocol: "https"
        timeout: 10
        username: "username"
        validate_certs: true
      loop:
        - "Test string"
        - "{{ 'Test string' | b64encode }}"
        - "{{ 'Test string' | urlencode }}"
        - "{{ 'Test string' | base64.b64encode }}"
        - "{{ 'Test string' | base64.b64decode }}"