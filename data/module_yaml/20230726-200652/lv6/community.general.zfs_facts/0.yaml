---
- name: Gather ZFS facts
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Check ZFS facts
      community.general.zfs_facts:
        depth: '{{ depth }}'
        name: '{{ name }}'
        parsable: '{{ parsable }}'
        properties: '{{ properties }}'
        recurse: '{{ recurse }}'
        type: '{{ type }}'
      register: zfs_facts

    - name: Display ZFS facts
      debug:
        var: zfs_facts