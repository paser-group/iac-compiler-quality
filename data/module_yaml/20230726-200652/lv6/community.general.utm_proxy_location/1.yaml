- name: Test community.general.utm_proxy_location module
  hosts: all
  gather_facts: false
  tasks:
    - name: Create reverse_proxy location with base64-encoded name
      community.general.utm_proxy_location:
        name: "{{ 'test_location' | b64decode }}"
        path: "/"
        backend:
          - "http://backend1"
          - "http://backend2"
        state: "present"
        utm_host: "utm.example.com"
        utm_port: 8443
        utm_protocol: "https"
        utm_token: "mytoken"
        validate_certs: true
      register: result
    - debug:
        var: result