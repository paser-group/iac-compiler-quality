---
- name: Upgrade/Download Firmware
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Upgrade/Download Firmware
      community.network.cnos_image:
        host: "{{ inventory_hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enable_password: "{{ enable_password }}"
        deviceType: "{{ device_type }}"
        imgtype: "{{ image_type }}"
        imgpath: "{{ image_path | to_json }}"  # Convert the string to JSON format
        outputfile: "{{ output_file | to_json }}"  # Convert the string to JSON format

      register: result

    - name: Print Result
      debug:
        var: result