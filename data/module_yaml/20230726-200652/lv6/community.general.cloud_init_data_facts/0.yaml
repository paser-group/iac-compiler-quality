---
- name: Find type-related bugs in cloud_init_data_facts module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Get cloud init data facts with varied encodings
      community.general.cloud_init_data_facts:
        filter: "{{ item }}"
      loop:
        - "string"
        - "|utf-8"
        - "|latin-1"
        - "|ascii"
        - "|base64"
      register: result

    - name: Print cloud init data facts
      debug:
        var: result