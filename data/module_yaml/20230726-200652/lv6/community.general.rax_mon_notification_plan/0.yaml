---
- name: Test playbook for community.general.rax_mon_notification_plan module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create Rackspace Cloud Monitor with varied encodings
      community.general.rax_mon_notification_plan:
        api_key: "{{ lookup('env', 'RAX_API_KEY') }}"
        auth_endpoint: "{{ lookup('env', 'RAX_AUTH_ENDPOINT') }}"
        credentials: /path/to/credentials
        critical_state:
          - "critical1"
          - "critiçal2"  # Generate string with varied encodings
        env: "{{ lookup('env', 'RAX_ENV') }}"
        identity_type: "{{ lookup('env', 'RAX_IDENTITY_TYPE') }}"
        label: "Test Monitor"
        ok_state:
          - "ok1"
          - "øk2"  # Generate string with varied encodings
        region: "{{ lookup('env', 'RAX_REGION') }}"
        state: present
        tenant_id: "{{ lookup('env', 'RAX_TENANT_ID') }}"
        tenant_name: "{{ lookup('env', 'RAX_TENANT_NAME') }}"
        username: "{{ lookup('env', 'RAX_USERNAME') }}"
        validate_certs: true
        warning_state:
          - "warning1"
          - "warniñg2"  # Generate string with varied encodings
      register: result

    - name: Display result
      debug:
        var: result