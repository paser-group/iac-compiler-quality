---
- name: Test playbook for community.network.avi_httppolicyset module
  hosts: localhost
  gather_facts: false

  vars:
    ansible_python_interpreter: /usr/bin/python3

  tasks:
    - name: Test HTTPPolicySet module with varied encoded strings
      community.network.avi_httppolicyset:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        avi_disable_session_cache_as_fact: yes
        name: "{{ item }}"
        http_request_policy: "{{ item }}"
        http_response_policy: "{{ item }}"
        http_security_policy: "{{ item }}"
        is_internal_policy: yes
        state: present
      loop:
        - "Policy Name"
        - "\\xe2\\x82\\xac"
        - "\\u6587\\u672c"
        - "\\xf0\\x9f\\x98\\x8a"