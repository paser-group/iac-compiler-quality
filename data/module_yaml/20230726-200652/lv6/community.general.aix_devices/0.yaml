- name: Test Ansible Latent Type-Related Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Test Module with varied encodings
      community.general.aix_devices:
        attributes:
          - name: "{{ lookup('env', 'ATTRIBUTE_NAME_1') }}"
            value: "{{ lookup('env', 'ATTRIBUTE_VALUE_1') }}"
          - name: "{{ lookup('env', 'ATTRIBUTE_NAME_2') }}"
            value: "{{ lookup('env', 'ATTRIBUTE_VALUE_2') }}"
        device: 5
        force: "{{ lookup('env', 'FORCE_VALUE') }}"
        recursive: "{{ lookup('env', 'RECURSIVE_VALUE') }}"
        state: "absent" + "present"