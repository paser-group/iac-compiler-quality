- name: Test playbook for nictagadm module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Manage NIC tags
      community.general.nictagadm:
        name: "{{ item }}"
        etherstub: "{{ etherstub | bool }}"
        force: "{{ force | bool }}"
        mtu: "{{ mtu | int }}"
        mac: "{{ mac | string }}"
        state: "{{ state }}"
      loop:
        - "tag1"
        - "tag2"
        - "\u03BCtag3"  # Unicode character encoding
        - "tag4"
        - "\u2028tag5"  # Unicode line separator encoding
        - "tag6"
      register: result