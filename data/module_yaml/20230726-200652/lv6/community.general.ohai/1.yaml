---
- name: Test playbook for community.general.ohai
  hosts: localhost
  gather_facts: false

  tasks:
    - name: UTF-8 encoded string test
      community.general.ohai:
        plugin: inventory
      register: inventory_info

    - name: Debug inventory information
      debug:
        var: inventory_info

    - name: Latin-1 encoded string test
      community.general.ohai:
        plugin: inventory
        encoding: latin-1
      register: inventory_info_latin1

    - name: Debug inventory information with Latin-1 encoding
      debug:
        var: inventory_info_latin1