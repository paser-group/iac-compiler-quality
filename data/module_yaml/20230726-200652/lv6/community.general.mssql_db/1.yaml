---

- name: Test playbook for community.general.mssql_db module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add or remove MSSQL database
      community.general.mssql_db:
        login_host: 10.1.1.1
        login_user: sa
        login_password: "{{ lookup('env', 'SQL_PASSWORD') }}"
        state: present
        name: "{{ item }}"
      loop:
        - "{{ 'test_db1' | b64encode }}"
        - "{{ 'test_db2' | urlencode }}"
        - "{{ 'test_db3' | quote }}"