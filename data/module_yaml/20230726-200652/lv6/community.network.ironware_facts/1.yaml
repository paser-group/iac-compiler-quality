---
- name: Collect facts from devices
  hosts: devices
  gather_facts: false

  tasks:
    - name: Gather ironware facts (UTF-8 encoding)
      community.network.ironware_facts:
        authorize: true
        gather_subset: null
        encoding: utf-8
      register: result_utf8

    - name: Show collected facts with UTF-8 encoding
      debug:
        var: result_utf8

    - name: Gather ironware facts (ASCII encoding)
      community.network.ironware_facts:
        authorize: true
        gather_subset: null
        encoding: ascii
      register: result_ascii

    - name: Show collected facts with ASCII encoding
      debug:
        var: result_ascii