---
- name: List Pritunl users
  hosts: localhost
  gather_facts: False

  vars:
    organization: "YourOrganization"
    pritunl_api_secret: "your_api_secret"
    pritunl_api_token: "your_api_token"
    pritunl_url: "https://your-pritunl-url.com"
    user_name: 123
    user_type: "user"
    validate_certs: "False"  # Note the string value instead of a boolean

  tasks:
    - name: List Pritunl users
      community.general.pritunl_user_info:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        user_name: "{{ user_name }}"
        user_type: "{{ user_type }}"
        validate_certs: "{{ validate_certs }}"
      register: user_info_result

    - name: Debug user info result
      debug:
        var: user_info_result