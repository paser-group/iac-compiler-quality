---
- name: Test playbook for community.network.ce_sflow module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Configure sFlow
      community.network.ce_sflow:
        agent_ip: "{{ agent_ip | default(None) }}"
        collector_datagram_size: "{{ collector_datagram_size | default(None) }}"
        collector_description: "{{ collector_description | default(None) }}"
        collector_id: "{{ collector_id | default(None) }}"
        collector_ip: "{{ collector_ip | default(None) }}"
        collector_ip_vpn: "{{ collector_ip_vpn | default(None) }}"
        collector_meth: "{{ collector_meth | default(None) }}"
        collector_udp_port: "{{ collector_udp_port | default(None) }}"
        counter_collector: "{{ counter_collector | default(None) }}"
        counter_interval: "{{ counter_interval | default(None) }}"
        export_route: "{{ export_route | default(None) }}"
        sample_collector: "{{ sample_collector | default(None) }}"
        sample_direction: "{{ sample_direction | default(None) }}"
        sample_length: "{{ sample_length | default(None) }}"
        sample_rate: "{{ sample_rate | default(None) }}"
        sflow_interface: "{{ sflow_interface | default(None) }}"
        source_ip: "{{ source_ip | default(None) }}"
        state: "{{ state | default(None) }}"
      register: result

    - debug:
        var: result