---
- name: Run commands on remote devices using community.network.eric_eccli_command module
  hosts: all
  gather_facts: false
  tasks:
    - name: Run commands with varied encodings
      community.network.eric_eccli_command:
        commands:
          - 'show version'
          - 'show interfaces'
        interval: 5
        match: 'version'
        retries: 3
        wait_for:
          - 'show interfaces'
      register: eccli_result

    - name: Print the result
      debug:
        var: eccli_result