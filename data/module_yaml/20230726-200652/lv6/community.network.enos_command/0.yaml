---
- name: Execute arbitrary commands on Docker nodes
  hosts: all
  gather_facts: false

  tasks:
    - name: Run commands on the nodes
      community.network.enos_command:
        command: "{{ item }}"
        auth_pass: null
        authorize: true
        commands: null
        interval: null
        match: null
        retries: null
        wait_for: null
      loop:
        # Test Cases
        - "echo 'test message'"
        - "echo -e 'test\tmessage'"
        - "echo -n 'test message'"
        - "echo -ne 'test\tmessage\n'"
        - "echo $SHELL"