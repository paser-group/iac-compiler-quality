- name: Run gunicorn
  hosts: localhost
  gather_facts: false

  vars:
    app: "path/to/app"
    chdir: "path/to/chdir"
    config: "gunicorn.config"
    pid: "path/to/pidfile"
    user: "username"
    venv: "path/to/venv"
    worker: "sync"

  tasks:
    - name: Install required Python packages
      pip:
        name: gunicorn
        state: present

    - name: Generate varied string encodings
      set_fact:
        encoded_strings: "{{ encoded_strings | default([]) + [item.encode('utf-16')] }}"
      with_items: "{{ [app, chdir, config, pid, user, venv, worker] }}"

    - name: Print decoded strings
      debug:
        msg: "{{ item.decode('utf-8') }}"
      with_items: "{{ encoded_strings }}"