---
- name: Test playbook for community.network.avi_sslkeyandcertificate module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Setup SSL key and certificate
      community.network.avi_sslkeyandcertificate:
        controller: "192.168.1.10"
        username: "admin"
        password: "password"
        tenant: "admin"
        name: "my_ssl_key"
        key_base64: true
        key: "LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t"
        certificate_base64: true
        certificate: "LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t"
        ca_certs: "{{ lookup('file', '/path/to/my_ca.crt') }}"
        format: "pem"
        type: "sslkeyandcertificate"
      register: result
      ignore_errors: true

    - name: Print SSL key and certificate setup result
      debug:
        var: result