---
- name: Test playbook for Ansible type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure gslbservice member
      community.network.avi_gslbservice_patch_member:
        controller: "https://{{ ansible_host }}"
        username: "{{ avi_username }}"
        password: "{{ avi_password }}"
        state: "{{ gslbservice_state }}"
        tenant: "{{ tenant_name }}"
        name: "gslbservice_member"
        params:
          - key: "some_param"
            value: "{{ gslbservice_param_value }}"
            encode: true
          - key: "another_param"
            value: "{{ gslbservice_param_value }}"
            encode: false
      register: result

    - debug:
        var: result