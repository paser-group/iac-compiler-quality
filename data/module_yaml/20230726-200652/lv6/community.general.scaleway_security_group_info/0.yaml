---
- name: Test for latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_timeout: 10
    api_token: "<replace_with_api_token>"
    api_url: "https://api.scaleway.com/"
    query_parameters:
      organization_id: "<replace_with_organization_id>"
      name: "ansible-test"
      limit: 5
      encoding_test: "Тестовая строка"

    region: "fr-par"
    validate_certs: true

  tasks:
    - name: Gather scaleway security group info
      community.general.scaleway_security_group_info:
        api_timeout: "{{ api_timeout }}"
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        query_parameters: "{{ query_parameters }}"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs }}"
      register: sg_info

    - name: Debug scaleway security group info
      debug:
        var: sg_info