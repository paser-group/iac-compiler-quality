---
- name: Test playbook for community.network.dladm_vnic
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VNIC with varied encodings
      community.network.dladm_vnic:
        link: "{{ item.link }}"
        mac: "{{ item.mac }}"
        name: "{{ item.name }}"
        state: "{{ item.state }}"
        temporary: "{{ item.temporary }}"
        vlan: "{{ item.vlan }}"
      loop:
        - { link: "eth0", mac: "xx:xx:xx:xx:xx:xx", name: "vnic1", state: "present", temporary: false, vlan: 10 }
        - { link: "eth1", mac: "yy:yy:yy:yy:yy:yy", name: "vnic2", state: "present", temporary: false, vlan: "10" }  # Trigger type-related bug
        - { link: "eth2", mac: "zz:zz:zz:zz:zz:zz", name: "vnic3", state: "present", temporary: false, vlan: "abc" } # Trigger type-related bug
        - { link: "eth3", mac: "aa:aa:aa:aa:aa:aa", name: "vnic4", state: "present", temporary: "true", vlan: 20 }     # Trigger type-related bug