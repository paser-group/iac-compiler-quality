---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute command with integer instead of string
      command: echo "Hello, world!"
      args:
        chdir: "{{ item }}"
      loop:
        - "/tmp"
        - 123

    - name: Execute command with incorrect path type
      command: echo "Hello, world!"
      args:
        chdir: "{{ item }}"
      loop:
        - "/tmp"
        - 123

    - name: Execute command with invalid boolean value
      command: echo "Hello, world!"
      args:
        chdir: "/tmp"
        creates: "{{ item }}"
      loop:
        - true
        - false
        - "yes"
        - "no"

    - name: Execute command with list value instead of string
      command: echo "Hello, world!"
      args:
        chdir: "/tmp"
        creates: ["/tmp/file1", "/tmp/file2"]

    - name: Execute command with undefined variable
      command: echo "{{ my_variable }}"