---
- name: Manage RR for the VXLAN Network on HUAWEI
  hosts: localhost
  gather_facts: false

  vars:
    as_number: "'12345'"
    bgp_evpn_enable: "True"
    bgp_instance: "instance1"
    peer: "10.1.1.5"
    peer_type: "ipv4"
    policy_vpn_target: "'target1'"
    reflect_client: "True"

  tasks:
    - name: Set RR for VXLAN Network on HUAWEI
      community.network.ce_evpn_bgp_rr:
        as_number: "{{ as_number }}"
        bgp_evpn_enable: "{{ bgp_evpn_enable }}"
        bgp_instance: "{{ bgp_instance }}"
        peer: "{{ peer }}"
        peer_type: "{{ peer_type }}"
        policy_vpn_target: "{{ policy_vpn_target }}"
        reflect_client: "{{ reflect_client }}"
      register: result

    - name: Debug result
      debug:
        var: result