---
- name: Manage RR for the VXLAN Network on HUAWEI
  hosts: localhost
  gather_facts: false

  vars:
    as_number: null
    bgp_evpn_enable: null
    bgp_instance: null
    peer: null
    peer_type: null
    policy_vpn_target: null
    reflect_client: null

  tasks:
    - name: Set RR for VXLAN Network on HUAWEI
      community.network.ce_evpn_bgp_rr:
        as_number: "{{ as_number }}"
        bgp_evpn_enable: "{{ bgp_evpn_enable }}"
        bgp_instance: "{{ bgp_instance }}"
        peer: "{{ peer }}"
        peer_type: "{{ peer_type }}"
        policy_vpn_target: "{{ policy_vpn_target }}"
        reflect_client: "{{ reflect_client }}"
      register: result

    - name: Debug result
      debug:
        var: result