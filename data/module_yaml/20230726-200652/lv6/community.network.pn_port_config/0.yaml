---
- name: Test pn_port_config module with varied encodings
  hosts: localhost
  connection: local
  gather_facts: false

  tasks:
    - name: Set pn_port_config parameters
      vars:
        pn_allowed_tpid: "1,2,3"
        pn_autoneg: false
        pn_cliswitch: "enable"
        pn_crc_check_enable: true
        pn_defer_bringup: true
        pn_description: "This is a test description"
        pn_dscp_map: "0,1,2,3"
        pn_edge_switch: true
        pn_egress_rate_limit: "10 Mbps"
        pn_enable: true
        pn_eth_mode: null
        pn_fabric_guard: false
        pn_host_enable: false
        pn_intf: "eth1"
        pn_jumbo: true
        pn_lacp_priority: "10"
        pn_local_switching: true
        pn_loop_vlans: "1-10"
        pn_loopback: true
        pn_mirror_only: false
        pn_pause: true
        pn_port: "1/1/1"
        pn_port_mac_address: "00:11:22:33:44:55"
        pn_reflect: false
        pn_routing: false
        pn_send_port: "1/1/2"
        pn_speed: null
        pn_vxlan_termination: true
        state: present

      pn_port_config:
        pn_allowed_tpid: "{{ pn_allowed_tpid }}"
        pn_autoneg: "{{ pn_autoneg }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_crc_check_enable: "{{ pn_crc_check_enable }}"
        pn_defer_bringup: "{{ pn_defer_bringup }}"
        pn_description: "{{ pn_description }}"
        pn_dscp_map: "{{ pn_dscp_map }}"
        pn_edge_switch: "{{ pn_edge_switch }}"
        pn_egress_rate_limit: "{{ pn_egress_rate_limit }}"
        pn_enable: "{{ pn_enable }}"
        pn_eth_mode: "{{ pn_eth_mode }}"
        pn_fabric_guard: "{{ pn_fabric_guard }}"
        pn_host_enable: "{{ pn_host_enable }}"
        pn_intf: "{{ pn_intf }}"
        pn_jumbo: "{{ pn_jumbo }}"
        pn_lacp_priority: "{{ pn_lacp_priority }}"
        pn_local_switching: "{{ pn_local_switching }}"
        pn_loop_vlans: "{{ pn_loop_vlans }}"
        pn_loopback: "{{ pn_loopback }}"
        pn_mirror_only: "{{ pn_mirror_only }}"
        pn_pause: "{{ pn_pause }}"
        pn_port: "{{ pn_port }}"
        pn_port_mac_address: "{{ pn_port_mac_address }}"
        pn_reflect: "{{ pn_reflect }}"
        pn_routing: "{{ pn_routing }}"
        pn_send_port: "{{ pn_send_port }}"
        pn_speed: "{{ pn_speed }}"
        pn_vxlan_termination: "{{ pn_vxlan_termination }}"
        state: "{{ state }}"