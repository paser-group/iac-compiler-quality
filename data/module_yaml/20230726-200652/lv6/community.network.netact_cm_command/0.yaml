- name: Execute netact_cm_command
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Run netact_cm_command with different encodings
      community.network.netact_cm_command:
        DN: null
        MR: null
        WS: null
        backupPlanName: null
        createBackupPlan: false
        extra_opts: null
        fileFormat: null
        fileName: null
        inputFile: null
        operation: null
        opsName: null
        planName: null
        typeOption: >
          {{ lookup('pipe','echo "payload" --payload-type binary | base64') }}
        verbose: null
      register: result

    - name: Show result
      debug:
        var: result