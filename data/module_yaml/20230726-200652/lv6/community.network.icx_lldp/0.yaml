---
- name: Test for latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Set variable with integer value
      set_fact:
        my_variable: 123

    - name: Debug variable
      debug:
        var: my_variable

    - name: Attempt to use variable in string context
      debug:
        msg: "The value of my_variable is {{ my_variable }}"

    - name: Attempt to use variable in arithmetic operation
      debug:
        msg: "Twice the value of my_variable is {{ my_variable * 2 }}"

    - name: Attempt to use variable as an inventory group
      debug:
        msg: "Members of my_variable group: {{ groups[my_variable] }}"