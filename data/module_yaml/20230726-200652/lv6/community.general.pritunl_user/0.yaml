---
- name: Test playbook for community.general.pritunl_user module
  hosts: localhost
  gather_facts: false

  vars:
    pritunl_api_secret: "your_api_secret"
    pritunl_api_token: "your_api_token"
    pritunl_url: "https://your-pritunl-url.com"
    organization: "test"
    user_name: ""

  tasks:
    - name: Create User with varied encodings
      community.general.pritunl_user:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        state: present
        user_disabled: false
        user_email: "{{ user_name | b64encode }}"
        user_gravatar: True
        user_groups: ['group1', 'group2']
        user_mac_addresses: ['00:00:00:00:00:00', '11:11:11:11:11:11']
        user_name: "{{ user_name }}"
        user_type: "regular"
        validate_certs: False
      register: result

    - name: Print debug information
      debug:
        var: result