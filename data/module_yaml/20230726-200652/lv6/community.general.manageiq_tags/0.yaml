- name: Test playbook for manageiq_tags module
  hosts: localhost
  gather_facts: false

  vars:
    manageiq_connection:
      url: "https://example.com/manageiq/api"
      username: "admin"
      password: "password"

  tasks:
    - name: Manage tags for resource
      community.general.manageiq_tags:
        manageiq_connection: "{{ manageiq_connection }}"
        resource_id: 12345
        resource_name: "example-resource"
        resource_type: "example-resource-type"
        state: present
        tags: "{{ item }}"
      with_items:
        - "{{ ['tag1', 'tag2', b'tag3'.decode('utf-8'), b'tag4'.decode('utf-16')] }}"