---
- name: Configure SNMP community
  hosts: localhost
  gather_facts: false

  vars:
    access_right: None
    acl_number: None
    community_mib_view: None
    community_name: None
    group_name: None
    notify_view: None
    read_view: None
    security_level: None
    state: None
    write_view: None

  tasks:
    - name: Set SNMP community configuration
      community.network.ce_snmp_community:
        access_right: "{{ access_right }}"
        acl_number: "{{ acl_number }}"
        community_mib_view: "{{ community_mib_view }}"
        community_name: "{{ community_name }}"
        group_name: "{{ group_name }}"
        notify_view: "{{ notify_view }}"
        read_view: "{{ read_view }}"
        security_level: "{{ security_level }}"
        state: "{{ state }}"
        write_view: "{{ write_view }}"
      register: result
      ignore_errors: true

    - name: Print result
      debug:
        var: result