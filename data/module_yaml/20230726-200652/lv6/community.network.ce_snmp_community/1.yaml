- name: Test case - Varied encodings
  hosts: localhost
  gather_facts: false

  vars:
    access_right: None
    acl_number: None
    community_mib_view: None
    group_name: None
    notify_view: None
    read_view: None
    security_level: None
    state: present
    write_view: None

  tasks:
    - name: Set SNMP community with varied encodings
      community.network.ce_snmp_community:
        community_name: "{{ item }}"
        state: "{{ state }}"
      register: result
      ignore_errors: true
      with_items:
        - "normal-string"
        - "\u2713 unicode-string"
        - "\\x1b[34m escaped-string"
        - "\xfc binary-string"
        - "!@#$%^&*() special-chars"
      loop_control:
        label: "{{ item }}"

    - name: Print result
      debug:
        var: result