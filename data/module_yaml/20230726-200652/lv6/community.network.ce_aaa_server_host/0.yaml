---
- name: Manage AAA server host configuration on HUAWEI
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Set AAA server host configuration
      community.network.ce_aaa_server_host:
        hwtacacs_is_public_net: "{{ item.is_public_net }}"
        hwtacacs_is_secondary_server: "{{ item.is_secondary_server }}"
        hwtacacs_server_host_name: "{{ item.server_host_name }}"
        hwtacacs_server_ip: "{{ item.server_ip }}"
        hwtacacs_server_ipv6: "{{ item.server_ipv6 }}"
        hwtacacs_server_type: "{{ item.server_type }}"
        hwtacacs_template: "{{ item.template }}"
        hwtacacs_vpn_name: "{{ item.vpn_name }}"
        local_ftp_dir: "{{ item.ftp_dir }}"
        local_password: "{{ item.password | b64encode }}"
        local_service_type: "{{ item.service_type }}"
        local_user_group: "{{ item.user_group }}"
        local_user_level: "{{ item.user_level }}"
        local_user_name: "{{ item.user_name }}"
        radius_group_name: "{{ item.radius_group_name }}"
        radius_server_ip: "{{ item.radius_server_ip }}"
        radius_server_ipv6: "{{ item.radius_server_ipv6 }}"
        radius_server_mode: "{{ item.radius_server_mode }}"
        radius_server_name: "{{ item.radius_server_name }}"
        radius_server_port: "{{ item.radius_server_port }}"
        radius_server_type: "{{ item.radius_server_type }}"
        radius_vpn_name: "{{ item.radius_vpn_name }}"
        state: "{{ item.state }}"
      loop:
        - is_public_net: true
          is_secondary_server: false
          server_host_name: "Server1"
          server_ip: "10.1.1.1"
          server_ipv6: "::1"
          server_type: "hwtacacs"
          template: "template1"
          vpn_name: "VPN1"
          ftp_dir: "/ftp/dir1"
          password: "abc123"
          service_type: "SSH"
          user_group: "admin"
          user_level: "15"
          user_name: "admin"
          radius_group_name: "group1"
          radius_server_ip: "10.1.1.2"
          radius_server_ipv6: "::2"
          radius_server_mode: "authentication"
          radius_server_name: "Radius1"
          radius_server_port: "1812"
          radius_server_type: "std-radius"
          radius_vpn_name: "VPN2"
          state: "present"
        - is_public_net: false
          is_secondary_server: true
          server_host_name: "Server2"
          server_ip: "10.1.1.3"
          server_ipv6: "::3"
          server_type: "radius"
          template: "template2"
          vpn_name: "VPN3"
          ftp_dir: "/ftp/dir2"
          password: "def456"
          service_type: "Telnet"
          user_group: "operator"
          user_level: "5"
          user_name: "operator"
          radius_group_name: "group2"
          radius_server_ip: "10.1.1.4"
          radius_server_ipv6: "::4"
          radius_server_mode: "accounting"
          radius_server_name: "Radius2"
          radius_server_port: "1813"
          radius_server_type: "ext-radius"
          radius_vpn_name: "VPN4"
          state: "absent"
    
    # Additional tasks
    
    # Test Case 1: Generate strings with varied encodings
    - name: Test case - Generate strings with varied encodings
      debug:
        msg: "{{ item | b64decode }}"
      loop:
        - "Hello World"
        - "{{ '你好世界' | b64encode }}"
        - "{{ 'مرحبا بالعالم' | b64encode }}"
        - "{{ 'नमस्ते दुनिया' | b64encode }}"
        - "{{ 'こんにちは世界' | b64encode }}"
        - "{{ '안녕하세요 세계' | b64encode }}"