---
- name: Test Ansible 'rax_dns' module
  hosts: localhost
  gather_facts: false

  vars:
    api_key: my_api_key

  tasks:
    - name: Test rax_dns module
      community.general.rax_dns:
        api_key: "{{ api_key }}"
        auth_endpoint: "https://auth.endpoint.com"
        comment: "Testing rax_dns module"
        credentials: "/path/to/credentials.pem"
        email: "test@example.com"
        env: "dev"
        identity_type: "RackConnect"
        name: "example.com"
        region: "DFW"
        state: "present"
        tenant_id: "my_tenant_id"
        tenant_name: "my_tenant_name"
        ttl: 3600
        username: "testuser"
        validate_certs: "{{ validate_certs }}"
      register: rax_dns_result

    - name: Display rax_dns result
      debug:
        var: rax_dns_result