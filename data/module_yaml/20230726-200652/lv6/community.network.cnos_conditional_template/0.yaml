---
- name: Trigger latent type-related bugs
  hosts: switches
  gather_facts: false

  vars:
    device_type: "{{ 'test string' | string }}"

  tasks:
    - name: Configure switch using conditional template
      community.network.cnos_conditional_template:
        host: "{{ inventory_hostname }}"
        username: "{{ ansible_user }}"
        password: "{{ ansible_password }}"
        enablePassword: "{{ enable_password }}"
        deviceType: "{{ device_type }}"
        commandfile: "{{ 'test string' }}"
        condition: "{{ 'test string' }}"
        outputfile: "{{ 'test string' }}"
      register: result

    - name: Display module output
      debug:
        var: result