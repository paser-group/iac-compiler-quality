- name: Test filesystem module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Mount filesystem
      community.general.filesystem:
        dev: "/dev/sdb1"
        state: mounted
        force: "{{ item }}"
        fstype: ext4
      loop:
        - yes
        - no
      register: mount_result

    - name: Debug mount result
      debug:
        var: mount_result

    - name: Unmount filesystem
      community.general.filesystem:
        dev: "/dev/sdb1"
        state: unmounted
        force: "{{ item }}"
      loop:
        - yes
        - no
      register: unmount_result

    - name: Debug unmount result
      debug:
        var: unmount_result