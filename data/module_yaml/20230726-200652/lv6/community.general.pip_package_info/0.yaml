- name: Test for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install pip_package_info module
      pip:
        name: "ansible-community/pip_package_info"
        state: present

    - name: Generate strings with varied encodings
      set_fact:
        test_strings:
          - "ubuntu1"
          - "alpine1"
          - "centos1"
          - "redhat1"

    - name: Retrieve package info for each node
      community.general.pip_package_info:
        name: "{{ item }}"
      loop: "{{ test_strings }}"
      register: package_info

    - name: Display package info
      debug:
        var: package_info