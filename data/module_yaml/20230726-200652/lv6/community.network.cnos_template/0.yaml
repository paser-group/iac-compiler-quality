---
- name: Manage switch configuration using templates on device
  hosts: switches
  gather_facts: false

  tasks:
    - name: Render template
      community.network.cnos_template:
        host: "{{ inventory_hostname }}"
        username: "admin"
        password: "admin123"
        enablePassword: "enable123"
        deviceType: "cnos"
        commandfile: null
        outputfile: "/tmp/config.txt"
      register: template_result

    - name: Debug template result
      debug:
        var: template_result