---
- name: Test playbook for 'community.general.hwc_vpc_security_group' module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create a VPC/Security Group
      community.general.hwc_vpc_security_group:
        domain: "{{ domain }}"
        enterprise_project_id: "{{ enterprise_project_id }}"
        id: "{{ id }}"
        identity_endpoint: "{{ identity_endpoint }}"
        name: "{{ name }}"
        password: "{{ password }}"
        project: "{{ project }}"
        region: "{{ region }}"
        state: "{{ state }}"
        user: "{{ user }}"
        vpc_id: "{{ vpc_id }}"
      register: result
      ignore_errors: true
    
    - name: Show the result
      debug:
        var: result

- name: Test playbook for triggering type-related bugs
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Test with strings of varied encodings
      community.general.hwc_vpc_security_group:
        domain: "{{ domain | b64encode }}"
        enterprise_project_id: "{{ enterprise_project_id }}"
        id: "{{ id }}"
        identity_endpoint: "{{ identity_endpoint | upper }}"
        name: "{{ name | capitalize }}"
        password: "{{ password }}"
        project: "{{ project }}"
        region: "{{ region | lower }}"
        state: "{{ state | int }}"
        user: "{{ user | upper }}"
        vpc_id: "{{ vpc_id }}"
      register: result
      ignore_errors: true
    
    - name: Show the result
      debug:
        var: result