- name: Manage L3 interfaces on Extreme Networks SLXOS
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create L3 interface
      community.network.slxos_l3_interface:
        aggregate: "{{ item.aggregate | default(None) }}"
        ipv4: "{{ item.ipv4 | default(None) }}"
        ipv6: "{{ item.ipv6 | default(None) }}"
        name: "{{ item.name | default(None) }}"
        state: "{{ item.state | default(None) }}"
      loop:
        - { aggregate: true, ipv4: 10.1.1.1/24, name: Interface1, state: present }
        - { aggregate: false, ipv6: 2001:db8::/64, name: Interface2, state: present }
        - { aggregate: true, ipv4: 10.1.1.2/24, ipv6: 2001:db8::/64, name: Interface3, state: present }
        - { aggregate: true, ipv6: 2001:db8::/64, name: Interface4, state: absent }