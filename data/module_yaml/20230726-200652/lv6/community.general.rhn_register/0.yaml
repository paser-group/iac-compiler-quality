- name: Test Playbook
  hosts: localhost
  gather_facts: false
  vars:
    activationkey: "my_activation_key"
    ca_cert: "/path/to/ca_cert"
    channels:
      - channel1
      - channel2
    enable_eus: true
    force: false
    nopackages: false
    password: "mypassword"
    profilename: "myprofilename"
    server_url: "https://rhn.redhat.com"
    state: "present"
    systemorgid: "myorgid"
    username: "myusername"

  tasks:
    - name: Register with Red Hat Network
      community.general.rhn_register:
        activationkey: "{{ activationkey }}"
        ca_cert: "{{ ca_cert }}"
        channels: "{{ channels }}"
        enable_eus: "{{ enable_eus }}"
        force: "{{ force }}"
        nopackages: "{{ nopackages }}"
        password: "{{ password }}"
        profilename: "{{ profilename }}"
        server_url: "{{ server_url }}"
        state: "{{ state }}"
        systemorgid: "{{ systemorgid }}"
        username: "{{ username }}"
      register: result

    - name: Debug result
      debug:
        var: result