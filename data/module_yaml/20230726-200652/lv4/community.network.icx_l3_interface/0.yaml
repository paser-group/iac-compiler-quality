---
- name: Manage Layer-3 interfaces on Ruckus ICX
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure Layer-3 interface
      community.network.icx_l3_interface:
        name: "ethernet1/1"
        state: "present"
        ipv4: "10.1.1.1/24"
        secondary: ""
        mode: "layer3"
        aggregate: "ethernet1/2"
        replace: "no"
        check_running_config: false