---
- name: Install FTD Package
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ (2**48 * random()) | int }}"

    - name: Install FTD package
      community.network.ftd_install:
        console_ip: 10.1.1.1
        console_username: admin
        console_password: admin123
        console_port: 22
        device_hostname: ftd1
        device_ip: 10.1.1.5
        device_netmask: 255.255.255.0
        device_gateway: 10.1.1.254
        device_username: admin
        device_password: cisco123
        device_sudo_password: cisco123
        device_model: FTDv
        device_new_password: cisco123
        dns_server: 8.8.8.8
        image_version: 6.2.0
        image_file_location: /path/to/ftd_image.bin
        rommon_file_location: /path/to/rommon_file.bin
        search_domains: example.com
        force_install: "false"
        mac_address: "{{ random_mac }}"

      register: result

    - name: Debug result
      debug:
        var: result