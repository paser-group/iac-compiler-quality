---
- name: Expose Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set Variables
      set_fact:
        domain: example.com
        endpoints: https://api.example.com
        password: secret
        perf_class: high
        pool: my_pool
        size: 10GB
        snapshot_size: 2GB
        state: present
        username: user

    - name: Generate Random MAC addresses
      community.general.random_mac:
        count: "{{ size }}" # Potential mismatch between size variable and count argument type

    - name: Create IBM SA Pool
      community.general.ibm_sa_pool:
        domain: "{{ domain }}"
        endpoints: "{{ endpoints }}"
        password: "{{ password }}"
        perf_class: "{{ perf_class }}"
        pool: "{{ pool }}"
        size: "{{ snapshot_size }}" # Potential mismatch between snapshot_size variable and size attribute
        snapshot_size: "{{ size }}" # Potential mismatch between size variable and snapshot_size attribute
        state: "{{ state }}"
        username: "{{ username }}"