---
- name: Test playbook to expose latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set variables with inconsistent types
      set_fact:
        baseuri: 123
        category: 456
        command: true
        job_name: false
        password: 789
        proxy_slot_number: "invalid"
        timeout: "invalid"
        username: true

    - name: Test the community.general.ocapi_info module
      community.general.ocapi_info:
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        job_name: "{{ job_name }}"
        password: "{{ password }}"
        proxy_slot_number: "{{ proxy_slot_number }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
      register: ocapi_info_result

    - name: Print the result
      debug:
        var: ocapi_info_result