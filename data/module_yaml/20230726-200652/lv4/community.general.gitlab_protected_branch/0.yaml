---
- name: Ansible Latent Bug Finder & Heuristic Test Playbook
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Include vars
      include_vars:
        file: inventory_vars.yml

    - name: Generate random MAC addresses for network modules
      hosts: all
      vars_prompt:
        - name: mac_address
          prompt: "Enter a random MAC address"
          private: no
      tasks:
        - name: Print MAC address
          debug:
            var: mac_address

    - name: Test new latent type-related bug
      hosts: all
      tasks:
        - name: Trigger new bug
          debug:
            msg: "{{ trigger_variable | int }}"

      vars:
        trigger_variable: "{{ ansible_tasks[0].task.action.module_args.mac_address }}"