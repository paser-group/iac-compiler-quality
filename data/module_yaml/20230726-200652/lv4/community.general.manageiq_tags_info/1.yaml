- name: Generate random MAC address
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Generate MAC address
      set_fact:
        random_mac: "{{ '%02x'%('0x'+('%06x'%random|int)[2:]) }}"
        
    - name: Use random MAC address in network module
      community.general.manageiq_tags_info:
        manageiq_connection:
          url: "https://manageiq.example.com"
          username: "admin"
          password: "password"
        resource_id: 123
        resource_name: "example-resource"
        resource_type: "example-type"
        mac_address: "{{ random_mac }}"
      register: tags_info
      
    - name: Debug manageiq tags info
      debug:
        var: tags_info