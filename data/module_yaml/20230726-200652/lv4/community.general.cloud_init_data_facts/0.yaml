---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | 
                         format(range(1,255)|random, range(1,255)|random,
                                range(1,255)|random, range(1,255)|random,
                                range(1,255)|random, range(1,255)|random) }}"

    - name: Include required roles
      import_role:
        name: "community.general.cloud_init_data_facts"

    - name: Retrieve cloud_init_data facts
      community.general.cloud_init_data_facts:
        filter: "{{ mac_address }}"
      register: cloud_init_data

    - name: Debug cloud_init_data facts
      debug:
        var: cloud_init_data

...