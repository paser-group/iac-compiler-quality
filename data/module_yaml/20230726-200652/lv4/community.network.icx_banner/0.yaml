- name: Test playbook for community.network.icx_banner module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set random multiline banner
      community.network.icx_banner:
        banner: "{{ '''
        This is a multiline banner
        that spans multiple lines.
        ''' }}"
        check_running_config: false
        enterkey: false
        state: present
        text: "{{ ['MAC', mac] }}"
      register: result

    - name: Debug module output
      debug:
        var: result