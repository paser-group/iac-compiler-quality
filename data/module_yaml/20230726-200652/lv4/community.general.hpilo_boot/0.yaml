---
- name: Test playbook for community.general.hpilo_boot module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses for network modules
      set_fact:
        mac_address: "{{ '%012x' | format((ansible_random.uint32 * 256) | random) | regex_replace('(.{2})', '\\1:')[0:17] }}"

    - name: Boot system using specific media
      community.general.hpilo_boot:
        host: "{{ host }}"
        login: "{{ login }}"
        password: "{{ password }}"
        ssl_version: "{{ ssl_version }}"
        state: "{{ state }}"
        media: "{{ media }}"
        image: "{{ image }}"
        force: "{{ force }}"
      vars:
        host: "example-host"
        login: "admin"
        password: "password"
        ssl_version: "TLSv1_2"
        state: "present"
        media: "cdrom"
        image: "/path/to/image.iso"
        force: true