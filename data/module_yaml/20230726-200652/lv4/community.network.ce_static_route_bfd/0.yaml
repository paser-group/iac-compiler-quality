---
- name: Configure static routes with BFD on HUAWEI device
  hosts: localhost
  gather_facts: no
 
  tasks:
    - name: Configure static routes
      community.network.ce_static_route_bfd:
        aftype: "{{ random_mac() }}"
        bfd_session_name: "{{ random_mac() }}"
        commands:
          - ip static-route {{ random_mac() }} {{ random_mac() }} {{ random_mac() }}
        description: "{{ random_mac() }}"
        destvrf: "{{ random_mac() }}"
        detect_multiplier: "{{ random_mac() }}"
        function_flag: "{{ random_mac() }}"
        mask: "{{ random_mac() }}"
        min_rx_interval: "{{ random_mac() }}"
        min_tx_interval: "{{ random_mac() }}"
        next_hop: "{{ random_mac() }}"
        nhp_interface: "{{ random_mac() }}"
        pref: "{{ random_mac() }}"
        prefix: "{{ random_mac() }}"
        state: "{{ random_mac() }}"
        tag: "{{ random_mac() }}"
        vrf: "{{ random_mac() }}"
      register: result

    - name: Print the debug information
      debug:
        var: result

  vars:
    mac_prefix: "00:11:22:"

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ mac_prefix }}{{ random_mac_suffix() }}"
  
  tasks:
    - name: Generate random MAC suffix
      set_fact:
        random_mac_suffix: "{{ '%012x' | format(random_num(0, 0xFFFFFFFFFFFF)) }}"
      vars:
        random_num: "{{ random() * (max - min + 1) + min }}"
        min: 1
        max: 281474976710655
  
  tasks:
    - name: Print the generated random MAC address
      debug:
        var: random_mac