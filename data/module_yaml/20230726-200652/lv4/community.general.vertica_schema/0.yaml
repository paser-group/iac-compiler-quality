- name: Add or Remove Vertica Data
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add or Remove Vertica Schema
      community.general.vertica_schema:
        cluster: "{{ vertica_cluster }}"
        create_roles: "{{ vertica_create_roles }}"
        db: "{{ vertica_db }}"
        login_password: "{{ vertica_login_password }}"
        login_user: "{{ vertica_login_user }}"
        owner: "{{ vertica_owner }}"
        port: "{{ vertica_port }}"
        schema: "{{ vertica_schema }}"
        state: "{{ vertica_state }}"
        usage_roles: "{{ vertica_usage_roles }}"
      register: vertica_result

    - name: Print Vertica Schema Result
      debug:
        var: vertica_result