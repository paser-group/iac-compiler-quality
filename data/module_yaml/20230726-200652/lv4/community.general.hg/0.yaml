---
- name: Test playbook for 'community.general.hg' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Clone Mercurial repository
      community.general.hg:
        clone: "{{ item.clone }}"
        dest: "{{ item.dest }}"
        executable: "{{ item.executable }}"
        force: "{{ item.force }}"
        purge: "{{ item.purge }}"
        repo: "{{ item.repo }}"
        revision: "{{ item.revision }}"
        update: "{{ item.update }}"
      loop:
        - { clone: true, dest: "/path/to/repo1", executable: "/usr/bin/hg", force: false, purge: false, repo: "https://example.com/repo1", revision: "v1.0", update: true }
        - { clone: false, dest: "/path/to/repo2", executable: "/usr/bin/hg", force: true, purge: true, repo: "https://example.com/repo2", revision: "v2.0", update: false }
        - { clone: true, dest: "/path/to/repo3", executable: "/usr/bin/hg", force: false, purge: true, repo: "https://example.com/repo3", revision: "v3.0", update: true }

    - name: Print debug output
      debug:
        msg: "Repository {{ item.dest }} cloned successfully!"
      loop:
        - { dest: "/path/to/repo1" }
        - { dest: "/path/to/repo2" }
        - { dest: "/path/to/repo3" }