---
- name: Manage GitLab webhooks
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create GitLab webhook
      community.general.gitlab_hook:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "YOUR_API_TOKEN"
        project: "your-username/your-project"
        hook_url: "https://your-webhook-url.com"
        push_events: true
        tag_push_events: true
        merge_requests_events: true
        pipeline_events: true
        job_events: true
        wiki_page_events: true
        note_events: true
        issues_events: true
        push_events_branch_filter: "master"
        validate_certs: false
        state: present
      register: result