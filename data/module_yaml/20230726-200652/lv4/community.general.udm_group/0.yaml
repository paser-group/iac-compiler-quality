- name: Ansible Latent Type-Related Bug Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create UDM Group
      community.general.udm_group:
        description: "{{ item.description }}"
        name: "{{ item.name }}"
        ou: "{{ item.ou }}"
        position: "{{ item.position }}"
        state: "{{ item.state }}"
        subpath: "{{ item.subpath }}"
      loop:
        - description: Ansible Group 1
          name: Group1
          ou: users
          position: "unexpected_value"
          state: present
          subpath: cn=users,cn=data

        - description: Ansible Group 2
          name: Group2
          ou: groups
          position: 10
          state: absent
          subpath: cn=groups,cn=data