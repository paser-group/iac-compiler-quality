---
- name: Install packages using pkgng
  hosts: localhost
  become: true

  vars:
    # List of packages to install
    packages:
      - vim
      - git
      - wget

  tasks:

    - name: Ensure pkgng is installed
      pkgng:
        state: present

    - name: Install packages
      pkgng:
        name: "{{ packages }}"
        state: present

    - name: Generate random MAC addresses for network modules
      set_fact:
        mac_address: "{{ '%012x' % (100000000000 + (inventory_hostname | int)) }}"

    - name: Debug MAC address
      debug:
        var: mac_address