---
- name: Gather network ordnance facts
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255)) }}"

    - name: Gather network ordnance facts
      community.network.ordnance_facts:
        gather_subset: None
        mac_address: "{{ mac_address }}"
      register: ordnance_facts

    - name: Debug ordnance facts
      debug:
        var: ordnance_facts