- hosts: nodes
  tasks:
    - name: Generate random MAC address
      community.general.random_string:
        length: 12
        chars: "0123456789abcdef"
      register: mac_address

    - set_fact:
        mac: "{{ mac_address.result | regex_replace('(.{2})', '\\1:')[:-1] }}"

    - debug:
        var: mac