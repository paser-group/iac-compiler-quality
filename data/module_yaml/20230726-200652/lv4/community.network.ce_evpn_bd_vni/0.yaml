---
- name: Manage EVPN VXLAN Network Identifier (VNI)
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set bridge_domain_id option
      set_fact:
        bridge_domain_id: "{{ 10.1.1.1 }}"
      
    - name: Set evpn option
      set_fact:
        evpn: 12345
      
    - name: Set route_distinguisher option
      set_fact:
        route_distinguisher: true
      
    - name: Set state option
      set_fact:
        state: "present"
      
    - name: Set vpn_target_both option
      set_fact:
        vpn_target_both: ['target1', 'target2']
      
    - name: Set vpn_target_export option
      set_fact:
        vpn_target_export: 'target-export'
      
    - name: Set vpn_target_import option
      set_fact:
        vpn_target_import: 'target-import'
      
    - name: Manage EVPN VXLAN Network Identifier (VNI)
      community.network.ce_evpn_bd_vni:
        bridge_domain_id: "{{ bridge_domain_id }}"
        evpn: "{{ evpn }}"
        route_distinguisher: "{{ route_distinguisher }}"
        state: "{{ state }}"
        vpn_target_both: "{{ vpn_target_both }}"
        vpn_target_export: "{{ vpn_target_export }}"
        vpn_target_import: "{{ vpn_target_import }}"