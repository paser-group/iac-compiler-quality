---
- name: Test snmp_facts module
  hosts: localhost
  gather_facts: false

  vars:
    host: "10.1.1.1"   # Update with actual IP address
    version: "2c"
    community: "public"
    retries: 3
    timeout: 10
    username: "admin"
    authkey: "admin123"
    privacy: "none"
    privkey: ""
    integrity: "md5"
    level: "authPriv"

  tasks:
    - name: Retrieve SNMP facts
      community.general.snmp_facts:
        host: "{{ host }}"
        version: "{{ version }}"
        community: "{{ community }}"
        retries: "{{ retries }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
        authkey: "{{ authkey }}"
        privacy: "{{ privacy }}"
        privkey: "{{ privkey }}"
        integrity: "{{ integrity }}"
        level: "{{ level }}"
      register: snmp_facts_output

    - debug:
        var: snmp_facts_output