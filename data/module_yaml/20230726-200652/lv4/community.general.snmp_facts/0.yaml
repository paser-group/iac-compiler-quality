---
- name: Test snmp_facts module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Retrieve SNMP facts
      community.general.snmp_facts:
        host: "{{ host }}"
        version: "{{ version }}"
        community: "{{ community }}"
        retries: "{{ retries }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
        authkey: "{{ authkey }}"
        privacy: "{{ privacy }}"
        privkey: "{{ privkey }}"
        integrity: "{{ integrity }}"
        level: "{{ level }}"
      register: snmp_facts_output

    - debug:
        var: snmp_facts_output