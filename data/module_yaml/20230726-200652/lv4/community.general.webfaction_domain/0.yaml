---
- name: Test webfaction_domain module
  hosts: localhost
  gather_facts: false
  vars:
    login_name: "test_user"
    login_password: "test_password"
    name: "example.com"
    state: "present"
    subdomains:
      - "www"
      - "api"
  tasks:
    - name: Add domain and subdomains
      community.general.webfaction_domain:
        login_name: "{{ login_name }}"
        login_password: "{{ login_password }}"
        name: "{{ name }}"
        state: "{{ state }}"
        subdomains: "{{ subdomains }}"
      register: result

    - name: Debug output
      debug:
        var: result