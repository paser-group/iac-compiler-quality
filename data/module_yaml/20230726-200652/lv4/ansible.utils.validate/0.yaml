---
- name: Validate data with the ansible.utils.validate module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      shell: "openssl rand -hex 6 | sed 's/\\(..\\)/\\1:/g; s/.$//' | awk '{print tolower($0)}'"
      register: random_mac_address
      changed_when: false

    - name: Validate random MAC address
      ansible.utils.validate:
        data: "{{ random_mac_address.stdout }}"
        engine: "{{ ['py3', 'py2'] | random }}"
      register: validate_result

    - debug:
        var: validate_result