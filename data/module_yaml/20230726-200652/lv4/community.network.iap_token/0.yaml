- hosts: localhost
  gather_facts: false
  tasks:
    - name: Generate random MAC addresses for network modules
      script:
        python -c "import random; import string; mac_address = ''.join(random.choice(string.ascii_lowercase + string.digits) for _ in range(12)); print(mac_address)"

    - name: Get token for the Itentia
      community.network.iap_token:
        https: "invalid_value"
        iap_fqdn: "{{ ansible_default_ipv4.address }}"
        iap_port: "8443"
        password: "admin_password"
        username: "admin_user"
        validate_certs: "invalid_value"

      register: result

    - name: Debug result
      debug:
        var: result