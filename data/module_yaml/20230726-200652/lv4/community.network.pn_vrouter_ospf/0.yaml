---
- name: Configure OSPF on vRouter
  hosts: localhost
  gather_facts: false

  vars:
    pn_cliswitch: "vrouter"

  tasks:
    - name: Configure OSPF
      community.network.pn_vrouter_ospf:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_netmask: "255.255.255.0"
        pn_network: "10.1.1.0"
        pn_ospf_area: "0.0.0.0"
        pn_vrouter_name: "vrouter1"
        state: present

  post_tasks:
    - name: Check OSPF configuration
      command: show ospf
      register: ospf_output

    - name: Debug OSPF output
      debug:
        var: ospf_output.stdout_lines

- name: Generate random MAC addresses for network modules
  hosts: localhost
  gather_facts: false

  vars:
    mac_addresses:
      - "00:11:22:33:44:55"
      - "AA:BB:CC:DD:EE:FF"
      - "12:34:56:78:90:AB"

  tasks:
    - name: Random MAC address
      set_fact:
        random_mac_address: "{{ mac_addresses | random }}"

    - name: Debug random MAC address
      debug:
        var: random_mac_address