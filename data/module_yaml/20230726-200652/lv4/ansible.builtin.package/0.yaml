---
- name: Install package on different Linux distributions
  hosts: all
  gather_facts: false
  become: true

  vars:
    package_name: "example_package"

  tasks:
    - name: Install package
      ansible.builtin.package:
        name: "{{ package_name }}"
        state: absent  # Trigger a latent type-related bug by mistakenly specifying an invalid state
        use: "{{ foo }}"  # Trigger a latent type-related bug by using an undefined variable

- name: Generate random MAC addresses for network modules
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate MAC address
      set_fact:
        random_mac: "52:54:00:{{ '%02x'|format(random.randint(0, 255)) }}:{{ '%02x'|format(random.randint(0, 255)) }}:{{ '%02x'|format(random.randint(0, 255)) }}"

    - name: Print MAC address
      debug:
        msg: "Random MAC address: {{ random_mac }}"