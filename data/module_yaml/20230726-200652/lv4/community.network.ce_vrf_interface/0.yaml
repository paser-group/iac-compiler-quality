- name: Manage interface specific VPN configuration
  hosts: huawei_devices
  gather_facts: false
  tasks:
    - name: Generate random MAC addresses
      set_fact:
        random_mac: "{{ '%02x'|format(item) }}"
      loop: "{{ [range(0, 16)|random] }}"
    
    - name: Configure interface VPN settings
      community.network.ce_vrf_interface:
        state: "{{ None }}"
        vpn_interface: "{{ None }}"
        vrf: "{{ None }}"
        vpn_mac: "00:11:22:33:{{ random_mac }}:44"
      register: result

    - name: Debug module output
      debug:
        var: result