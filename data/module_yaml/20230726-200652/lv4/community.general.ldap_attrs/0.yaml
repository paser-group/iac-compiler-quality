---
- name: Test playbook for community.general.ldap_attrs module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add or remove ldap attributes
      community.general.ldap_attrs:
        dn: "cn=users,dc=example,dc=com"
        attributes:
          - name: "mail"
            values:
              - "user1@example.com"
          - name: "userPassword"
            values:
              - "password1"
        bind_dn: "admin"
        bind_pw: "adminpassword"
        server_uri: "ldap://ldap.example.com"

      register: ldap_attrs

    - name: Debug ldap_attrs output
      debug:
        var: ldap_attrs