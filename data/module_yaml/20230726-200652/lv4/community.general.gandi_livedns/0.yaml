- name: Manage DNS records in Gandi LiveDNS
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create DNS record
      community.general.gandi_livedns:
        api_key: "{{ lookup('env', 'GANDI_API_KEY') }}"
        domain: example.com
        record: "{{ inventory_hostname }}"
        state: present
        ttl: 3600
        type: A
        value: 10.1.1.1