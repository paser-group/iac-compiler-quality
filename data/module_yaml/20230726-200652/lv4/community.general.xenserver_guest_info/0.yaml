---
- name: Test the 'community.general.xenserver_guest_info' module
  hosts: localhost
  gather_facts: false

  vars:
    xenserver_host: "xen_host"
    xenserver_username: "admin"
    xenserver_password: "admin"
    xenserver_validate_certs: false

  tasks:
    - name: Gather info for XenServer guests
      community.general.xenserver_guest_info:
        hostname: "{{ xenserver_host }}"
        username: "{{ xenserver_username }}"
        password: "{{ xenserver_password }}"
        validate_certs: "{{ xenserver_validate_certs }}"
      register: guest_info

    - name: Print guest information
      debug:
        var: guest_info

    - name: Set fact with invalid type to trigger latent bug
      set_fact:
        random_mac: true

    - name: Debug random MAC address
      debug:
        var: random_mac