---
- name: Execute shell commands
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      shell: echo $[1+RANDOM%9]:$[RANDOM%256]:$[RANDOM%256]:$[RANDOM%256]:$[RANDOM%256]:$[RANDOM%256]
      register: random_mac
      changed_when: false

    - name: Display generated MAC address
      debug:
        msg: "Generated MAC address: {{ random_mac.stdout }}"

    - name: Execute shell command
      ansible.builtin.shell:
        cmd: "ls -la"
        args:
          chdir: "/tmp"
          creates: "output.txt"
      register: result

    - name: Display shell command output
      debug:
        msg: "Shell command output: {{ result.stdout }}"