---
- name: Save Netscaler Configuration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Save Configuration
      community.network.netscaler_save_config:
        nitro_host: "{{ nsip }}"
        nitro_user: "{{ nitro_user }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        validate_certs: "{{ validate_certs }}"
        mac_address: "{{ '52:54:00' | random_mac }}"
      register: result

    - name: Print Result
      debug:
        var: result