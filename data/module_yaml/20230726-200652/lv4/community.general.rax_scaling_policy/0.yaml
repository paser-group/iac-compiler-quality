---
- name: Test Playbook
  hosts: localhost
  gather_facts: false
  
  vars:
    api_key: "YOUR_RACKSPACE_API_KEY"
    at: "YOUR_AUTH_TOKEN"
    auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0"
    change: 2
    cooldown: 60
    credentials: "/path/to/credentials/file"
    cron: "0 * * * *"
    desired_capacity: 10
    env: "test"
    identity_type: "rackspace"
    is_percent: false
    name: "scaling-policy"
    policy_type: "change_in_capacity"
    region: "ORD"
    scaling_group: "my-scaling-group"
    state: "present"
    tenant_id: "YOUR_TENANT_ID"
    tenant_name: "YOUR_TENANT_NAME"
    username: "YOUR_USERNAME"
    validate_certs: true

  tasks:
    - name: Manipulate Rackspace Cloud Autoscaling
      community.general.rax_scaling_policy:
        api_key: "{{ api_key }}"
        at: "{{ at }}"
        auth_endpoint: "{{ auth_endpoint }}"
        change: "{{ change }}"
        cooldown: "{{ cooldown }}"
        credentials: "{{ credentials }}"
        cron: "{{ cron }}"
        desired_capacity: "{{ desired_capacity }}"
        env: "{{ env }}"
        identity_type: "{{ identity_type }}"
        is_percent: "{{ is_percent }}"
        name: "{{ name }}"
        policy_type: "{{ policy_type }}"
        region: "{{ region }}"
        scaling_group: "{{ scaling_group }}"
        state: "{{ state }}"
        tenant_id: "{{ tenant_id }}"
        tenant_name: "{{ tenant_name }}"
        username: "{{ username }}"
        validate_certs: "{{ validate_certs }}"