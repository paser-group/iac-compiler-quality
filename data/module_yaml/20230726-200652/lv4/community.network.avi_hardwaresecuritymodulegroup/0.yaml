---
- name: Test playbook for community.network.avi_hardwaresecuritymodulegroup module
  hosts: localhost
  gather_facts: false

  vars:
    hsm_module_options:
      controller: "http://{{ controller }}"
      username: "{{ avi_credentials.username }}"
      password: "{{ avi_credentials.password }}"
      tenant: "{{ tenant }}"
      tenant_uuid: "{{ tenant_uuid }}"
      state: "{{ state }}"
      name: null
      hsm: null
      tenant_ref: null
      url: null
      uuid: null
      api_context: "{{ api_context }}"
      api_version: "{{ api_version }}"
      avi_api_patch_op: null
      avi_api_update_method: null
      avi_disable_session_cache_as_fact: false

  tasks:
    - name: Create HardwareSecurityModuleGroup
      community.network.avi_hardwaresecuritymodulegroup:
        controller: "{{ hsm_module_options.controller }}"
        username: "{{ hsm_module_options.username }}"
        password: "{{ hsm_module_options.password }}"
        tenant: "{{ hsm_module_options.tenant }}"
        tenant_uuid: "{{ hsm_module_options.tenant_uuid }}"
        state: "{{ hsm_module_options.state }}"
        name: "{{ hsm_module_options.name | mandatory }}"
        hsm: "{{ hsm_module_options.hsm | mandatory }}"
        tenant_ref: "{{ hsm_module_options.tenant_ref | mandatory }}"
        url: "{{ hsm_module_options.url | mandatory }}"
        uuid: "{{ hsm_module_options.uuid | mandatory }}"
        api_context: "{{ hsm_module_options.api_context }}"
        api_version: "{{ hsm_module_options.api_version }}"
        avi_api_patch_op: "{{ hsm_module_options.avi_api_patch_op | mandatory }}"
        avi_api_update_method: "{{ hsm_module_options.avi_api_update_method | mandatory }}"
        avi_disable_session_cache_as_fact: "{{ hsm_module_options.avi_disable_session_cache_as_fact }}"