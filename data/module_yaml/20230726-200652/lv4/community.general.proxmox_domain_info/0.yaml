- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Retrieve information about Proxmox domain
      community.general.proxmox_domain_info:
        api_host: "{{ api_host }}"
        api_user: "{{ api_user }}"
        api_password: "{{ api_password }}"
        api_token_id: "{{ api_token_id }}"
        api_token_secret: "{{ api_token_secret }}"
        domain: "{{ domain }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - debug:
        var: result