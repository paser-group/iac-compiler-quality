---
- name: Manage ACL configuration on HUAWEI device
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ACL
      community.network.ce_acl:
        acl_name: "{{ acl_name }}"
        acl_description: "{{ acl_description }}"
        acl_num: "{{ acl_num }}"
        acl_step: "{{ acl_step }}"
        frag_type: "{{ frag_type }}"
        log_flag: "{{ log_flag }}"
        rule_action: "{{ rule_action }}"
        rule_description: "{{ rule_description }}"
        rule_id: "{{ rule_id }}"
        rule_name: "{{ rule_name }}"
        source_ip: "{{ source_ip }}"
        src_mask: "{{ src_mask }}"
        state: "{{ state }}"
        time_range: "{{ time_range }}"
        vrf_name: "{{ vrf_name }}"
      register: acl_result

    - name: Print ACL result
      debug:
        var: acl_result