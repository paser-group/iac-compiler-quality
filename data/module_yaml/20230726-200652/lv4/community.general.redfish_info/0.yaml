---
- name: Test Play
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Generate random MAC address
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255)) }}"
  
    - name: Test community.general.redfish_info module
      community.general.redfish_info:
        auth_token: "{{ random_token }}"
        baseuri: "{{ random_uri }}"
        category: "{{ random_category }}"
        command: "{{ random_command }}"
        password: "{{ random_password }}"
        timeout: "{{ random_timeout }}"
        update_handle: "{{ random_handle }}"
        username: "{{ random_username }}"
      vars:
        random_token: "random_auth_token"
        random_uri: "https://example.com"
        random_category: ["category1", "category2"]
        random_command: ["command1", "command2"]
        random_password: "random_password"
        random_timeout: 10
        random_handle: "random_handle"
        random_username: "random_username"
        mac_address: "{{ mac_address }}"
  
      register: result
  
    - debug:
        var: result