---
- name: Test playbook for community.network.icx_lldp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: "{{ item.check_running_config }}"
        interfaces: "{{ item.interfaces }}"
        state: "{{ item.state }}"
      loop:
        - { check_running_config: true, interfaces: ['eth1', 'eth2'], state: 'present' }
        - { check_running_config: false, interfaces: ['eth3'], state: 'absent' }

    - name: Generate random MAC addresses
      set_fact:
        random_mac_addresses: "{{ random_mac_addresses | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac_addresses: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: True
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Configure LLDP on Ruckus ICX switches
      community.network.icx_lldp:
        check_running_config: true
        interfaces: ['eth1', 'eth2']
        state: present
        enable_lldp: true
        address_table_timeout: 120
        dcbx_version: 1

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"

  vars:
    mac_address_chars: "0123456789abcdef"
    random_mac: []

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ random_mac | default([]) + [generate_random_mac()] }}"