---
- name: Test playbook for community.network.avi_systemconfiguration module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Test case 1 - MAC address generation
      community.network.avi_systemconfiguration:
        controller: "https://{{ controller }}/api"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        uuid: "{{ uuid }}"
        docker_mode: "{{ docker_mode }}"
        linux_configuration:
          - config_type: "DOCKER_HOST"
            ip_addr: "10.1.1.1"
            subnet: "5555"
            gateway_ip: "5555"
          - config_type: "DOCKER_HOST"
            ip_addr: "10.1.1.2"
            subnet: "5555"
            gateway_ip: "5555"
          - config_type: "DOCKER_HOST"
            ip_addr: "10.1.1.3"
            subnet: "5555"
            gateway_ip: "5555"
          - config_type: "DOCKER_HOST"
            ip_addr: "10.1.1.4"
            subnet: "5555"
            gateway_ip: "5555"
            mac_addr: "{{ item }}"
      loop: "{{ range(4)|map('random_mac')|list }}"
      register: result