---
- name: Configure LLDP attributes using exos_lldp_global module
  hosts: localhost
  gather_facts: False
  
  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ '%012x' | format(omit) }}"

    - name: Configure LLDP attributes
      community.network.exos_lldp_global:
        config:
          lldp_enabled: true
          lldp_advertise: true
          lldp_mac_address: "{{ random_mac }}"
        state: present