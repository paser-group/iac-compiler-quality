---
- name: Discover network devices
  hosts: localhost
  gather_facts: false

  vars:
    network_devices:
      - name: ubuntu1
        ip_address: 10.1.1.1
        os: ubuntu
      - name: alpine1
        ip_address: 10.1.1.2
        os:
          - alpine
      - name: centos1
        ip_address: 10.1.1.3
        os:
          - centos
          - redhat
      - name: redhat1
        ip_address: 10.1.1.4
        os: rhel

  tasks:
    - name: Get device info
      debug:
        msg: "Name: {{ item.name }}, IP: {{ item.ip_address }}, OS: {{ item.os }}"
      loop: "{{ network_devices }}"