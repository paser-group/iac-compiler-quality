- name: Test manageiq_alerts module
  hosts: [my_nodes]
  gather_facts: false
  
  tasks:
    - name: Manage ManageIQ alerts
      community.general.manageiq_alerts:
        description: test
        enabled: true
        expression: "{{ hostvars[inventory_hostname]['ansible_fqdn'] }}"
        expression_type: string
        manageiq_connection: "{{ 'https://manageiq.example.com' }}"
        options:
          mac_address: 00:00:00:00:00:00
        resource_type: host
        state: present