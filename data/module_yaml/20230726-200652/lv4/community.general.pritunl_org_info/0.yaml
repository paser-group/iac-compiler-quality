- name: Test playbook to reveal latent type-related bugs in Ansible
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include community.general.pritunl_org_info module
      include_role:
        name: community.general.pritunl_org_info

      vars:
        organization: "my_org"
        pritunl_api_secret: "my_secret"
        pritunl_api_token: "my_token"
        pritunl_url: "https://my-pritunl-server.com"
        validate_certs: "false"
        invalid_variable: 42

    - name: Display pritunl organization information
      debug:
        var: pritunl_org_info.result

  post_tasks:
    - name: Display pritunl organization information after playbook execution
      debug:
        msg: "Playbook execution completed"