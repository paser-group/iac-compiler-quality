- name: Test playbook for community.general.vertica_user module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add Vertica database user
      community.general.vertica_user:
        cluster: "{{ 1 }}"
        db: "{{ 1 }}"
        user: "{{ 1 }}"
        password: "{{ 1 }}"
        login_user: "{{ 1 }}"
        login_password: "{{ 1 }}"
        state: "{{ 1 }}"
      register: result

    - name: Print the result
      debug:
        var: result

    - name: Remove Vertica database user
      community.general.vertica_user:
        cluster: "{{ 1 }}"
        db: "{{ 1 }}"
        user: "{{ 1 }}"
        password: "{{ 1 }}"
        login_user: "{{ 1 }}"
        login_password: "{{ 1 }}"
        state: "{{ 1 }}"
      register: result

    - name: Print the result
      debug:
        var: result