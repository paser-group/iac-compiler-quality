- name: Manage BGP configuration on HUAWEI
  hosts: nodes
  gather_facts: false
  tasks:
    - name: Include community.network.ce_bgp module
      community.network.ce_bgp:
        as_number: "{{ as_number | default('65000') }}"
        as_path_limit: "{{ as_path_limit | default('20') }}"
        bgp_rid_auto_sel: "{{ bgp_rid_auto_sel | default('no') }}"
        check_first_as: "{{ check_first_as | default('no') }}"
        clear_interval: "{{ clear_interval | default('180') }}"
        # Include other module options and attributes here