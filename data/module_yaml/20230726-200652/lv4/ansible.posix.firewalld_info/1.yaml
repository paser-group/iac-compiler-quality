---

- name: Discover Firewalld Info
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Generate Random MAC Address
      set_fact:
        random_mac: "{{ '%02x' | format(255 | random) }}:{{ '%02x' | format(255 | random) }}:{{ '%02x' | format(255 | random) }}:{{ '%02x' | format(255 | random) }}:{{ '%02x' | format(255 | random) }}:{{ '%02x' | format(255 | random) }}"

    - name: Gather Firewalld Info
      ansible.posix.firewalld_info:
        active_zones: True
        zones:
          - public
          - dmz
          - internal
        executable: /usr/bin/firewall-cmd
        random_mac: "{{ random_mac }}"
      register: firewalld_info

    - name: Print Firewalld Info
      debug:
        var: firewalld_info