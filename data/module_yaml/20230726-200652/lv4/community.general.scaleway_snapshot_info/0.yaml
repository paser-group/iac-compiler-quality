- name: Test playbook for community.general.scaleway_snapshot_info module
  hosts: localhost
  gather_facts: False

  vars:
    api_token: "YOUR_API_TOKEN"
    validate_certs: True
    api_timeout: 30
    api_url: "https://api.scaleway.com"
    region: "fr-par"

  tasks:
    - name: Gather scaleway_snapshot_info
      community.general.scaleway_snapshot_info:
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        api_timeout: "{{ api_timeout }}"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs }}"
        query_parameters:
          destroy_after: 24    # Modify query_parameters as per your requirement