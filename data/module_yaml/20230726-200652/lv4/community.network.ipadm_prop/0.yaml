---
- name: Test playbook for ipadm_prop module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set network properties
      community.network.ipadm_prop:
        property: "{{ item.property | random(['MAC', 'IP']) }}"
        protocol: "{{ item.protocol | random(['eth', 'wifi']) }}"
        state: "{{ item.state | random(['enabled', 'disabled']) }}"
        temporary: "{{ item.temporary | random([true, false]) }}"
        value: "{{ item.value if item.property != 'MAC' else ansible_random_mac }}"
      loop:
        - { property: None, protocol: None, state: None, temporary: None, value: None }