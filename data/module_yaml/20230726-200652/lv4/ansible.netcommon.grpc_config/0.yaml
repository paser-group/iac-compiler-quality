---
- name: Test playbook for ansible.netcommon.grpc_config
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Fetch configuration/state data from gRPC
      ansible.netcommon.grpc_config:
        backup: "{{ backup | default(true) }}"
        backup_options: "{{ backup_options | default({}) }}"
        config: "{{ config }}"
        state: "{{ state }}"
      register: grpc_config_result

    - name: Debug gRPC config result
      debug:
        var: grpc_config_result