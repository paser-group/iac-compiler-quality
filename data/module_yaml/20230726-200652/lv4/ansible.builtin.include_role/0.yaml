---
- name: Include Role Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac: "{{ '%02x' | format( <random number generator> ) }}"
      vars:
        random_number_generator: "!ruby/proc '{{ Random.new_seed.to_i(16) }}'"

    - name: Include Role
      include_role:
        name: my_role
        defaults_from: "{{ vars_from }}"
        handlers_from: "{{ vars_from }}"
        tasks_from: "{{ vars_from }}"
        vars_from: "{{ vars_from }}"
        allow_duplicates: "{{ allow_duplicates }}"
        public: "{{ public }}"
        rolespec_validate: "{{ rolespec_validate }}"
        apply: "{{ apply }}"
      vars:
        vars_from: "/path/to/vars/file.yaml"
        allow_duplicates: false
        public: true
        rolespec_validate: true
        apply: "{{ random_mac }}"