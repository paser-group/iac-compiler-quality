---
- name: Test 'community.general.ss_3par_cpg' module
  hosts: localhost
  gather_facts: false

  vars:
    cpg_name: "cpg1"
    disk_type: "FC"
    domain: "cpg"
    growth_increment: "10G"
    growth_limit: "100G"
    growth_warning: "80G"
    high_availability: "system"
    raid_type: "raid6"
    secure: true
    set_size: 4
    state: "present"
    storage_system_ip: "192.168.1.100"
    storage_system_password: "password"
    storage_system_username: "admin"

  tasks:
    - name: Generate random MAC addresses for network modules
      script: /path/to/random_mac_address_generator.py
      register: random_mac_addresses

    - name: Display random MAC addresses
      debug:
        msg: "{{ random_mac_addresses.stdout_lines }}"

    - name: Test 'community.general.ss_3par_cpg' module
      community.general.ss_3par_cpg:
        cpg_name: "{{ cpg_name }}"
        disk_type: "{{ disk_type }}"
        domain: "{{ domain }}"
        growth_increment: "{{ growth_increment }}"
        growth_limit: "{{ growth_limit }}"
        growth_warning: "{{ growth_warning }}"
        high_availability: "{{ high_availability }}"
        raid_type: "{{ raid_type }}"
        secure: "{{ secure }}"
        set_size: "{{ set_size }}"
        state: "{{ state }}"
        storage_system_ip: "{{ storage_system_ip }}"
        storage_system_password: "{{ storage_system_password }}"
        storage_system_username: "{{ storage_system_username }}"
      register: result

    - name: Display 'community.general.ss_3par_cpg' module result
      debug:
        var: result