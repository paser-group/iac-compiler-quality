---
- name: Trigger latent type-related bugs in the Ansible module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses
      vars:
        mac_addresses:
          - "{{ '%012x' | format((range(1,7) | random * 256) + range(1,256) | random) }}"

      debug:
        msg: "Random MAC addresses: {{ mac_addresses }}"

    - name: Configure DLDP
      community.network.ce_dldp:
        auth_mode: "{{ None }}"
        auth_pwd: "{{ None }}"
        enable: "{{ None }}"
        reset: "{{ None }}"
        time_interval: "{{ None }}"
        work_mode: "{{ None }}"

      register: dldp_result

    - name: Debug output
      debug:
        var: dldp_result