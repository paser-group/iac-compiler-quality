---
- name: Create maintenance window
  hosts: localhost
  gather_facts: false

  vars:
    maintenance_id: 123456
    api_id: your-api-id
    api_key: your-api-key
    statuspage: your-statuspage-id
    title: "Testing Maintenance Window"
    desc: "This is a test maintenance window"
    start_date: "2022-07-01"
    start_time: "10:00:00"
    minutes: 60
    state: present
    automation: True
    components:
      - component1
      - component2
    containers:
      - container1
      - container2
    url: "https://example.com"

  tasks:
    - name: Create maintenance window
      community.general.statusio_maintenance:
        maintenance_id: "{{ maintenance_id }}"
        api_id: "{{ api_id }}"
        api_key: "{{ api_key }}"
        statuspage: "{{ statuspage }}"
        title: "{{ title }}"
        desc: "{{ desc }}"
        start_date: "{{ start_date }}"
        start_time: "{{ start_time }}"
        minutes: "{{ minutes }}"
        state: "{{ state }}"
        automation: "{{ automation }}"
        components: "{{ components }}"
        containers: "{{ containers }}"
        url: "{{ url }}"
      register: maintenance_window

    - name: Debug maintenance window response
      debug:
        var: maintenance_window