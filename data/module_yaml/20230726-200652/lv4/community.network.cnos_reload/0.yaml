---
- name: Perform switch restart on device
  hosts: all
  gather_facts: false

  tasks:
    - name: Reload the device
      community.network.cnos_reload:
        deviceType: "{{ item }}"
        enablePassword: "{{ enable_password }}"
        host: "{{ host }}"
        outputfile: "{{ output_file }}"
        password: "{{ password }}"
        username: "{{ username }}"
      loop:
        - cnos
        - alpine
        - ubuntu
        - redhat