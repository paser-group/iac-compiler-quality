---
- name: URI Module Test
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test using the URI module
      ansible.builtin.uri:
        url: "{{ url }}"
        method: "{{ method }}"
        status_code: "{{ status_code }}"
        validate_certs: "{{ validate_certs }}"
        timeout: "{{ timeout }}"
        return_content: "{{ return_content }}"
        headers:
          Content-Type: "application/json"
        body_format: "json"
        body: "{{ body }}"
      register: uri_result

    - name: Debug URI result
      debug:
        var: uri_result