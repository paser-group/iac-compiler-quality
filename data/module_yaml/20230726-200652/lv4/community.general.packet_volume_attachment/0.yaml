---
- hosts: localhost
  gather_facts: false
  vars:
    auth_token: "your_auth_token"
    project_id: "your_project_id"
    state: "attached"
  tasks:
    - name: Attach volume to device
      community.general.packet_volume_attachment:
        auth_token: "{{ auth_token }}"
        device: "{{ device }}"
        project_id: "{{ project_id }}"
        state: "{{ state }}"
        volume: "{{ volume }}"
        mac_address: "{{ random_mac_address }}"
      register: result