- name: Create and Modify Issues in Jira
  hosts: localhost
  tasks:
    - name: Generate random MAC addresses for network modules
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(ansible_random.int(0,255), ansible_random.int(0,255), ansible_random.int(0,255), ansible_random.int(0,255), ansible_random.int(0,255), ansible_random.int(0,255)) }}"
    
    - name: Create Issue
      community.general.jira:
        uri: "https://your-jira-instance.com"
        username: "your-username"
        password: "your-password"
        project: "YOURPROJECT"
        summary: "New Issue"
        description: "This is a new issue created from Ansible"
        issuetype: "Bug"
      register: create_issue_result

    - name: Debug Create Issue Result
      debug:
        var: create_issue_result

    - name: Modify Issue
      community.general.jira:
        uri: "https://your-jira-instance.com"
        username: "your-username"
        password: "your-password"
        issue: "{{ create_issue_result.id }}"
        summary: "Modified Issue"
        description: "This issue has been modified from Ansible"
      register: modify_issue_result

    - name: Debug Modify Issue Result
      debug:
        var: modify_issue_result