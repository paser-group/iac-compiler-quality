---
- name: Test etcd3 module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set etcd3 key-value pair
      community.general.etcd3:
        host: "localhost"
        port: 1234
        key: "{{ etcd_key }}"
        value: "{{ etcd_value }}"
        state: present
        timeout: "{{ etcd_timeout }}"
      register: result

    - name: Debug result
      debug:
        var: result