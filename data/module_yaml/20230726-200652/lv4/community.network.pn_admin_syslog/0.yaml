---
- name: Test playbook for community.network.pn_admin_syslog module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      set_fact:
        mac_address: "{{ '%012x' | format(ansible_date_time.epoch) | upper }}"

    - name: Create or modify pn_admin_syslog configuration
      community.network.pn_admin_syslog:
        pn_cliswitch: "{{ mac_address }}"
        pn_host: "{{ mac_address }}"
        pn_name: "{{ mac_address }}"
        pn_port: "{{ mac_address }}"
        pn_scope: "{{ mac_address }}"
        pn_transport: "{{ mac_address }}"
        state: "{{ mac_address }}"