---
- name: Expose latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure interface
      community.network.ce_interface:
        admin_state: "{{ admin_state }}"
        description: "{{ description }}"
        interface: "{{ interface }}"
        interface_type: "{{ interface_type }}"
        l2sub: "{{ l2sub }}"
        mode: "{{ mode }}"
        state: "{{ state }}"
      vars:
        admin_state: "{{ admin_state | default(None) }}"
        description: "{{ description | default(None) }}"
        interface: "{{ interface | default(None) }}"
        interface_type: "{{ interface_type | default(None) }}"
        l2sub: "{{ l2sub | default(false) }}"
        mode: "{{ mode | default(stp) }}"
        state: "{{ state | default(None) }}"