---
- name: Expose Latent Type-Related Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Trigger Type-Related Bug
      community.network.aireos_config:
        backup: True
        backup_options:
          dir_path: "/etc/ansible/backups/{{ inventory_hostname }}"
        src: "{{ playbook_dir }}/config_files/{{ inventory_hostname }}_config.cfg"
        lines:
          - 'interface {{ interface }}'
          - 'description {{ description }}'
          - 'switchport mode access'
          - 'switchport access vlan {{ vlan }}'