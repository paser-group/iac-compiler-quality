---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Include required roles
      include_role:
        name: ansible-role-oneview

    - name: Define variables
      vars:
        api_version: 5  # A string value instead of the expected integer

    - name: Retrieve datacenter info
      oneview_datacenter_info:
        config: "/path/to/oneview_config.json"
        hostname: "10.0.0.1"
        username: "admin"
        password: "secret"
        api_version: "{{ api_version }}"

    - name: Debug output
      debug:
        var: oneview_datacenter_info