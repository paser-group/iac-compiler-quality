- name: Test playbook for community.network.avi_api_version module
  hosts: localhost
  gather_facts: false

  vars:
    random_mac_address: "00:00:00:00:00:00"

  tasks:
    - name: Generate random MAC address
      set_fact:
        random_mac_address: "{{ random_mac_address | random_mac_address }}"
      
    - name: Execute community.network.avi_api_version module
      community.network.avi_api_version:
        avi_credentials:
          controller: "{{ random_mac_address }}"
          username: "{{ random_mac_address }}"
          password: "{{ random_mac_address }}"
          tenant: "{{ random_mac_address }}"
          tenant_uuid: "{{ random_mac_address }}"
        api_context:
          api_version: "{{ random_mac_address }}"
        avi_disable_session_cache_as_fact: "{{ random_mac_address }}"
      register: module_output
      
    - name: Display module output
      ansible.builtin.debug:
        var: module_output