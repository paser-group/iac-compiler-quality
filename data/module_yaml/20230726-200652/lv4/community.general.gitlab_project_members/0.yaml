---
- name: Manage GitLab project members
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Add or update GitLab project members
      community.general.gitlab_project_members:
        api_url: "https://gitlab.example.com/api/v4"
        api_username: "admin"
        api_password: "password"
        project: "my_project"
        gitlab_user:
          - user1
          - user2
        purge_users:
          - user3
          - user4
        state: present
        validate_certs: no
        access_level: 1