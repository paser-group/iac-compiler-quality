---
- name: Test community.general.idrac_redfish_command module
  hosts: localhost
  gather_facts: false

  vars:
    auth_token: "your_auth_token"
    baseuri: "https://your_idrac_ip"
    category: "config"
    resource_id: "BIOS"

  tasks:
    - name: Execute idrac_redfish_command
      community.general.idrac_redfish_command:
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        auth_token: "{{ auth_token }}"
        username: "{{ ansible_user }}"
        password: "{{ ansible_password }}"
        command:
          - "get"
          - "/redfish/v1/Systems/System.Embedded.1/Bios"
      register: idrac_result

    - name: Debug idrac_redfish_command output
      debug:
        var: idrac_result