---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255)) }}"

    - name: Print MAC address
      debug:
        var: mac_address

    - name: Install required packages
      community.general.pip:
        name:
          - package1
          - package2
        state: present

    - name: Get package information
      community.general.pip_package_info:
        clients:
          - package1
          - package2
        executable: pip3
      register: package_info

    - name: Display package information
      debug:
        var: package_info