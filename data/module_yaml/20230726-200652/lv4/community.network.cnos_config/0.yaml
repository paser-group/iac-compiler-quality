- name: Generate random MAC addresses for network modules
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Lenovo CNOS switches
      community.network.cnos_config:
        admin: "{{ random_admin }}"
        after: "{{ random_after }}"
        backup: "{{ random_backup }}"
        backup_options: "{{ random_backup_options }}"
        before: "{{ random_before }}"
        comment: "{{ random_comment }}"
        config: "{{ random_config }}"
        lines: "{{ random_lines }}"
        match: "{{ random_match }}"
        parents: "{{ random_parents }}"
        replace: "{{ random_replace }}"
        src: "{{ random_src }}"
      vars:
        random_admin: "{{ random_bool() }}"
        random_after: "{{ random_none() }}"
        random_backup: "{{ random_bool() }}"
        random_backup_options: "{{ random_dict() }}"
        random_before: "{{ random_none() }}"
        random_comment: "{{ random_none() }}"
        random_config: "{{ random_none() }}"
        random_lines: "{{ random_none() }}"
        random_match: "{{ random_none() }}"
        random_parents: "{{ random_none() }}"
        random_replace: "{{ random_none() }}"
        random_src: "{{ random_none() }}"
      register: config_result

    - name: Print config result
      debug:
        var: config_result