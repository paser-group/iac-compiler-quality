- name: Import Role Playbook
  hosts: all
  become: false

  tasks:
    - name: Import Role
      ansible.builtin.import_role:
        name: my_role
        allow_duplicates: "true"
        defaults_from: "{{ playbook_dir }}/defaults/main.yml"
        handlers_from: "{{ playbook_dir }}/handlers/main.yml"
        rolespec_validate: "true"
        tasks_from: "{{ playbook_dir }}/tasks/main.yml"
        vars_from: "{{ playbook_dir }}/vars/main.yml"

    - name: Generate Random MAC Addresses
      ansible.builtin.debug:
        var: item
      with_items: "{{ mac_addresses }}"

  vars:
    mac_addresses: "{{ range(4) | map('community.network.random_mac') }}"