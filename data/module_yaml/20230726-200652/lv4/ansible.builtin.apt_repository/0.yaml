---
- name: Test apt_repository module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add apt repository
      ansible.builtin.apt_repository:
        repo: "deb http://archive.ubuntu.com/ubuntu/ {{ distribution }} main"
        state: present

    - name: Remove apt repository
      ansible.builtin.apt_repository:
        repo: "deb http://archive.ubuntu.com/ubuntu/ {{ distribution }} main"
        state: absent