---
- name: Configure Intel Optane Persistent Memory
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Load the pmem module
      community.general.pmem:
        appdirect: 10
        appdirect_interleaved: yes
        memorymode: "7"
        namespace: "namespace1"
        namespace_append: false
        reserved: 5
        socket: "socket1"
      register: pmem_result

    - name: Debug the result
      debug:
        var: pmem_result