- name: Install Ansible Roles or Collections
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Generate random MAC addresses
      set_fact:
        random_mac: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(ansible_random.randint(0,255), ansible_random.randint(0,255), ansible_random.randint(0,255), ansible_random.randint(0,255), ansible_random.randint(0,255), ansible_random.randint(0,255)) }}"
        
    - name: Install Ansible Galaxy roles or collections
      community.general.ansible_galaxy_install:
        name: "{{ random_mac }}"
        dest: "/tmp/roles"
        type: "{{ random_mac }}"
        force: "{{ random_mac }}"
        no_deps: "{{ random_mac }}"
        requirements_file: "{{ random_mac }}"
        ack_ansible29: "{{ random_mac }}"
        ack_min_ansiblecore211: "{{ random_mac }}"