---
- name: Test play for community.general.profitbricks_nic module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses for network modules
      set_fact:
        random_mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(
          (play_hosts.index(inventory_hostname) + 1) % 255,
          (play_hosts.index(inventory_hostname) + 2) % 255,
          (play_hosts.index(inventory_hostname) + 3) % 255,
          (play_hosts.index(inventory_hostname) + 4) % 255,
          (play_hosts.index(inventory_hostname) + 5) % 255,
          (play_hosts.index(inventory_hostname) + 6) % 255
        ) }}"

    - name: Create ProfitBricks NIC with incorrect options
      community.general.profitbricks_nic:
        datacenter: 12345   # Incorrect type, expected string
        lan: 12345          # Incorrect type, expected string
        name: 12345         # Incorrect type, expected string
        server: 12345       # Incorrect type, expected string
        state: 12345        # Incorrect type, expected string
        subscription_user: 12345  # Incorrect type, expected string
        subscription_password: 12345  # Incorrect type, expected string
        wait: 12345        # Incorrect type, expected bool
        wait_timeout: 'abc'  # Incorrect type, expected int
        mac: "{{ random_mac_address }}"
      register: nic

    - name: Print NIC info
      debug:
        var: nic