---
- name: Collect facts from devices with community.network.exos_facts module
  hosts: localhost
  gather_facts: false

  vars:
    gather_network_resources:
      - vlans
      - ports
    gather_subset:
      - default

  tasks:
    - name: Gather facts from devices
      community.network.exos_facts:
        gather_network_resources: "{{ gather_network_resources }}"
        gather_subset: "{{ gather_subset }}"
      register: exos_facts

    - debug:
        var: exos_facts

- name: Generate random MAC addresses for network modules
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC address
      community.general.random_string:
        length: 12
        chars: "0123456789abcdef"
      register: mac_address

    - debug:
        var: mac_address