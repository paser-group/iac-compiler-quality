---
- name: Test VXLAN gateway playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VXLAN gateway
      community.network.ce_vxlan_gateway:
        arp_direct_route: "{{ arp_direct_route }}"
        arp_distribute_gateway: "{{ arp_distribute_gateway }}"
        dfs_all_active: "{{ dfs_all_active }}"
        dfs_id: "{{ dfs_id }}"
        dfs_peer_ip: "{{ dfs_peer_ip }}"
        dfs_peer_vpn: "{{ dfs_peer_vpn }}"
        dfs_source_ip: "{{ dfs_source_ip }}"
        dfs_source_vpn: "{{ dfs_source_vpn }}"
        dfs_udp_port: "{{ dfs_udp_port }}"
        state: "{{ state }}"
        vbdif_bind_vpn: "{{ vbdif_bind_vpn }}"
        vbdif_mac: "{{ vbdif_mac }}"
        vbdif_name: "{{ vbdif_name }}"
        vpn_instance: "{{ vpn_instance }}"
        vpn_vni: "{{ vpn_vni }}"
      register: result

    - name: Display Result
      debug:
        var: result