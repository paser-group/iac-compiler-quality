- name: Install Homebrew tap
  hosts: localhost
  gather_facts: false

  vars:
    tap_name: homebrew/core
    tap_path: /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core
    tap_state: present
    tap_url: https://github.com/Homebrew/homebrew-core.git

  tasks:
    - name: Install Homebrew tap
      community.general.homebrew_tap:
        name: "{{ tap_name }}"
        path: "{{ tap_path }}"
        state: "{{ tap_state }}"
        url: "{{ tap_url }}"
      register: tap_result

    - name: Display Homebrew tap result
      debug:
        var: tap_result