---
- name: Create VPC
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install community.general collection
      command: ansible-galaxy collection install community.general

    - name: Create VPC
      community.general.hwc_network_vpc:
        state: present
        name: MyVPC
        cidr: 10.0.0.0/16
        region: us-west-1
        project: MyProject
        user: MyUser
        password: MyPassword
        timeouts:
          create: 900
          update: 180
        identity_endpoint: https://identity.example.com