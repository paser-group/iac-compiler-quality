---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Gather information about the Scaleway security group
      community.general.scaleway_security_group_info:
        api_timeout: 30
        api_token: "YOUR_API_TOKEN"
        api_url: "https://api.scaleway.com"
        query_parameters:
          organization: "YOUR_ORGANIZATION"
        region: "YOUR_REGION"
        validate_certs: true
      register: security_group_info
      
    - name: Debug security group information
      debug:
        var: security_group_info

- name: Generate random MAC addresses for network modules
  hosts: localhost
  gather_facts: false

  vars:
    network_interfaces:
      - { name: eth0, mac: "{{ random_mac_address() }}" }
      - { name: eth1, mac: "{{ random_mac_address() }}" }
  
  tasks:
    - name: Show network interfaces
      debug:
        var: network_interfaces
  
  tasks:
    - name: Gather information about the Scaleway security group
      community.general.scaleway_security_group_info:
        api_timeout: 30
        api_token: "YOUR_API_TOKEN"
        api_url: "https://api.scaleway.com"
        query_parameters:
          organization: "YOUR_ORGANIZATION"
        region: "YOUR_REGION"
        validate_certs: true
      register: security_group_info
      
    - name: Debug security group information
      debug:
        var: security_group_info