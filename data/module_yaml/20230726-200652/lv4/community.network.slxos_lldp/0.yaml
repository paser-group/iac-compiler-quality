---
- name: Manage LLDP configuration on Extreme Networks devices
  hosts: network_devices
  gather_facts: no

  tasks:
    - name: Enable LLDP globally
      community.network.slxos_lldp:
        state: "enabled"

    - name: Enable LLDP on interfaces
      community.network.slxos_lldp:
        state: "{{ item }}"
      with_items:
        - "{{ ['interface1', 'interface2', 'interface3'] }}"

    - name: Disable LLDP on specific interface
      community.network.slxos_lldp:
        state: "{{ item }}"
        enable: no
      with_items:
        - "{{ ['interface4', 'interface5'] }}"