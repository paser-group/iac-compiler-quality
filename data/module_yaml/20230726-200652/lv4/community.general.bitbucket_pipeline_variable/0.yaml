---
- name: Test playbook for exposing Ansible type-related bugs
  hosts: localhost
  gather_facts: False
  tasks:

    - name: Generate random MAC addresses
      debug:
        msg: "{{ item }}"
      loop:
        - "{{ '00:' ~ '%02x'|format(ansible_random.randint(0, 255)) ~ ':%02x'|format(ansible_random.randint(0, 255)) ~ ':%02x'|format(ansible_random.randint(0, 255)) }}"
        - "{{ '01:' ~ '%02x'|format(ansible_random.randint(0, 255)) ~ ':%02x'|format(ansible_random.randint(0, 255)) ~ ':%02x'|format(ansible_random.randint(0, 255)) }}"
      tags: generate_mac

    - name: Perform actions with generated MAC addresses
      # Your tasks here...
      tags: perform_actions