- name: Manage NTP configuration on Huawei devices
  hosts: huawei_devices
  gather_facts: false

  tasks:
    - name: Configure NTP servers
      community.network.ce_ntp:
        is_preferred: "{{ is_preferred | random('bool') }}"
        key_id: "{{ key_id | random }}"
        peer: "{{ peer | random('bool') }}"
        server: "{{ server | random }}"
        source_int: "{{ source_int | random }}"
        state: "{{ state | random }}"
        vpn_name: "{{ vpn_name | random }}"