---
- name: Manage OneView Fibre Channel network
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Fibre Channel network
      community.general.oneview_fc_network:
        config: /path/to/oneview_config.json
        hostname: "{{ oneview_hostname }}"
        username: "{{ oneview_username }}"
        password: "{{ oneview_password }}"
        state: present
        data:
          name: "MyFCNetwork"
          fabricType: "FabricAttach"
          bandwidth:
            maximumBandwidth: 10000
          managedSanUri: '/rest/fc-sans/managed-sans/100'
          uplinkSetUri: '/rest/uplink-sets/1'
          connectionTemplateUri: '/rest/connection-templates/1'
          vlanId: 10
          autoLoginRedistribution: false
          linkStabilityTime: 30
          autoLoginTimeout: 15
          fabricType: "FabricAttach"
          fabricUri: '/rest/fabc/login-fabric/11'
          managedSanUri: '/rest/fc-sans/managed-sans/100'

    - name: Update Fibre Channel network
      community.general.oneview_fc_network:
        config: /path/to/oneview_config.json
        hostname: "{{ oneview_hostname }}"
        username: "{{ oneview_username }}"
        password: "{{ oneview_password }}"
        state: present
        data:
          name: "MyFCNetwork"
          vlanId: 20

    - name: Delete Fibre Channel network
      community.general.oneview_fc_network:
        config: /path/to/oneview_config.json
        hostname: "{{ oneview_hostname }}"
        username: "{{ oneview_username }}"
        password: "{{ oneview_password }}"
        state: absent
        data:
          name: "MyFCNetwork"