---
- name: Heuristic Test Playbook
  hosts: all
  tasks:
    - name: Gather facts
      setup:

    - name: Set MAC addresses
      set_fact:
        mac_address_pattern: "00:00:00:00:00:00"
        mac_address: "{{ mac_address_pattern | regex_replace('00:00:00:00:00:00', mac_address_pattern | regex_replace('00', lookup('password', '/dev/null') | password_hash('sha512') | regex_replace('^.+?(.{10}).*$', '\\1'))) }}"
      register: mac_address_output

    - name: Output MAC addresses
      debug:
        var: mac_address_output