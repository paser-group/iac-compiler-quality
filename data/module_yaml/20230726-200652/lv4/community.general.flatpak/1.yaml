---
- name: Test playbook for community.general.flatpak module
  hosts: localhost
  gather_facts: false

  vars:
    macaddress: "{{ '%012x' | format((0, 0, 0, random(256), random(256), random(256))[2:]) }}"

  tasks:
    - name: Install Flatpak package
      community.general.flatpak:
        state: present
        name: com.example.app
        executable: /usr/bin/flatpak
        remote: https://example.com/repo
        method: "{{ macaddress }}"
      register: result

    - name: Print module output
      debug:
        var: result