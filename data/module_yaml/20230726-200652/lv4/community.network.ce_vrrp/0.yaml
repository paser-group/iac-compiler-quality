- hosts: localhost
  gather_facts: false
  
  vars:
    network_interfaces:
      - name: "eth0"
        vrrp_id: 10
        vrrp_ip: "192.168.1.1"
        vrrp_priority: 100
        vrrp_type: "v2"
        vrrp_auth_mode: "simple"
        vrrp_auth_key: "password123"
  
  tasks:
    - name: Manage VRRP interfaces
      community.network.ce_vrrp:
        admin_flowdown: true
        admin_ignore_if_down: false
        admin_interface: "{{ item.name }}"
        admin_vrid: "{{ item.vrrp_id }}"
        advertise_interval: null
        auth_key: null
        auth_mode: "{{ item.vrrp_auth_mode }}"
        fast_resume: ""
        gratuitous_arp_interval: null
        holding_multiplier: null
        interface: "{{ item.name }}"
        is_plain: false
        preempt_timer_delay: null
        priority: "{{ item.vrrp_priority }}"
        recover_delay: null
        state: "present"
        version: "{{ item.vrrp_type }}"
        virtual_ip: "{{ item.vrrp_ip }}"
        vrid: "{{ item.vrrp_id }}"
      loop: "{{ network_interfaces }}"