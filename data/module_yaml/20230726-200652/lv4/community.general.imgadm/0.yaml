---
- name: Test imgadm module
  hosts: localhost
  gather_facts: false
  vars:
    force: "{{ force | default(false) }}"
    pool: "my_pool"
    source: "my_source"
    state: "present"
    type: 1

  tasks:
    - name: Install image
      community.general.imgadm:
        force: "{{ force }}"
        pool: "{{ pool }}"
        source: "{{ source }}"
        state: "{{ state }}"
        type: "{{ type }}"
      register: result

    - name: Debug result
      debug:
        var: result