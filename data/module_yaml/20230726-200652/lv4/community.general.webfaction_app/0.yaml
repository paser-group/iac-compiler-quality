---
- name: Test Ansible module for latent bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add a web application
      community.general.webfaction_app:
        login_name: admin
        login_password: password
        machine: webfaction.com
        state: present
        name: MyWebApp
        type: Django
        autostart: true
        port_open: true
        extra_info: "Additional information"
      register: web_app_result

    - name: Print the result
      debug:
        var: web_app_result

    - name: Remove the web application
      community.general.webfaction_app:
        login_name: admin
        login_password: password
        machine: webfaction.com
        state: absent
        name: MyWebApp
      register: web_app_result

    - name: Print the result
      debug:
        var: web_app_result