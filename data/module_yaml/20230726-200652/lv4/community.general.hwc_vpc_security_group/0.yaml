- name: Test playbook for hwc_vpc_security_group module
  hosts: localhost
  gather_facts: false

  vars:
    domain: ansible.com
    enterprise_project_id: 123456
    id: 234567
    identity_endpoint: https://identityendpoint.com
    name: security_group
    password: password123
    project: myproject
    region: us-west-1
    state: present
    user: myuser
    vpc_id: 345678

  tasks:
    - name: Create security group
      community.general.hwc_vpc_security_group:
        domain: "{{ domain }}"
        enterprise_project_id: "{{ enterprise_project_id }}"
        id: "{{ id }}"
        identity_endpoint: "{{ identity_endpoint }}"
        name: "{{ name }}"
        password: "{{ password }}"
        project: "{{ project }}"
        region: "{{ region }}"
        state: "{{ state }}"
        user: "{{ user }}"
        vpc_id: "{{ vpc_id }}"
      register: result

    - name: Display result
      debug:
        var: result