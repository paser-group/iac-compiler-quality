---
- name: Test playbook for 'community.general.keycloak_clientscope'
  hosts: localhost
  gather_facts: false

  vars:
    auth_keycloak_url: "http://example.com/auth"
    auth_username: "admin"
    auth_password: "password"
    auth_realm: "master"
    auth_client_id: "admin-cli"
    auth_client_secret: "client-secret"

  tasks:
    - name: Create Keycloak client scope
      community.general.keycloak_clientscope:
        auth_keycloak_url: "{{ auth_keycloak_url }}"
        auth_username: "{{ auth_username }}"
        auth_password: "{{ auth_password }}"
        auth_realm: "{{ auth_realm }}"
        auth_client_id: "{{ auth_client_id }}"
        auth_client_secret: "{{ auth_client_secret }}"
        name: "test_scope"
        description: "Test client scope"
        protocol: "openid-connect"
        state: "present"
        validate_certs: false
      register: result

    - name: Print the result
      debug:
        var: result