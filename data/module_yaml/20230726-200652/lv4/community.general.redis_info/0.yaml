- name: Gather Redis information
  hosts: all
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses
      set_fact:
        random_mac: "{{ '%012x'|format(range(1, 256)|random) }}"

    - name: Gather Redis info
      community.general.redis_info:
        login_host: "{{ inventory_hostname }}"
        login_password: "my_password"
        login_port: 6379
      register: redis_info

    - name: Debug Redis info
      debug:
        var: redis_info

    - name: Print random MAC address
      debug:
        var: random_mac