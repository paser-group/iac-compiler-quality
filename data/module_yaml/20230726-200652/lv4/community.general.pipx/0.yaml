---
- name: Test playbook for Ansible latent bug discovery
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Install pipx package
      community.general.pipx:
        name: "pipx"
        state: "present"
        executable: "/usr/local/bin/pip3"
        python: "3.7"

    - name: Debug random_mac address
      shell: 'python -c "import random; print(random.choice([\'00:16:3e:{0:02x}:{1:02x}:{2:02x}\'.format(random.randint(0, 255), random.randint(0, 255), random.randint(0, 255)) for _ in range(1)]))"'
      register: random_mac

    - name: Debug random_mac result
      debug:
        var: random_mac.stdout