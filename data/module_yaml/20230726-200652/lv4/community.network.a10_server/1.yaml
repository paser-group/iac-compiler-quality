---
- name: Test 'community.network.a10_server' module
  hosts: localhost
  
  tasks:
    - name: Generate random MAC address
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(randrange(256),randrange(256),randrange(256),randrange(256),randrange(256),randrange(256)) }}"

    - name: Create A10 Server using 'community.network.a10_server' module
      community.network.a10_server:
        host: "{{ ansible_host }}"
        username: "admin"
        password: "password"
        server_name: "Test-Server"
        server_ip: "10.1.1.5"
        server_ports:
          - 80
          - 443
        state: present
        mac_address: "{{ mac_address }}"
      register: server_result

    - name: Debug 'community.network.a10_server' module output
      debug:
        var: server_result