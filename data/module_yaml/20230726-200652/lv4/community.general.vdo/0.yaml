---
- name: Ansible Latent Bug Finder & Heuristic Test
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses for network modules
      ansible.builtin.set_fact:
        mac_addresses: "{{ mac_addresses | default([]) + [lookup('template', './templates/random_mac_address.j2')] }}"
    
    - name: Display generated MAC addresses
      debug:
        var: mac_addresses

    - name: Install 'community.general.vdo' module
      ansible.builtin.package:
        name: python3-vdo

    - name: Create VDO volume
      community.general.vdo:
        name: "{{ item.volume_name }}"
        device: "{{ item.device }}"
        state: present
      loop:
        - { volume_name: "vdo_volume1", device: "/dev/sdb" }
        - { volume_name: "vdo_volume2", device: "/dev/sdc" }
        - { volume_name: "vdo_volume3", device: "/dev/sdd" }
    
    # Add more tasks to manipulate the VDO volumes and test different options