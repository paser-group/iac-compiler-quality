- name: Install Jenkins plugin
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random MAC addresses for network modules
      ansible.builtin.debug:
        msg: "MAC address: {{ item }}"
      loop: "{{ range(5) | product(range(5)) | map('join', ':') | list }}"
      when: inventory_hostname == 'ubuntu1'

    - name: Install Jenkins plugin
      community.general.jenkins_plugin:
        name: "{{ item }}"
        state: present
      loop:
        - plugin1
        - plugin2
        - plugin3
      when: inventory_hostname == 'ubuntu1'