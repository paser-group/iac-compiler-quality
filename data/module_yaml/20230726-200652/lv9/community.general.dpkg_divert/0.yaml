---
- name: Test Ansible Compiler for Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP address
      set_fact:
        random_ip: "{{ hostvars[item].ansible_default_ipv4.address }}"
      loop: "{{ ansible_play_hosts_all }}"

    - name: Print random IP address
      debug:
        msg: "Random IP address: {{ random_ip }}"