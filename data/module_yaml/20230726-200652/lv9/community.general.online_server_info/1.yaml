- hosts: localhost
  gather_facts: false
  vars:
    api_timeout: 10
    api_token: "secret_token"
    api_url: "https://api.example.com"
    validate_certs: true
    random_ip_1: "{{ ([10..20] | random) }}.{{ ([1..254] | random) }}"
    random_ip_2: "{{ ([10..20] | random) }}.{{ ([1..254] | random) }}"
    random_ip_3: "{{ ([10..20] | random) }}.{{ ([1..254] | random) }}"
    random_ip_4: "{{ ([10..20] | random) }}.{{ ([1..254] | random) }}"

  tasks:
    - name: Test community.general.online_server_info module
      community.general.online_server_info:
        api_timeout: "{{ api_timeout }}"
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        validate_certs: "{{ validate_certs }}"
        ip_address_1: "{{ random_ip_1 }}"
        ip_address_2: "{{ random_ip_2 }}"
        ip_address_3: "{{ random_ip_3 }}"
        ip_address_4: "{{ random_ip_4 }}"
      register: server_info

    - name: Print gathered server information
      debug:
        var: server_info