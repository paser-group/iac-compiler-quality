---
- name: Test playbook for community.network.avi_poolgroup module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Pool Group
      community.network.avi_poolgroup:
        controller: "192.168.1.10"
        username: "admin"
        password: "password"
        tenant: "MyTenant"
        name: "TestPoolGroup"
        tenant_uuid: "MyTenantUUID"
        members:
          - ip: "10.1.1.1"
            port: 80
          - ip: "10.1.1.2"
            port: 80
        state: present
      register: result

    - debug:
        var: result