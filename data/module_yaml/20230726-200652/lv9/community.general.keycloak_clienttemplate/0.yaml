---
- name: Test playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Keycloak client template
      community.general.keycloak_clienttemplate:
        auth_client_id: admin-cli
        auth_client_secret: admin
        auth_keycloak_url: http://localhost:8080/auth
        auth_password: admin
        auth_realm: master
        auth_username: admin
        name: My Client Template
        description: Test Client Template
        realm: master
        protocol: openid-connect
        state: present
        validate_certs: false
        id: my-client-template
        token: my-token
        full_scope_allowed: true
        connection_timeout: "10"
        http_agent: Mozilla
        protocol_mappers:
          - name: username
            protocol: openid-connect
            mapper_type: User Property
            property: username
            userinfo: true
            type: String
            consent_required: false