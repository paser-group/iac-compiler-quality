- name: Test playbook for the oneview_san_manager_info module
  hosts: localhost
  gather_facts: false

  vars:
    api_version: 1.0
    config: /path/to/oneview_config.json
    hostname: example.com
    image_streamer_hostname: imagestreamer.example.com
    password: mypassword
    provider_display_name: 'default'
    username: myusername

  tasks:
    - name: Generate random IP address
      shell: "python -c 'import random;import socket;print(socket.inet_ntoa(struct.pack('>I', random.randint(1, 0xffffffff))))'"
      register: random_ip

    - name: Test oneview_san_manager_info module
      community.general.oneview_san_manager_info:
        api_version: "{{ api_version }}"
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        password: "{{ password }}"
        provider_display_name: "{{ provider_display_name }}"
        username: "{{ username }}"
        ip_address: "{{ random_ip.stdout }}"
      register: san_manager_info

    - name: Print san_manager_info result
      debug:
        var: san_manager_info