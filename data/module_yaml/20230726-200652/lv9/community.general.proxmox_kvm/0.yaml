---
- name: Ansible Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  vars:
    node_net_subnet: "10.1.1.0/24"
    node_net_gateway: "10.1.1.254"
    ubuntu1_ip: "10.1.1.1"
    alpine1_ip: "10.1.1.2"
    centos1_ip: "10.1.1.3"
    redhat1_ip: "10.1.1.4"

  tasks:
    - name: Provision Virtual Machine
      proxmox_kvm:
        api_host: "https://your_proxmox_host.com"
        api_user: "your_username"
        api_password: "your_password"
        vmid: 100
        name: "test_vm"
        ostype: "l26"
        memory: 1024
        cores: 2
        template: true
        storage: "local-lvm"
        network:
          net0: "{{ ubuntu1_ip }}/24"
          net1: "{{ alpine1_ip }}/24"
          net2: "{{ centos1_ip }}/24"
          net3: "{{ redhat1_ip }}/24"
      register: vm_creation_result

    - name: Print VM Creation Result
      debug:
        var: vm_creation_result