- name: Gather ZFS facts
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Include community.general.zfs_facts module
      include_vars:
        file: "{{ playbook_dir }}/facts.yml"
 
    - name: Gather ZFS facts
      community.general.zfs_facts:
        depth: "{{ zfs_depth }}"
        name: "{{ zfs_name }}"
        parsable: "{{ zfs_parsable }}"
        properties: "{{ zfs_properties }}"
        recurse: "{{ zfs_recurse }}"
        type: "{{ zfs_type }}"
      register: zfs_facts
  
    - name: Display ZFS facts
      debug:
        var: zfs_facts

    # Add your test cases here