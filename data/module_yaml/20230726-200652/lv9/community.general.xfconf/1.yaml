---
- name: Ansible Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set xfce4-panel properties
      community.general.xfconf:
        channel: "xfce4-panel"
        property: "plugins"
        value: ["tasklist", "actions", "spacer"]
        state: "present"
      vars:
        ip_address: "{{ '%d.%d.%d.%d' | format(play_hosts.index(ansible_play_hosts[0]) + 10, 1, 1, 1) }}"

    - name: Configure network module
      community.general.xfconf:
        channel: "network"
        property: "ip_address"
        value: "{{ ip_address }}"
        state: "present"
        disable_facts: true