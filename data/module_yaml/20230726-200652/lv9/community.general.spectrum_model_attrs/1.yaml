- name: Generate random IP addresses for nodes
  gather_facts: false
  hosts: localhost
  vars:
    network_subnet: "10.1.1.0/24"
    network_gateway: "10.1.1.254"
  tasks:
    - name: Generate IP address for ubuntu1
      set_fact:
        ubuntu1_ip: "{{ network_subnet | ipaddr('network') | ipaddr('nthhost', 1) }}"
    - name: Generate IP address for alpine1
      set_fact:
        alpine1_ip: "{{ network_subnet | ipaddr('network') | ipaddr('nthhost', 2) }}"
    - name: Generate IP address for centos1
      set_fact:
        centos1_ip: "{{ network_subnet | ipaddr('network') | ipaddr('nthhost', 3) }}"
    - name: Generate IP address for redhat1
      set_fact:
        redhat1_ip: "{{ network_subnet | ipaddr('network') | ipaddr('nthhost', 4) }}"
    - name: Debug IP addresses
      debug:
        var: item
      with_items:
        - ubuntu1_ip
        - alpine1_ip
        - centos1_ip
        - redhat1_ip