- name: Gather facts from devices
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Collect facts from devices
      community.network.ironware_facts:
        authorize: "{{ ansible_user }}"
        gather_subset: null
      register: ironware_facts

    - name: Print facts
      debug:
        var: ironware_facts

- name: Formulate random IP addresses for networking modules
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Generate random IP addresses
      vars:
        ip_addresses: "{{ query('networking', 'ipaddr') }}"
      debug:
        var: ip_addresses