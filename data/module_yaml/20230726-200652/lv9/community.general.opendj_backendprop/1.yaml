- name: Update OpenDJ backend configuration
  hosts: localhost
  gather_facts: false

  vars:
    random_ip_address: "{{ query('random', '10.1.1.0/24') }}"

  tasks:
    - name: Set backend property
      community.general.opendj_backendprop:
        hostname: "{{ opendj_hostname }}"
        port: "{{ opendj_port }}"
        username: "{{ opendj_username }}"
        password: "{{ opendj_password }}"
        backend: "userRoot"
        name: "{{ opendj_property_name }}"
        value: "{{ opendj_property_value }}"
      register: result

    - name: Display result
      debug:
        var: result