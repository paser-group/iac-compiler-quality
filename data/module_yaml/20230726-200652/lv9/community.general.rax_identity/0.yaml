---
- name: Test playbook for community.general.rax_identity
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Load Rackspace identity
      community.general.rax_identity:
        api_key: 12345678
        auth_endpoint: "https://api.example.com"
        credentials: "/path/to/credentials.yml"
        env: "prod"
        identity_type: "username"
        region: "us-east-1"
        state: "present"
        tenant_id: 1234567890
        tenant_name: "YOUR_TENANT_NAME"
        username: "YOUR_USERNAME"
        validate_certs: "false"
      register: rax_identity

    - name: Debug result
      debug:
        var: rax_identity