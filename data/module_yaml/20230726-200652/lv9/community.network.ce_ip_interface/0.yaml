---
- name: Test playbook for community.network.ce_ip_interface module
  hosts: all

  tasks:
    - name: Configure IP interface
      community.network.ce_ip_interface:
        addr: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}"
        interface: eth0
        ipv4_type: unnumbered
        mask: 255.255.255.0
        state: present
        version: 4
      register: ip_interface_result

    - name: Print IP interface result
      debug:
        var: ip_interface_result