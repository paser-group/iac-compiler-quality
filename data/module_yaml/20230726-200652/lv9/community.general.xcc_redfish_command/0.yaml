- name: Execute xcc_redfish_command module
  hosts: all
  gather_facts: false

  vars:
    auth_token: "{{ auth_token }}"
    baseuri: "{{ baseuri }}"
    category: "{{ category }}"
    command: "{{ command }}"
    password: "{{ password }}"
    request_body: "{{ request_body }}"
    resource_id: "{{ resource_id }}"
    resource_uri: "{{ resource_uri }}"
    timeout: "{{ timeout }}"
    username: "{{ username }}"
    virtual_media: "{{ virtual_media }}"

  tasks:
    - name: Perform xcc_redfish_command
      community.general.xcc_redfish_command:
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        category: "{{ category }}"
        command: "{{ command }}"
        password: "{{ password }}"
        request_body: "{{ request_body }}"
        resource_id: "{{ resource_id }}"
        resource_uri: "{{ resource_uri }}"
        timeout: "{{ timeout }}"
        username: "{{ username }}"
        virtual_media: "{{ virtual_media }}"
      register: result

    - name: Debug output
      debug:
        var: result

- name: Test random IP addresses with networking module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP addresses
      set_fact:
        ip_address: "{{ (224 | random) + 1 }}.{{ range(3)|map('random')|join('.') }}"

    - name: Print random IP address
      debug:
        var: ip_address

    # Perform necessary networking tasks using the generated random IP address