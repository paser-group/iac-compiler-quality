---
- name: Test playbook for community.general.bzr module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Clone bzr repository
      community.general.bzr:
        dest: /tmp/myrepo
        executable: /usr/bin/bzr
        force: true
        name: lp:bzr
        version: 2.10

    - name: Test networking module with random IP addresses
      community.general.bzr:
        dest: "{{ item.dest }}"
        executable: "/usr/bin/bzr"
        force: "{{ item.force | default(false) }}"
      loop:
        - dest: "http://{{ ansible_random_ipv4 | ipv4 }}"
          force: true
        - dest: "https://{{ ansible_random_ipv4 | ipv4 }}"
          force: false