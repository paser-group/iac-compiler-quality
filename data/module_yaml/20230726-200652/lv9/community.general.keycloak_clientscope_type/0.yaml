---
- name: Test playbook for keycloak_clientscope_type module
  hosts: localhost
  gather_facts: false

  vars:
    auth_client_id: example_client_id
    auth_client_secret: example_client_secret
    auth_keycloak_url: https://keycloak.example.com/auth
    auth_password: example_password
    auth_realm: example_realm
    auth_username: example_username
    client_id: example_client_id
    connection_timeout: 30
    default_clientscopes:
      - scope1
      - scope2
      - scope3
    http_agent: ansible-http-agent
    optional_clientscopes:
      - scope4
      - scope5
      - scope6
    realm: example_realm
    token: example_token
    validate_certs: true

  tasks:
    - name: Set type of a clientscope in realm or client
      community.general.keycloak_clientscope_type:
        auth_client_id: "{{ auth_client_id }}"
        auth_client_secret: "{{ auth_client_secret }}"
        auth_keycloak_url: "{{ auth_keycloak_url }}"
        auth_password: "{{ auth_password }}"
        auth_realm: "{{ auth_realm }}"
        auth_username: "{{ auth_username }}"
        client_id: "{{ client_id }}"
        connection_timeout: "{{ connection_timeout }}"
        default_clientscopes: "{{ default_clientscopes }}"
        http_agent: "{{ http_agent }}"
        optional_clientscopes: "{{ optional_clientscopes }}"
        realm: "{{ realm }}"
        token: "{{ token }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Debug output
      debug:
        var: result