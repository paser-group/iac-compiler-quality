---
- name: Test playbook for community.network.slxos_l3_interface
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manage L3 interface
      community.network.slxos_l3_interface:
        aggregate: "{{ item.aggregate }}"
        ipv4: "{{ item.ipv4 }}"
        ipv6: "{{ item.ipv6 }}"
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      loop:
        - name: Test case - Missing required parameter
          state: absent

        - name: Test case - Random parameters
          state: present
          ipv4: "192.168.1.{{ (item|int) + 1 }}"
          ipv6: "fd00::{{ (item|int) + 1 }}/64"
          name: "interface{{ item }}"
          aggregate: "{{ (item|int) % 2 == 0 }}"