---
- name: Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute pn_switch_setup module
      community.network.pn_switch_setup:
        pn_in_band_ip: "{{ '10.1.1.' + item }}"
        pn_mgmt_ip: "{{ '10.1.1.' + item }}"
        pn_loopback_ip: "{{ '10.1.1.' + item }}"
        pn_gateway_ip: "{{ '10.1.1.' + item }}"
        pn_dns_ip: "{{ '10.1.1.' + item }}"
        pn_dns_secondary_ip: "{{ '10.1.1.' + item }}"
        pn_password: "{{ 'password' + item }}"
        pn_motd: "{{ 'Welcome to switch ' + item }}"
        pn_ntp_secondary_server: "{{ 'ntp-server2-' + item }}"
        pn_ntp_server: "{{ 'ntp-server1-' + item }}"
        pn_switch_name: "{{ 'switch-' + item }}"
      loop: "{{ ['1', '2', '3', '4'] }}"