- name: Test ansible.builtin.aix_devices module
  hosts: docker_nodes
  gather_facts: false
  tasks:
    - name: Install community.general collection
      ansible.builtin.shell: ansible-galaxy collection install community.general

    - name: Configure AIX devices
      community.general.aix_devices:
        attribute: "{{ attribute }}"
        device: "{{ device }}"
        force: "{{ force }}"
        recursive: "{{ recursive }}"
        state: "{{ state }}"
      vars:
        attribute: { "key": "value" }
        device: "example_device"
        force: true
        recursive: true
        state: "present"