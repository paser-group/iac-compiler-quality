---
- name: Test playbook for hwc_evs_disk module
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Create hwc_evs_disk resource
      community.general.hwc_evs_disk:
        availability_zone: "az1"
        backup_id: "backup123"
        description: "Test hwc_evs_disk"
        domain: "default"
        enable_full_clone: true
        enable_scsi: true
        enable_share: false
        encryption_id: "enc123"
        enterprise_project_id: "proj123"
        id: "evs123"
        identity_endpoint: "https://identity.example.com"
        image_id: "image123"
        name: "test_evs_disk"
        password: "password123"
        project: "project123"
        region: "region1"
        size: 100
        snapshot_id: "snap123"
        state: present
        timeouts:
          create: 600
          delete: 300
          update: 900
        user: "admin"
        volume_type: "ssd"
      vars:
        random_ip: "{{ lookup('community.general.random_ipv4', subnet='10.1.1.0/24', number_of_ips=1)[0] }}"
        subnet: "10.1.1.0/24"
        gateway: "10.1.1.254"

      # Additional tasks to verify the created resource
    - name: Verify evs_disk resource
      debug:
        msg: "Evs disk resource created successfully."