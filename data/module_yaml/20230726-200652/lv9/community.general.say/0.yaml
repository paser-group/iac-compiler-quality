---
- name: Test playbook
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Generate random IP addresses
      set_fact:
        ip_address: "{{ hostvars[item].ansible_default_ipv4.address | regex_replace('\\d+$', (item | int) + 1) }}"
      loop: "{{ groups['docker_nodes'] }}"

    - name: Say something
      community.general.say:
        msg: "Hello, world!"
        voice: "{{ item }}"
      loop: "{{ groups['docker_nodes'] }}"
      register: say_output

    - name: Print debug output
      debug:
        var: say_output