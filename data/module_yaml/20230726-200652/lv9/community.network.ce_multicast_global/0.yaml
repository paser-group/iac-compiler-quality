---
- name: Test playbook for community.network.ce_multicast_global module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Initialize test variables
      set_fact:
        aftype: "{{ ['IPv4', 'IPv6'] | random }}"
        state: "{{ ['present', 'absent'] | random }}"
        vrf: "{{ ['default', 'management'] | random }}"

    - name: Test the community.network.ce_multicast_global module
      community.network.ce_multicast_global:
        aftype: "{{ aftype }}"
        state: "{{ state }}"
        vrf: "{{ vrf }}"
      register: result

    - name: Display the result
      debug:
        var: result