- name: Test 'community.general.ipa_otpconfig' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure FreeIPA OTP
      community.general.ipa_otpconfig:
        ipa_host: "{{ 10.1.1.1 }}"   # Type mismatch, expecting a string but provided an IP address
        ipa_pass: password
        ipa_port: "443"
        ipa_prot: https
        ipa_timeout: "30"            # Type mismatch, expecting an integer but provided a string
        ipa_user: admin
        ipatokenhotpauthwindow: "5"  # Type mismatch, expecting an integer but provided a string
        ipatokenhotpsyncwindow: 60
        ipatokentotpauthwindow: 5
        ipatokentotpsyncwindow: "60" # Type mismatch, expecting an integer but provided a string
        validate_certs: "false"      # Type mismatch, expecting a boolean but provided a string
      register: result

    - name: Debug module output
      debug:
        var: result