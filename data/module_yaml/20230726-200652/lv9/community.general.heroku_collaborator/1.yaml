---
- name: Test community.general.heroku_collaborator module
  hosts: all
  gather_facts: false

  vars:
    network_subnet: "10.1.1.0/24"
    network_gateway: "10.1.1.254"

  tasks:
    - name: Create Docker network
      community.general.docker_network:
        name: "node-net"
        subnet: "{{ network_subnet }}"
        gateway: "{{ network_gateway }}"
      register: network_result

    - name: Debug network creation
      debug:
        var: network_result

    - name: Generate Docker containers
      include_tasks: tasks/generate_containers.yml