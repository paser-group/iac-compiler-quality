---
- name: Test community.general.heroku_collaborator module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add Heroku collaborator
      community.general.heroku_collaborator:
        api_key: "your_api_key"
        apps:
          - app1
          - app2
        user: "test_user"
        state: "present"
        suppress_invitation: true
      register: result_add

    - debug:
        var: result_add

    - name: Remove Heroku collaborator
      community.general.heroku_collaborator:
        api_key: "your_api_key"
        apps:
          - app1
          - app2
        user: "test_user"
        state: "absent"
      register: result_remove

    - debug:
        var: result_remove