- name: Test invalid gather_subset value
  hosts: switches
  gather_facts: no

  tasks:
    - name: Gather facts from Ruckus ICX switches
      community.network.icx_facts:
        gather_subset: invalid_subset
      register: icx_facts

    - name: Print ICX facts
      debug:
        var: icx_facts