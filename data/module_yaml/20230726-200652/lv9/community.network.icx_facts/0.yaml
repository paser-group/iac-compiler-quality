---
- name: Collect ICX facts
  hosts: switches
  gather_facts: no

  tasks:
    - name: Gather facts from Ruckus ICX switches
      community.network.icx_facts:
        gather_subset:
          - interfaces
          - routing
          - vlans
          - lldp
      register: icx_facts

    - name: Print ICX facts
      debug:
        var: icx_facts