---
- name: Install Logstash plugin
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Install Logstash plugin
      community.general.logstash_plugin:
        name: "{{ logstash_plugin_name }}"
        plugin_bin: "{{ plugin_bin_path }}"
        proxy_host: "{{ proxy_host }}"
        proxy_port: "{{ proxy_port }}"
        state: "{{ plugin_state }}"
        version: "{{ plugin_version }}"
      register: plugin_installed

    - name: Debug Logstash plugin installation
      debug:
        var: plugin_installed