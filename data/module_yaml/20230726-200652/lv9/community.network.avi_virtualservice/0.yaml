---
- name: Ansible Latent Type-Related Bug Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create random IP addresses for networking modules
      set_fact:
        random_ip_address: "{{ hostvars[item].ansible_default_ipv4.address }}"
      when: inventory_hostname in item
      with_items:
        - "ubuntu1"
        - "alpine1"
        - "centos1"
        - "redhat1"

    - name: Show randomly generated IP addresses
      debug:
        msg: "Random IP address for {{ inventory_hostname }}: {{ random_ip_address }}"