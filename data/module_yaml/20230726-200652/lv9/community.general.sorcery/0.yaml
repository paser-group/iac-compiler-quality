---
- hosts: all
  tasks:
    - name: Install packages
      community.general.sorcery:
        name: "{{ 'pkg_a' }}"
        state: "{{ 'installed' }}"
        update: "{{ 'yes' }}"
        cache_valid_time: "{{ 60 }}"
        depends:
          - "{{ 'pkg_b' }}"
          - "{{ 'pkg_c' }}"
          - "{{ 'pkg_d' }}"
        update_cache: "{{ true }}"