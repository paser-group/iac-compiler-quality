- name: Manage Cisco IMC hardware
  hosts: localhost
  gather_facts: false

  tasks:
  - name: Configure Cisco IMC
    community.general.imc_rest:
      content: "Sample Content"
      hostname: "{{ inventory_hostname }}"
      password: "password"
      path: "/api/v1/endpoint"
      protocol: "https"
      timeout: 30
      username: "admin"
      validate_certs: False
    register: result

  - name: Print result
    debug:
      var: result