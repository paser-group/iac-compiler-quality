---
- name: Manage INTERFACE LLDP configuration on HUAWEI
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure LLDP on the interface
      community.network.ce_lldp_interface:
        dcbx: true
        eee: false
        function_lldp_interface_flag: "lldpInterfaceTXEnable"
        ifname: "{{ inventory_hostname }}"
        linkaggretxenable: true
        lldpadminstatus: "tx+rxtx"
        lldpenable: "lldp_enable"
        macphytxenable: true
        manaddrtxenable: true
        maxframetxenable: true
        portdesctxenable: true
        portvlantxenable: true
        protoidtxenable: true
        protovlantxenable: true
        state: "present"
        syscaptxenable: true
        sysdesctxenable: true
        sysnametxenable: true
        txinterval: 30
        txprotocolvlanid: 10
        txvlannameid: 20
        type_tlv_disable: "LLDP-TlvDisable"
        type_tlv_enable: " LLDP-TlvEnable"
        vlannametxenable: true