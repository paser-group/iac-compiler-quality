- name: Test Ansible Type-Related Bugs
  hosts: localhost
  gather_facts: false
  vars:
    nodes:
      - name: ubuntu1
        ip: 10.1.1.1
      - name: alpine1
        ip: 10.1.1.2
      - name: centos1
        ip: 10.1.1.3
      - name: redhat1
        ip: 10.1.1.4

  tasks:
    - name: Configure system startup information
      community.network.ce_startup:
        action: "{{ item.action | default('None') }}"
        cfg_file: "{{ item.cfg_file | default('None') }}"
        patch_file: "{{ item.patch_file | default('None') }}"
        slot: "{{ item.slot | default('None') }}"
        software_file: "{{ item.software_file | default('None') }}"
      with_items:
        - action: None
          cfg_file: None
          patch_file: None
          slot: None
          software_file: None
        - action: random_value
          cfg_file: random_value
          patch_file: random_value
          slot: random_value
          software_file: random_value
        - action: "{{ nodes[0].name }}"
          cfg_file: "{{ nodes[0].ip }}"
          patch_file: "{{ nodes[1].name }}"
          slot: "{{ nodes[2].ip }}"
          software_file: "{{ nodes[3].name }}"