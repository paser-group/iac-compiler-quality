---
- name: Retrieve file attributes
  hosts: all
  gather_facts: false

  tasks:
    - name: Generate random IP addresses
      ansible.builtin.debug:
        msg: "{{ item }}"
      loop: "{{ range(1,5) | map('regex_replace', '(.*)', '10.1.1.\\1') | list }}"

    - name: Check file attributes
      ansible.builtin.stat:
        path: "{{ item }}"
        checksum_algorithm: "sha256"
        follow: true
        get_attributes: true
        get_checksum: true
        get_mime: true
      loop:
        - "/path/to/file1.txt"
        - "/path/to/file2.txt"
        - "/path/to/file3.txt"
        - "/path/to/file4.txt"
      register: file_attributes

    - name: Debug file attributes
      ansible.builtin.debug:
        var: file_attributes