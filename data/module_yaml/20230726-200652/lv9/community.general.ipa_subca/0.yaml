- name: Manage FreeIPA Sub CA
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Create Sub CA
      community.general.ipa_subca:
        ipa_host: "10.1.1.1"
        ipa_user: "admin"
        ipa_pass: "password"
        ipa_port: 443
        ipa_prot: "https"
        ipa_timeout: 60
        state: present
        subca_name: "subca1"
        subca_desc: "My Sub CA"
        subca_subject: "C=US, O=Example Inc., CN=subca1"
        validate_certs: False
      register: result
      ignore_errors: True

    - name: Print result
      debug:
        var: result