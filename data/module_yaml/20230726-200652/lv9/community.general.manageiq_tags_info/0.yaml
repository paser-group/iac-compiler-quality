---
- name: Retrieve resource information using manageiq_tags_info module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure manageiq connection
      community.general.manageiq_connection:
        url: "{{ manageiq_url }}"
        username: "{{ manageiq_username }}"
        password: "{{ manageiq_password }}"
      register: miq_conn

    - name: Retrieve resource information
      community.general.manageiq_tags_info:
        manageiq_connection: "{{ miq_conn.manageiq_connection }}"
        resource_id: "{{ resource_id }}"
        resource_name: "{{ resource_name }}"
        resource_type: "{{ resource_type }}"
      register: resource_info

    - name: Debug resource information
      debug:
        var: resource_info