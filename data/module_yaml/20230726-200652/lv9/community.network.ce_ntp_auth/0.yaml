- name: Configure NTP authentication
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include community networking module
      include_module:
        name: community.network.ce_ntp_auth

- name: Trigger latent type-related bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manage NTP authentication configuration
      community.network.ce_ntp_auth:
        auth_mode: "{{ auth_mode }}"
        auth_pwd: "{{ auth_pwd }}"
        auth_type: "{{ auth_type }}"
        authentication: "{{ authentication }}"
        key_id: "{{ key_id }}"
        state: "{{ state }}"
        trusted_key: "{{ trusted_key }}"