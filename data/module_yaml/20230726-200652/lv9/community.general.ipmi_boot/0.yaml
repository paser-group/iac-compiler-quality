---
- name: Test playbook for community.general.ipmi_boot module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP address with invalid type
      set_fact:
        random_ip: "{{ item }}"
      loop: "{{ ['192.168.1.1', 12345, '10.1.1.256', '172.16.0.500'] }}"

    - name: Configure IPMI boot for node with invalid IP address
      community.general.ipmi_boot:
        name: "node"
        user: "admin"
        password: "password"
        ip_address: "{{ random_ip }}"
      register: result

    - name: Print IPMI boot result
      debug:
        var: result