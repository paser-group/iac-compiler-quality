- name: Configure LLDP attributes
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set LLDP global configuration
      community.network.exos_lldp_global:
        config:
          adminStatus: enabled
          medFastStartEnabled: true
          enableMACPHYConfig: true
        state: present

- name: Test Cases
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Generate random IP address
      ansible.builtin.shell: "echo {{ item }} >> random_ips.txt"
      with_items:
        - "{{hostvars['localhost']['ansible_default_ipv4']['network'] }}"

    - name: Debug IP address
      ansible.builtin.debug:
        var: item
      with_lines: cat random_ips.txt