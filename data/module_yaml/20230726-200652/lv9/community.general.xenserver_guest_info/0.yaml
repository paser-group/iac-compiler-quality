---
- name: Test playbook for community.general.xenserver_guest_info module
  hosts: localhost
  gather_facts: false
  vars:
    hostname: "xenserver-host"
    name: "my-vm"
    password: "password"
    username: "admin"
    uuid: 123456789
    validate_certs: false

  tasks:
    - name: Gather information for virtual machines
      community.general.xenserver_guest_info:
        hostname: "{{ hostname }}"
        name: "{{ name }}"
        password: "{{ password }}"
        username: "{{ username }}"
        uuid: "{{ uuid }}"
        validate_certs: "{{ validate_certs }}"
      register: xenserver_guest_info_result

    - debug:
        var: xenserver_guest_info_result