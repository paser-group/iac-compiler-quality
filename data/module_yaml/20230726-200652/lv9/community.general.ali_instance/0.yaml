- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create instance with invalid count value
      community.general.ali_instance:
        alicloud_access_key: "your_access_key"
        alicloud_secret_key: "your_secret_key"
        alicloud_region: "your_region"
        instance_name: "test-instance"
        instance_type: "ecs.t5-lc2m1.nano"
        image: "ubuntu_20_04"
        keypair_name: "your_keypair_name"
        count: "invalid_count_value"
        security_group: "your_security_group"
        system_disk_category: "cloud_ssd"
        assign_public_ip: true
        instance_tags:
          Name: "Test"
      register: instance_info
      
    - debug:
        var: instance_info