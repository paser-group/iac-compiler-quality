---
- name: Test playbook for community.general.github_release module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Install required Ansible collections
      pip:
        name: ansible-collections/community.general

    - name: Fetch latest GitHub release
      community.general.github_release:
        repo: ansible/ansible
        action: latest
      register: release_info
      
    - name: Print release information
      debug:
        var: release_info
      
    - name: Test case: Fetch non-existing release
      community.general.github_release:
        repo: ansible/ansible
        action: get
        tag: non-existing-tag
      register: non_existing_release
      failed_when: non_existing_release is success
      
    - name: Print non-existing release information
      debug:
        var: non_existing_release