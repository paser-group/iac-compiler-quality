---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Formulate random IP addresses for the test cases
      set_fact:
        instance_ips: "{{ ['10.1.1.1', '10.1.1.2', '10.1.1.3', '10.1.1.4'] }}"

    - name: Trigger type-related bug by passing invalid IP address
      community.network.netscaler_nitro_request:
        nsip: "{{ item }}"
        nitro_user: "admin"
        nitro_pass: "password"
        resource: "ip"
        operation: "get"
      loop: "{{ instance_ips + ['invalid_ip'] }}"