---
- name: Test playbook for exposing type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP address
      set_fact:
        random_ip: "{{ (1..3)|random }}.{{ (1..3)|random }}.{{ (1..3)|random }}.{{ (1..3)|random }}"

    - name: Create DNS record with random IP address
      community.general.udm_dns_record:
        name: "{{ random_ip }}"
        state: present
        type: A
        zone: example.com