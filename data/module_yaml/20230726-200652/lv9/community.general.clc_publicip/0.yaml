---
- name: Test playbook for the community.general.clc_publicip module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add public IP
      community.general.clc_publicip:
        server_ids: "{{ server_ids }}"
        state: "{{ state }}"
        ports: "{{ ports }}"
        protocol: "{{ protocol }}"
        wait: "{{ wait }}"
      vars:
        server_ids:
          - ubuntu1
          - alpine1
          - centos1
          - redhat1
        state: present
        ports:
          - "80"
        protocol: tcp
        wait: true
      register: result

    - name: Print result
      debug:
        var: result