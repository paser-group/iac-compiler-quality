---
- name: Generate random IP addresses
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include helper library
      include_vars:
        file: helper_library.yml

    - name: Generate random IP addresses
      set_fact:
        random_ips: "{{ random_ips | default([]) + [item] }}"
      loop: "{{ range(2) | map('community.general.random_string', length=2, chars=ip_chars) | list }}"

    - name: Debug random IP addresses
      debug:
        var: random_ips

    # Use the generated IP addresses for further testing

  vars:
    ip_chars: "0123456789."