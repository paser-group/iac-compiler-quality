---
- name: Test playbook for community.network.ce_mdn_interface
  hosts: network_devices
  gather_facts: no
  tasks:
    - name: Configure MDN interface
      community.network.ce_mdn_interface:
        ifname: "{{ ifname }}"
        lldpenable: "{{ lldpenable }}"
        mdnstatus: "{{ mdnstatus }}"
        state: "{{ state }}"
      vars:
        ifname: "GigabitEthernet0/0/{{ item }}"
        lldpenable: "{{ ['true', 'false'] | random }}"
        mdnstatus: "{{ ['enable', 'disable'] | random }}"
        state: "{{ ['present', 'absent'] | random }}"
      loop: "{{ range(1, 5) | list }}"
      register: result

    - name: Debug result
      debug:
        var: result