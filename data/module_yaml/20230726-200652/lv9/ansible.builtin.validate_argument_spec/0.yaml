- name: Validate argument specification
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP addresses
      shell: |
        ip1=$(shuf -i 1-254 -n 1)
        ip2=$(shuf -i 1-254 -n 1)
        ip3=$(shuf -i 1-254 -n 1)
        ip4=$(shuf -i 1-254 -n 1)
        echo "{{ ip1 }}.{{ ip2 }}.{{ ip3 }}.{{ ip4 }}"
      register: random_ip

    - name: Validate argument specification
      ansible.builtin.validate_argument_spec:
        argument_spec: "{{ random_ip.stdout }}"