---
- name: Example playbook to test 'ansible.builtin.wait_for' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Wait for a successful TCP connection to a host
      ansible.builtin.wait_for:
        host: "{{ host }}"
        port: "{{ port }}"
        state: "{{ state }}"
      register: wait_result

    - name: Print wait_for output
      debug:
        var: wait_result