- name: Test for latent type-related bugs in community.network.ce_snmp_target_host module
  hosts: localhost
  gather_facts: false

  vars:
    address: "{{ ip_address }}"
    connect_port: "{{ port }}"
    host_name: "{{ name }}"
    interface_name: "{{ interface }}"
    is_public_net: "{{ public_net }}"
    notify_type: "{{ notify }}"
    recv_port: "{{ recv }}"
    security_level: "{{ sec_level }}"
    security_model: "{{ sec_model }}"
    security_name: "{{ sec_name }}"
    security_name_v3: "{{ sec_name_v3 }}"
    version: "{{ snmp_version }}"
    vpn_name: "{{ vpn }}"

  tasks:
    - name: SNMP target host configuration
      community.network.ce_snmp_target_host:
        host: "{{ 'test' }}"  # Potential type-related bug trigger: using string instead of a valid host
        address: "{{ address }}"
        connect_port: "{{ connect_port }}"
        host_name: "{{ host_name }}"
        interface_name: "{{ interface_name }}"
        is_public_net: "{{ is_public_net }}"
        notify_type: "{{ notify_type }}"
        recv_port: "{{ recv_port }}"
        security_level: "{{ security_level }}"
        security_model: "{{ security_model }}"
        security_name: "{{ security_name }}"
        security_name_v3: "{{ security_name_v3 }}"
        version: "{{ version }}"
        vpn_name: "{{ vpn_name }}"
      register: result

    - name: Display the result
      debug:
        var: result