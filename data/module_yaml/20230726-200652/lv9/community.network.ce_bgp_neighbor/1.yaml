---
- name: Configure BGP Peer on HUAWEI
  hosts: localhost
  gather_facts: false
  vars:
    peer_address: "{{ '%d.%d.%d.%d' | format((10..200) | random, (10..200) | random, (10..200) | random, (10..200) | random) }}"
  tasks:
    - name: Configure BGP Peer
      community.network.ce_bgp_neighbor:
        peer_addr: "{{ peer_address }}"
        # Other attributes and options...

    # Other tasks...

    - name: Print result
      debug:
        var: result