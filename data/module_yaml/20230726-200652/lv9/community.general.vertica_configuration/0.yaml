---
- name: Update Vertica Configuration
  hosts: localhost
  gather_facts: false

  vars:
    cluster: my_cluster
    db: my_database
    login_password: my_password
    login_user: my_user
    parameter: my_parameter
    port: 5433  # Assuming default Vertica port
    value: my_value

  tasks:
    - name: Include the required role
      include_role:
        name: community.general.vertica

    - name: Update Vertica Configuration
      community.general.vertica_configuration:
        cluster: "{{ cluster }}"
        db: "{{ db }}"
        login_password: "{{ login_password }}"
        login_user: "{{ login_user }}"
        parameter: "{{ parameter }}"
        port: "{{ port }}"
        value: "{{ value }}"
      register: result

    - name: Debug the result
      debug:
        var: result