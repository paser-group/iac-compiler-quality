---
- name: Test playbook for community.network.ce_netstream_aging
  hosts: localhost
  gather_facts: false
  connection: local

  tasks:
    - name: Set random IP address
      set_fact:
        random_ip: "{{ hostvars[groups['all'][0]]['ansible_default_ipv4']['address'] }}"

    - name: Set variables
      set_fact:
        manual_slot: "{{ random_ip }}"
        state: "{{ random_ip }}"
        timeout_interval: "{{ random_ip }}"
        timeout_type: "{{ random_ip }}"
        type: "{{ random_ip }}"

    - name: Print variables
      debug:
        var: manual_slot
      debug:
        var: state
      debug:
        var: timeout_interval
      debug:
        var: timeout_type
      debug:
        var: type

    - name: Include community.network.ce_netstream_aging task
      include_role:
        name: community.network.ce_netstream_aging
      vars:
        manual_slot: "{{ manual_slot }}"
        state: "{{ state }}"
        timeout_interval: "{{ timeout_interval }}"
        timeout_type: "{{ timeout_type }}"
        type: "{{ type }}"