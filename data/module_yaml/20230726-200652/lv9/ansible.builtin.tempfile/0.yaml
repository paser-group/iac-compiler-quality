---
- name: Test playbook for ansible.builtin.tempfile module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create temporary file
      ansible.builtin.tempfile:
        path: "/tmp/{{ ansible_hostname }}"
        prefix: "tempfile"
        state: "file"
        suffix: ".txt"
      register: tempfile_result

    - name: Display temporary file path
      debug:
        var: tempfile_result.path