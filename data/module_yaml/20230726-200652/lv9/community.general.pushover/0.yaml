- name: Ansible Latent Bug Finder & Heuristic Test Playbook
  hosts: localhost
  gather_facts: false
  vars:
    app_token: "YOUR_APP_TOKEN"
    user_key: "YOUR_USER_KEY"
    device: "YOUR_DEVICE"
    title: "Test Notification"
    msg: "This is a test notification"
    pri: "1"

  tasks:
    - name: Generate random IP address
      set_fact:
        random_ip: "{{ 10 | random + 1 }}.{{ 1 | random }}.{{ 1 | random }}.{{ 1 | random }}"

    - name: Send notification via Pushover
      community.general.pushover:
        app_token: "{{ app_token }}"
        user_key: "{{ user_key }}"
        device: "{{ device }}"
        title: "{{ title }}"
        msg: "{{ msg }}"
        pri: "{{ pri }}"

    - name: Print the randomly generated IP address
      debug:
        var: random_ip