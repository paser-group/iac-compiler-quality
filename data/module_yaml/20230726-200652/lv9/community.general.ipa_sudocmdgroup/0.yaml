- name: Test playbook for community.general.ipa_sudocmdgroup module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create sudocmd group
      community.general.ipa_sudocmdgroup:
        cn: 'test_group'
        description: 'Test Sudo Command Group'
        ipa_host: '10.1.1.1'  # Random IP address
        ipa_pass: 'password'
        ipa_port: 80
        ipa_prot: 'http'
        ipa_timeout: 5
        ipa_user: 'admin'
        state: 'present'
        sudocmd:
          - '/bin/ls'
          - '/usr/bin/less'
        validate_certs: false

      register: result

    - name: Display result
      debug:
        var: result