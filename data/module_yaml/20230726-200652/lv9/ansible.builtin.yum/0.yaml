- name: Manage packages using yum module
  hosts: localhost
  tasks:
    - name: Install packages
      yum:
        name:
          - package1
          - package2
        state: present
      register: install_packages

    - name: Validate installed packages
      debug:
        var: install_packages

    - name: Update packages
      yum:
        name:
          - package1
          - package2
        state: latest
      register: update_packages

    - name: Validate updated packages
      debug:
        var: update_packages

    - name: Remove packages
      yum:
        name:
          - package1
          - package2
        state: absent
      register: remove_packages

    - name: Validate removed packages
      debug:
        var: remove_packages