- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false
  vars:
    ansible_python_interpreter: /usr/bin/python3

  tasks:
    - name: Setup Avi Role
      community.network.avi_role:
        api_context: {}
        api_version: 17.2.10
        avi_api_patch_op: Ansible
        avi_api_update_method: null
        avi_credentials:
          username: admin
          password: mypassword
        avi_disable_session_cache_as_fact: "true"
        controller: "https://controller-host"
        name: "{{ ansible_managed }}"
        password: "admin"
        privileges: [1, 2, 3]
        state: "present"
        tenant: "Default"
        tenant_ref: "{{ tenant_ref }}"
        tenant_uuid: 123456789
        url: "{{ api_url }}"
        username: 1
        uuid: null
      register: result

    - debug:
        var: result