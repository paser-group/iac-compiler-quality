- name: Manage LLDP configuration on Lenovo
  hosts: lenovo_devices
  gather_facts: false

  tasks:
    - name: Enable LLDP
      community.network.cnos_lldp:
        state: present
      register: enable_lldp

    - name: Disable LLDP
      community.network.cnos_lldp:
        state: absent
      register: disable_lldp

    - name: Validate LLDP configuration
      community.network.cnos_lldp_facts:
      register: lldp_facts

    - name: Print LLDP configuration
      debug:
        var: lldp_facts

- name: Test with invalid type
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set invalid type
      set_fact:
        invalid_type: 123