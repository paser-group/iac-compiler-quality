---
- name: Manage AAA server host configuration
  hosts: localhost
  gather_facts: false

  vars:
    random_boolean: "{{ random_boolean | default(false) }}"
    random_ipv4: "{{ random_ipv4 | default('192.0.2.1') }}"
    random_ipv6: "{{ random_ipv6 | default('2001:db8::1') }}"
    random_string: "{{ random_string | default('test') }}"
    random_port: "{{ random_port | default(1234) }}"

  tasks:
    - name: Configure AAA server host on Huawei device
      community.network.ce_aaa_server_host:
        hwtacacs_is_public_net: "{{ random_boolean }}"
        hwtacacs_is_secondary_server: "{{ random_boolean }}"
        hwtacacs_server_host_name: "{{ random_string }}"
        hwtacacs_server_ip: "{{ random_ipv4 }}"
        hwtacacs_server_ipv6: "{{ random_ipv6 }}"
        hwtacacs_server_type: "{{ random_string }}"
        hwtacacs_template: "{{ random_string }}"
        hwtacacs_vpn_name: "{{ random_string }}"
        local_ftp_dir: "{{ random_string }}"
        local_password: "{{ random_string }}"
        local_service_type: "{{ random_string }}"
        local_user_group: "{{ random_string }}"
        local_user_level: "{{ random_string }}"
        local_user_name: "{{ random_string }}"
        radius_group_name: "{{ random_string }}"
        radius_server_ip: "{{ random_ipv4 }}"
        radius_server_ipv6: "{{ random_ipv6 }}"
        radius_server_mode: "{{ random_string }}"
        radius_server_name: "{{ random_string }}"
        radius_server_port: "{{ random_port }}"
        radius_server_type: "{{ random_string }}"
        radius_vpn_name: "{{ random_string }}"
        state: present
      register: result

    - debug:
        msg: "AAA server host configuration: {{ result }}"