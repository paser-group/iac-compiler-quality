---
- name: Test playbook for apache2_mod_proxy module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure Apache httpd mod_proxy
      community.general.apache2_mod_proxy:
        balancer_url_suffix: "{{ random_url_suffix }}"
        balancer_vhost: "{{ random_vhost }}"
        member_host: "{{ random_member_host }}"
        state: "{{ random_state }}"
        tls: "{{ random_tls }}"
        validate_certs: "{{ random_validate_certs }}"
      vars:
        random_url_suffix: "{{ random_url_suffix | default('') }}"
        random_vhost: "{{ random_vhost | default('') }}"
        random_member_host: "{{ random_member_host | default('') }}"
        random_state: "{{ random_state | default('') }}"
        random_tls: "{{ random_tls | random }}"
        random_validate_certs: "{{ random_validate_certs | random }}"