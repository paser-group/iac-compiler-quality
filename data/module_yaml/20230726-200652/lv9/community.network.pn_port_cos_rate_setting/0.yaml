---
- name: Configure COS rate settings on network ports
  hosts: localhost
  gather_facts: false

  vars:
    pn_cliswitch: "/path/to/your/cli/switch"  # Update with the correct CLI switch
    pn_port: "Ethernet1/1"  # Update with the correct port name
    pn_cos0_rate: "100"  # Update with the desired rate in Mbps for COS 0
    pn_cos1_rate: "200"  # Update with the desired rate in Mbps for COS 1
    pn_cos2_rate: "300"  # Update with the desired rate in Mbps for COS 2
    pn_cos3_rate: "400"  # Update with the desired rate in Mbps for COS 3
    pn_cos4_rate: "500"  # Update with the desired rate in Mbps for COS 4
    pn_cos5_rate: "600"  # Update with the desired rate in Mbps for COS 5
    pn_cos6_rate: "700"  # Update with the desired rate in Mbps for COS 6
    pn_cos7_rate: "800"  # Update with the desired rate in Mbps for COS 7
    state: present

  tasks:
    - name: Configure COS rate settings on network port
      community.network.pn_port_cos_rate_setting:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_port: "{{ pn_port }}"
        pn_cos0_rate: "{{ pn_cos0_rate }}"
        pn_cos1_rate: "{{ pn_cos1_rate }}"
        pn_cos2_rate: "{{ pn_cos2_rate }}"
        pn_cos3_rate: "{{ pn_cos3_rate }}"
        pn_cos4_rate: "{{ pn_cos4_rate }}"
        pn_cos5_rate: "{{ pn_cos5_rate }}"
        pn_cos6_rate: "{{ pn_cos6_rate }}"
        pn_cos7_rate: "{{ pn_cos7_rate }}"
        state: "{{ state }}"