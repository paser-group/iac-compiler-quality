- name: Generate ISO File
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create temporary directory
      tempfile:
        state: directory
      register: temp_dir

    - name: Create ISO file
      community.general.iso_create:
        dest_iso: "{{ temp_dir.path }}/test.iso"
        interchange_level: 3
        joliet: 1
        rock_ridge: "1.09"
        src_files:
          - /path/to/source/file1
          - /path/to/source/file2
        udf: false
        vol_ident: "Test ISO"

    - debug:
        var: temp_dir

    - name: Remove temporary directory
      file:
        path: "{{ temp_dir.path }}"
        state: absent