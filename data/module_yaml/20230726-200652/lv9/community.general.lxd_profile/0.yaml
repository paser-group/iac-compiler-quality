---
- name: Test lxd_profile module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create lxd profile
      community.general.lxd_profile:
        name: "{{ random_profile_name }}"
        state: "{{ random_profile_state }}"
        description: "{{ random_profile_description }}"
        devices:
          "{{ random_profile_device_name }}":
            type: "{{ random_profile_device_type }}"
            property: "{{ random_profile_device_property }}"
      register: lxd_profile_result

    - debug:
        var: lxd_profile_result