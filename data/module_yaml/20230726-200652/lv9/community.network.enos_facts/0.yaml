---
- name: Collect facts from remote devices
  hosts: all
  gather_facts: false

  tasks:
    - name: Gather facts using community.network.enos_facts
      community.network.enos_facts:
        auth_pass: null
        authorize: "{{ ran_bool | bool }}"
        gather_subset: null

      register: facts_result

    - name: Debug gathered facts
      debug:
        var: facts_result