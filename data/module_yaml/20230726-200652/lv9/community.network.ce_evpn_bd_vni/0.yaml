---
- name: Manage EVPN VNI on HUAWEI
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure EVPN VNI
      community.network.ce_evpn_bd_vni:
        bridge_domain_id: "{{ bridge_domain_id }}"
        evpn: "{{ evpn }}"
        route_distinguisher: "{{ route_distinguisher }}"
        state: "{{ state }}"
        vpn_target_both: "{{ vpn_target_both }}"
        vpn_target_export: "{{ vpn_target_export }}"
        vpn_target_import: "{{ vpn_target_import }}"
      register: result

    - name: Debug Result
      debug:
        var: result