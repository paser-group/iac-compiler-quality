---
- name: Test Playbook for community.general.logentries module
  hosts: localhost

  tasks:
    - name: Install required dependencies
      apt:
        name: python3-pip
        state: present
      become: true

    - name: Install logentries module
      pip:
        name: logentries
        state: present

    - name: Import logentries module
      command: le follow "{{ logtype | int }}" "{{ name | int }}" "{{ path | int }}" "{{ state | int }}"
      register: le_output
      args:
        warn: false
      changed_when: false

    - name: Print module output
      debug:
        var: le_output