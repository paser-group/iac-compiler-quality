---
- name: Manage static routes on HUAWEI devices
  hosts: target_device
  gather_facts: false

  tasks:
    - name: Configure static route
      community.network.ce_static_route:
        aftype: "{{ item.aftype }}"
        description: "{{ item.description }}"
        destvrf: "{{ item.destvrf }}"
        mask: "{{ item.mask }}"
        next_hop: "{{ item.next_hop }}"
        nhp_interface: "{{ item.nhp_interface }}"
        pref: "{{ item.pref }}"
        prefix: "{{ item.prefix }}"
        state: present
        tag: "{{ item.tag }}"
        vrf: "{{ item.vrf }}"
      with_items:
        - { aftype: "ipv4", description: "To example network", destvrf: "", mask: "24", next_hop: "10.1.1.254", nhp_interface: "eth0", pref: "1", prefix: "192.168.1.0", state: "present", tag: "", vrf: "" }