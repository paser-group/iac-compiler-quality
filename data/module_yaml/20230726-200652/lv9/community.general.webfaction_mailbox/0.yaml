---
- name: Test playbook for community.general.webfaction_mailbox module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Add mailbox with random IP addresses
      community.general.webfaction_mailbox:
        login_name: "{{ login_name }}"
        login_password: "{{ login_password }}"
        mailbox_name: "{{ mailbox_name }}"
        mailbox_password: "{{ mailbox_password }}"
        state: present
      vars:
        login_name: 12345
        login_password: 67890
        mailbox_name: True
        mailbox_password: False

    - name: Remove mailbox with random IP addresses
      community.general.webfaction_mailbox:
        login_name: "{{ login_name }}"
        login_password: "{{ login_password }}"
        mailbox_name: "{{ mailbox_name }}"
        state: absent
      vars:
        login_name: 12345
        login_password: 67890
        mailbox_name: True