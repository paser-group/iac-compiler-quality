- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Retrieve public IP
      community.general.ipify_facts:
        api_url: https://api.ipify.org
        timeout: "5"
        validate_certs: "true"
      register: ip_facts

    - name: Debug IP facts
      debug:
        var: ip_facts