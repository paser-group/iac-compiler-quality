- name: Retrieve DNS information from DNSimple
  hosts: localhost
  gather_facts: false

  vars:
    account_id: "<your_account_id>"
    api_key: "<your_api_key>"
    name: "example.com"
    record: "@"
    sandbox: false

  tasks:
    - name: Get DNS record information
      community.general.dnsimple_info:
        account_id: "{{ account_id }}"
        api_key: "{{ api_key }}"
        name: "{{ name }}"
        record: "{{ record }}"
        sandbox: "{{ sandbox }}"
      register: dns_info

    - name: Display DNS record information
      debug:
        msg: "Record value: {{ dns_info.record_value }}"

- name: Test Cases
  hosts: localhost
  gather_facts: false

  vars:
    account_id: "123456"
    api_key: "abcd1234"
    name: "example.com"
    sandbox: true

  tasks:
    - name: Test Case 1 - Invalid account_id type
      community.general.dnsimple_info:
        account_id: 123456
        api_key: "{{ api_key }}"
        name: "{{ name }}"
        record: "{{ record }}"
        sandbox: "{{ sandbox }}"
      register: dns_info_case1
      ignore_errors: true

    - name: Test Case 2 - Invalid api_key type
      community.general.dnsimple_info:
        account_id: "{{ account_id }}"
        api_key: 123456
        name: "{{ name }}"
        record: "{{ record }}"
        sandbox: "{{ sandbox }}"
      register: dns_info_case2
      ignore_errors: true

    - name: Test Case 3 - Invalid name type
      community.general.dnsimple_info:
        account_id: "{{ account_id }}"
        api_key: "{{ api_key }}"
        name: 123456
        record: "{{ record }}"
        sandbox: "{{ sandbox }}"
      register: dns_info_case3
      ignore_errors: true

    - name: Test Case 4 - Invalid sandbox type
      community.general.dnsimple_info:
        account_id: "{{ account_id }}"
        api_key: "{{ api_key }}"
        name: "{{ name }}"
        record: "{{ record }}"
        sandbox: "true"
      register: dns_info_case4
      ignore_errors: true