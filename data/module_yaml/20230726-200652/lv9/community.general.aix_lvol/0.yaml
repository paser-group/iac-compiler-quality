---
- name: Test playbook for community.general.aix_lvol module
  hosts: localhost
  gather_facts: false
  vars:
    copies: "{{ random.randint(1, 10) }}" # Random integer value for copies
    lv: "{{ random.choice(['lv1', 'lv2', 'lv3']) }}" # Randomly select a logical volume name
    lv_type: "{{ random.choice(['jfs', 'jfs2']) }}" # Randomly select a logical volume type
    opts: "{{ random.choice(['rw', 'ro']) }}" # Randomly select an option
    policy: "{{ random.choice(['strict', 'normal']) }}" # Randomly select a policy
    size: "{{ random.choice(['2G', '4G', '8G']) }}" # Randomly select a size
    state: "{{ random.choice(['absent', 'present']) }}" # Randomly select a state
    vg: "{{ random.choice(['vg1', 'vg2', 'vg3']) }}" # Randomly select a volume group name
    pvs:
      - "{{ random.choice(['hdisk0', 'hdisk1', 'hdisk2']) }}" # Randomly select a physical volume
      - "{{ random.choice(['hdisk3', 'hdisk4', 'hdisk5']) }}" # Randomly select a physical volume
      - "{{ random.choice(['hdisk6', 'hdisk7', 'hdisk8']) }}" # Randomly select a physical volume

  tasks:
    - name: Configure AIX logical volume
      community.general.aix_lvol:
        copies: "{{ copies }}"
        lv: "{{ lv }}"
        lv_type: "{{ lv_type }}"
        opts: "{{ opts }}"
        policy: "{{ policy }}"
        pvs: "{{ pvs }}"
        size: "{{ size }}"
        state: "{{ state }}"
        vg: "{{ vg }}"