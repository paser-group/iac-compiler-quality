- name: Test Ansible module 'community.network.pn_ipv6security_raguard'
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create/Modify/Delete IPv6 RA Guard Configuration
      community.network.pn_ipv6security_raguard:
        pn_device: "{{ device }}"
        pn_cliswitch: "{{ cli_switch }}"
        pn_name: "{{ name }}"
        pn_prefix_list: "{{ prefix_list }}"
        pn_access_list: "{{ access_list }}"
        pn_router_priority: "{{ router_priority }}"
        state: "{{ action }}"
      register: result

    - name: Debug module output
      debug:
        var: result

  vars:
    device: "switch1"
    cli_switch: "cli_switch_value"
    name: "raguard_config"
    prefix_list: "{{ random_ip_address }}"
    access_list: "access_list_value"
    router_priority: "router_priority_value"
    action: "create"