---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP address
      script: |
        python3 -c '
        import random

        def generate_random_ip():
          ip = ""
          for _ in range(4):
            ip += str(random.randint(0, 255)) + "."
          return ip[:-1]

        print(generate_random_ip())
        '
      register: random_ip

    - name: Display random IP address
      debug:
        var: random_ip.stdout