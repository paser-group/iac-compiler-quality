- name: Configure LVM and NFS
  hosts: localhost
  gather_facts: false

  vars:
    LVM_VOLUME_GROUP: "vg01"
    LVM_LOGICAL_VOLUME: "lv01"
    LV_SIZE: "10G"

  tasks:
    - name: Create LVM
      community.general.aix_filesystem:
        vg: "{{ LVM_VOLUME_GROUP }}"
        lv: "{{ LVM_LOGICAL_VOLUME }}"
        size: "{{ LV_SIZE }}"
        state: present

    - name: Mount NFS
      community.general.aix_filesystem:
        device: "{{ random_ip.result }}"
        mount_point: "/mnt/nfs"
        fs_type: nfs
        state: mounted