---
- name: Test IBM Spectrum Accelerate F Pool Management
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create IBM Spectrum Accelerate F Pool
      community.general.ibm_sa_pool:
        domain: "{{ domain }}"
        endpoints: "{{ endpoints }}"
        username: "{{ username }}"
        password: "{{ password }}"
        pool: "{{ pool }}"
        size: "{{ size }}"
        state: present
      register: pool_creation_result

    - name: Debug the pool creation result
      debug:
        var: pool_creation_result

    - name: Modify IBM Spectrum Accelerate F Pool
      community.general.ibm_sa_pool:
        domain: "{{ domain }}"
        endpoints: "{{ endpoints }}"
        username: "{{ username }}"
        password: "{{ password }}"
        pool: "{{ pool }}"
        size: "{{ size }}"
        state: present
        perf_class: "{{ perf_class }}"
        snapshot_size: "{{ snapshot_size }}"
      register: pool_modification_result

    - name: Debug the pool modification result
      debug:
        var: pool_modification_result

    - name: Delete IBM Spectrum Accelerate F Pool
      community.general.ibm_sa_pool:
        domain: "{{ domain }}"
        endpoints: "{{ endpoints }}"
        username: "{{ username }}"
        password: "{{ password }}"
        pool: "{{ pool }}"
        state: absent
      register: pool_deletion_result

    - name: Debug the pool deletion result
      debug:
        var: pool_deletion_result