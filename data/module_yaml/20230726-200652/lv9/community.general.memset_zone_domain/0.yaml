- name: Create and delete a domain
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create domain
      community.general.memset_zone_domain:
        api_key: 12345678
        domain: example.com
        state: present
        zone: zone1
      register: result_create

    - debug:
        var: result_create

    - name: Delete domain
      community.general.memset_zone_domain:
        api_key: 12345678
        domain: example.com
        state: absent
        zone: zone1
      register: result_delete

    - debug:
        var: result_delete