- name: Configure vRouter PIM
  hosts: localhost
  gather_facts: false

  vars:
    pn_cliswitch: "vrouter"
    pn_hello_interval: "60"
    pn_querier_timeout: "120"
    pn_query_interval: "30"
    pn_vrouter_name: "myvrouter"
    state: "present"

  tasks:
    - name: Set PIM configuration
      community.network.pn_vrouter_pim_config:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_hello_interval: "{{ pn_hello_interval }}"
        pn_querier_timeout: "{{ pn_querier_timeout }}"
        pn_query_interval: "{{ pn_query_interval }}"
        pn_vrouter_name: "{{ pn_vrouter_name }}"
        state: "{{ state }}"
      delegate_to: localhost
      register: pim_result

    - name: Debug output
      debug:
        var: pim_result