- name: Fetch configuration/state data from gRPC
  hosts: localhost
  gather_facts: false

  vars:
    random_ips:
      - "192.168.1.100"
      - "10.0.0.1"
      - "172.16.0.10"
      - "192.168.0.200"

  tasks:
    - name: Fetch gRPC data
      ansible.netcommon.grpc_get:
        command: "{{ command }}"
        data_type: "{{ data_type }}"
        display: "{{ display }}"
        section: "{{ section }}"
        ip_address: "{{ random_ips | random }}"
      register: grpc_data

    - debug:
        var: grpc_data