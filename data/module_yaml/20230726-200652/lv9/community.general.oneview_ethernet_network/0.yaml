- name: Test playbook for Ansible latent type-related bug exploration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include invalid variable
      debug:
        msg: "{{ invalid_variable }}"

    - name: Set variable with incorrect type
      set_fact:
        incorrect_variable: "string value"  # Intentionally incorrect type

    - name: Use incorrect attribute
      debug:
        msg: "{{ hostvars['localhost']['invalid_attribute'] }}"  # Intentionally incorrect attribute

    - name: Trigger type-related bug with arithmetic operation
      debug:
        msg: "{{ 'string' + 123 }}"  # Intentionally add string and integer

    - name: Attempt to open a non-existent file
      slurp:
        path: "/path/to/non_existent_file.txt"

    # Additional tasks can be added to test other scenarios

  vars:
    invalid_variable: "{{ non_existent_variable }}"  # Intentionally refer to a non-existent variable