---
- name: Vexata Export Group Management
  hosts: localhost
  connection: local

  vars:
    array: vexata1
    ig: ig1
    name: export-group1
    password: password
    pg: pg1
    state: present
    user: admin
    validate_certs: false
    vg: vg1

  tasks:
    - name: Manage Vexata Export Group
      community.general.vexata_eg:
        array: "{{ array | from_json }}"
        ig: "{{ ig | from_json }}"
        name: "{{ name | from_json }}"
        password: "{{ password | from_json }}"
        pg: "{{ pg | from_json }}"
        state: "{{ state | from_json }}"
        user: "{{ user | from_json }}"
        validate_certs: "{{ validate_certs | from_json }}"
        vg: "{{ vg | from_json }}"
      register: vexata_eg_result

    - debug:
        var: vexata_eg_result