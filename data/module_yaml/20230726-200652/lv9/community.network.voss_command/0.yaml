- name: Test playbook for community.network.voss_command module
  hosts: all
  gather_facts: false

  tasks:
    - name: Execute voss_command
      community.network.voss_command:
        commands: "{{ item }}"
      with_items:
         - "show ip interface brief"
         - "show spanning-tree"
         - "show running-config"
        {% if interval is defined %}
        interval: "{{ interval }}"
        {% endif %}
        {% if match is defined %}
        match: "{{ match }}"
        {% endif %}
        {% if retries is defined %}
        retries: "{{ retries }}"
        {% endif %}
        {% if wait_for is defined %}
        wait_for: "{{ wait_for }}"
        {% endif %}