---
- name: Test community.general.hwc_vpc_peering_connect module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create VPC Peering Connection
      community.general.hwc_vpc_peering_connect:
        description: "Test VPC Peering Connection"
        domain: "example.com"
        id: "connection-id"
        identity_endpoint: "https://identity.example.com"
        local_vpc_id: "local-vpc-id"
        name: "peering-connection"
        password: "password"
        peering_vpc:
          vpc_id: "peering-vpc-id"
        project: "project-name"
        region: "region"
        state: "present"
        timeouts:
          create: 300
        user: "user"
      register: result
    
    - name: Debug Result
      debug:
        var: result