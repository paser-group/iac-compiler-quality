---
- name: Gather information using hpilo_info module
  hosts: localhost
  gather_facts: false

  vars:
    nodes:
      - { hostname: "ubuntu1", ip: "10.1.1.1" }
      - { hostname: "alpine1", ip: "10.1.1.2" }
      - { hostname: "centos1", ip: "10.1.1.3" }
      - { hostname: "redhat1", ip: "10.1.1.4" }
    ssl_versions:
      - "tls1"
      - "tls1.1"
      - "tls1.2"

  tasks:
    - name: Gather hpilo_info
      community.general.hpilo_info:
        host: "{{ item.ip }}"
        login: "admin"
        password: "secret"
        ssl_version: "{{ ssl_versions | random }}"
      loop: "{{ nodes }}"