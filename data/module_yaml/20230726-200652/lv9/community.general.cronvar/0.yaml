---
- name: Manage cron variables
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set cron variable
      community.general.cronvar:
        name: "{{ item.name }}"
        value: "{{ item.value }}"
        state: present
      loop:
        - { name: "my_cron_var1", value: "value1" }
        - { name: "my_cron_var2", value: "value2" }

    - name: Remove cron variable
      community.general.cronvar:
        name: "{{ item.name }}"
        state: absent
      loop:
        - { name: "my_cron_var1" }
        - { name: "my_cron_var2" }