---
- name: Manage files on Docker nodes
  hosts: all
  gather_facts: false

  tasks:
    - name: Create directory with specific owner and mode
      ansible.builtin.file:
        path: /tmp/test_directory
        state: directory
        owner: foo
        mode: "0755"

    - name: Create empty file
      ansible.builtin.file:
        path: /tmp/test_file.txt
        state: touch
        owner: bar
        group: users

    - name: Change file permissions
      ansible.builtin.file:
        path: /tmp/test_file.txt
        mode: "0644"
        owner: baz
        group: wheel

    - name: Delete test file
      ansible.builtin.file:
        path: /tmp/test_file.txt
        state: absent
        owner: ping