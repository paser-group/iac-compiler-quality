- name: Generate random IP addresses
  hosts: localhost
  gather_facts: false

  vars:
    nodes:
      - name: ubuntu1
        ip: "{{ '10.1.1.' ~ 1 | random }}"
      - name: alpine1
        ip: "{{ '10.1.1.' ~ 2 | random }}"
      - name: centos1
        ip: "{{ '10.1.1.' ~ 3 | random }}"
      - name: redhat1
        ip: "{{ '10.1.1.' ~ 4 | random }}"

  tasks:
    - name: Print node IP addresses
      debug:
        msg: "Node {{ item.name }} has IP address {{ item.ip }}"
      loop: "{{ nodes }}"