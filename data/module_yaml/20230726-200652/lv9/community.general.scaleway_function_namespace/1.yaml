---
- name: Create Scaleway Function Namespace
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP addresses
      set_fact:
        ubuntu_ip: "10.1.1.{{ 1 | random }}"
        alpine_ip: "10.1.1.{{ 2 | random }}"
        centos_ip: "10.1.1.{{ 3 | random }}"
        redhat_ip: "10.1.1.{{ 4 | random }}"

    - name: Create Scaleway Function Namespace
      community.general.scaleway_function_namespace:
        api_token: "{{ api_token }}"
        name: "my-namespace"
        description: "My namespace description"
        project_id: "my-project-id"
        region: "par1"
        state: present
      register: result

    - name: Print result
      debug:
        var: result