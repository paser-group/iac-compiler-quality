---
- name: Test playbook for community.network.icx_static_route module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure static route
      community.network.icx_static_route:
        admin_distance: "invalid"
        prefix: "{{ random_ip }}"
        mask: "{{ mask }}"
        next_hop: "{{ next_hop }}"
        state: "{{ state }}"
        purge: true
      register: result
      failed_when: false

    - name: Display result
      debug:
        var: result