---
- name: Test playbook for 'community.network.nos_config' module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Configure network devices
      community.network.nos_config:
        after: null
        backup: true
        backup_options:
          dir: /backup
          num_to_keep: 5
        before: null
        diff_against: null
        diff_ignore_lines: null
        intended_config: null
        lines: null
        match: null
        multiline_delimiter: null
        parents: null
        replace: null
        running_config: null
        src: "{{ playbook_dir }}/config.txt"
      vars:
        ansible_python_interpreter: /usr/bin/python3

    - name: Print result
      debug:
        var: backup_files