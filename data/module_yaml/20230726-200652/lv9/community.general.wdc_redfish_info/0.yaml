---
- name: Test playbook for Ansible latent type-related bugs
  hosts: all
  gather_facts: false
  tasks:
    - name: Generate random IP addresses
      ansible.builtin.set_fact:
        random_ip: "{{ '%d.%d.%d.%d' | format(generate_int(0, 255), generate_int(0, 255), generate_int(0, 255), generate_int(0, 255)) }}"

    - name: Test WDC Redfish Info module
      community.general.wdc_redfish_info:
        auth_token: "token"
        baseuri: "https://{{ random_ip }}"
        category: "category"
        command:
          - "command1"
          - "command2"
        ioms:
          - "{{ random_ip }}"
        password: "password"
        timeout: 10
        username: "username"
      register: result

    - name: Debug result
      ansible.builtin.debug:
        var: result