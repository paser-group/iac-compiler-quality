- name: Ansible Latent Bug Finder Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Generate random IP addresses for hosts
      hosts: localhost
      gather_facts: false

      tasks:
        - name: Set random IP address for ubuntu1
          set_fact:
            ubuntu_ip: "{{ '10.1.1.1' }}"

        - name: Set random IP address for alpine1
          set_fact:
            alpine_ip: "{{ '10.1.1.2' }}"

        - name: Set random IP address for centos1
          set_fact:
            centos_ip: "{{ '10.1.1.3' }}"

        - name: Set random IP address for redhat1
          set_fact:
            redhat_ip: "{{ '10.1.1.4' }}"

    - name: Gather Facts
      setup:
        fact_path: "/tmp/facts.d"
        filter: "'*'"
        gather_subset:
          - '!all'
        gather_timeout: 10