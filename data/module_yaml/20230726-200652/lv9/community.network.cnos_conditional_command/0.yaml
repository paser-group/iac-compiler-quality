---
- name: Execute conditional command on network device
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute conditional command
      community.network.cnos_conditional_command:
        host: "{{ host }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enablePassword: "{{ enablePassword }}"
        deviceType: "{{ deviceType }}"
        condition: "{{ condition }}"
        clicommand: "{{ clicommand }}"
        outputfile: "{{ outputfile }}"
        flag: "{{ flag }}"
      register: result

    - name: Debug output
      debug:
        var: result