---
- name: Test playbook for 'community.general.oneview_logical_interconnect_group_info' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Formulate random IP addresses for networking modules
      set_fact:
        subnet_address: "{{ subnet_address | default('10.1.1.0/24') }}"
        gateway_address: "{{ gateway_address | default('10.1.1.254') }}"
        ubuntu_address: "{{ ubuntu_address | default('10.1.1.1') }}"
        alpine_address: "{{ alpine_address | default('10.1.1.2') }}"
        centos_address: "{{ centos_address | default('10.1.1.3') }}"
        redhat_address: "{{ redhat_address | default('10.1.1.4') }}"

    - name: Retrieve information from OneView Logical Interconnect Group
      community.general.oneview_logical_interconnect_group_info:
        config: /path/to/oneview_config.json
        api_version: 300
        hostname: example.com
        username: admin
        password: secret
        name: test_group
        image_streamer_hostname: image.example.com
        params:
          subnet_address: "{{ subnet_address }}"
          gateway_address: "{{ gateway_address }}"
          ubuntu_address: "{{ ubuntu_address }}"
          alpine_address: "{{ alpine_address }}"
          centos_address: "{{ centos_address }}"
          redhat_address: "{{ redhat_address }}"
      register: info

    - name: Debug module output
      debug:
        var: info