---
- name: Test playbook for community.network.icx_logging module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure logging on Ruckus ICX
      community.network.icx_logging:
        aggregate:
          - name: "log-1"
            facility: "local0"
            level: ["debug"]
            udp_port: "514"
          - name: "log-2"
            facility: "local1"
            level: ["info"]
            udp_port: "Ruckus"  # Trigger a type-related bug by providing an invalid UDP port value
          - name: "log-3"
            facility: "local2"
            level: ["notice"]
            udp_port: 516  # Trigger a type-related bug by providing an integer UDP port value

        state: "present"

      vars:
        ansible_python_interpreter: "/usr/bin/python3"  # Specify the correct Python interpreter if required

      # Uncomment the following line if you want to print the debug logs of the module execution
      # debug:
      #   var: results

    # Placeholder for additional tasks or test cases based on the provided heuristic