- name: Test playbook for pn_snmp_community module
  hosts: all
  gather_facts: false
  vars:
    pn_cliswitch: "{{ None }}"
    pn_community_string: "{{ random_string(10) }}"
    pn_community_type: "{{ random(['read', 'write']) }}"
    state: "{{ random(['present', 'absent']) }}"
  tasks:
    - name: Configure SNMP community
      community.network.pn_snmp_community:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_community_string: "{{ pn_community_string }}"
        pn_community_type: "{{ pn_community_type }}"
        state: "{{ state }}"