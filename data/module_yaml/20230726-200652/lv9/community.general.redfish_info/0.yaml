---
- name: Ansible Latent Bug Finder & Heuristic Test Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random IP addresses
      set_fact:
        ip_address: "{{ hostvars.localhost | random_ip_address }}"

    - name: Print random IP address
      debug:
        var: ip_address

    - name: Test redfish_info module
      community.general.redfish_info:
        baseuri: "https://{{ ip_address }}"
        username: "admin"
        password: "password"
        command: ["get", "/redfish/v1/systems"]
      register: redfish_info_output

    - name: Print redfish_info output
      debug:
        var: redfish_info_output