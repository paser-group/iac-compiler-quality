- name: Test playbook for community.general.dnf_versionlock module
  hosts: localhost
  gather_facts: false

  vars:
    package_versions:
      - 
        name: httpd
        raw: no
        state: installed

  tasks:
    - name: Lock package versions
      community.general.dnf_versionlock:
        name: "{{ item.name }}"
        raw: "{{ item.raw }}"
        state: "{{ item.state }}"
      loop: "{{ package_versions }}"