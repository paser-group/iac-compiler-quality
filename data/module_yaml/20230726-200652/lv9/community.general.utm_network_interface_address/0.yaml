---
- name: Test Playbook for community.general.utm_network_interface_address module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create network interface with random IP address
      community.general.utm_network_interface_address:
        name: eth0
        address: "{{ item }}"
      loop:
        - "10.1.1.1"
        - "10.1.1.2"
        - "10.1.1.3"
        - "10.1.1.4"
        - "{{ lookup('community.general.random_ip_address') }}"
      register: result

    - name: Print result
      debug:
        var: result