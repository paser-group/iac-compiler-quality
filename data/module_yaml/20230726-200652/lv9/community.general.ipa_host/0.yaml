- hosts: localhost
  tasks:
    - name: Configure IPA Host
      community.general.ipa_host:
        state: present
        fqdn: "{{ fqdn }}"
        ip_address: "{{ ip_address }}"
        ipa_host: "{{ ipa_host }}"
        ipa_pass: "{{ ipa_pass }}"
        ipa_user: "{{ ipa_user }}"
        ipa_port: "{{ ipa_port }}"
        ipa_prot: "{{ ipa_prot }}"
        ipa_timeout: "{{ ipa_timeout }}"
        ns_hardware_platform: "{{ ns_hardware_platform }}"
        ns_host_location: "{{ ns_host_location }}"
        ns_os_version: "{{ ns_os_version }}"
        random_password: "{{ random_password | bool }}"
        update_dns: "{{ update_dns | bool }}"
        user_certificate: "{{ user_certificate }}"
        validate_certs: "{{ validate_certs | bool }}"
      register: ipa_host_result

    - debug:
        var: ipa_host_result