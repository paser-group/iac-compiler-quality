---
- name: Retrieve oneview_fcoe_network_info
  hosts: localhost
  gather_facts: false

  vars:
    hostvar_hostname: "{{ '10.' ~ (1 + (hostvars['localhost'].inventory_hostname | ip2int) | rand_ip(256)) }}"

  tasks:
    - name: Include the oneview_fcoe_network_info module
      include_role:
        name: ansible-role-oneview

    - name: Retrieve oneview_fcoe_network_info
      oneview_fcoe_network_info:
        api_version: 1200
        config: "/path/to/config.json"
        hostname: "{{ hostvar_hostname }}"
        image_streamer_hostname: "{{ hostvar_image_streamer_hostname }}"
        name: "Test Network"
        params:
          vlanId: 100
      register: network_info

    - name: Debug network_info
      debug:
        var: network_info