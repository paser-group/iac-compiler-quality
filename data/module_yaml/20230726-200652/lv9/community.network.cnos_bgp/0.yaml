- name: Test cnos_bgp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include required modules
      include_tasks: modules.yml
      vars:
        asNum: "{{ none }}"
        bgpArg1: "{{ none }}"
        bgpArg2: "{{ none }}"
        bgpArg3: "{{ none }}"
        bgpArg4: "{{ none }}"
        bgpArg5: "{{ none }}"
        bgpArg6: "{{ none }}"
        bgpArg7: "{{ none }}"
        bgpArg8: "{{ none }}"
        deviceType: "switch"
        enablePassword: "password"
        host: "10.1.1.1"
        outputfile: "bgp_output.txt"
        password: "password"
        username: "admin"

    - name: Execute cnos_bgp module
      cnos_bgp:
        asNum: "{{ asNum }}"
        bgpArg1: "{{ bgpArg1 }}"
        bgpArg2: "{{ bgpArg2 }}"
        bgpArg3: "{{ bgpArg3 }}"
        bgpArg4: "{{ bgpArg4 }}"
        bgpArg5: "{{ bgpArg5 }}"
        bgpArg6: "{{ bgpArg6 }}"
        bgpArg7: "{{ bgpArg7 }}"
        bgpArg8: "{{ bgpArg8 }}"
        deviceType: "{{ deviceType }}"
        enablePassword: "{{ enablePassword }}"
        host: "{{ host }}"
        outputfile: "{{ outputfile }}"
        password: "{{ password }}"
        username: "{{ username }}"
      register: result

    - name: Debug result
      debug:
        var: result