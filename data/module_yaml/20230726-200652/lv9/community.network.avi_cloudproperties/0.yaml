---
- name: Test playbook for community.network.avi_cloudproperties module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Test the community.network.avi_cloudproperties module with random IP addresses
      community.network.avi_cloudproperties:
        controller: "{{ item.1 }}"
        username: admin
        password: admin
        tenant: admin
        tenant_uuid: admin_uuid
        avi_credentials:
          controller: "{{ item.1 }}"
          username: admin
          password: admin
          tenant: admin
          tenant_uuid: admin_uuid
        info:
          network_ipam:
            attributes:
              attr_key1: "{{ item.0 }}"
              attr_key2: "{{ item.0 }}"
        cc_vtypes: "{{ item.0 }}"  # Potential for type-related bugs
      loop:
        - random_value
        - '10.1.1.0/24'