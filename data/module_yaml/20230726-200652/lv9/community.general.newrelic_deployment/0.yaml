- name: Test newrelic_deployment module
  hosts: localhost
  gather_facts: false

  vars:
    app_name: new_app
    application_id: "{{ 123456 }}"
    appname: myapp
    changelog: Deploying version 1.0
    description: This is a test application
    environment: production
    revision: v1.0
    token: my_newrelic_token
    user: "{{ 1 }}"
    validate_certs: true

  tasks:
    - name: Invoke newrelic_deployment module
      community.general.newrelic_deployment:
        app_name: "{{ app_name }}"
        application_id: "{{ application_id }}"
        appname: "{{ appname }}"
        changelog: "{{ changelog }}"
        description: "{{ description }}"
        environment: "{{ environment }}"
        revision: "{{ revision }}"
        token: "{{ token }}"
        user: "{{ user }}"
        validate_certs: "{{ validate_certs }}"