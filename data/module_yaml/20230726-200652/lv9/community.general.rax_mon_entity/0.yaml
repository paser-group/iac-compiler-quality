- name: Test playbook
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Include rax_mon_entity module
      community.general.rax_mon_entity:
        agent_id: 123
        api_key: api_key
        auth_endpoint: https://auth.example.com
        credentials: "/path/to/credentials"
        env: dev
        identity_type: rackspace
        label: test_entity
        metadata:
          - key1: value1
            key2: value2
        named_ip_addresses:
          - name: ip1
            address: 10.1.1.1
            label: IP Address 1
          - name: ip2
            address: 10.1.1.2
            label: IP Address 2
        region: us-west-1
        state: present
        tenant_id: tenant_id
        tenant_name: tenant_name
        username: username
        validate_certs: "false"