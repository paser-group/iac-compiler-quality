---
- name: Test Ansible cnos_command module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Run cnos_command module with random IP addresses
      community.network.cnos_command:
        commands: "{{ ['show', 'ip', 'interface'] | shuffle | join(' ') }}"
        interval: "{{ 10 | random }}"
        match: "{{ true | random }}"
        retries: "{{ 5 | random }}"
        wait_for: "{{ 10 | random }}"