---
- name: Manage physical attributes of interfaces on HUAWEI devices
  hosts: huawei_devices
  gather_facts: false

  vars:
    admin_state: "{{ random_admin_state | default(None) }}"
    description: "{{ random_description | default(None) }}"
    interface: "{{ random_interface | default(None) }}"
    interface_type: "{{ random_interface_type | default(None) }}"
    mode: "{{ random_mode | default(None) }}"
    l2sub: "{{ random_l2sub | default(false) }}"
    state: "{{ random_state | default(None) }}"

  tasks:
    - name: Set physical attributes of interface
      community.network.ce_interface:
        admin_state: "{{ admin_state }}"
        description: "{{ description }}"
        interface: "{{ interface }}"
        interface_type: "{{ interface_type }}"
        l2sub: "{{ l2sub }}"
        mode: "{{ mode }}"
        state: "{{ state }}"
      register: result

    - debug:
        var: result