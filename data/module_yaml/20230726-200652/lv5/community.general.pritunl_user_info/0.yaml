---
- name: Test playbook for the pritunl_user_info module
  hosts: localhost
  gather_facts: false

  vars:
    organization: "my-org"
    pritunl_api_secret: "my-pritunl-api-secret"
    pritunl_api_token: "my-pritunl-api-token"
    pritunl_url: "https://pritunl.example.com"
    user_name: "test-user"
    user_type: "admin"
    validate_certs: false

  tasks:
    - name: List Pritunl Users
      community.general.pritunl_user_info:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: localhost:{{ 10000 | random }}/test-url
        user_name: "{{ user_name }}"
        user_type: "{{ user_type }}"
        validate_certs: "{{ validate_certs }}"
      register: pritunl_user_info_result

    - name: Display Pritunl User Info
      debug:
        var: pritunl_user_info_result