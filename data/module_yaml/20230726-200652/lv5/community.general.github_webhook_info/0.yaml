---
- name: Test community.general.github_webhook_info module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include community.general.github_webhook_info module
      include_vars:
        file: "{{ playbook_dir }}/vars/bug_test_vars.yml"

    - name: Create random port number
      set_fact:
        random_port: "{{ 49152 | random }}"

    - name: Test community.general.github_webhook_info module
      community.general.github_webhook_info:
        github_url: "{{ github_url }}"
        password: "{{ password }}"
        repository: "{{ repository }}"
        token: "{{ token }}"
        user: "{{ user }}"
        port: "{{ random_port }}"
      register: result

    - name: Display module result
      debug:
        var: result