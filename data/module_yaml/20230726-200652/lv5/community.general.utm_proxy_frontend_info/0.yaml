- name: Test playbook for community.general.utm_proxy_frontend_info module
  hosts: localhost
  gather_facts: false

  vars:
    headers:
      Content-Type: application/json
    name: my_frontend
    state: present
    utm_host: 10.1.1.1
    utm_port: "8443"  # Set utm_port as a string to trigger type-related bugs
    utm_protocol: https
    utm_token: my_token
    validate_certs: "true"  # Set validate_certs as a string to trigger type-related bugs

  tasks:
    - name: Create reverse proxy frontend
      community.general.utm_proxy_frontend_info:
        headers: "{{ headers }}"
        name: "{{ name }}"
        state: "{{ state }}"
        utm_host: "{{ utm_host }}"
        utm_port: "{{ utm_port }}"
        utm_protocol: "{{ utm_protocol }}"
        utm_token: "{{ utm_token }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - debug:
        var: result