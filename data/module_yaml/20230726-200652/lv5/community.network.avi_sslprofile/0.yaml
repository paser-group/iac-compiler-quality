---
- name: Test playbook for community.network.avi_sslprofile module
  hosts: localhost
  gather_facts: false
  
  vars:
    profile_name: "ssl_test_profile"
    profile_tenant: "default"
    profile_api_version: "20.1.1"
    controller_address: "https://controller.example.com"
    controller_username: "admin"
    controller_password: "password"
      
  tasks:
    - name: Create SSL profile
      community.network.avi_sslprofile:
        avi_credentials:
          controller: "{{ controller_address }}"
          username: "{{ controller_username }}"
          password: "{{ controller_password }}"
        state: present
        name: "{{ profile_name }}"
        tenant: "{{ profile_tenant }}"
        accepted_ciphers: null
        accepted_versions: null
        api_context:
          api_version: "{{ profile_api_version }}"
        ssl_session_timeout: null
        enable_ssl_session_reuse: true
        send_close_notify: true
        prefer_client_cipher_ordering: true
      register: profile_result
      
    - name: Debug SSL profile result
      debug:
        var: profile_result