---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random port numbers for testing
      set_fact:
        random_ports: "{{ lookup('community.general.random_number', min=1024, max=65535, count=5) | shuffle }}"

    - name: Print random ports
      debug:
        var: random_ports

    - name: Test rundeck_project module
      community.general.rundeck_project:
        api_token: "my_token"
        api_version: 1
        client_cert: "/path/to/client.cert"
        client_key: "/path/to/client.key"
        force: false
        force_basic_auth: true
        http_agent: "My User Agent"
        name: "test_project"
        state: "present"
        url: "https://example.com"
        url_password: "password123"
        url_username: "admin"
        use_gssapi: false
        use_proxy: true
        validate_certs: true
        test_port: "{{ foo }}"
      register: result

    - name: Print result
      debug:
        var: result