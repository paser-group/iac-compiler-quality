---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test pn_fabric_local module
      community.network.pn_fabric_local:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_control_network: "{{ pn_control_network }}"
        pn_fabric_advertisement_network: "{{ pn_fabric_advertisement_network }}"
        pn_fabric_network: "{{ pn_fabric_network }}"
        pn_vlan: "{{ pn_vlan | random(start=100, end=200) }}"
        state: "{{ state }}"
      register: result

    - name: Debug output
      debug:
        var: result

    - name: Print debug information
      debug:
        msg: "Type-related bug triggered"