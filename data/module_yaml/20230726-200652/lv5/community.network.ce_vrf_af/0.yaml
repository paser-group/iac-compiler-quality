---
- name: Manage VPN instance address family
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Manage VPN instance address family
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: "VRF1"
        vrf_aftype: "ipv4"
        state: "{{ vrf_af_state }}"
        evpn: "{{ vrf_evpn | default(omit) }}"
        route_distinguisher: "{{ vrf_rd | default(omit) }}"
        vpn_target_state: "{{ vrf_target_state | default(omit) }}"
        vpn_target_type: "{{ vrf_target_type | default(omit) }}"
        vpn_target_value: "{{ vrf_target_value | default(omit) }}"
      register: result

    - name: Display result
      debug:
        var: result

- name: Trigger type-related bug - Test case 1
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Assign invalid value to vrf option
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: 12345
        vrf_aftype: "ipv4"
        state: "present"

- name: Trigger type-related bug - Test case 2
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set an invalid value for evpn option
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: "VRF1"
        vrf_aftype: "ipv4"
        state: "present"
        evpn: "invalid_value"

- name: Trigger type-related bug - Test case 3
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set an invalid value for route_distinguisher option
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: "VRF1"
        vrf_aftype: "ipv4"
        state: "present"
        route_distinguisher: 12345

- name: Trigger type-related bug - Test case 4
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set an invalid value for vpn_target_state option
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: "VRF1"
        vrf_aftype: "ipv4"
        state: "present"
        vpn_target_state: "invalid_value"

- name: Trigger type-related bug - Test case 5
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set an invalid value for vpn_target_type option
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: "VRF1"
        vrf_aftype: "ipv4"
        state: "present"
        vpn_target_type: "invalid_value"

- name: Trigger type-related bug - Test case 6
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set an invalid value for vpn_target_value option
      community.network.ce_vrf_af:
        provider: "{{ vrf_provider }}"
        vrf: "VRF1"
        vrf_aftype: "ipv4"
        state: "present"
        vpn_target_value: 12345