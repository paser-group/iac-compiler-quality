---
- name: Test Pushover Notifications
  hosts: localhost
  gather_facts: false

  vars:
    app_token: "your_pushover_app_token"
    user_key: "your_pushover_user_key"

  tasks:
    - name: Send Pushover notification
      community.general.pushover:
        app_token: "{{ app_token }}"
        user_key: "{{ user_key }}"
        msg: "Test message"
        title: "Test title"
        pri: "1"
        device: "device_name"
        port: "{{ random_port }}"

      vars:
        random_port: "{{ 10000 | random(inventory_hostname|int) }}"

      register: pushover_result

    - debug:
        var: pushover_result