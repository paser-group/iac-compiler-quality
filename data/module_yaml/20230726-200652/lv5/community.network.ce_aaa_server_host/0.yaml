---
- name: Test AAA server host configuration
  hosts: localhost
  gather_facts: false
  become: true

  tasks:

    - name: Configure AAA server host
      community.network.ce_aaa_server_host:
        hwtacacs_is_public_net: "{{ random_boolean }}"
        hwtacacs_is_secondary_server: "{{ random_boolean }}"
        hwtacacs_server_host_name: "{{ random_string }}"
        hwtacacs_server_ip: "{{ random_ipv4 }}"
        hwtacacs_server_ipv6: "{{ random_ipv6 }}"
        hwtacacs_server_type: "{{ random_string }}"
        hwtacacs_template: "{{ random_string }}"
        hwtacacs_vpn_name: "{{ random_string }}"
        local_ftp_dir: "{{ random_string }}"
        local_password: "{{ random_string }}"
        local_service_type: "{{ random_string }}"
        local_user_group: "{{ random_string }}"
        local_user_level: "{{ random_string }}"
        local_user_name: "{{ random_string }}"
        radius_group_name: "{{ random_string }}"
        radius_server_ip: "{{ random_ipv4 }}"
        radius_server_ipv6: "{{ random_ipv6 }}"
        radius_server_mode: "{{ random_string }}"
        radius_server_name: "{{ random_string }}"
        radius_server_port: "{{ random_port }}"
        radius_server_type: "{{ random_string }}"
        radius_vpn_name: "{{ random_string }}"
        state: "{{ random_state }}"
      vars:
        random_boolean: "{{ ['true', 'false'] | random }}"
        random_string: "{{ lookup('password', '/dev/null chars=ascii_letters length=10') }}"
        random_ipv4: "{{ lookup('template', 'random_ipv4.j2') }}"
        random_ipv6: "{{ lookup('template', 'random_ipv6.j2') }}"
        random_port: "{{ lookup('template', 'random_port.j2') }}"
        random_state: "{{ ['present', 'absent'] | random }}"

      register: result

    - name: Print resulting debug information
      debug:
        var: result