---
- name: Test playbook for community.network.slxos_l2_interface module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Layer-2 interface
      community.network.slxos_l2_interface:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
        mode: "{{ item.mode }}"
        access_vlan: "{{ item.access_vlan }}"
        native_vlan: "{{ item.native_vlan }}"
        trunk_allowed_vlans: "{{ item.trunk_allowed_vlans }}"
        trunk_vlans: "{{ item.trunk_vlans }}"
      loop:
        - { name: "ethernet1/1", state: "present", mode: "access", access_vlan: 10 }
        - { name: "ethernet1/2", state: "present", mode: "trunk", trunk_allowed_vlans: [10, 20, 30], trunk_vlans: [10, 20] }
        - { name: "ethernet1/3", state: "absent" }