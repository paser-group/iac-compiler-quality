- name: Test Keycloak realm configuration
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Install 'community.general' collection
      ansible.builtin.command: ansible-galaxy collection install community.general

    - name: Configure Keycloak realm
      community.general.keycloak_realm:
        auth_keycloak_url: "{{ ansible_host }}"
        auth_client_id: "my_client"
        auth_client_secret: "my_secret"
        auth_realm: "my_realm"
        auth_username: "admin"
        auth_password: "password"
        enabled: true
        registration_allowed: true
        supported_locales: 
          - en_US
          - fr_FR
        admin_theme: null
        events_enabled: "yes"
        events_expiration: 3600
        login_theme: "default"
        ssl_required: "external"
        validate_certs: false
        wait_increment_seconds: "5"
        # Add more attributes and values to test the Ansible compiler