---
- name: Test playbook for latent type-related bug exploration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute custom module with incorrect type
      custom_module:
        parameter: "{{ _generate_random_integer() }}"
      register: result
      ignore_errors: true

    - name: Display module output
      debug:
        var: result

  # Helper function to generate random integer
  functions:
    _generate_random_integer: |
      {{ ('string' | random).randint() }}