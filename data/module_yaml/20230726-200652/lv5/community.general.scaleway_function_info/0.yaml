---
- name: Test 'community.general.scaleway_function_info' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Retrieve information using 'community.general.scaleway_function_info' module
      community.general.scaleway_function_info:
        api_timeout: 10
        api_token: "{{ lookup('env', 'SCALEWAY_API_TOKEN') }}"
        api_url: "https://api.scaleway.com"
        name: "function1"
        namespace_id: "namespace1"
        query_parameters:
          key1: "value1"
          key2: "value2"
        region: "par1"
        validate_certs: true
      register: result

    - name: Debug module output
      debug:
        var: result