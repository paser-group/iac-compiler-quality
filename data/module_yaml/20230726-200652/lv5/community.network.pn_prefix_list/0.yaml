---
- name: Test playbook for community.network.pn_prefix_list module
  hosts: localhost
  gather_facts: False
  
  vars:
    pn_cliswitch: "cli"
    pn_name: "prefix_list_1"
    pn_scope: "global"
    state: "present"
    pn_ports:
      - "{{ random(1000, 9999) }}"
      - "{{ random(1000, 9999) }}"
      - "{{ random(1000, 9999) }}"
  
  tasks:
    - name: Create prefix list
      community.network.pn_prefix_list:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_scope: "{{ pn_scope }}"
        state: "{{ state }}"
        pn_ports: "{{ pn_ports }}"
      register: result
    
    - name: Show result
      debug:
        var: result