---
- name: Test playbook for 'community.network.slxos_l3_interface' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure L3 interface - Dynamic Port Testing
      community.network.slxos_l3_interface:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
        aggregate: "{{ item.aggregate }}"
        ipv4: "{{ item.ipv4 }}"
        ipv6: "{{ item.ipv6 }}"
      loop:
        - { name: "eth1", state: "present", aggregate: "no", ipv4: "10.1.1.1/24", ipv6: "2001:db8::1/64" }
        - { name: "eth2", state: "present", aggregate: "no", ipv4: "10.1.1.2/24", ipv6: "2001:db8::2/64" }
        - { name: "eth3", state: "present", aggregate: "no", ipv4: "10.1.1.3/24", ipv6: "2001:db8::3/64" }
        - { name: "eth4", state: "present", aggregate: "no", ipv4: "10.1.1.4/24", ipv6: "2001:db8::4/64" }
        
      register: result

    - name: Show result
      debug:
        msg: "{{ result }}"