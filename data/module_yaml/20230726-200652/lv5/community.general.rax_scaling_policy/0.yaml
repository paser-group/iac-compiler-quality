---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: "Manipulate Rackspace Cloud Autoscaling"
      community.general.rax_scaling_policy:
        api_key: 1234
        at: "rax:serverscape"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0/tokens"
        change: "1"
        cooldown: "60"
        credentials: "/path/to/credentials.json"
        cron: "0 * * * *"
        desired_capacity: "3"
        env: "swift"
        identity_type: 42
        is_percent: "true"
        name: 100
        policy_type: "WEBHOOK"
        region: "DFW"
        scaling_group: "group1"
        state: true
        tenant_id: 5678
        tenant_name: 90.1
        username: true
        validate_certs: "false"
      register: result

    - name: Debug result
      debug:
        var: result