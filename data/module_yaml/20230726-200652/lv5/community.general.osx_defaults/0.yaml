---
- name: Test osx_defaults module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set osx_defaults value
      community.general.osx_defaults:
        domain: com.example
        host: localhost
        key: some_key
        path: /path/to/file
        state: present
        type: string
        value: "{{ random_port }}"
      register: result
      tags:
        - test_osx_defaults

    - debug:
        var: result