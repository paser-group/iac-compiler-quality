---
- name: Test Ansible Type-Related Bugs - community.network.ce_mlag_interface
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random port numbers
      set_fact:
        random_ports: "{{ range(1,5) | map('random', 1024, 1024 + 500) | list }}"

    - name: Test community.network.ce_mlag_interface module
      community.network.ce_mlag_interface:
        dfs_group_id: "{{ item }}"
        eth_trunk_id: "{{ item }}"
        interface: "{{ item }}"
        mlag_error_down: "{{ item }}"
        mlag_id: "{{ item }}"
        mlag_priority_id: "{{ item }}"
        mlag_system_id: "{{ item }}"
        state: "{{ item }}"
      loop: "{{ random_ports }}"
      register: result

    - name: Debug module output
      debug:
        var: result