- name: Test sysupgrade module
  hosts: all
  gather_facts: false

  tasks:
    - name: Perform sysupgrade
      community.general.sysupgrade:
        fetch_only: "{{ random_boolean }}"
        force: "{{ random_boolean }}"
        installurl: "{{ random_url }}"
        keep_files: "{{ random_boolean }}"
        snapshot: "{{ random_boolean }}"
      register: upgrade_result

    - debug:
        var: upgrade_result