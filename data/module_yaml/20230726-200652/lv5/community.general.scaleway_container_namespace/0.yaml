---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false
  tasks:

    - name: Create Scaleway Container Namespace
      community.general.scaleway_container_namespace:
        api_token: "{{ api_token }}"
        name: "{{ namespace_name }}"
        region: "{{ region }}"
        description: "{{ namespace_description }}"
        environment_variables:
          var1: value1
          var2: value2
        secret_environment_variables:
          secret_var1: secret_value1
          secret_var2: secret_value2
        query_parameters:
          key1: value1
          key2: value2
        wait: true
        wait_timeout: "{{ wait_timeout }}"
        wait_sleep_time: "{{ wait_sleep_time }}"
        state: present
        validate_certs: false
      register: result

    - name: Debug Scaleway Container Namespace
      debug:
        var: result