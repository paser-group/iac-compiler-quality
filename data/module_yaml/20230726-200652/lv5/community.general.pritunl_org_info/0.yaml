- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: False

  vars:
    organization: "my_organization"
    pritunl_api_secret: "my_api_secret"
    pritunl_api_token: "my_api_token"
    pritunl_url: "https://pritunl.example.com"
    validate_certs: True

  tasks:
    - name: Include the 'pritunl_org_info' module
      import_role:
        name: community.general.pritunl_org_info

    - name: Testing type-related bug in 'pritunl_org_info' module
      community.general.pritunl_org_info:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        validate_certs: "{{ validate_certs }}"
        port: "invalid_port_value"
      register: pritunl_org_info_output

    - name: Print Pritunl Organizations Info
      debug:
        var: pritunl_org_info_output