---
- name: Test playbook for community.general.proxmox_storage_info module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test community.general.proxmox_storage_info module
      community.general.proxmox_storage_info:
        api_host: 192.168.1.100
        api_user: admin
        api_password: admin_password
        api_token_id: api_token_id
        api_token_secret: api_token_secret
        storage: dummy_storage
        type: dummy_type
        port: "{{ random_port }}"
        validate_certs: false
      vars:
        random_port: "{{ 1000 + (omit_port | random) }}"
      loop: "{{ range(10) }}"