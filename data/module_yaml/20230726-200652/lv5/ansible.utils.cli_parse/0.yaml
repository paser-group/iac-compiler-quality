- name: Parse cli output or text
  hosts: localhost
  gather_facts: false

  vars:
    cli_output: "This is a sample CLI output"

  tasks:
    - name: Parse CLI output
      ansible.utils.cli_parse:
        command: "{{ cli_output }}"
        parser:
          startswith: "This"

      register: parsed_output

    - name: Set fact with parsed output
      set_fact:
        parsed_output: "{{ parsed_output.stdout }}"

    - name: Print parsed output
      debug:
        var: parsed_output