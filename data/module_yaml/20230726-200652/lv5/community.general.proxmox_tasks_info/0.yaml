- hosts: localhost
  gather_facts: false

  tasks:
    - name: Test community.general.proxmox_tasks_info module
      community.general.proxmox_tasks_info:
        api_host: "example.com"
        api_password: "supersecret"
        api_token_id: "tokenid"
        api_token_secret: "tokensecret"
        api_user: "admin"
        node: "node1"
        task: "backup"
        validate_certs: true
        port: "{{ random_port }}"
      vars:
        random_port: "{{ 49152 + (ansible_play_hosts_all.index(inventory_hostname) * 10) }}"