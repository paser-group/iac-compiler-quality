---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test community.network.avi_useraccountprofile module
      community.network.avi_useraccountprofile:
        account_lock_timeout: "{{ random_account_lock_timeout }}"
        api_context:
          api_version: "{{ random_api_version }}"
          avi_controller: "{{ random_controller }}"
        avi_credentials:
          username: "{{ random_username }}"
          password: "{{ random_password }}"
        avi_disable_session_cache_as_fact: "{{ random_disable_session_cache_as_fact }}"
        credentials_timeout_threshold: "{{ random_credentials_timeout_threshold }}"
        max_concurrent_sessions: "{{ random_max_concurrent_sessions }}"
        max_login_failure_count: "{{ random_max_login_failure_count }}"
        max_password_history_count: "{{ random_max_password_history_count }}"
        name: "{{ random_name }}"
        password: "{{ random_password }}"
        state: "{{ random_state }}"
        tenant: "{{ random_tenant }}"
        tenant_uuid: "{{ random_tenant_uuid }}"
        url: "{{ random_url }}"
        username: "{{ random_username }}"
        uuid: "{{ random_uuid }}"

  vars:
    random_account_lock_timeout: "{{ random(0, 100) }}"
    random_api_version: "{{ ['18.2.4', '20.1.3', '20.2.1'] | random }}"
    random_controller: "{{ ['10.0.0.1', '10.0.0.2', '10.0.0.3'] | random }}"
    random_username: "{{ ['user1', 'user2', 'user3'] | random }}"
    random_password: "{{ ['pass1', 'pass2', 'pass3'] | random }}"
    random_disable_session_cache_as_fact: "{{ [True, False] | random }}"
    random_credentials_timeout_threshold: "{{ random(0, 100) }}"
    random_max_concurrent_sessions: "{{ random(0, 100) }}"
    random_max_login_failure_count: "{{ random(0, 100) }}"
    random_max_password_history_count: "{{ random(0, 100) }}"
    random_name: "{{ ['profile1', 'profile2', 'profile3'] | random }}"
    random_tenant: "{{ ['tenant1', 'tenant2', 'tenant3'] | random }}"
    random_tenant_uuid: "{{ ['uuid1', 'uuid2', 'uuid3'] | random }}"
    random_url: "{{ ['http://example.com', 'https://example.com'] | random }}"
    random_uuid: "{{ ['uuid1', 'uuid2', 'uuid3'] | random }}"
    random_state: "{{ [None, 'present', 'absent'] | random }}"