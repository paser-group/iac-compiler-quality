- name: Manage advanced ACL configuration on HUAWEI
  hosts: localhost
  gather_facts: false
  connection: local
  tasks:
    - name: Create advanced ACL
      community.network.ce_acl_advance:
        acl_name: "ACL 1"
        acl_description: "Advanced ACL 1"
        acl_num: 10
        rule_id: 1
        rule_name: "Rule 1"
        rule_description: "Allow SSH"
        rule_action: "permit"
        protocol: "tcp"
        src_ip: "10.1.1.1"
        src_mask: "255.255.255.0"
        dest_ip: "10.2.2.2"
        dest_mask: "255.255.255.255"
        src_port_begin: 1000
        src_port_end: 2000
        dest_port_begin: 22
        dest_port_end: 22
      register: result

    - debug:
        var: result