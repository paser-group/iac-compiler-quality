- name: Test playbook for the community.general.pritunl_org module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Pritunl organization
      community.general.pritunl_org:
        name: "org1"
        pritunl_api_secret: "your_api_secret"
        pritunl_api_token: "your_api_token"
        pritunl_url: "https://your.pritunl.instance.com"
        state: present
        validate_certs: False
      register: result
      ignore_errors: True

    - name: Display the result
      debug:
        var: result

    - name: Test port settings
      community.general.pritunl_org:
        name: "org1"
        pritunl_api_secret: "your_api_secret"
        pritunl_api_token: "your_api_token"
        pritunl_url: "https://your.pritunl.instance.com"
        state: present
        validate_certs: False
        force: True
        port: "{{ item }}"
      loop:
        - 1234
        - 5678
        - 9876
        - 4321

      ignore_errors: True