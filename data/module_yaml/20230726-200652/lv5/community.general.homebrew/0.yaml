---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install Homebrew packages
      community.general.homebrew:
        name: "{{ item }}"
        state: present
      loop:
        - package1
        - package2
        - 12345
        - ["package3"]
        - { name: package4 }

    - name: Test random port settings
      shell: echo "Testing random port {{ item }}"
      loop: "{{ range(1, 5) | random(seed=inventory_hostname) }}"