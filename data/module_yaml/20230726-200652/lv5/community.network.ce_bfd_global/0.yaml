---
- name: Test the community.network.ce_bfd_global module
  hosts: localhost
  gather_facts: false

  vars:
    bfd_enable: 1
    damp_init_wait_time: 1000
    damp_max_wait_time: 5000
    damp_second_wait_time: 2000
    default_ip: 1.2.3.4
    delay_up_time: 100
    state: present
    tos_exp_dynamic: 5
    tos_exp_static: 7

  tasks:
    - name: Configure BFD global settings
      community.network.ce_bfd_global:
        bfd_enable: "{{ bfd_enable }}"
        damp_init_wait_time: "{{ damp_init_wait_time }}"
        damp_max_wait_time: "{{ damp_max_wait_time }}"
        damp_second_wait_time: "{{ damp_second_wait_time }}"
        default_ip: "{{ default_ip }}"
        delay_up_time: "{{ delay_up_time }}"
        state: "{{ state }}"
        tos_exp_dynamic: "{{ tos_exp_dynamic }}"
        tos_exp_static: "{{ tos_exp_static }}"
      register: result

    - name: Display the module output
      debug:
        var: result