---
- name: Update OpenDJ backend configuration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Update backend configuration
      community.general.opendj_backendprop:
        backend: "userRoot"
        hostname: "localhost"
        name: "index-type"
        opendj_bindir: "/opt/opendj/bin"
        password: "mysecretpassword"
        passwordfile: "/path/to/passwordfile"
        port: "{{ opendj_port }}"
        state: "present"
        username: "admin"
        value: "equality"

      vars:
        opendj_port: "{{ opendj_random_port }}"
        
    - debug:
        var: ansible_facts['opendj_backend_properties']