---
- name: Test playbook for async_status module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Obtain async_status using random port numbers
      ansible.builtin.async_status:
        jid: "{{ random_port }}"
        mode: "{{ random_port }}"
      register: async_status

    - name: Debug the obtained async_status
      ansible.builtin.debug:
        var: async_status

  vars:
    random_port: "{{ 10000 | random }}"