---
- name: Test playbook for ansible.builtin.debconf module
  hosts: all
  gather_facts: false

  tasks:
    - name: Set debconf unseen value
      ansible.builtin.debconf:
        name: "{{ item }}"
        question: "unseen"
        unseen: "{{ item | bool }}"
        value: "true"
      loop:
        - "false"
        - "true"

    - name: Set debconf value
      ansible.builtin.debconf:
        name: "{{ item }}"
        question: "value"
        value: "{{ item | random }}"
      loop:
        - "option1"
        - "option2"
        - "option3"

    - name: Set debconf vtype
      ansible.builtin.debconf:
        name: "{{ item }}"
        question: "vtype"
        vtype: "{{ item | random }}"
      loop:
        - "string"
        - "boolean"
        - "int"

    - name: Set debconf with random port values
      ansible.builtin.debconf:
        name: "{{ item }}"
        question: "port"
        value: "{{ item | random(start=1024, end=65535) }}"
        vtype: "int"
      loop:
        - "port1"
        - "port2"
        - "port3"

...