---
- name: Test playbook for exposing latent type-related bugs
  hosts: nodes
  gather_facts: false

  tasks:
    - name: Manage Infinite devices
      community.general.infinity:
        action: "{{ action }}"
        ip_address: "{{ ip }}"
        network_size: "{{ network_size | int }}"
        network_type: "{{ network_type }}"
        password: "{{ password }}"
        server_ip: "{{ server_ip }}"
        username: "{{ username }}"