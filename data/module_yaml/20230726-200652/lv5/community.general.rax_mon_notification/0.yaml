---
- name: Test playbook for community.general.rax_mon_notification
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Rackspace Cloud Monitoring Notification
      community.general.rax_mon_notification:
        api_key: "your_api_key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0/"
        credentials: "/path/to/credentials"
        details:
          target_alias: "Your Target Alias"
          target_resolver: "Your Target Resolver"
          details_1: "Your Detail 1"
          details_2: "Your Detail 2"
        env: "your_env"
        identity_type: "rackspace"
        label: "Your Label"
        notification_type: "webhook"
        region: "ORD"
        state: "present"
        tenant_id: "your_tenant_id"
        tenant_name: "your_tenant_name"
        username: "your_username"
        validate_certs: true
      register: result_create

    - name: Print creation result
      debug:
        var: result_create

    - name: Check if API key is an integer
      assert:
        that:
          - api_key is string
      register: result_assert

    - name: Print assertion result
      debug:
        var: result_assert