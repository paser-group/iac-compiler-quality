---
- name: Unveiling Latent Type-Related Bugs in Ansible Compiler
  hosts: all
  gather_facts: false

  tasks:
    - name: Set admin session timeout on network devices
      community.network.pn_admin_session_timeout:
        pn_cliswitch: "{{ inventory_hostname }}"
        pn_timeout: "{{ timeout }}"
        state: "{{ item }}"
      loop:
        - present
        - absent
      vars:
        timeout: "{{ timeout | default('5') }}"