---
- name: Test playbook for community.network.ce_vxlan_tunnel module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create VXLAN tunnel
      community.network.ce_vxlan_tunnel:
        bridge_domain_id: "{{ lookup('env', 'BRIDGE_DOMAIN_ID') | default(None) }}"
        nve_mode: "{{ lookup('env', 'NVE_MODE') | default(None) }}"
        nve_name: "{{ lookup('env', 'NVE_NAME') | default(None) }}"
        peer_list_ip: "{{ lookup('env', 'PEER_LIST_IP') | default(None) }}"
        protocol_type: "{{ lookup('env', 'PROTOCOL_TYPE') | default(None) }}"
        source_ip: "{{ lookup('env', 'SOURCE_IP') | default(None) }}"
        state: "{{ lookup('env', 'STATE') | default(None) }}"
        vni_id: "{{ lookup('env', 'VNI_ID') | default(None) }}"
        provider:
          host: "{{ lookup('env', 'ANSIBLE_NETWORK_GROUP_HOST') }}"
          port: "{{ lookup('env', 'ANSIBLE_NETWORK_GROUP_PORT') | default(4789) | int }}"
          username: "{{ lookup('env', 'ANSIBLE_NETWORK_GROUP_USERNAME') }}"
          password: "{{ lookup('env', 'ANSIBLE_NETWORK_GROUP_PASSWORD') }}"

      when: False

    - name: Test heuristic - Random port numbers
      include_tasks: random_port_test.yml

...