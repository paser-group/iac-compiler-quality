---
- hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages using community.general.sorcery module
      community.general.sorcery:
        name:
          - package1
          - package2
          - package3
        state: present
        update: true
        update_cache: yes
        cache_valid_time: "1 hour"
        depends: "dependency"

    - debug:
        var: ansible_facts.packages