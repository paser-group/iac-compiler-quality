---
- name: Test playbook for scaleway_function_namespace module
  hosts: localhost
  gather_facts: false

  vars:
    api_token: "YOUR_API_TOKEN_HERE"
    project_id: "YOUR_PROJECT_ID_HERE"
    region: "YOUR_REGION_HERE"

  tasks:
    - name: Create Scaleway function namespace
      community.general.scaleway_function_namespace:
        api_token: "{{ api_token }}"
        project_id: "{{ project_id }}"
        region: "{{ region }}"
        name: "test_namespace"
        description: "Test namespace"
        environment_variables:
          VAR1: "value1"
          VAR2: "value2"
        secret_environment_variables:
          SECRET_VAR: "SECRET_VALUE"
        query_parameters:
          param1: "value1"
          param2: "value2"
        state: "present"
        validate_certs: true
        wait: true
        wait_sleep_time: 10
        wait_timeout: 120
      register: result

    - name: Debug module output
      debug:
        var: result