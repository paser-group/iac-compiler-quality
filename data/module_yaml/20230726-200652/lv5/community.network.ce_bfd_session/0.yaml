- name: Test Ansible Module for BFD Session Configuration
  hosts: localhost
  gather_facts: false
  tasks:

    - name: Include the bfd session module
      include_role:
        name: community.network.ce_bfd_session_module

    - name: Configure BFD Session
      network.ce_bfd_session:
        addr_type: "{{ addr_type }}"
        create_type: "{{ create_type }}"
        dest_addr: "{{ dest_addr }}"
        local_discr: "{{ local_discr }}"
        out_if_name: "{{ out_if_name }}"
        remote_discr: "{{ remote_discr }}"
        session_name: "{{ session_name }}"
        src_addr: "{{ src_addr }}"
        state: "{{ state }}"
        use_default_ip: "{{ use_default_ip }}"
        vrf_name: "{{ vrf_name }}"
      register: bfd_session

  handlers:
    - name: Show BFD Session Configuration Result
      debug:
        var: bfd_session