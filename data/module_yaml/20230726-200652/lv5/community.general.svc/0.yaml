- name: Test playbook for community.general.svc module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case 1 - Provide invalid value for 'downed' parameter
      community.general.svc:
        name: test_service
        downed: "invalid_value"
      register: result1
      ignore_errors: true
      changed_when: false
      failed_when: false

    - name: Test case 2 - Provide invalid value for 'enabled' parameter
      community.general.svc:
        name: test_service
        enabled: "invalid_value"
      register: result2
      ignore_errors: true
      changed_when: false
      failed_when: false

    - name: Test case 3 - Provide invalid value for 'name' parameter
      community.general.svc:
        name: 123
      register: result3
      ignore_errors: true
      changed_when: false
      failed_when: false

    - name: Test case 4 - Provide invalid value for 'service_dir' parameter
      community.general.svc:
        name: test_service
        service_dir: 123
      register: result4
      ignore_errors: true
      changed_when: false
      failed_when: false

    - name: Test case 5 - Provide invalid value for 'service_src' parameter
      community.general.svc:
        name: test_service
        service_src: 123
      register: result5
      ignore_errors: true
      changed_when: false
      failed_when: false

    - name: Test case 6 - Provide invalid value for 'state' parameter
      community.general.svc:
        name: test_service
        state: "invalid_value"
      register: result6
      ignore_errors: true
      changed_when: false
      failed_when: false

    - name: Test case 7 - Produce random port numbers to test port settings
      community.general.svc:
        name: test_service
        port: "{{ 2000 | random }}"
      register: result7
      ignore_errors: true
      changed_when: false
      failed_when: false

  post_tasks:
    - debug:
        var: item
      with_items:
        - result1
        - result2
        - result3
        - result4
        - result5
        - result6
        - result7