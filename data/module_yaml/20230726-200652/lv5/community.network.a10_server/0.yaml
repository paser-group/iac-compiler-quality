---
- name: A10 Server Test
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure A10 server
      community.network.a10_server:
        host: "{{ host }}"
        server_ip: "{{ server_ip }}"
        server_ports: "{{ server_ports }}"
        url: "{{ url }}"
        username: "{{ username }}"
        password: "{{ password }}"
        use_proxy: "{{ use_proxy }}"
        write_config: "{{ write_config }}"
      register: a10_server_result
      vars:
        host: "my_server"
        server_ip: "10.1.1.10"
        server_ports: "80,80"
        url: "https://example.com"
        username: "admin"
        password: "secret"
        use_proxy: true
        write_config: true

    - name: Display A10 server configuration result
      debug:
        var: a10_server_result