---
- name: Test ansible module for managing LVM
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create logical volume group
      community.general.aix_lvg:
        vg: myvg
        state: present
        force: "yes"
        vg_type: scalable
      register: result
      
    - name: Check if the logical volume group is created successfully
      assert:
        that:
          - result.vg.status == 'created'
          - result.vg.volatile == 'n'
        success_msg: "Logical volume group successfully created"
        fail_msg: "Failed to create logical volume group"