---
- name: Test Playbook for Scaleway Database Backup Module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Perform Scaleway Database Backup
      community.general.scaleway_database_backup:
        api_timeout: "{{ random_int }}"
        api_token: "{{ random_string }}"
        api_url: "{{ random_string }}"
        database_name: "{{ random_string }}"
        expires_at: "{{ random_string }}"
        id: "{{ random_string }}"
        instance_id: "{{ random_string }}"
        name: "{{ random_string }}"
        query_parameters: "{{ random_dict }}"
        region: "{{ random_string }}"
        state: "{{ random_string }}"
        validate_certs: "{{ random_bool }}"
        wait: "{{ random_bool }}"
        wait_sleep_time: "{{ random_int }}"
        wait_timeout: "{{ random_int }}"
      vars:
        random_string: "{{ lookup('password', '/dev/null length=16') }}"
        random_int: "{{ lookup('password', '/dev/null chars=ascii_letters digits length=4') }}"
        random_bool: "{{ lookup('password', '/dev/null chars=boolchars length=1') | bool }}"
        random_dict: "{{ lookup('password', '/dev/null chars=digits length=1') | int }}"
      register: result

    - name: Debug Backup Result
      debug:
        var: result