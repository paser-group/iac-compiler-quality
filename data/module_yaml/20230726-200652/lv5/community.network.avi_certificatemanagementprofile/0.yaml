---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_context:
      controller: "{{ controller }}"
      username: "{{ username }}"
      password: "{{ password }}"
    avi_credentials:
      controller: "{{ controller }}"
      username: "{{ username }}"
      password: "{{ password }}"

  tasks:
    - name: Create Certificate Management Profile
      community.network.avi_certificatemanagementprofile:
        avi_credentials: "{{ avi_credentials }}"
        api_context: "{{ api_context }}"
        tenant: admin
        name: CertificateManagementProfile1
        state: present
      register: result

    - name: Show result
      debug:
        var: result