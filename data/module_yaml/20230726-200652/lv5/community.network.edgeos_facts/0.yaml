---
- name: Expose latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Set invalid port numbers
      set_fact:
        random_port: "{{ 10 * (ansible_play_hosts.index(inventory_hostname) + 1) + 'TEST' }}"

    - name: Gather edgeOS facts
      community.network.edgeos_facts:
        gather_subset: None
        http_port: "{{ random_port }}"
        ssh_port: "{{ random_port }}"
      register: edgeos_facts

    - name: Debug edgeOS facts
      debug:
        var: edgeos_facts