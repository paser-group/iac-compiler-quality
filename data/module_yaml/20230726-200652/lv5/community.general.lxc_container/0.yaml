---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set random port number
      set_fact:
        random_port: "{{ 5000 | random(start=1000, end=9000) }}"

    - name: Create LXC container
      community.general.lxc_container:
        name: my_container
        state: started
        template: "{{ random_port }}"  # Passing an integer to the 'template' attribute

    - name: Verify LXC container
      community.general.lxc_container_info:
        name: my_container

    - name: Print container info
      debug:
        var: ansible_facts.community_general_lxc_info[0]