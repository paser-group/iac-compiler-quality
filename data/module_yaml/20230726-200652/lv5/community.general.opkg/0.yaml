---
- name: Test Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false
  become: true

  tasks:
    - name: Test package installation with multiple names
      community.general.opkg:
        name:
          - package1
          - package2
        state: present
      register: opkg_output

    - name: Debug opkg output
      debug:
        var: opkg_output

    - name: Test port settings with invalid type
      community.general.opkg:
        name: package1
        state: present
        update_cache: no
        force: "1234"
        port: "3276{{ 7 | random }}"
      register: port_output

    - name: Debug port output
      debug:
        var: port_output