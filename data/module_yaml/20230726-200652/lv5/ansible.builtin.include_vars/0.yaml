---
- name: Include Vars Playbook
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Load variables from files
      ansible.builtin.include_vars:
        dir: "/path/to/directory"
        extensions:
          - yml
          - yaml
        ignore_files:
          - secret.yml
        ignore_unknown_extensions: false
      register: loaded_vars

    - name: Debug loaded variables
      ansible.builtin.debug:
        var: loaded_vars

    - name: Produce random port numbers to test port settings
      ansible.builtin.debug:
        msg: "Random port number: {{ item }}"
      loop: "{{ range(10) | random }}"  # Adjust the range as per your needs

    # Additional tasks or test cases can be added here

...