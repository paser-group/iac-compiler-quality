---
- name: Fetch configuration/state data from gRPC
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Fetch configuration/state data from gRPC
      ansible.netcommon.grpc_config:
        config: "{{ item }}"
        state: "{{ state }}"
        backup: "{{ backup }}"
        backup_options: "{{ backup_options }}"
        port: "{{ port }}"
      loop:
        - "config_a"
        - "config_b"
        - "config_c"
        - "config_d"
      register: result

    - name: Debug result
      debug:
        var: result