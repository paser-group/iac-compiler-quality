- name: Test Ansible Consul ACL Module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create Consul ACL
      community.general.consul_acl:
        host: "localhost"
        port: 8500
        scheme: "http"
        mgmt_token: "management-token"
        name: "test-acl"
        rules:
          - key_prefix: "test/"
            policy: "read"
        state: "present"
        validate_certs: false