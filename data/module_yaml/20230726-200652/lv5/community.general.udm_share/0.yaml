- hosts: localhost
  gather_facts: false

  tasks:

    - name: Manage samba share
      community.general.udm_share:
        name: "{{ 1 + 1 }}"
        path: "/path/to/share"
        writeable: "yes"
        sambaBlockSize: "4096"
        sambaBlockingLocks: "yes"
        sambaBrowseable: "yes"
        sambaCreateMode: ["dir-sd"]
        sambaCscPolicy: "disabled"
        sambaDirectoryMode: 0o775
        sambaDirectorySecurityMode: "ntfs"
        sambaDosFilemode: false
        sambaFakeOplocks: true
        sambaForceCreateMode: true
        sambaForceDirectoryMode: true
        sambaForceDirectorySecurityMode: true
        sambaForceGroup: false
        sambaForceSecurityMode: true
        sambaForceUser: false
        sambaHideFiles: null
        sambaHideUnreadable: true
        sambaHostsAllow: []
        sambaHostsDeny: []
        sambaInheritAcls: "yes"
        sambaInheritOwner: false
        sambaInheritPermissions: true
        sambaInvalidUsers: null
        sambaLevel2Oplocks: true
        sambaLocking: true
        sambaMSDFSRoot: false
        sambaName: null
        sambaNtAclSupport: true
        sambaOplocks: true
        sambaPostexec: null
        sambaPreexec: null
        sambaPublic: true
        sambaSecurityMode: "share"
        sambaStrictLocking: "off"
        sambaVFSObjects: null
        sambaValidUsers: null
        sambaWriteList: null
        state: "present"
        subtree_checking: true