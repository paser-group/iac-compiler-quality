- hosts: all
  gather_facts: false

  vars:
    client_id: 12345
    client_secret: "abcdef"
    key: "access_key"
    label: "Ansible"
    password: "pass123"
    repository: "myrepo"
    state: "present"
    user: "myuser"
    workspace: "myworkspace"

  tasks:
    - name: Manage Bitbucket access key
      community.general.bitbucket_access_key:
        client_id: "{{ client_id }}"
        client_secret: "{{ client_secret }}"
        key: "{{ key }}"
        label: "{{ label }}"
        password: "{{ password }}"
        repository: "{{ repository }}"
        state: "{{ state }}"
        user: "{{ user }}"
        workspace: "{{ workspace }}"