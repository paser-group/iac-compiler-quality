- name: Test keycloak_clienttemplate module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Keycloak client template
      community.general.keycloak_clienttemplate:
        auth_keycloak_url: "https://keycloak.example.com/auth"
        auth_username: "admin"
        auth_password: "admin"
        auth_realm: "master"
        name: 12345  # Intentionally passing an integer instead of a string
        state: present
        description: 1234567890  # Intentionally passing a long integer instead of a string
        protocol: "openid-connect"
        protocol_mappers:
          - name: "email"
            protocol: "openid-connect"
            protocolMapper: "oidc-usermodel-property-mapper"
            config:
              userinfo.token.claim: "true"
              userinfo.id.token.claim: "true"
              id.token.claim: "true"
              access.token.claim: "true"
              claim.name: 123  # Intentionally passing an integer instead of a string
              jsonType.label: ["string1", "string2"]  # Intentionally passing a list instead of a string
        full_scope_allowed: "true"  # Intentionally passing a string instead of a boolean
        connection_timeout: "30"  # Intentionally passing a string instead of an integer
        validate_certs: "false"  # Intentionally passing a string instead of a boolean
      register: result

    - name: Display result
      debug:
        var: result