---
- name: Test playbook for community.network.ce_vxlan_arp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure ARP attributes
      community.network.ce_vxlan_arp:
        arp_collect_host: "{{ arp_collect_host }}"
        arp_suppress: "{{ arp_suppress }}"
        bridge_domain_id: "{{ bridge_domain_id }}"
        evn_bgp: "{{ evn_bgp }}"
        evn_peer_ip: "{{ evn_peer_ip }}"
        evn_reflect_client: "{{ evn_reflect_client }}"
        evn_server: "{{ evn_server }}"
        evn_source_ip: "{{ evn_source_ip }}"
        host_collect_protocol: "{{ host_collect_protocol }}"
        state: "{{ state }}"
        vbdif_name: "{{ vbdif_name }}"

      vars:
        arp_collect_host: None
        arp_suppress: None
        bridge_domain_id: None
        evn_bgp: None
        evn_peer_ip: None
        evn_reflect_client: None
        evn_server: None
        evn_source_ip: None
        host_collect_protocol: None
        state: "{{ ['present', 'absent'] | random }}"
        vbdif_name: "{{ 'interface-' + ['1', '2', '3'] | random }}"

      register: result

    - name: Show result
      debug:
        var: result