---
- name: Test playbook for ansible.builtin.slurp module
  hosts: localhost
  gather_facts: false
  vars:
    file_path: "/path/to/file.txt"  # Specify the path of the file to slurp here

  tasks:
    - name: Slurp file
      slurp:
        src: "{{ file_path }}"
        mode: 'rb'  # Set the mode to 'rb' to read the file in binary mode (optional)

      register: slurp_output

    - name: Debug slurp output
      debug:
        var: slurp_output

    ## Add your test cases based on the heuristic here ##
    - name: Random port test case 1
      block:
        - debug:
            msg: "Test case 1: Random port number - {{ (60 + (lookup('pipe', 'date +%s%N') | int % 300)) }}"

    - name: Random port test case 2
      block:
        - debug:
            msg: "Test case 2: Random port number - {{ (60 + (lookup('pipe', 'date +%s%N') | int % 300)) }}"

    - name: Random port test case 3
      block:
        - debug:
            msg: "Test case 3: Random port number - {{ (60 + (lookup('pipe', 'date +%s%N') | int % 300)) }}"