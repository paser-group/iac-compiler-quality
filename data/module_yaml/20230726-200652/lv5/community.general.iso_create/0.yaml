---
- name: Generate ISO File
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create temporary directory
      tempfile:
        state: directory
      register: temp_dir

    - name: Generate ISO
      community.general.iso_create:
        dest_iso: "{{ temp_dir.path }}/test.iso"
        interchange_level: "{{ random_port }}"
        joliet: "{{ random_port }}"
        rock_ridge: "{{ random_string }}"
        src_files:
          - /path/to/file1
          - /path/to/file2
          - /path/to/file3
        udf: "{{ random_bool }}"
        vol_ident: "{{ random_string }}"
      register: iso_result

    - name: Print ISO creation result
      debug:
        var: iso_result