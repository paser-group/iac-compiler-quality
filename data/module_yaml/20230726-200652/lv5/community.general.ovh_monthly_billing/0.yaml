---
- name: Test Ansible Latent Bug Finder Playbook
  hosts: localhost
  become: false
  gather_facts: false

  tasks:
    - name: Generate random port number
      set_fact:
        random_port: "{{ 10000 | random }}"
        
    - name: Test OVH Monthly Billing module
      community.general.ovh_monthly_billing:
        application_key: "your_application_key"
        application_secret: "your_application_secret"
        consumer_key: "your_consumer_key"
        endpoint: "your_endpoint"
        instance_id: "your_instance_id"
        project_id: "your_project_id"
        port: "{{ random_port }}"
      register: result

    - name: Display module output
      debug:
        var: result