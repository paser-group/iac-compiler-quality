---
- name: Test playbook for community.network.cnos_reload module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Perform switch restart on device
      community.network.cnos_reload:
        host: "{{ host }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enablePassword: "{{ enablePassword }}"
        deviceType: "{{ deviceType }}"
        outputfile: "{{ outputfile }}"
      vars:
        deviceType: "cnos"
        host: "switch.example.com"
        username: "admin"
        password: "password"
        enablePassword: "enable_password"
        outputfile: "/tmp/restart.log"