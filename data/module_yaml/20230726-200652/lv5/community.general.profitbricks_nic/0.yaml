- name: Configure network interfaces on ProfitBricks
  hosts: localhost
  gather_facts: false

  vars:
    datacenter: "dc1"  # replace with your datacenter name
    lan: "lan1"  # replace with your LAN name
    server: "server1"  # replace with your server name

  tasks:
    - name: Create NIC ubuntu1
      community.general.profitbricks_nic:
        datacenter: "{{ datacenter }}"
        lan: "{{ lan }}"
        server: "{{ server }}"
        name: ubuntu1
        state: present
        subscription_user: "your-username"  # replace with your subscription username
        subscription_password: "your-password"  # replace with your subscription password
        wait: true
        wait_timeout: 300
        port: "{{ 10000 | random }}"  # random port number heuristic

    - name: Create NIC alpine1
      community.general.profitbricks_nic:
        datacenter: "{{ datacenter }}"
        lan: "{{ lan }}"
        server: "{{ server }}"
        name: alpine1
        state: present
        subscription_user: "your-username"  # replace with your subscription username
        subscription_password: "your-password"  # replace with your subscription password
        wait: true
        wait_timeout: 300
        port: "{{ 20000 | random }}"  # random port number heuristic

    - name: Create NIC centos1
      community.general.profitbricks_nic:
        datacenter: "{{ datacenter }}"
        lan: "{{ lan }}"
        server: "{{ server }}"
        name: centos1
        state: present
        subscription_user: "your-username"  # replace with your subscription username
        subscription_password: "your-password"  # replace with your subscription password
        wait: true
        wait_timeout: 300
        port: "{{ 30000 | random }}"  # random port number heuristic

    - name: Create NIC redhat1
      community.general.profitbricks_nic:
        datacenter: "{{ datacenter }}"
        lan: "{{ lan }}"
        server: "{{ server }}"
        name: redhat1
        state: present
        subscription_user: "your-username"  # replace with your subscription username
        subscription_password: "your-password"  # replace with your subscription password
        wait: true
        wait_timeout: 300
        port: "{{ 40000 | random }}"  # random port number heuristic