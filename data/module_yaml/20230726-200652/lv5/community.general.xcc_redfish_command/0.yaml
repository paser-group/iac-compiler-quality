---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include module 'community.general.xcc_redfish_command'
      include_role:
        name: ansible-role-xcc_redfish_command

    - name: Test with invalid auth_token type
      community.general.xcc_redfish_command:
        auth_token: 123456
        baseuri: "https://example_baseuri.com"
        category: "example_category"
        command:
          - "example_command_1"
          - "example_command_2"
        password: "example_password"
        request_body:
          example_key: "example_value"
        resource_id: "example_resource_id"
        resource_uri: "example_resource_uri"
        timeout: 5
        username: "example_username"
        virtual_media:
          example_key: "example_value"
      register: result

    - name: Debug result
      debug:
        var: result