---
- name: Test SELinux Network Port Management
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Manage SELinux Network Port
      community.general.seport:
        ignore_selinux_state: false
        local: true
        ports:
          - protocol: tcp
            port: "{{ lookup('community.general.random_number', 'min=1024 max=65535') }}"
        proto: tcp
        reload: false
        setype: net_port_t
        state: present
      register: result

    - name: Display Result
      debug:
        var: result