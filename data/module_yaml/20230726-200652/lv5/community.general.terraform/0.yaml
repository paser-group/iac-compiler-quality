---
- name: Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random port numbers
      shell: |
        python3 -c "import random; print(random.randint(8000, 9000))"
      register: port_number

    - name: Display random port number
      debug:
        var: port_number.stdout

    - name: Set invalid value for port
      set_fact:
        port: "{{ port_number.stdout }}"

    - name: Configure Terraform with random port
      community.general.terraform:
        binary_path: /usr/local/bin/terraform
        port: "{{ port }}"
        state: present