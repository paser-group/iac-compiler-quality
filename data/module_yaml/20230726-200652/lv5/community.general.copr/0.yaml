---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    chroot: "/path/to/chroot"  # Replace with the desired chroot path
    host: "example.com"  # Replace with the desired host
    name: "copr-repo"  # Replace with the desired repository name
    protocol: "https"  # Replace with the desired protocol (http/https)
    state: "present"  # Replace with the desired state (present/absent)

  tasks:
    - name: Generate random port number
      set_fact:
        random_port: "{{ 10000 | random(seed=inventory_hostname) }}"

    - name: Display random port number
      debug:
        var: random_port

    - name: Test latent type-related bug
      community.general.copr:
        chroot: 123  # Incorrect type for chroot to trigger a type-related bug
        host: "{{ host }}"
        name: "{{ name }}"
        protocol: "{{ protocol }}"
        state: "{{ state }}"
        port: "{{ random_port }}"