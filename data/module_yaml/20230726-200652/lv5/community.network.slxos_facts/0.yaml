---

- name: Test ansible latent type-related bugs in community.network.slxos_facts module
  hosts: all
  gather_facts: false

  vars:
    subnet: "10.1.1.0/24"
    gateway: "10.1.1.254"
    nodes:
      - name: ubuntu1
        ip: "10.1.1.1"
        distribution: "ubuntu"
      - name: alpine1
        ip: "10.1.1.2"
        distribution: "alpine"
      - name: centos1
        ip: "10.1.1.3"
        distribution: "centos"
      - name: redhat1
        ip: "10.1.1.4"
        distribution: "redhat"

  tasks:

    - name: Configure network using slxos_facts module
      community.network.slxos_facts:
        gather_subset: None
      register: slxos_facts_output

    - name: Debug slxos_facts output
      debug:
        var: slxos_facts_output

    - name: Produce random port numbers to test port settings
      set_fact:
        random_port: "{{ 1024 + (ansible_play_hosts_all.index(inventory_hostname) * 10) }}"

    - name: Display random port number
      debug:
        var: random_port

...