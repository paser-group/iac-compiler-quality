---
- name: Configure interface DLDP
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manages interface DLDP configuration
      community.network.ce_dldp_interface:
        enable: "{{ enable }}"
        interface: "{{ interface }}"
        local_mac: "{{ local_mac }}"
        mode_enable: "{{ mode_enable }}"
        reset: "{{ reset }}"
        state: "{{ state }}"
      register: result

    - name: Display result
      debug:
        var: result

- name: Test cases
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test 1 - Triggering type-related bug
      community.network.ce_dldp_interface:
        enable: random
        interface: random
        local_mac: random
        mode_enable: random
        reset: random
        state: random

    - name: Test 2 - Valid values
      community.network.ce_dldp_interface:
        enable: true
        interface: Ethernet1/1
        local_mac: 00:11:22:33:44:55
        mode_enable: true
        reset: true
        state: present

    - name: Test 3 - Invalid values
      community.network.ce_dldp_interface:
        enable: None
        interface: None
        local_mac: None
        mode_enable: None
        reset: None
        state: None

    - name: Test 4 - Random port numbers
      community.network.ce_dldp_interface:
        enable: "{{ enable }}"
        interface: "{{ item }}"
        local_mac: "{{ local_mac }}"
        mode_enable: "{{ mode_enable }}"
        reset: "{{ reset }}"
        state: "{{ state }}"
      with_items:
        - 1
        - 2
        - 3
        - 4