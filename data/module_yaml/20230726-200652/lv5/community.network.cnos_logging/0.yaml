- name: Manage Logging on Networking Devices
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure Logging
      community.network.cnos_logging:
        aggregate: "{{ aggregate }}"
        dest: "{{ dest }}"
        facility: "{{ facility }}"
        level: "{{ level }}"
        name: "{{ name }}"
        size: "{{ size }}"
        state: "{{ state }}"

- name: Test Case
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Produce random port numbers to test port settings
      set_fact:
        dest: "{{ random(range(1, 65536)) }}"
      ignore_errors: true

    - name: Run Logging Playbook with Random Port Test Case
      include_tasks: logging_playbook.yml