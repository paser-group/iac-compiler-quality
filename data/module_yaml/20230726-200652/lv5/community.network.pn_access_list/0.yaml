---
- name: Test playbook for pn_access_list module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create random port number
      set_fact:
        random_port: "{{ 8000 | random }}"
      
    - name: Create access list
      community.network.pn_access_list:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_scope: "{{ pn_scope }}"
        state: "{{ state }}"
        pn_ports:
          - "{{ random_port }}"
          
      register: access_list

    - name: Debug access list
      debug:
        var: access_list