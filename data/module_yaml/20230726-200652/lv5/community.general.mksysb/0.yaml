---
- name: Generate AIX backup
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate AIX backup
      community.general.mksysb:
        name: "{{ 'backup' }}"
        storage_path: "/tmp/{{ 'backup' }}"
        exclude_files: "{{ random_port }}"
        exclude_wpar_files: "{{ random_port }}"
        create_map_files: "{{ random_port }}"
        extended_attrs: "{{ random_port }}"
        backup_crypt_files: "{{ random_bool }}"
        backup_dmapi_fs: "{{ random_bool }}"
        software_packing: "{{ random_bool }}"
        new_image_data: "{{ random_bool }}"
        use_snapshot: "{{ random_bool }}"
      register: result

    - debug:
        var: result