- name: Configure ServiceEngineGroup
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure SE Group
      community.network.avi_serviceenginegroup:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "{{ se_group_name }}"
        state: "{{ se_group_state }}"
        se_probe_port: "{{ se_probe_port }}"
        {{ additional_config }}

  vars_prompt:
    - name: controller
      prompt: "Enter controller IP:"

    - name: username
      prompt: "Enter controller username:"

    - name: password
      prompt: "Enter controller password:"

    - name: tenant
      prompt: "Enter tenant name:"

    - name: se_group_name
      prompt: "Enter SE Group name:"

    - name: se_group_state
      prompt: "Enter SE Group state (present/absent):"

    - name: se_probe_port
      prompt: "Enter SE probe port:"

    - name: additional_config
      prompt: "Enter additional configuration (as YAML):"
      private: false