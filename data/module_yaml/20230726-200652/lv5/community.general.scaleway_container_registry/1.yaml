- name: Test Scaleway Container Registry module
  hosts: localhost
  gather_facts: false
  
  vars:
    api_token: "YOUR_API_TOKEN"
    project_id: "YOUR_PROJECT_ID"
    region: "YOUR_REGION"
    name: "registry_name"
    description: "registry_description"
    privacy_policy: "public"
    api_url: "https://api.scaleway.com/registry/v1/"
    api_timeout: "{{ [30, 60, 90] | random }}"
    validate_certs: true
    query_parameters:
      param1: value1
      param2: value2
    state: present
    wait: true
    wait_sleep_time: "{{ [5, 10, 15] | random }}"
    wait_timeout: "{{ [120, 180, 240] | random }}"
  
  tasks:
    - name: Create Scaleway Container Registry
      community.general.scaleway_container_registry:
        state: "{{ state }}"
        api_token: "{{ api_token }}"
        project_id: "{{ project_id }}"
        region: "{{ region }}"
        name: "{{ name }}"
        description: "{{ description }}"
        privacy_policy: "{{ privacy_policy }}"
        api_url: "{{ api_url }}"
        api_timeout: "{{ api_timeout }}"
        validate_certs: "{{ validate_certs }}"
        query_parameters: "{{ query_parameters }}"
        wait: "{{ wait }}"
        wait_sleep_time: "{{ wait_sleep_time }}"
        wait_timeout: "{{ wait_timeout }}"
      register: registry_result
    
    - name: Debug registry_result
      debug:
        var: registry_result