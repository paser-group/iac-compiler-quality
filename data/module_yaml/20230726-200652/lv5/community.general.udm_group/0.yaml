---

- name: Test udm_group module
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Create test group
      community.general.udm_group:
        name: "{{ group_name }}"
        ou: "{{ group_ou }}"
        state: present
      register: result
      check_mode: yes

      vars:
        group_name: "TestGroup"
        group_ou: "ou=groups,ou=users,dc=example,dc=com"

    - name: Debug task
      debug:
        var: result