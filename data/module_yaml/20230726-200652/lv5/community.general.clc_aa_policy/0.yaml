---
- name: Test community.general.clc_aa_policy module
  hosts: localhost
  gather_facts: false

  vars:
    location: "{{ ansible_hostname }}"
    name: "test_policy"
    state: "present"

  tasks:
    - name: Create Anti Affinity Policy
      community.general.clc_aa_policy:
        location: "{{ location }}"
        name: "{{ name }}"
        state: "{{ state }}"

    - name: Debug output
      debug:
        var: clc_aa_policy_result