---
- name: Test playbook for community.network.avi_seproperties module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set up SeProperties
      community.network.avi_seproperties:
        controller: "10.1.1.1"
        username: "admin"
        password: "password"
        tenant: "MyTenant"
        api_version: "20.1.5"
        se_agent_properties:
          - name: "se_agent_property1"
            value: "value1"
          - name: "se_agent_property2"
            value: "value2"
        se_bootup_properties:
          - name: "se_bootup_property1"
            value: "value1"
          - name: "se_bootup_property2"
            value: "value2"
        se_runtime_properties:
          - name: "se_runtime_property1"
            value: "value1"
          - name: "se_runtime_property2"
            value: "value2"
      register: result

    - name: Debug result
      debug:
        var: result

  handlers:
    - name: Print random port number
      debug:
        msg: "Random port number: {{ item }}"
      loop: "{{ range(8000, 9000, 100) | random | list }}"
      loop_control:
        loop_var: item