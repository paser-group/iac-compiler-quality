---
- name: Test playbook for latent bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Blockinfile task to expose latent bugs
      ansible.builtin.blockinfile:
        path: /path/to/file
        block: |
          This is a test block
        state: present
      vars:
        port: "{{ 8000 | random }}"
        mode: "{{ 'bad_value' }}"
        validate: "{{ 123 }}"