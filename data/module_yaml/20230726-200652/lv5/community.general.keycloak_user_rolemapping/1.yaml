---
- name: Test keycloak_user_rolemapping module
  hosts: localhost
  gather_facts: false

  vars:
    - random_port: "{{ 10000 | random }}"
    - auth_keycloak_url: "http://localhost:{{ random_port }}/auth"

  tasks:
    - name: Create user role mapping
      community.general.keycloak_user_rolemapping:
        auth_client_id: "string"
        auth_client_secret: "string"
        auth_keycloak_url: "{{ auth_keycloak_url }}"
        auth_password: "string"
        auth_realm: "string"
        auth_username: "string"
        cid: "string"
        client_id: "string"
        connection_timeout: 0
        http_agent: "string"
        realm: "string"
        roles: ['role1', 'role2']
        service_account_user_client_id: "string"
        state: present
        target_username: "string"
        token: "string"
        uid: "string"
        validate_certs: false
      register: result

    - debug:
        var: result