---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    pn_client_server_stats_log_disk_space: []
    pn_client_server_stats_log_enable: 123
    pn_client_server_stats_log_interval: true
    pn_client_server_stats_max_memory: null
    pn_cliswitch: ""
    pn_connection_backup_enable: "yes"
    pn_connection_backup_interval: 123456
    pn_connection_max_memory: "10GB"
    pn_connection_stats_log_disk_space: {}
    pn_connection_stats_log_enable: "no"
    pn_connection_stats_log_interval: []
    pn_connection_stats_max_memory: "NaN"
    pn_enable: "true"
    pn_fabric_connection_backup_enable: "false"
    pn_fabric_connection_backup_interval: "1 day"
    pn_fabric_connection_max_memory: "1TB"
    pn_service_stat_max_memory: "999"
    state: present

  tasks:
    - name: Configure pn_connection_stats_settings
      community.network.pn_connection_stats_settings:
        pn_client_server_stats_log_disk_space: "{{ pn_client_server_stats_log_disk_space }}"
        pn_client_server_stats_log_enable: "{{ pn_client_server_stats_log_enable }}"
        pn_client_server_stats_log_interval: "{{ pn_client_server_stats_log_interval }}"
        pn_client_server_stats_max_memory: "{{ pn_client_server_stats_max_memory }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_connection_backup_enable: "{{ pn_connection_backup_enable }}"
        pn_connection_backup_interval: "{{ pn_connection_backup_interval }}"
        pn_connection_max_memory: "{{ pn_connection_max_memory }}"
        pn_connection_stats_log_disk_space: "{{ pn_connection_stats_log_disk_space }}"
        pn_connection_stats_log_enable: "{{ pn_connection_stats_log_enable }}"
        pn_connection_stats_log_interval: "{{ pn_connection_stats_log_interval }}"
        pn_connection_stats_max_memory: "{{ pn_connection_stats_max_memory }}"
        pn_enable: "{{ pn_enable }}"
        pn_fabric_connection_backup_enable: "{{ pn_fabric_connection_backup_enable }}"
        pn_fabric_connection_backup_interval: "{{ pn_fabric_connection_backup_interval }}"
        pn_fabric_connection_max_memory: "{{ pn_fabric_connection_max_memory }}"
        pn_service_stat_max_memory: "{{ pn_service_stat_max_memory }}"
        state: "{{ state }}"
      register: result

    - name: Print output
      debug:
        var: result