---

- name: Gather service facts
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute shell command
      ansible.builtin.shell:
        cmd: echo "Hello, world!"

- name: Test case - Random port number
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate random port number
      set_fact:
        random_port: "{{ 1024 | random(start=1024, end=65535) }}"

    - name: Debug random port number
      debug:
        msg: "Random port number: {{ random_port }}"