---
- name: Test playbook for 'community.general.hwc_vpc_port'
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC port with random port numbers
      community.general.hwc_vpc_port:
        identity_endpoint: "https://example.com/identity"
        user: "admin"
        password: "password"
        domain: "Default"
        project: "my_project"
        region: "us-east-1"
        name: "my_vpc_port"
        subnet_id: "subnet-12345678"
        admin_state_up: True             # Should be a boolean value
        ip_address: "10.1.1.10"
        security_groups:
          - "sg-abcdef"
        allowed_address_pairs:
          - ip_address: "10.2.2.20"
            mac_address: "00:11:22:33:44:55"
        extra_dhcp_opts:
          - opt_name: "routers"
            opt_value: "10.1.1.1"
        timeouts:
          create: 300
      register: vpc_port_result

    - name: Debug VPC port creation result
      debug:
        var: vpc_port_result