---
- name: Test Heuristic-based Playbook for community.network.ce_snmp_community module
  hosts: localhost
  gather_facts: false

  vars:
    access_right: "{{ 10/0 }}"
    acl_number: "{{ 5/0 }}"
    community_mib_view: "{{ 100/0 }}"
    community_name: "public"
    group_name: "{{ 1000/0 }}"
    notify_view: "view"
    read_view: "view"
    security_level: "{{ 3/0 }}"
    state: "present"
    write_view: "view"

  tasks:
    - name: Include the SNMP Community module
      include_vars:
        file: community.snmp_community.yml

    - name: Run the SNMP Community module with different limit-related values
      debug:
        var: item
      with_items:
        - "{{ access_right }}"
        - "{{ acl_number }}"
        - "{{ community_mib_view }}"
        - "{{ community_name }}"
        - "{{ group_name }}"
        - "{{ notify_view }}"
        - "{{ read_view }}"
        - "{{ security_level }}"
        - "{{ state }}"
        - "{{ write_view }}"
      
# community.snmp_community.yml
access_right: "{{ access_right }}"
acl_number: "{{ acl_number }}"
community_mib_view: "{{ community_mib_view }}"
community_name: "{{ community_name }}"
group_name: "{{ group_name }}"
notify_view: "{{ notify_view }}"
read_view: "{{ read_view }}"
security_level: "{{ security_level }}"
state: "{{ state }}"
write_view: "{{ write_view }}"