---
- name: Trigger type-related bugs in Ansible compiler
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set variables
      set_fact:
        api_host: 10.1.1.1
        api_key: 12345
        app_key: secret
        downtime_message: "Testing downtime"
        end: 1635916800
        id: "test-downtime"
        monitor_id: 56789
        monitor_tags:
          - tag1
          - tag2
        rrule: "FREQ=WEEKLY;INTERVAL=1"
        scope:
          - host: myhost.domain.com
            tags:
              - tag1
              - tag2
        start: 1635830400
        state: present
        timezone: "UTC"

    - name: Trigger potential type-related bug
      community.general.datadog_downtime:
        api_host: "{{ api_host }}"
        api_key: "{{ api_key }}"
        app_key: "{{ app_key }}"
        downtime_message: "{{ downtime_message }}"
        end: "{{ end }}"
        id: "{{ id }}"
        monitor_id: "{{ monitor_id }}"
        monitor_tags: "{{ monitor_tags }}"
        rrule: "{{ rrule }}"
        scope: "{{ scope }}"
        start: "{{ start }}"
        state: "{{ state }}"
        timezone: "{{ timezone }}"