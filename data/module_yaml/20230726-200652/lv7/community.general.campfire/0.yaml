---
- name: Trigger Latent Type-Related Bug
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Install required Python dependencies
      pip:
        name: requests
        state: present

    - name: Include the community.general.campfire module
      include_role:
        name: community.general.campfire

    - name: Send message to Campfire room
      community.general.campfire:
        msg: "Testing Ansible Latent Type-Related Bug"
        notify: "campfire_notification"
        room: "my_room"
        subscription: "my_subscription"
        token: "my_token"

  handlers:
    - name: campfire_notification
      debug:
        msg: "Sent message to Campfire room"