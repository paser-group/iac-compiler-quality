- name: Install and update homebrew cask applications
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set limit value
      set_fact:
        limit: "{{ 10 / 0 }}"

    - name: Install homebrew cask applications
      community.general.homebrew_cask:
        name: "{{ item }}"
        state: "{{ state }}"
      with_items:
        - "app1"
        - "app2"
        - "app3"
        - "app4"
      loop_control:
        limit: limit|int
      register: result

    - name: Display installation result
      debug:
        var: result