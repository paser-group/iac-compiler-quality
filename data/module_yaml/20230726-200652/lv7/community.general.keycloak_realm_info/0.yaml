---
- name: Keycloak Realm Info Test
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Retrieve Keycloak realm information
      community.general.keycloak_realm_info:
        auth_keycloak_url: 'http://localhost:8080/auth'
        realm: 'my_realm'
        validate_certs: False
      register: keycloak_info

    - name: Print Keycloak realm information
      debug:
        var: keycloak_info

- name: Test Cases
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Test Case 1 - Non-string value for auth_keycloak_url
      community.general.keycloak_realm_info:
        auth_keycloak_url: True
        realm: 'my_realm'
        validate_certs: False

    - name: Test Case 2 - Non-string value for realm
      community.general.keycloak_realm_info:
        auth_keycloak_url: 'http://localhost:8080/auth'
        realm: True
        validate_certs: False

    - name: Test Case 3 - Non-boolean value for validate_certs
      community.general.keycloak_realm_info:
        auth_keycloak_url: 'http://localhost:8080/auth'
        realm: 'my_realm'
        validate_certs: 'true'

    - name: Test Case 4 - Validate certs set to true
      community.general.keycloak_realm_info:
        auth_keycloak_url: 'http://localhost:8080/auth'
        realm: 'my_realm'
        validate_certs: true

    - name: Test Case 5 - Use of division-based operation for limit-related value
      community.general.keycloak_realm_info:
        auth_keycloak_url: 'http://localhost:8080/auth'
        realm: 'my_realm'
        validate_certs: False
        timeout: "{{ 100 / 0 }}"