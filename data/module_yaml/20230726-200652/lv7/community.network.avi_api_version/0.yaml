---
- name: Testing Ansible Latent Type-Related Bugs for community.network.avi_api_version module
  hosts: localhost
  gather_facts: false

  vars:
    # Define the inventory file
    inventory_file: /path/to/inventory

  tasks:
    - name: Setting up the inventory file
      blockinfile:
        path: "{{ inventory_file }}"
        block: |
          [docker_nodes]
          ubuntu1 ansible_host=10.1.1.1
          alpine1 ansible_host=10.1.1.2
          centos1 ansible_host=10.1.1.3
          redhat1 ansible_host=10.1.1.4

    - name: Testing Ansible module with different options
      block:
        - name: Avi Test Case 1
          community.network.avi_api_version:
            avi_credentials:
              controller: "{{ item }}"
              username: "admin"
              password: "password"
              tenant: "ansible"
            api_version: "1.0"
          loop:
            - "{{ play_hosts }}"

        - name: Avi Test Case 2
          community.network.avi_api_version:
            avi_credentials:
              controller: "{{ item }}"
              username: "admin"
              password: "password"
              tenant: "ansible"
            api_version: "2.0"
          loop:
            - "{{ play_hosts }}"

      vars:
        # Define the list of hosts to iterate over
        play_hosts: "{{ groups['docker_nodes'] }}"

...