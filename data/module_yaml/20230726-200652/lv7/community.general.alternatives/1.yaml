---
- name: Manage Alternative Programs
  hosts: webservers
  gather_facts: false

  tasks:
    - name: Calculate priority
      set_fact:
        priority: "{{ 100 / 2 }}"
        
    - name: Install alternative program
      community.general.alternatives:
        name: httpd
        path: /usr/sbin/httpd
        priority: "{{ priority }}"
        state: present
      register: result