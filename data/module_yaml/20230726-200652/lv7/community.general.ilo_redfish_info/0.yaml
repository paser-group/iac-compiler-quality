---
- name: Gather server information through iLO Redfish
  hosts: localhost
  gather_facts: false

  vars:
    auth_token: "your_auth_token"
    baseuri: "https://ilo.example.com"
    username: "your_username"
    password: "your_password"
    timeout: 10

  tasks:
    - name: Include community.general.ilo_redfish_info playbook
      include_role:
        name: community.general.ilo_redfish_info

      vars:
        ilo_redfish_info_auth_token: "{{ auth_token }}"
        ilo_redfish_info_baseuri: "{{ baseuri }}"
        ilo_redfish_info_category: "{{ ['Manager', 'EthernetInterfaces'] }}"
        ilo_redfish_info_command: "{{ ['GET', 'GET'] }}"
        ilo_redfish_info_password: "{{ password }}"
        ilo_redfish_info_timeout: "{{ timeout }}"
        ilo_redfish_info_username: "{{ username }}"

    - name: Debug iLO Redfish info
      debug:
        var: ilo_redfish_info_result