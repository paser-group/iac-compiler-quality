---
- name: Test playbook for community.network.avi_analyticsprofile module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set AnalyticsProfile attributes
      community.network.avi_analyticsprofile:
        controller: "192.168.1.1"
        username: "admin"
        password: "password"
        api_version: "20.1.1"
        name: "analyticsprofile_1"
        description: "Test analytics profile"
        enable_advanced_analytics: true
        apdex_response_threshold: None
        apdex_response_tolerated_factor: None
        apdex_rtt_threshold: None
        apdex_rtt_tolerated_factor: None
        apdex_rum_threshold: None
        apdex_rum_tolerated_factor: None
        apdex_server_response_threshold: None
        apdex_server_response_tolerated_factor: None
        apdex_server_rtt_threshold: None
        apdex_server_rtt_tolerated_factor: None
        disable_ondemand_metrics: false
        disable_se_analytics: false
        disable_server_analytics: false
        disable_vs_analytics: false
        hs_max_anomaly_penalty: 100 / 2   # Division-based operation for limit-related value
        hs_max_resources_penalty: 200 / 4  # Division-based operation for limit-related value
        hs_max_security_penalty: 150
        hs_performance_boost: true
        state: present

      register: result

    - name: Display result
      debug:
        var: result