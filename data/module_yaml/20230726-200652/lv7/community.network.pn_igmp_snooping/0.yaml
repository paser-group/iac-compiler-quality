- name: Test the community.network.pn_igmp_snooping module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Enable IGMP snooping on VLANs
      community.network.pn_igmp_snooping:
        pn_cliswitch: "switch1"
        pn_enable: True
        pn_enable_vlans: "1-10"
        pn_igmpv2_vlans: "1-10"
        pn_igmpv3_vlans: "3,8,10"
        pn_no_snoop_linklocal_vlans: "5,7"
        pn_query_interval: 120
        pn_query_max_response_time: 20
        pn_snoop_linklocal_vlans: "2,4,6,9"
        pn_vxlan: False
        state: present