---
- name: Test urpmi module with different options
  hosts: localhost
  gather_facts: false

  vars:
    packages_to_install:
      - package1
      - package2
      - package3

  tasks:
    - name: Install packages using urpmi module
      community.general.urpmi:
        name: "{{ packages_to_install }}"
        force: "true"
        no_recommends: 1
        state: "installed"
        update_cache: 1
        root: /tmp
      register: urpmi_output

    - name: Debug urpmi module output
      debug:
        var: urpmi_output