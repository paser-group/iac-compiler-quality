---
- name: Execute Groovy script using community.general.jenkins_script module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute Groovy script
      community.general.jenkins_script:
        password: "{{ jenkins_password }}"
        script: "{{ groovy_script }}"
        timeout: 60
        url: "{{ jenkins_url }}"
        user: "{{ jenkins_user }}"
        validate_certs: false
      register: result

    - name: Print the result
      debug:
        var: result

- name: Test division-based operations when assigning limit-related values
  hosts: localhost
  gather_facts: false

  vars:
    - limit: "{{ 10/2 }}"

  tasks:
    - name: Print the value of limit
      debug:
        var: limit