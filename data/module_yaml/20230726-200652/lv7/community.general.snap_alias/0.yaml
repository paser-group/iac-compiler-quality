---
- name: Test playbook for snap_alias module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create snap alias
      community.general.snap_alias:
        alias: "{{ item.alias }}"
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      with_items:
        - alias: "test_alias"
          name: "test_snap"
          state: "present"

    - name: Debug output
      debug:
        var: ansible_facts['community_general_snap_alias']