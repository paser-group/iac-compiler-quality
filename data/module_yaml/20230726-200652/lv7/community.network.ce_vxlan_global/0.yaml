---
- name: Test playbook for community.network.ce_vxlan_global module
  hosts: localhost
  gather_facts: false
  vars:
    bridge_domain_id: "{{ 10 / 3 }}"  # Implement division-based operation for limit-related value
    nvo3_acl_extend: "{{ 10 / 0 }}"  # Trigger division by zero error
    nvo3_ecmp_hash: "{{ '1' }}"      # Pass a non-integer value (string) instead of an integer
    nvo3_eth_trunk_hash: "{{ [] }}"  # Pass a list instead of an integer
    nvo3_gw_enhanced: "{{ 'true' }}" # Pass a non-boolean value (string) instead of a boolean
    nvo3_prevent_loops: "{{ 1 }}"    # Pass an integer instead of a boolean
    nvo3_service_extend: "{{ 'false' }}"  # Pass a non-boolean value (string) instead of a boolean
    state: "{{ 'enabled' }}"         # Pass an invalid value for state option
    tunnel_mode_vxlan: "{{ 'false' }}"    # Pass a non-boolean value (string) instead of a boolean
  tasks:
    - name: Manage global attributes of VXLAN and bridge domain on HUAWEI CloudEngine device
      community.network.ce_vxlan_global:
        bridge_domain_id: "{{ bridge_domain_id }}"
        nvo3_acl_extend: "{{ nvo3_acl_extend }}"
        nvo3_ecmp_hash: "{{ nvo3_ecmp_hash }}"
        nvo3_eth_trunk_hash: "{{ nvo3_eth_trunk_hash }}"
        nvo3_gw_enhanced: "{{ nvo3_gw_enhanced }}"
        nvo3_prevent_loops: "{{ nvo3_prevent_loops }}"
        nvo3_service_extend: "{{ nvo3_service_extend }}"
        state: "{{ state }}"
        tunnel_mode_vxlan: "{{ tunnel_mode_vxlan }}"