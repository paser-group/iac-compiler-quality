---
- name: Manage ARP attributes of VXLAN on HUAWEI devices
  hosts: huawei_devices
  gather_facts: false

  tasks:
    - name: Set vxlan attributes
      community.network.ce_vxlan_arp:
        arp_collect_host: "{{ None }}"
        arp_suppress: "{{ None }}"
        bridge_domain_id: "{{ None }}"
        evn_bgp: "{{ None }}"
        evn_peer_ip: "{{ None }}"
        evn_reflect_client: "{{ None }}"
        evn_server: "{{ None }}"
        evn_source_ip: "{{ None }}"
        host_collect_protocol: "{{ None }}"
        state: "{{ None }}"
        vbdif_name: "{{ None }}"
      loop:
        - { arp_collect_host: 10 / 2, arp_suppress: 20 / 4 }
        - { arp_collect_host: 8 / 0, arp_suppress: 15 / 3 }

      register: result

    - name: Debug output
      debug:
        var: result