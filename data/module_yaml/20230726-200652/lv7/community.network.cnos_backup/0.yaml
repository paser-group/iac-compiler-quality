- name: CNOS Backup Test
  hosts: localhost
  gather_facts: false
  vars:
    configType: null
    deviceType: 123  # Intentionally set to an incompatible data type
    enablePassword: "myenablepassword"
    outputfile: "backup.cfg"
    password: "mypassword"
    protocol: null
    rcpath: null
    rcserverip: null
    serverpassword: null
    serverusername: null
    username: "myusername"

  tasks:
    - name: CNOS Backup
      community.network.cnos_backup:
        configType: "{{ configType }}"
        deviceType: "{{ deviceType }}"
        enablePassword: "{{ enablePassword }}"
        host: "{{ inventory_hostname }}"
        outputfile: "{{ outputfile }}"
        password: "{{ password }}"
        protocol: "{{ protocol }}"
        rcpath: "{{ rcpath }}"
        rcserverip: "{{ rcserverip }}"
        serverpassword: "{{ serverpassword }}"
        serverusername: "{{ serverusername }}"
        username: "{{ username }}"
        state: backup
      register: result

    - debug:
        var: result