---
- name: Test playbook for 'community.general.vexata_volume' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a Vexata volume
      community.general.vexata_volume:
        array: "{{ array }}"
        name: "{{ volume_name }}"
        password: "{{ volume_password }}"
        size: "{{ volume_size }}"
        state: "{{ volume_state }}"
        user: "{{ volume_user }}"
        validate_certs: "{{ validate_certs | default(true) }}"

      vars:
        array: "example_array"
        volume_name: "example_volume"
        volume_password: "example_password"
        volume_size: "10"
        volume_state: "present"
        volume_user: "example_user"

  vars:
    validate_certs: false