- name: Manage VLANs on Extreme Networks SLX-OS
  hosts: network_switches
  gather_facts: False
  tasks:
    - name: Create VLAN
      community.network.slxos_vlan:
        name: "{{ inventory_hostname }}_vlan"
        vlan_id: "{{ vlan_id | default(10) / 2 }}"
        interfaces: "{{ interface | default('eth1') }}"
        purge: True
        state: present
      register: result