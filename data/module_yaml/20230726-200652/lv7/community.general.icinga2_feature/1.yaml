- name: Create Icinga2 feature
  hosts: localhost
  gather_facts: false
  vars:
    my_feature_state: "{{ (my_limit / 2) | int }}"
  tasks:
    - name: Install Icinga2 feature module
      ansible.builtin.pip:
        name: community.general

    - name: Create Icinga2 feature
      community.general.icinga2_feature:
        name: my_feature
        state: "{{ my_feature_state }}"