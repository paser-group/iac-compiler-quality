---
- name: Test playbook for 'community.general.pritunl_org_info' module
  hosts: localhost
  gather_facts: false

  vars:
    organization: "my_organization"
    pritunl_api_secret: "<API_SECRET>"
    pritunl_api_token: "<API_TOKEN>"
    pritunl_url: "https://my-pritunl-server.com"
    validate_certs: false

  tasks:
    - name: Test with valid organization
      community.general.pritunl_org_info:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        validate_certs: "{{ validate_certs }}"
      register: result
      ignore_errors: yes

    - name: Debug result
      debug:
        var: result

    - name: Test with invalid organization
      community.general.pritunl_org_info:
        organization: 123  # Provide an integer instead of a string
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        validate_certs: "{{ validate_certs }}"
      register: result
      ignore_errors: yes

    - name: Debug result
      debug:
        var: result