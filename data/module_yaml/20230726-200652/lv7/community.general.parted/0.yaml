---
- name: Configure block device partitions
  hosts: localhost
  become: true
  gather_facts: false

  tasks:
    - name: Create partition
      community.general.parted:
        device: "{{ device }}"
        number: "{{ number }}"
        unit: "{{ unit }}"
        align: "{{ align }}"
        part_type: "{{ part_type }}"
        part_start: "{{ part_start }}"
        part_end: "{{ part_end }}"
        resize: "{{ resize }}"
        flags: "{{ flags }}"
        state: "{{ state }}"
        fs_type: "{{ fs_type }}"
        label: "{{ label }}"
        name: "{{ name }}"
      register: result

    - debug:
        var: result