---
- name: Test playbook for Ansible latent type-related bug exploration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a subnet network with a gateway
      docker_network:
        name: node-net
        subnet: 10.1.1.0/24
        gateway: 10.1.1.254

    - name: Create Docker containers
      docker_container:
        name: "{{ item.name }}"
        image: "{{ item.image }}"
        state: present
        network_mode: node-net
        ip_address: "{{ item.ip_address }}"
      loop:
        - { name: ubuntu1, image: ubuntu:latest, ip_address: 10.1.1.1 }
        - { name: alpine1, image: alpine:latest, ip_address: 10.1.1.2 }
        - { name: centos1, image: centos:latest, ip_address: 10.1.1.3 }
        - { name: redhat1, image: centos:latest, ip_address: 10.1.1.4 }

    # Add more tasks to test specific scenarios and identify type-related bugs