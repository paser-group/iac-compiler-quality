---
- name: Test playbook to expose latent type-related bugs
  hosts: localhost
  gather_facts: False
  vars:
    alicloud_access_key: "YOUR_ACCESS_KEY"
    alicloud_secret_key: "YOUR_SECRET_KEY"
    alicloud_region: "YOUR_REGION"

  tasks:
    - name: Create Instance
      community.general.ali_instance:
        alicloud_access_key: "{{ alicloud_access_key }}"
        alicloud_secret_key: "{{ alicloud_secret_key }}"
        alicloud_region: "{{ alicloud_region }}"
        instance_params:
          image_id: 123456789
          instance_type: "t2.micro"
          count: "3"  # Potential latent type-related bug
      register: result

    - name: Debug
      debug:
        var: result