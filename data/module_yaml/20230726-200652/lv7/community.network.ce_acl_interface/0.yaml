---
- name: Apply ACLs to interfaces on HUAWEI devices
  hosts: localhost
  gather_facts: false
  vars:
    acl_name: None
    direction: None
    interface: None
    state: None

  tasks:
    - name: Include the community.network.ce_acl_interface module
      include_role:
        name: community.network.ce_acl_interface
      vars:
        acl_name: "{{ acl_name }}"
        direction: "{{ direction }}"
        interface: "{{ interface }}"
        state: "{{ state }}"

    - name: Test case to trigger type-related bug
      vars:
        acl_name: "test_acl"
        direction: "egress"
        interface: "FastEthernet0/1"
        state: "present"
      debug:
        msg: "{{ acl_name }} {{ direction }} {{ interface }} {{ state }}"

    - name: Another test case to trigger type-related bug
      vars:
        acl_name: "test_acl"
        direction: "ingress"
        interface: "TenGigabitEthernet1/1"
        state: "absent"
      debug:
        msg: "{{ acl_name }} {{ direction }} {{ interface }} {{ state }}"