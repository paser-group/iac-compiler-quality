---
- name: Test playbook for 'community.general.wdc_redfish_command' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test 1 - Division-based operation when assigning limit-related value
      community.general.wdc_redfish_command:
        auth_token: "dummy_token"
        baseuri: "https://example.com"
        category: "controller"
        command: ["get"]
        username: "admin"
        password: "admin"
        resource_id: "controller-1"
        timeout: "{{ 60/2 }}"
      register: result_test1
      ignore_errors: true

    - name: Display Test 1 result
      debug:
        var: result_test1

    - name: Test 2 - Normal operation
      community.general.wdc_redfish_command:
        auth_token: "dummy_token"
        baseuri: "https://example.com"
        category: "controller"
        command: ["get"]
        username: "admin"
        password: "admin"
        resource_id: "controller-1"
        timeout: 30
      register: result_test2
      ignore_errors: true

    - name: Display Test 2 result
      debug:
        var: result_test2