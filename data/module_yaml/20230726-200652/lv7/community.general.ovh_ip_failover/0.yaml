---
- name: Test playbook for 'community.general.ovh_ip_failover' module
  hosts: localhost
  gather_facts: false

  vars:
    # Variables for OVH IP failover configuration
    application_key: "YOUR_APPLICATION_KEY"
    application_secret: "YOUR_APPLICATION_SECRET"
    consumer_key: "YOUR_CONSUMER_KEY"
    endpoint: "YOUR_ENDPOINT"
    name: "YOUR_NAME"
    service: "YOUR_SERVICE"
    timeout: 60
    wait_completion: false
    wait_task_completion: 10

  tasks:
    - name: Test 'community.general.ovh_ip_failover' module
      community.general.ovh_ip_failover:
        application_key: "{{ application_key }}"
        application_secret: "{{ application_secret }}"
        consumer_key: "{{ consumer_key }}"
        endpoint: "{{ endpoint }}"
        name: "{{ name }}"
        service: "{{ service }}"
        timeout: "{{ timeout }}"
        wait_completion: "{{ wait_completion }}"
        wait_task_completion: "{{ wait_task_completion }}"
      register: ip_failover_result

    - name: Display OVH IP failover result
      debug:
        var: ip_failover_result