---
- name: Test playbook for community.network.avi_applicationpersistenceprofile module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create ApplicationPersistenceProfile
      community.network.avi_applicationpersistenceprofile:
        controller: "{{ controller }}"
        name: "{{ persistence_profile_name }}"
        tenant: "{{ tenant }}"
        username: "{{ username }}"
        password: "{{ password }}"
        state: present
        app_cookie_persistence_profile: "{{ app_cookie_persistence_profile }}"
        http_cookie_persistence_profile: "{{ http_cookie_persistence_profile }}"
        hdr_persistence_profile: "{{ hdr_persistence_profile }}"
        ip_persistence_profile: "{{ ip_persistence_profile }}"
        description: "{{ description }}"
        api_version: "{{ api_version }}"
        avi_credentials: "{{ avi_credentials }}"
        api_context: "{{ api_context }}"
        avi_api_update_method: "{{ avi_api_update_method }}"
        avi_api_patch_op: "{{ avi_api_patch_op }}"
        tenant_ref: "{{ tenant_ref }}"
        tenant_uuid: "{{ tenant_uuid }}"
        url: "{{ url }}"
        uuid: "{{ uuid }}"
        is_federated: "{{ is_federated }}"
        avi_disable_session_cache_as_fact: "{{ avi_disable_session_cache_as_fact }}"
        server_hm_down_recovery: "{{ server_hm_down_recovery }}"
          
      vars:
        controller: "https://{{ ansible_net_ip }}"
        tenant: "admin"
        username: "admin"
        password: "password"
        persistence_profile_name: "test-profile"
        app_cookie_persistence_profile: null
        http_cookie_persistence_profile: null
        hdr_persistence_profile: null
        ip_persistence_profile: null
        description: null
        api_version: null
        avi_credentials: null
        api_context: null
        avi_api_update_method: null
        avi_api_patch_op: null
        tenant_ref: null
        tenant_uuid: null
        url: null
        uuid: null
        is_federated: null
        avi_disable_session_cache_as_fact: null
        server_hm_down_recovery: null