---
- hosts: localhost
  gather_facts: False
  tasks:

    - name: Test playbook for latent type-related bugs
      debug:
        msg: "Executing playbook to uncover latent type-related bugs"

    - name: Set invalid type for variable
      set_fact:
        validate_certs: 'true'

    - name: Manage sub CA
      community.general.ipa_subca:
        ipa_host: "{{ ipa_host }}"
        ipa_user: "{{ ipa_user }}"
        ipa_pass: "{{ ipa_pass }}"
        ipa_port: "{{ ipa_port }}"
        ipa_prot: "{{ ipa_prot }}"
        ipa_timeout: "{{ ipa_timeout }}"
        state: "{{ state }}"
        subca_name: "{{ subca_name }}"
        subca_subject: "{{ subca_subject }}"
        subca_desc: "{{ subca_desc }}"
        validate_certs: "{{ validate_certs }}"

    - name: Trigger type-related bug
      debug:
        msg: "Triggering type-related bug: ipa_timeout / 0"
      vars:
        result: "{{ ipa_timeout / 0 }}"