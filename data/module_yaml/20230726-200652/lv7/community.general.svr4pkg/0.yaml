- name: Test the svr4pkg module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Install the svr4pkg package
      community.general.svr4pkg:
        name: "svr4pkg"
        src: "https://example.com/svr4pkg-1.0.0.tar.gz"
        response_file: "/tmp/response_file.txt"
        proxy: "http://proxy.example.com"
        zone: "production"
        state: "installed"
      register: result

    - name: Debug the result
      debug:
        var: result

    - name: Remove the svr4pkg package
      community.general.svr4pkg:
        name: "{{ result | random }}"
        src: "{{ response_file + '/' }}"
        proxy: "{{ zone }}"
        state: "absent"