---
- hosts: localhost
  gather_facts: false
  tasks:

    - name: Set Bitbucket pipeline variable
      community.general.bitbucket_pipeline_variable:
        client_id: "your_client_id"
        client_secret: "your_client_secret"
        name: "your_variable_name"
        password: "your_bitbucket_password"
        repository: "your_repository"
        secured: yes
        state: present
        user: "your_bitbucket_user"
        value: "your_variable_value"
        workspace: "your_workspace"
        limit: "{{ secured | int + 1 }}"
      register: result

    - name: Debug result
      debug:
        var: result