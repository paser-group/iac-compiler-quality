---
- name: Test Icinga2 Host Module for Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create Icinga2 host
      community.general.icinga2_host:
        name: testhost
        display_name: Test Host
        ip: 10.1.1.1
        zone: testzone
        state: present
        template: "generic-host"
        check_command: "ping"
        client_cert: "/path/to/client_cert.pem"
        client_key: "/path/to/client_key.pem"
        force: false
        force_basic_auth: true
        http_agent: "icinga2"
        url: "https://example.com"
        url_username: "username"
        url_password: "password"
        use_gssapi: false
        use_proxy: true
        validate_certs: true
        variables:
          var1: value1
          var2: value2

    - name: Debug Icinga2 host
      debug:
        var: ansible_icinga2_host