- name: Example Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Set stats
      ansible.builtin.set_stats:
        aggregate: true
        data:
          total_tasks: "{{ ansible_play_count }}"
          os_distribution: "{% if inventory_hostname == 'ubuntu1' %}Ubuntu{% endif %}{% if inventory_hostname == 'alpine1' %}Alpine{% endif %}{% if inventory_hostname == 'centos1' %}CentOS{% endif %}{% if inventory_hostname == 'redhat1' %}Red Hat{% endif %}"
        per_host: true

    # Additional tasks and test cases go here