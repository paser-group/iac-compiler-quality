---
- name: Test playbook for community.network.avi_sslprofile module
  hosts: localhost
  gather_facts: false

  vars:
    # Define the SSL profile properties for testing
    ssl_profile_properties:
      name: "Test SSL Profile"
      tenant: "Default"
      username: "admin"
      password: "password"
      controller: "https://localhost"
      tenant_ref: "/api/tenant?name=Default"

  tasks:
    - name: Create SSL profile
      community.network.avi_sslprofile:
        api_context: "{{ ssl_profile_properties }}"
        state: present

    - name: Update SSL profile
      community.network.avi_sslprofile:
        api_context: "{{ ssl_profile_properties }}"
        state: present
        prefer_client_cipher_ordering: True

    - name: Delete SSL profile
      community.network.avi_sslprofile:
        api_context: "{{ ssl_profile_properties }}"
        state: absent