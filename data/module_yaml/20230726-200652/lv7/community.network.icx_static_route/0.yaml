- name: Manage static IP routes
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create static route
      community.network.icx_static_route:
        prefix: 10.1.1.0/24
        mask: 255.255.255.0
        next_hop: "{{ ansible_default_ipv4.address }}"
        admin_distance: "1"
        aggregate:
          - 10.2.2.0/24
          - 10.3.3.0/24
        check_running_config: True
        purge: True
        state: present