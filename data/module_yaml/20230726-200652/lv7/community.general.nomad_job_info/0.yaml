---
- name: Test playbook for latent type-related bug exploration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set timeout value with division-based operation
      set_fact:
        timeout_division: "{{ 10 / '0' }}"  # Potential latent type-related bug

    - name: Nomad job info
      community.general.nomad_job_info:
        host: "https://{{ host_var }}"
        name: "test_job"
        namespace: "test_namespace"
        timeout: "{{ timeout_division }}"
        token: "test_token"
        use_ssl: true
        validate_certs: true
        client_cert: "/path/to/client.crt"
        client_key: "/path/to/client.key"
      register: nomad_job_info_result

    - name: Print Nomad job info result
      debug:
        var: nomad_job_info_result