---
- name: Test playbook for exposing latent type-related bugs
  hosts: switches
  gather_facts: false

  vars:
    deviceType: switch
    username: admin
    password: password123
    enablePassword: enable123
    host: "{{ inventory_hostname }}"
    commandfile: null
    outputfile: "output.txt"

  tasks:
    - name: Include cnos_template role
      include_role:
        name: community.network.cnos_template

    - name: Test case: Implement division-based operations
      community.network.cnos_template:
        devicetype: "{{ deviceType | int / 0 }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enable_password: "{{ enablePassword }}"
        host: "{{ host }}"
        commandfile: "{{ commandfile }}"
        outputfile: "{{ outputfile }}"
      register: result

    - name: Print result
      debug:
        var: result