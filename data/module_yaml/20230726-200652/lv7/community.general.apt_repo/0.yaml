---
- name: Test playbook for 'community.general.apt_repo' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add APT repository
      community.general.apt_repo:
        repo: "{{ item }}"
        state: present
        remove_others: true
        update: true
      loop:
        - deb http://archive.ubuntu.com/ubuntu/ focal main restricted
        - deb http://archive.ubuntu.com/ubuntu/ focal-updates main restricted