- name: Test playbook for community.general.hwc_vpc_security_group module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create VPC Security Group
      community.general.hwc_vpc_security_group:
        domain: "{{ domain | default('my_domain') }}"                 # domain (str)
        enterprise_project_id: "{{ enterprise_project_id | default('') }}" # enterprise_project_id (str)
        id: "{{ id | default('') }}"                                 # id (str)
        identity_endpoint: "{{ identity_endpoint | default('') }}"   # identity_endpoint (str)
        name: "{{ name | default('my_security_group') }}"            # name (str)
        password: "{{ password | default('my_password') }}"          # password (str)
        project: "{{ project | default('my_project') }}"             # project (str)
        region: "{{ region | default('my_region') }}"                # region (str)
        state: "{{ state | default('present') }}"                    # state (str)
        user: "{{ user | default('my_user') }}"                      # user (str)
        vpc_id: "{{ vpc_id | default('my_vpc_id') }}"                # vpc_id (str)
      register: security_group

    - name: Debug security group resource
      debug:
        var: security_group

    - name: Trigger type-related bug
      command: "{{ security_group.vpc_id | default(0) / 0 }}"        # Trigger division by zero bug

    - name: Verify security group creation
      command: echo "Security group '{{ security_group.name }}' created!"  # Trigger type conflict bug