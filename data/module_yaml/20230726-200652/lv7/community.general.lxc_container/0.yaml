---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create LXC container
      community.general.lxc_container:
        name: "{{ container_name }}"
        state: started
        fs_size: "{{ fs_size + 'GB' }}"
        template: "{{ template }}"
        template_options: "{{ template_options + ' --compression=' + archive_compression|int }}"
        config: "/etc/lxc/{{ container_name }}/config"
      register: container_creation_result

    - name: Debug container creation
      debug:
        var: container_creation_result