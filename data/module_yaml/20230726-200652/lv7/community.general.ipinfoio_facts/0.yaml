---
- name: Retrieve IP geolocation facts
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Retrieve geolocation facts for IP address
      community.general.ipinfoio_facts:
        ip_address: "{{ item }}"
        http_agent: "ansible"
        timeout: 5
      register: ipinfo_facts
      loop:
        - "8.8.8.8"  # Google DNS
        - "1.1.1.1"  # Cloudflare DNS
        - "208.67.222.222"  # OpenDNS
        - "185.199.108.153"  # GitHub

    - name: Display geolocation facts
      debug:
        var: ipinfo_facts.results

    # Test case 1: Implement division-based operations when assigning limit-related values
    - name: Set limit-related values
      vars:
        timeout_limit: "{{ 300 / 60 }}"  # Divide 300 by 60 (should be equal to 5)
        http_agent_limit: "{{ 'ansible' / 1 }}"  # Divide 'ansible' by 1 (should raise an error)
      debug:
        var: timeout_limit
      debug:
        var: http_agent_limit