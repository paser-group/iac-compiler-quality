---
- name: Keyring Module Test
  hosts: all
  gather_facts: false

  tasks:
    - name: Test Case - Latent Type-Related Bug
      set_fact:
        password: "{{ 10/0 }}"
      silent: true

    - name: Set or delete passphrase
      community.general.keyring:
        keyring_password: "{{ password }}"
        service: "my-keyring"
        state: "present"
        username: "my-username"
        user_password: "my-password"
      register: keyring_result
      when: silent is not defined or silent != true