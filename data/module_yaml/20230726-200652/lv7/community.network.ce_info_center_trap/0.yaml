---
- name: Manage information center trap configuration
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure information center trap
      community.network.ce_info_center_trap:
        channel_id: "{{ channel_id | int }}"
        module_name: "{{ module_name }}"
        state: "{{ state }}"
        trap_buff_enable: "{{ trap_buff_enable }}"
        trap_buff_size: "{{ trap_buff_size }}"
        trap_enable: "{{ trap_enable }}"
        trap_level: "{{ trap_level }}"
        trap_time_stamp: "{{ trap_time_stamp }}"
      register: result

    - name: Debug result
      debug:
        var: result

- name: Execute Test Case
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test case - Division-based operation for trap_buff_size
      vars:
        channel_id: "1"
        module_name: "ce_syslog_server"
        state: "present"
        trap_buff_enable: "null"
        trap_buff_size: "{{ 100 / 0 }}"
        trap_enable: "true"
        trap_level: "critical"
        trap_time_stamp: "enable"
      include_tasks: test_case.yml