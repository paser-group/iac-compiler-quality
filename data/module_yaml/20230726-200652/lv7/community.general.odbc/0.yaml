- name: Test ODBC Module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include ODBC role
      include_role:
        name: odbc

    - name: Test odbc_dsn
      community.general.odbc_dsn:
        dsn: 123
        state: "present"

    - name: Test odbc_query
      community.general.odbc_query:
        dsn: "test_dsn"
        query: 123
      register: query_result

    - name: Debug query result
      debug:
        var: query_result