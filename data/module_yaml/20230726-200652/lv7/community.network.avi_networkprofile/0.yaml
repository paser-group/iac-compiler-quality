- name: Configure Avi network profile
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create network profile
      community.network.avi_networkprofile:
        controller: "https://{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "Test Network Profile"
        profile:
          arp:
            gratuitous_arp_interval: 60
          igmp:
            max_response_time: 1
            unsolicited_report_interval: 10
          lldp:
            system_name: "ansible-node"
      register: network_profile_result

    - name: Check for type-related bugs
      debug:
        var: network_profile_result