---
- name: Create Ansible groups based on parent groups
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create parent groups
      ansible.builtin.group:
        name: "{{ item }}"
      loop:
        - ubuntu
        - alpine
        - centos
        - redhat

    - name: Create child groups
      ansible.builtin.group:
        name: "{{ item.key }}"
        parent: "{{ item.value }}"
      loop:
        - { key: docker, value: ubuntu }
        - { key: docker, value: alpine }
        - { key: docker, value: centos }
        - { key: docker, value: redhat }

    - name: Print groups
      ansible.builtin.debug:
        var: groups

    - name: Assign limit-related value using division operation
      vars:
        ubuntu_group_length: "{{ groups['ubuntu'] | length }}"
        limit_value: "{{ ubuntu_group_length / 0 }}"
      ansible.builtin.debug:
        var: limit_value