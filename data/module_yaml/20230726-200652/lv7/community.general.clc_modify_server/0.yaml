---
- hosts: localhost
  gather_facts: false

  vars:
    alert_policy_id: "12345"
    alert_policy_name: "my_alert_policy"
    anti_affinity_policy_id: "67890"
    anti_affinity_policy_name: "my_anti_affinity_policy"
    cpu: 2
    memory: "4GB"
    server_ids:
      - "server1"
      - "server2"
      - "server3"
    state: "present"
    wait: true

  tasks:
    - name: Modify servers
      community.general.clc_modify_server:
        alert_policy_id: "{{ alert_policy_id }}"
        alert_policy_name: "{{ alert_policy_name }}"
        anti_affinity_policy_id: "{{ alert_policy_id }}"  # Invalid variable reference
        anti_affinity_policy_name: "{{ anti_affinity_policy_name }}"
        cpu: "{{ cpu }}"
        memory: "{{ memory }}"
        server_ids: "{{ server_ids }}"
        state: "{{ state }}"
        wait: "{{ wait }}"
      register: result

    - name: Debug result
      debug:
        var: result