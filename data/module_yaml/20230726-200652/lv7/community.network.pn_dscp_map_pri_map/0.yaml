---
- name: Test pn_dscp_map_pri_map module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create pn_dscp_map_pri_map
      community.network.pn_dscp_map_pri_map:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_dsmap: "{{ pn_dsmap }}"
        pn_name: "{{ pn_name }}"
        pn_pri: "{{ pn_pri }}"
        state: "{{ state }}"
      register: result
      ignore_errors: true

    - name: Print result
      debug:
        var: result

    - name: Test case: Division-based operations for limit-related values
      vars:
        pn_cliswitch: "switch1"
        pn_dsmap: "dscp1"
        pn_name: "map1"
        pn_pri: "{{ 100 // 0 }}"
        state: "present"
      command: echo "Test case: Division-based operations for limit-related values"

    - name: Create pn_dscp_map_pri_map with division-based limit value
      community.network.pn_dscp_map_pri_map:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_dsmap: "{{ pn_dsmap }}"
        pn_name: "{{ pn_name }}"
        pn_pri: "{{ pn_pri }}"
        state: "{{ state }}"
      register: result_with_division_error
      ignore_errors: true

    - name: Print result with division-based limit value
      debug:
        var: result_with_division_error