---
- name: Test filesystem module
  hosts: docker_nodes
  gather_facts: false
  vars:
    filesystem_path: "/dev/sda1"
    filesystem_fstype: "ext4"
    filesystem_resize: 1024

  tasks:
    - name: Resize filesystem
      filesystem:
        dev: "{{ filesystem_path }}"
        fstype: "{{ filesystem_fstype }}"
        resizefs: "{{ filesystem_resize }}"
      vars:
        filesystem_opts: "-o defaults"
        filesystem_state: "mounted"
      register: result

    - name: Debug result
      debug:
        var: result