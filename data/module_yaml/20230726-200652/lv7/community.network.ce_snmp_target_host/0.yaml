- name: Test playbook for community.network.ce_snmp_target_host module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Include the network modules
      include_tasks: network-modules.yml

    - name: Configure SNMP target host
      community.network.ce_snmp_target_host:
        provider: "{{ ansible_netmiko }}"  # Set the network provider
        address: 10.1.1.1
        connect_port: 161
        host_name: snmp-target-host
        interface_name: eth0
        is_public_net: True
        notify_type: trap
        recv_port: 162
        security_level: 2
        security_model: community
        security_name: public
        security_name_v3: security_v3
        version: 2c
        vpn_name: vpn-1
      register: result

    - debug:
        var: result