---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  connection: local
  gather_facts: false
  
  tasks:
    - name: Retrieve resource tags information from ManageIQ
      community.general.manageiq_tags_info:
        manageiq_connection:
          url: "https://manageiq.example.com/"
          username: "admin"
          password: "password"
        resource_id: 12345
        resource_name: "example_resource"
        resource_type: "sample_type"
      register: tags_info_result
      
    - name: Print resource tags information
      debug:
        var: tags_info_result

    # Test case to trigger latent type bug in manageiq_tags_info module
    - name: Validate incorrect resource_id type
      community.general.manageiq_tags_info:
        manageiq_connection:
          url: "https://manageiq.example.com/"
          username: "admin"
          password: "password"
        resource_id: "invalid_resource_id"
        resource_name: "example_resource"
        resource_type: "sample_type"
      register: invalid_resource_id_result
      failed_when: false
  
    - name: Print invalid resource_id result
      debug:
        var: invalid_resource_id_result
  
    # Test case to trigger latent type bug in manageiq_tags_info module
    - name: Validate incorrect resource_name type
      community.general.manageiq_tags_info:
        manageiq_connection:
          url: "https://manageiq.example.com/"
          username: "admin"
          password: "password"
        resource_id: 12345
        resource_name: 12345
        resource_type: "sample_type"
      register: invalid_resource_name_result
      failed_when: false
  
    - name: Print invalid resource_name result
      debug:
        var: invalid_resource_name_result

    # Test case to trigger latent type bug in manageiq_tags_info module
    - name: Validate incorrect resource_type type
      community.general.manageiq_tags_info:
        manageiq_connection:
          url: "https://manageiq.example.com/"
          username: "admin"
          password: "password"
        resource_id: 12345
        resource_name: "example_resource"
        resource_type: 12345
      register: invalid_resource_type_result
      failed_when: false
  
    - name: Print invalid resource_type result
      debug:
        var: invalid_resource_type_result

    # Test case to trigger latent type bug in manageiq_tags_info module
    - name: Validate missing manageiq_connection
      community.general.manageiq_tags_info:
        resource_id: 12345
        resource_name: "example_resource"
        resource_type: "sample_type"
      register: missing_connection_result
      failed_when: false

    - name: Print missing_connection_result
      debug:
        var: missing_connection_result