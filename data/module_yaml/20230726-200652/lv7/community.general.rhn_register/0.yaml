---
- name: Test ansible-rhn_register type-related bugs
  hosts: localhost
  gather_facts: false
  vars:
    activationkey: "my_activation_key"
    ca_cert: "/etc/ssl/certs/ca-certificates.crt"
    channels:
      - "channel1"
      - "channel2"
    enable_eus: true
    force: true
    nopackages: true
    password: "my_password"
    profilename: "my_profile"
    server_url: "https://example.com"
    state: "present"
    systemorgid: "my_system_org_id"
    username: "my_username"
  
  tasks:
    - name: Register Red Hat system
      community.general.rhn_register:
        activationkey: "{{ activationkey }}"
        ca_cert: "{{ ca_cert }}"
        channels: "{{ channels }}"
        enable_eus: "{{ enable_eus }}"
        force: "{{ force }}"
        nopackages: "{{ nopackages }}"
        password: "{{ password }}"
        profilename: "{{ profilename }}"
        server_url: "{{ server_url }}"
        state: "{{ state }}"
        systemorgid: "{{ systemorgid }}"
        username: "{{ username }}"
      register: registration_result

    - name: Display registration result
      debug:
        var: registration_result