- name: Configure Aruba Devices
  hosts: all
  gather_facts: false
  tasks:
    - name: Backup running configuration
      community.network.aruba_config:
        backup: true
        backup_options:
          dir_path: /var/ansible/backups/
      changed_when: false
      register: backup_result

    # Test Case 1
    - name: Assign limit-related value using direct assignment
      set_fact:
        limit: 1000
        divided_limit: "{{ limit / 2 }}"
      when: backup_result.changed

    # Test Case 2
    - name: Assign limit-related value using division-based operation
      set_fact:
        limit: 1000
        divided_limit: "{{ limit // 2 }}"
      when: backup_result.changed

    - name: Print limit-related values
      debug:
        msg: "Limit: {{ limit }} | Divided Limit: {{ divided_limit }}"