- name: Test playbook for exposing latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Run command on remote devices
      community.network.voss_command:
        commands: "{{ item.commands }}"
        interval: "{{ item.interval }}"
        match: "{{ item.match }}"
        retries: "{{ item.retries }}"
        wait_for: "{{ item.wait_for }}"
      loop:
        - commands: "show version"
          interval: 10 / 3
          match: none
          retries: 3
          wait_for: 60 / 3