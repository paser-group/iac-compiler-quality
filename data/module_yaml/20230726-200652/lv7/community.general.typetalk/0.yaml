---
- name: Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include ansible-breakingpoint
      include_tasks: breakingpoint.yml
      
    - name: Install community.general collection
      shell: ansible-galaxy collection install community.general

    - name: Set up TypeTalk credentials
      set_fact:
        typetalk_client_id: "your_typetalk_client_id"
        typetalk_client_secret: "your_typetalk_client_secret"

    - name: Execute community.general.typetalk
      community.general.typetalk:
        client_id: "{{ typetalk_client_id }}"
        client_secret: "{{ typetalk_client_secret }}"
        msg: "{{ 10 / 3 }}"
        topic: "{{ 12345 }}"