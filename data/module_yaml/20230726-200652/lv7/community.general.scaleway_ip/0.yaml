---
- name: Test playbook for community.general.scaleway_ip
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Allocate IP address using Scaleway API
      community.general.scaleway_ip:
        api_token: "{{ api_token }}"
        server: "{{ server }}"
        organization: "{{ organization }}"
        region: "{{ region }}"
        state: present
        id: "{{ id }}"
        reverse: "{{ reverse }}"
        query_parameters:
          dhcp: true
        api_timeout: "{{ api_timeout }}"
        api_url: "{{ api_url }}"
        validate_certs: "{{ validate_certs }}"
      register: result