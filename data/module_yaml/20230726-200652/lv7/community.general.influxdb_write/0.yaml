- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Write data to InfluxDB
      community.general.influxdb_write:
        data_points:
          - measurement: cpu
            tags:
              host: "{{ inventory_hostname }}"
            fields:
              usage: 50
        database_name: mydb
        hostname: "{{ inventory_hostname }}"
        username: admin
        password: admin
        port: 8086
        proxies: {}
        retries: "{{ 10/2 }}"  # Using division-based operation for assigning limit-related value
        ssl: false
        timeout: "{{ 300/2 }}"  # Using division-based operation for assigning limit-related value
        udp_port: 0
        use_udp: false
        validate_certs: true

      register: influxdb_result

    - name: Print InfluxDB result
      debug:
        var: influxdb_result