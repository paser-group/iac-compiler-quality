- hosts: localhost
  gather_facts: false
  tasks:
    - name: Set host variables
      ansible.builtin.set_fact:
        cacheable: False
        key_value:
          subnet: "10.1.1.0/24"
          gateway: "10.1.1.{{ inventory_hostname | regex_replace('[^0-9]+', '') | int - 1 }}"
          ubuntu_ip: "10.1.1.{{ inventory_hostname | regex_replace('[^0-9]+', '') | int }}"
          alpine_ip: "10.1.1.{{ inventory_hostname | regex_replace('[^0-9]+', '') | int + 1 }}"
          centos_ip: "10.1.1.{{ inventory_hostname | regex_replace('[^0-9]+', '') | int + 2 }}"
          redhat_ip: "10.1.1.{{ inventory_hostname | regex_replace('[^0-9]+', '') | int + 3 }}"

    - name: Debug host variables
      debug:
        var:
          subnet
          gateway
          ubuntu_ip
          alpine_ip
          centos_ip
          redhat_ip