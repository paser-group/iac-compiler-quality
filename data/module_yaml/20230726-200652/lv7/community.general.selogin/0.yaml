---
- name: Test playbook for community.general.selogin module
  hosts: all
  become: true
  gather_facts: false

  tasks:
    - name: Manage linux user
      community.general.selogin:
        login: "{{ item.login }}"
        state: "{{ item.state }}"
        seuser: "{{ item.seuser }}"
        selevel: "{{ item.selevel }}"
        ignore_selinux_state: "{{ item.ignore_selinux_state }}"
      loop:
        - { login: "testuser1", state: "present", seuser: "system_u", selevel: "s0", ignore_selinux_state: false }
        - { login: "testuser2", state: "present", seuser: "root", selevel: "s0-s0:c0.c1023", ignore_selinux_state: true }
        - { login: "testuser3", state: "absent", seuser: "system_u", selevel: "s0", ignore_selinux_state: false }
        - { login: "testuser4", state: "absent", seuser: "system_u", selevel: "s0", ignore_selinux_state: true }