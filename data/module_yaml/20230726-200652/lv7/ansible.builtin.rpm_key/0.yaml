---
- name: Ansible Latent Type-Related Bug Finder Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Add RPM Key
      ansible.builtin.rpm_key:
        fingerprint: "{{ fingerprint }}"
        key: "{{ key }}"
        state: "{{ invalid_state }}"
        validate_certs: "{{ validate_certs }}"
      register: result_add

    - name: Print Result
      debug:
        var: result_add

    - name: Remove RPM Key
      ansible.builtin.rpm_key:
        fingerprint: "{{ fingerprint }}"
        key: "{{ key }}"
        state: "{{ invalid_state }}"
        validate_certs: "{{ validate_certs }}"
      register: result_remove

    - name: Print Result
      debug:
        var: result_remove