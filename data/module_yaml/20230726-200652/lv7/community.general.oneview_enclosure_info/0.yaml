---
- name: Retrieve enclosure information
  hosts: localhost
  gather_facts: false

  vars:
    api_version: "500"
    config: "/path/to/oneview_config.json"
    hostname: "oneview.example.com"
    image_streamer_hostname: "imagestreamer.example.com"
    name: "enclosure_name"
    options:
      - attribute: "powerState"
        filters:
          - "enclosureGroupUri='uri'"
      - attribute: "model"
    params:
      start: "{{ count | int / 2 }}"
      count: 10
      sort: "name:descending"
    password: "secret"
    username: "admin"

  tasks:
    - name: Retrieve enclosure information
      community.general.oneview_enclosure_info:
        api_version: "{{ api_version }}"
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        name: "{{ name }}"
        options: "{{ options }}"
        params: "{{ params }}"
        password: "{{ password }}"
        username: "{{ username }}"
      register: enclosure_info

    - name: Display enclosure information
      debug:
        var: enclosure_info