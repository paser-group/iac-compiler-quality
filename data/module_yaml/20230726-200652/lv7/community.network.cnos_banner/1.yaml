- name: Manage multiline banners on network switch
  hosts: switches
  gather_facts: false
  
  tasks:
    - name: Set multiline banners
      community.network.cnos_banner:
        banner: login
        state: present
        text: |
          Welcome to the network switch!
          Please enter your credentials to proceed.
        max_lines: "{{ 100/2 }}"  # Division-based operation for limit-related value
      register: result
      when: inventory_hostname == 'switch1'
    
    - name: Print result
      debug:
        var: result

    - name: Remove multiline banners
      community.network.cnos_banner:
        banner: login
        state: absent
      register: result
      when: inventory_hostname == 'switch1'

    - name: Print result
      debug:
        var: result