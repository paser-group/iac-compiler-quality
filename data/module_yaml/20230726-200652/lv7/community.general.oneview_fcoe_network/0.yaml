---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include OneView FCOE module
      include_vars:
        file: "{{ playbook_dir }}/vars/oneview_fcoe_vars.yml"

    - name: Create FCOE network
      community.general.oneview_fcoe_network:
        config: "{{ config_file }}"
        hostname: "{{ oneview_hostname }}"
        username: "{{ oneview_username }}"
        password: "{{ oneview_password }}"
        state: "{{ fcoe_network_state }}"
        data:
          name: "{{ fcoe_network_name }}"
          portId: "{{ fcoe_network_portId }}"
          fabricType: "{{ fcoe_network_fabricType }}"
          vlanId: "{{ fcoe_network_vlanId }}"
          api_version: "{{ fcoe_network_api_version }}"
          image_streamer_hostname: "{{ fcoe_network_image_streamer_hostname }}"
          validate_etag: "{{ fcoe_network_validate_etag }}"
      register: fcoe_result

    - name: Debug FCOE network
      debug:
        var: fcoe_result