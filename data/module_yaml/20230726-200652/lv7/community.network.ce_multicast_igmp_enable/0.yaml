- name: Test playbook for community.network.ce_multicast_igmp_enable module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Enable multicast igmp on HUAWEI devices
      community.network.ce_multicast_igmp_enable:
        aftype: "{{ 10 / 0 }}"  # Triggering division-based operation bug
        features: "{{ 'pim' }}"
        igmp: "{{ true }}"
        proxy: "{{ false }}"
        state: "{{ 'enabled' / 'disabled' }}"  # Triggering division-based operation bug
        version: "{{ '2' / '1' }}"  # Triggering division-based operation bug
        vlan_id: "{{ floor(10 / 3) }}"  # Triggering division-based operation bug
      register: result

    - name: Debug module output
      debug:
        var: result