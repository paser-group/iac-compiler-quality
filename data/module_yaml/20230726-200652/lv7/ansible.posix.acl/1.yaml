---
- name: Test playbook for ansible.posix.acl module
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Set ACL entry on a file
      ansible.posix.acl:
        path: /path/to/file
        entity: user1
        etype: user
        permissions: "{{ 'rw' + 'x' }}"
        state: present
      register: acl_result

    - name: Debug ACL result
      debug:
        var: acl_result

    - name: Get ACL entry for a file
      ansible.posix.acl:
        path: /path/to/file
        entity: user1
        etype: user
        state: query
      register: acl_query_result

    - name: Debug ACL query result
      debug:
        var: acl_query_result