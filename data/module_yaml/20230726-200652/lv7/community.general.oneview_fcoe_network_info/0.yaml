---
- name: Retrieve FCoE network info
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include oneview module
      include_vars:
        file: "vars.yml"
        name: "ov_vars"
      no_log: true

    - name: Retrieve FCoE network info
      community.general.oneview_fcoe_network_info:
        api_version: "{{ ov_vars.api_version }}"
        config: "{{ ov_vars.config }}"
        hostname: "{{ ov_vars.hostname }}"
        image_streamer_hostname: "{{ ov_vars.image_streamer_hostname }}"
        name: "{{ ov_vars.name }}"
        params: "{{ ov_vars.params }}"
        password: "{{ ov_vars.password }}"
        username: "{{ ov_vars.username }}"
      register: fcoe_network_info

    - name: Debug FCoE network info
      debug:
        var: fcoe_network_info

    - name: Trigger type-based bug
      set_fact:
        division_value: "{{ ov_vars.api_version / ov_vars.username }}"
      vars:
        ov_vars:
          api_version: 4
          config: "/path/to/config.yml"
          hostname: "example.com"
          image_streamer_hostname: "imagestreamer.example.com"
          name: "FCoE Network"
          params: {}
          password: "password"
          username: "admin"

    - name: Print division_value
      debug:
        var: division_value
      when: division_value is defined