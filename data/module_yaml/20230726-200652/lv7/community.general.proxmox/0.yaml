---
- name: Manage Proxmox instances
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Proxmox instance
      community.general.proxmox_vm:
        api_host: "{{ api_host }}"
        api_user: "{{ api_user }}"
        api_password: "{{ api_password }}"
        vmid: 100
        cores: 2.5  # Potential division-based bug
        memory: "4096MB"  # Potential string-based bug
        disks:
          - size: "20G"
            type: "scsi"
            storage: "{{ storage }}"
        state: present
      register: result_create

    - name: Debug create result
      debug:
        var: result_create