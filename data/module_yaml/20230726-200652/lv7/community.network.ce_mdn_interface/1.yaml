---
- name: Configure MDN interface on HUAWEI device
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure MDN interface
      community.network.ce_mdn_interface:
        ifname: "{{ item.ifname_prefix }}{{ item.ifname_number / 10 }}"
        lldpenable: "{{ item.lldpenable }}"
        mdnstatus: "{{ item.mdnstatus }}"
        state: "{{ item.state }}"
      loop:
        - { ifname_prefix: "GigabitEthernet", ifname_number: 1, lldpenable: "enable", mdnstatus: "enabled", state: "present" }
        - { ifname_prefix: "GigabitEthernet", ifname_number: 2, lldpenable: "disable", mdnstatus: "disabled", state: "present" }
        - { ifname_prefix: "GigabitEthernet", ifname_number: 3, lldpenable: "enable", mdnstatus: "enabled", state: "absent" }