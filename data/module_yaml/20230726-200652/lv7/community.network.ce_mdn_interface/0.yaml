---
- name: Configure MDN interface on HUAWEI device
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure MDN interface
      community.network.ce_mdn_interface:
        ifname: "{{ item.ifname }}"
        lldpenable: "{{ item.lldpenable }}"
        mdnstatus: "{{ item.mdnstatus }}"
        state: "{{ item.state }}"
      loop:
        - { ifname: "GigabitEthernet0/0/1", lldpenable: "enable", mdnstatus: "enabled", state: "present" }
        - { ifname: "GigabitEthernet0/0/2", lldpenable: "disable", mdnstatus: "disabled", state: "present" }
        - { ifname: "GigabitEthernet0/0/3", lldpenable: "enable", mdnstatus: "enabled", state: "absent" }