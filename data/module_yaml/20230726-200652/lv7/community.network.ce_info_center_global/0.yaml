---
- name: Test playbook for community.network.ce_info_center_global module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set logging parameters
      community.network.ce_info_center_global:
        state: present
        info_center_enable: true
        logfile_max_size: "{{ ansible_memtotal_mb // 1024 }}"  # Heuristic: Limit based on memory size
        logfile_max_num: "{{ ansible_processor_count // 2 }}"  # Heuristic: Limit based on processor count

      register: result

    - name: Display the result
      debug:
        var: result