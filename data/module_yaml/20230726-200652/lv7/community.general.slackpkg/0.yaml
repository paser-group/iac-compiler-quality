---
- name: Test playbook for 'community.general.slackpkg' module
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Install packages using slackpkg module
      community.general.slackpkg:
        name:
          - package1
          - package2
        state: present
        update_cache: yes

    - name: Test task to trigger type-related bug
      debug:
        msg: "{{ 10 / 0 }}"

    - name: Remove packages using slackpkg module
      community.general.slackpkg:
        name:
          - package1
          - package2
        state: absent
        update_cache: no