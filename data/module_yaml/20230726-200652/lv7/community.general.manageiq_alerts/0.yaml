---
- name: Test playbook for community.general.manageiq_alerts module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ManageIQ alert
      community.general.manageiq_alerts:
        description: "Test Alert"
        enabled: yes
        expression:
          exp_type: basic
          op: "{{ 4 / '2' }}"
        manageiq_connection:
          url: "https://manageiq.example.com/api"
          username: "admin"
          password: "password"
        options:
            manager: "manageiq"
        resource_type: "Vm"
        state: "present"
      register: result

    - name: Display playbook result
      debug:
        var: result