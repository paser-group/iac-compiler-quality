---
- name: Send IRC message
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send message
      community.general.irc:
        server: irc.example.com
        port: 6667
        use_ssl: false
        nick: ansible
        channel: "#ansible"
        msg: "Hello from Ansible!"
        timeout: 5
      register: irc_result

    - name: Debug result
      debug:
        var: irc_result