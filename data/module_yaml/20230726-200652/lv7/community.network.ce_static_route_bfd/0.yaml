- name: Configure static route with BFD
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure static route
      community.network.ce_static_route_bfd:
        aftype: ipv4
        bfd_session_name: bfd_session1
        commands:
          - ip route-static 10.10.10.0 255.255.255.0 192.168.1.1 preference 60
        description: "Static route with BFD"
        destvrf: vrf1
        detect_multiplier: 3
        function_flag: simple
        mask: 24
        min_rx_interval: 100
        min_tx_interval: 80
        next_hop: 192.168.1.1
        nhp_interface: GigabitEthernet0/0/1
        pref: 60
        prefix: 10.10.10.0
        state: present
        tag: 1
        vrf: vrf1

    - name: Test case 1 - Integer division bug
      community.network.ce_static_route_bfd:
        aftype: ipv6
        bfd_session_name: bfd_session2
        commands:
          - ip route-static 2001:db8::/32 2001:db8::1 preference 60
        description: "Static route with BFD"
        destvrf: vrf2
        detect_multiplier: 4
        function_flag: simple
        mask: 32
        min_rx_interval: 200
        min_tx_interval: 160
        next_hop: 2001:db8::1
        nhp_interface: GigabitEthernet0/0/2
        pref: [90/10]   # Potential division-based bug
        prefix: 2001:db8::/32
        state: present
        tag: 2
        vrf: vrf2

    - name: Test case 2 - String division bug
      community.network.ce_static_route_bfd:
        aftype: ipv4
        bfd_session_name: bfd_session3
        commands:
          - ip route-static 10.20.20.0 255.255.255.0 192.168.2.1 preference 60
        description: "Static route with BFD"
        destvrf: vrf3
        detect_multiplier: [5]   # Potential division-based bug
        function_flag: simple
        mask: 24
        min_rx_interval: 300
        min_tx_interval: 240
        next_hop: 192.168.2.1
        nhp_interface: GigabitEthernet0/0/3
        pref: 60
        prefix: 10.20.20.0
        state: present
        tag: 3
        vrf: vrf3