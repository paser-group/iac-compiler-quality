---
- name: Test Ansible ManageIQ Group Module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ManageIQ Group
      community.general.manageiq_group:
        name: "{{ 'test_group' }}"
        description: "This is a test group"
        role: "Group"
        role_id: "{{ 10/3 }}"
        state: present
        manageiq_connection:
          url: "https://manageiq.example.com/api"
          username: "admin"
          password: "secret"
      register: result

    - name: Debug Result
      debug:
        var: result