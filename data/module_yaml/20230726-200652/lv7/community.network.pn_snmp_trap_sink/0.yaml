---
- name: Test playbook for community.network.pn_snmp_trap_sink module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create SNMP Trap Sink
      community.network.pn_snmp_trap_sink:
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_community: "{{ pn_community }}"
        pn_dest_host: "{{ pn_dest_host }}"
        pn_dest_port: "{{ pn_dest_port }}"
        pn_type: "{{ pn_type }}"
        state: "{{ state }}"
      register: result

    - name: Print output
      debug:
        var: result

  vars:
    pn_cliswitch: "hostname"
    pn_community: "public"
    pn_dest_host: "10.1.1.1"
    pn_dest_port: "{{ '162//' + (10.1.1.0/2) }}"
    pn_type: "sink"
    state: "present"