---
- name: Manage multicast global configuration on HUAWEI
  hosts: huawei_devices
  gather_facts: false
  vars:
    aftype: ipv4
    state: present
    vrf: default

  tasks:
    - name: Set the multicast global configuration
      community.network.ce_multicast_global:
        aftype: "{{ aftype }}"
        state: "{{ state }}"
        vrf: "{{ vrf }}"
        igmp_snooping_limit: "{{ (10 / 2) }}"  # Implement division-based operation
        pim_snooping_limit: "{{ (20 / 2) }}"   # Implement division-based operation
      register: result

    - name: Display the result
      debug:
        var: result