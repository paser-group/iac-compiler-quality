- name: Execute Redis Command
  hosts: all
  gather_facts: false

  tasks:
    - name: Include community.general.redis module
      include_vars:
        file: redis_options.yml

    - name: Run Redis Command
      community.general.redis:
        ca_certs: "{{ redis_ca_certs }}"
        command: "{{ redis_command }}"
        db: "{{ redis_db }}"
        flush_mode: "{{ redis_flush_mode }}"
        login_host: "{{ redis_login_host }}"
        login_password: "{{ redis_login_password }}"
        login_port: "{{ redis_login_port }}"
        login_user: "{{ redis_login_user }}"
        master_host: "{{ redis_master_host }}"
        master_port: "{{ redis_master_port }}"
        name: "{{ redis_name }}"
        replica_mode: "{{ redis_replica_mode }}"
        tls: "{{ redis_tls }}"
        validate_certs: "{{ redis_validate_certs }}"
        value: "{{ redis_value }}"