- name: Manage IP Tunnel Interfaces
  hosts: localhost
  gather_facts: false
  vars:
    local_address: "10.1.1.1"
    name: "tun0"
    remote_address: "10.1.1.2"
    state: "present"
    temporary: false
    type: "ipip"

  tasks:
    - name: Create IP Tunnel Interface
      community.network.dladm_iptun:
        local_address: "{{ local_address }}"
        name: "{{ name }}"
        remote_address: "{{ remote_address }}"
        state: "{{ state }}"
        temporary: "{{ temporary }}"
        type: "{{ type }}"
        limit: "{{ limit_value / 2 }}"  # Heuristic: Implement division-based operations when assigning limit-related values
      register: result

    - name: Debug Output
      debug:
        var: result