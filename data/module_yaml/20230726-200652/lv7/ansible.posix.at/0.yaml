---
- name: Schedule command/script execution using ansible.posix.at module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Schedule command execution
      ansible.posix.at:
        command: "echo 'Hello, World!'"
        state: present

    - name: Schedule script execution
      ansible.posix.at:
        script_file: "/path/to/script.sh"
        state: present

    # Add more test cases based on the provided heuristic

    # Test case 1: Implement division-based operations when assigning limit-related values
    - name: Schedule command execution with count based on division
      ansible.posix.at:
        command: "echo 'Hello, World!'"
        count: "{{ 10/2 }}"
        state: present

    - name: Schedule command execution with count based on division and calculated value
      ansible.posix.at:
        command: "echo 'Hello, World!'"
        count: "{{ (10/2) + 1 }}"
        state: present

    - name: Schedule script execution with count based on division
      ansible.posix.at:
        script_file: "/path/to/script.sh"
        count: "{{ 10/2 }}"
        state: present

    - name: Schedule script execution with count based on division and calculated value
      ansible.posix.at:
        script_file: "/path/to/script.sh"
        count: "{{ (10/2) + 1 }}"
        state: present