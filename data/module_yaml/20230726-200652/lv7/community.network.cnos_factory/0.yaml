---
- name: Test playbook for cnos_factory module
  hosts: all
  gather_facts: false

  tasks:
    - name: Reset switch startup configuration to default (factory)
      community.network.cnos_factory:
        host: "{{ item }}"
        username: admin
        password: admin
        enablePassword: enable
        deviceType: 1234
        outputfile: "{{ item }}_factory_output"
      register: result
      loop: "{{ groups['all'] }}"
      
    - name: Debug module output
      debug:
        var: result