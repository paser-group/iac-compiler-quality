- name: Create DNS Record
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install required Python packages
      pip:
        name: dnsimple
        state: present

    - name: Create DNS Record
      community.general.dnsimple:
        account_api_token: "YOUR_API_TOKEN"
        account_email: "YOUR_EMAIL"
        domain: "example.com"
        state: "present"
        type: "A"
        record: "www"
        value: "10.1.1.1"
        ttl: "{{ '3600' }}"  # Potential type-related bug: string value instead of an integer
        priority: 10
        sandbox: False
        solo: False
      register: result

    - name: Debug DNS Record creation
      debug:
        var: result