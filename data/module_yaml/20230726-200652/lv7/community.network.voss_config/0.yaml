---
- name: Test playbook for community.network.voss_config module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure VOSS device
      community.network.voss_config:
        backup: true
        backup_options:
          dir: "/tmp/backups"
        src: "configs/{{ inventory_hostname }}.txt"
        lines:
          - limit: "{{ 10/2 }}"
            command: "set interface eth 1/1 state down"
          - limit: "{{ 5/0 }}"  # this line triggers the type-related bug
            command: "set interface eth 1/2 state down"
          - limit: "{{ 20/4 }}"
            command: "set interface eth 1/3 state down"
      delegate_to: localhost