- name: Manage LLDP attributes of interfaces
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure LLDP attributes on interfaces
      community.network.exos_lldp_interfaces:
        config:
          - interface: eth1
            lldp_state: "{{ item }}"
        state: present
      loop:
        - enabled
        - disabled

    - name: Test division-based operation
      set_fact:
        lldp_limit: "{{ 4096 / 0 }}"
      ignore_errors: true

    - name: Verify division-based operation trigger bug
      fail:
        msg: "Type-related bug triggered by division-based operation"
      when: lldp_limit is defined