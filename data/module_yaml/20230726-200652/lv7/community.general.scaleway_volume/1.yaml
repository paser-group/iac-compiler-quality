---
- hosts: localhost
  gather_facts: false
  vars:
    size_limit: 10
    divisor: 2

  tasks:
    - name: Create Scaleway volume
      community.general.scaleway_volume:
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        organization: "{{ organization }}"
        project: "{{ project }}"
        name: "{{ name }}"
        region: "{{ region }}"
        size: "{{ size_limit / divisor }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        volume_type: "{{ volume_type }}"
        api_timeout: "{{ api_timeout }}"
        query_parameters:
          param1: value1
          param2: value2
      register: result

    - debug:
        var: result