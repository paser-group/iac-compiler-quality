---
- name: Fetch configuration/state data from network device
  hosts: localhost
  gather_facts: false
  vars:
    restconf_hostname: "{{ ansible_host }}"
    restconf_username: "{{ ansible_user }}"
    restconf_password: "{{ ansible_password }}"
    restconf_port: "{{ ansible_port }}"
    restconf_proto: "{{ ansible_connection }}"

  tasks:
    - name: Fetch configuration/state data
      ansible.netcommon.restconf_get:
        content: running
        output: json
        path: /restconf/data
      register: restconf_get_result

    - name: Debug RESTCONF Get result
      debug:
        var: restconf_get_result