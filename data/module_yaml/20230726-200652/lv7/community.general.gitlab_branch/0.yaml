- name: Test playbook for 'community.general.gitlab_branch' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a new branch in GitLab
      community.general.gitlab_branch:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "YOUR_API_TOKEN"
        project: "YOUR_PROJECT"
        branch: "new_branch"
        ref_branch: "master"
        state: "present"
        validate_certs: false
      register: result

    - name: Debug task result
      debug:
        var: result