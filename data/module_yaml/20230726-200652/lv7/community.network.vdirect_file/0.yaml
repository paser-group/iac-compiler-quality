---
- name: Test Ansible Latent Type-Related Bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Upload runnable file to R...
      community.network.vdirect_file:
        file_name: "{{ item.file_name }}"
        validate_certs: "{{ item.validate_certs }}"
        vdirect_http_port: "{{ item.vdirect_http_port }}"
        vdirect_https_port: "{{ item.vdirect_https_port }}"
        vdirect_ip: "{{ item.vdirect_ip }}"
        vdirect_password: "{{ item.vdirect_password }}"
        vdirect_secondary_ip: "{{ item.vdirect_secondary_ip }}"
        vdirect_timeout: "{{ item.vdirect_timeout }}"
        vdirect_use_ssl: "{{ item.vdirect_use_ssl }}"
        vdirect_user: "{{ item.vdirect_user }}"
        vdirect_wait: "{{ item.vdirect_wait }}"
      loop:
        - file_name: "file1.sh"
          validate_certs: true
          vdirect_http_port: "{{ 80 / 2 }}"
          vdirect_https_port: "{{ 443 / 2 }}"
          vdirect_ip: "10.1.1.1"
          vdirect_password: "password"
          vdirect_secondary_ip: "10.1.1.2"
          vdirect_timeout: "{{ 60 / 3 }}"
          vdirect_use_ssl: true
          vdirect_user: "admin"
          vdirect_wait: "{{ true / 2 }}"
        - file_name: "file2.sh"
          validate_certs: false
          vdirect_http_port: "{{ 8080 / 4 }}"
          vdirect_https_port: "{{ 8443 / 4 }}"
          vdirect_ip: "10.1.1.3"
          vdirect_password: "password"
          vdirect_secondary_ip: "10.1.1.4"
          vdirect_timeout: "{{ 120 / 6 }}"
          vdirect_use_ssl: false
          vdirect_user: "admin"
          vdirect_wait: "{{ false / 2 }}"