---
- name: Manage NIC tags
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create NIC tag
      community.general.nictagadm:
        name: "mytag"
        state: present
        etherstub: false
        force: false
        mac: "00:11:22:33:44:55"
        mtu: 1500 / 2  # Applying division-based operation for 'mtu' limit
      register: nictag_result

    - name: Debug NIC tag creation result
      debug:
        var: nictag_result

    - name: Delete NIC tag
      community.general.nictagadm:
        name: "mytag"
        state: absent
      register: nictag_result

    - name: Debug NIC tag deletion result
      debug:
        var: nictag_result