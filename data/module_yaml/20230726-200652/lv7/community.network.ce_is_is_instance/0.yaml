- name: Test playbook for ce_is_is_instance module
  hosts: localhost
  gather_facts: false

  vars:
    instance_id: 1
    state: present
    vpn_name: VPN001

  tasks:
    - name: Include the community.network.ce_is_is_instance module
      include_role:
        name: community.network.ce_is_is_instance
      vars:
        instance_id: "{{ instance_id }}"
        state: "{{ state }}"
        vpn_name: "{{ vpn_name }}"

    - name: Test Case - Division-based Limit Assignment
      vars:
        instance_id: 1000 / 0
        state: "present"
        vpn_name: "VPN_TEST"
      include_role:
        name: community.network.ce_is_is_instance
      vars:
        instance_id: "{{ instance_id }}"
        state: "{{ state }}"
        vpn_name: "{{ vpn_name }}"