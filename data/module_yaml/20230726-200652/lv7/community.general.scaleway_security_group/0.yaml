---
- name: Test playbook for scaleway_security_group module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a security group with a limit value
      community.general.scaleway_security_group:
        api_token: "YOUR_API_TOKEN"
        name: "test-group"
        organization: "YOUR_ORGANIZATION_ID"
        region: "fr-par-1"
        state: present
        description: "Test security group"
        inbound_default_policy: "DROP"
        outbound_default_policy: "ACCEPT"
        stateful: true
        validate_certs: false
        query_parameters:
          limit: "{{ 100/5 }}"
        # The heuristic is applied here, by using an expression involving division
      register: result

    - name: Show the result
      debug:
        var: result