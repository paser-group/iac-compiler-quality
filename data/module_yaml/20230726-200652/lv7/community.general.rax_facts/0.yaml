---
- name: Gather Rackspace facts
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Gather Rackspace facts
      community.general.rax_facts:
        address: 10.1.1.1
        api_key: "{{ lookup('env', 'RACKSPACE_API_KEY') }}"
        auth_endpoint: "{{ lookup('env', 'RACKSPACE_AUTH_ENDPOINT') }}"
        credentials: "/path/to/credentials"
        env: "{{ lookup('env', 'RACKSPACE_ENV') }}"
        id: "{{ lookup('env', 'RACKSPACE_ID') }}"
        identity_type: "{{ lookup('env', 'RACKSPACE_IDENTITY_TYPE') }}"
        name: "{{ lookup('env', 'RACKSPACE_NAME') }}"
        region: "{{ lookup('env', 'RACKSPACE_REGION') }}"
        tenant_id: "{{ lookup('env', 'RACKSPACE_TENANT_ID') }}"
        tenant_name: "{{ lookup('env', 'RACKSPACE_TENANT_NAME') }}"
        username: "{{ lookup('env', 'RACKSPACE_USERNAME') }}"
        validate_certs: False

      register: rax_facts_result

    - name: Debug Rackspace facts
      debug:
        var: rax_facts_result

- name: Test cases based on heuristic
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Perform division-based operation with limit-related value
      set_fact:
        divisor: "{{ 0 / 0 }}"
        item_limit: "{{ propertylimit | default('value', '') }}"

    - name: Display item_limit
      debug:
        var: item_limit