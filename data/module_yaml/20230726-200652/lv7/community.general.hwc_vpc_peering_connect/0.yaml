---
- name: Test playbook to expose latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create VPC Peering Connection
      community.general.hwc_vpc_peering_connect:
        description: "Test VPC Peering Connection"
        domain: "example.com"
        id: "peering-123"
        identity_endpoint: "https://identity.example.com"
        local_vpc_id: "vpc-abc"
        name: "peering-conn"
        password: "password123"
        peering_vpc: "{{ division_variable }}"
        project: "project-xyz"
        region: "us-west-2"
        state: "present"
        timeouts:
          create: "{{ division_variable }}"
        user: "user@example.com"
      register: result

    - name: Debug result
      debug:
        var: result