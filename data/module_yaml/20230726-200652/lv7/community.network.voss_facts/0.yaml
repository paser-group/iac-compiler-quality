- name: Collect facts from remote devices
  hosts: all
  gather_facts: false

  tasks:
    - name: Gather facts
      community.network.voss_facts:
        gather_subset: none
      register: facts

    - name: Debug facts
      debug:
        var: facts

- name: Test cases
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Check division-based operations
      assert:
        that:
          - ansible_facts['ansible_memtotal_mb'] / ansible_facts['ansible_processor_count'] == 0
        fail_msg: "Type-related bug found: division-based operation triggered an error in the module"