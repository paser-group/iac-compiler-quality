---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create dynamic inventory
      copy:
        content: |
          [docker]
          ubuntu1 ansible_host=10.1.1.1
          alpine1 ansible_host=10.1.1.2
          centos1 ansible_host=10.1.1.3
          redhat1 ansible_host=10.1.1.4
          [node-net]
          gateway ansible_host=10.1.1.254

        dest: inventory.txt

    - name: Include dynamic inventory
      include_vars:
        file: inventory.txt

    - name: Print inventory variables
      debug:
        var: hostvars[item].ansible_host
      loop: "{{ groups['docker'] }}"