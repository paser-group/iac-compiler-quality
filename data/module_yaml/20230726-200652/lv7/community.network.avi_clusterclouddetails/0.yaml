- name: Test playbook for community.network.avi_clusterclouddetails module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Include clusterclouddetails module
      include_vars:
        file: clusterclouddetails.yml

    - name: Set division-based limit value
      set_fact:
        limit_value: "{{ 100 / cluster_node_count }}"

    - name: Set ClusterCloudDetails using the module
      community.network.avi_clusterclouddetails:
        avi_credentials: "{{ avi_credentials }}"
        controller: "{{ controller }}"
        limit: "{{ limit_value }}"
        state: present

## Define variables in clusterclouddetails.yml with the required values