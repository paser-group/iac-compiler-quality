---
- name: Test playbook for the community.general.one_service module
  hosts: localhost
  gather_facts: false

  vars:
    api_username: "admin"
    api_password: "password"
    api_url: "https://example.com/api"
    service_name: "MyService"
    state: "absent"
    template_name: "MyTemplate"
    unique: true
    wait: true
    wait_timeout: 60

  tasks:
    - name: Create service with a limit-related value
      community.general.one_service:
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        api_url: "{{ api_url }}"
        service_name: "{{ service_name }}"
        state: "{{ state }}"
        template_name: "{{ template_name }}"
        unique: "{{ unique }}"
        wait: "{{ wait }}"
        wait_timeout: "{{ wait_timeout }}"
        limit: "{{ (wait_timeout / 2) | int }}"    # Using division-based operation for limit-related value
      register: result