---
- name: Test community.general.ilo_redfish_command module
  hosts: localhost
  gather_facts: false
  vars:
    auth_token: "my_auth_token"
    baseuri: "https://ilo.example.com"
    username: "admin"
    password: "secret"
    category: "managers"
    command:
      - "/redfish/v1/Managers"
    timeout: 10

  tasks:
    - name: Execute ilo_redfish_command
      community.general.ilo_redfish_command:
        auth_token: "{{ auth_token }}"
        baseuri: "{{ baseuri }}"
        username: "{{ username }}"
        password: "{{ password }}"
        category: "{{ category }}"
        command: "{{ command }}"
        timeout: "{{ timeout }}"
      register: ilo_command_result

    - name: Print ilo_redfish_command result
      debug:
        var: ilo_command_result