---
- name: Test playbook for community.general.mssql_db module
  hosts: localhost
  gather_facts: false
  
  vars:
    autocommit: "True"
    login_host: "localhost"
    login_password: "password"
    login_port: "1433"
    login_user: "sa"
    database_name: "testdb"

  tasks:
    - name: Create MSSQL database
      community.general.mssql_db:
        autocommit: "{{ autocommit | bool }}"
        login_host: "{{ login_host }}"
        login_password: "{{ login_password | int }}"
        login_port: "{{ login_port | int }}"
        login_user: "{{ login_user }}"
        name: "{{ database_name }}"
        state: present