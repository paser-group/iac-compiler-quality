---
- name: Test ansible.netcommon.grpc_get module
  hosts: localhost
  gather_facts: false

  vars:
    command: "get_config"
    data_type: 100
    display: "config"
    section: "network"

  tasks:
    - name: Fetch configuration data from gRPC using ansible.netcommon.grpc_get module
      ansible.netcommon.grpc_get:
        command: "{{ command }}"
        data_type: "{{ data_type }}"
        display: "{{ display }}"
        section: "{{ section }}"
      register: result

    - name: Debug output
      debug:
        var: result