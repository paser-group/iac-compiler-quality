- name: Test playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include playbook
      ansible.builtin.include:
        playbook: "{{ playbook_file }}"

  vars:
    node_net:
      subnet: "10.1.1.0/24"
      gateway: "10.1.1.254"
    nodes:
      - name: ubuntu1
        ip: "10.1.1.1"
        distribution: "Ubuntu"
      - name: alpine1
        ip: "10.1.1.2"
        distribution: "Alpine"
      - name: centos1
        ip: "10.1.1.3"
        distribution: "CentOS"
      - name: redhat1
        ip: "10.1.1.4"
        distribution: "Red Hat"