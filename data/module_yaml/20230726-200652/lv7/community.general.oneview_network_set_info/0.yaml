---
- name: Retrieve network set information
  hosts: localhost
  gather_facts: false

  vars:
    api_version: 1200
    config: "/path/to/oneview_config.json"
    hostname: "example-oneview-host"
    image_streamer_hostname: "example-image-streamer-host"
    name: "example_network_set"
    options:
      - name: "portId"
        value: 2
      - name: "vlanId"
        value: 10
    params:
      subnet: "10.1.1.0/24"
      gateway: "10.1.1.254"
    username: "admin"
    password: "secret"

  tasks:
    - name: Include the required module
      include_vars:
        file: "tasks/oneview_network_set_info.yml"

    - name: Retrieve network set information
      community.general.oneview_network_set_info:
        api_version: "{{ api_version }}"
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        name: "{{ name }}"
        options: "{{ options }}"
        params: "{{ params }}"
        username: "{{ username }}"
        password: "{{ password }}"
      register: network_set_info

    - name: Debug network set information
      debug:
        var: network_set_info