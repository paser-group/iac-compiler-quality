---
- name: Manage Rackspace load balancer nodes
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add node to load balancer
      community.general.rax_clb_nodes:
        state: present
        load_balancer_id: 12345
        node_id: 1
        address: "10.1.1.1"
        port: 80
        weight: 10
        condition: "ENABLED"
        wait: yes
        wait_timeout: 300
      register: result