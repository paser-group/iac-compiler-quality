---
- name: Test playbook for community.general.smartos_image_info
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set limit value
      set_fact:
        limit_value: "{{ ansible_memtotal_mb | int / 2 }}"     # Using division-based operation to assign limit-related value

    - name: Get smartos_image_info
      community.general.smartos_image_info:
        filters:
          limit_value: "{{ limit_value }}"
      register: result

    - name: Debug output
      debug:
        var: result