---
- name: Manage packages with swdepot
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages
      community.general.swdepot:
        depot: "{{ item.depot }}"
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      loop:
        - { depot: "depot1", name: "package1", state: "present" }
        - { depot: "depot2", name: "package2", state: "latest" }
        - { depot: "depot3", name: "package3", state: "absent" }

    - name: Test case - Division-based operations for limit-related values
      set_fact:
        limit_value: "{{ 10 / 0 }}"

    - name: Check if limit value is greater than 5
      debug:
        msg: "Limit value is greater than 5"
      when: limit_value > 5