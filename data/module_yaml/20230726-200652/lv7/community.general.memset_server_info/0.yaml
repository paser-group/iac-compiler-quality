---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the community.general.memset_server_info module
      include_vars:
        file: "{{ playbook_dir }}/library/community.general-memset_server_info-example.json"
        name: server_info

    - name: Retrieve server information
      community.general.memset_server_info:
        api_key: "{{ server_info.api_key }}"
        name: "{{ server_info.name }}"

    - name: Trigger latent type-related bugs
      set_fact:
        division_value: "{{ server_info.server_limit.users / server_info.server_limit.total }}"