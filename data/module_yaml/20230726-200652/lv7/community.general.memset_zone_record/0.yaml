- name: Test playbook to find latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create zone record
      community.general.memset_zone_record:
        address: "10.1.1.1"
        api_key: "your_api_key"
        priority: "10"   # Type mismatch, intentionally using a string instead of an integer
        record: "www"
        relative: true
        state: "present"
        ttl: "3600"   # Type mismatch, intentionally using a string instead of an integer
        type: "A"
        zone: "example.com"
      register: create_result

    - name: Debug create result
      debug:
        var: create_result

    - name: Delete zone record
      community.general.memset_zone_record:
        address: "10.1.1.1"
        api_key: "your_api_key"
        record: "www"
        relative: true
        state: "absent"
        ttl: 3600
        type: "A"
        zone: "example.com"
      register: delete_result

    - name: Debug delete result
      debug:
        var: delete_result