- name: Test playbook
  hosts: localhost
  gather_facts: false

  vars:
    action: "create"
    issue: "100"
    organization: "myorg"
    repo: "myrepo"
    limit: "{{ max_limit / 2 }}"  # Triggering the latent type-related bug

  tasks:
    - name: List GitHub issues
      community.general.github_issue:
        action: "{{ action }}"
        issue: "{{ issue }}"
        organization: "{{ organization }}"
        repo: "{{ repo }}"
        limit: "{{ limit | int }}"  # Type conversion to int (if args are not typed correctly)
      register: result

    - name: Debug output
      debug:
        var: result