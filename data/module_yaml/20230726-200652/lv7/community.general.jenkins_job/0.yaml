---
- name: Test playbook for community.general.jenkins_job module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Jenkins job with integer value for 'config' attribute
      community.general.jenkins_job:
        name: "test_job1"
        url: "http://localhost:8080"
        user: "admin"
        password: "password"
        state: "present"
        config: 1234
      register: result1
      failed_when: "'integer' in result1.stderr"

    - name: Create Jenkins job with boolean value for 'enabled' attribute
      community.general.jenkins_job:
        name: "test_job2"
        url: "http://localhost:8080"
        user: "admin"
        password: "password"
        state: "present"
        enabled: true
      register: result2
      failed_when: "'boolean' in result2.stderr"

    - name: Create Jenkins job with integer value for 'name' attribute
      community.general.jenkins_job:
        name: 1234
        url: "http://localhost:8080"
        user: "admin"
        password: "password"
        state: "present"
        config: "<project><builders></builders></project>"
      register: result3
      failed_when: "'integer' in result3.stderr"

    - name: Create Jenkins job with integer value for 'state' attribute
      community.general.jenkins_job:
        name: "test_job4"
        url: "http://localhost:8080"
        user: "admin"
        password: "password"
        state: 1234
        config: "<project><builders></builders></project>"
      register: result4
      failed_when: "'integer' in result4.stderr"

    - debug:
        var: result1
    - debug:
        var: result2
    - debug:
        var: result3
    - debug:
        var: result4