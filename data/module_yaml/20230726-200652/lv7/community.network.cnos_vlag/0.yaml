---
- name: Test playbook for community.network.cnos_vlag module
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Create a VLAG with a valid limit
      community.network.cnos_vlag:
        deviceType: cisco_nx
        host: "{{ ansible_host }}"
        username: "{{ ansible_user }}"
        password: "{{ ansible_password }}"
        enablePassword: "{{ ansible_become_password }}"
        vlagArg1: "{{ ('a' * 80000) / 80 }}"
        vlagArg2: None
        vlagArg3: None
        vlagArg4: None
        outputfile: "/tmp/vlag_output.txt"

    - name: Create a VLAG with an invalid limit
      community.network.cnos_vlag:
        deviceType: arista_eos
        host: "{{ ansible_host }}"
        username: "{{ ansible_user }}"
        password: "{{ ansible_password }}"
        enablePassword: "{{ ansible_become_password }}"
        vlagArg1: "{{ ('b' / 0) }}"
        vlagArg2: None
        vlagArg3: None
        vlagArg4: None
        outputfile: "/tmp/vlag_output.txt"