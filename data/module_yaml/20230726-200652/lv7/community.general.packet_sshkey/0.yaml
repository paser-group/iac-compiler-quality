---
- name: Test playbook for the community.general.packet_sshkey module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create SSH Key
      community.general.packet_sshkey:
        auth_token: "YOUR_AUTH_TOKEN"
        id: "YOUR_SSHKEY_ID"
        state: "present"
        key: "YOUR_PUBLIC_KEY"
        key_file: "YOUR_PUBLIC_KEY_FILE"
        label: "YOUR_SSHKEY_LABEL"
      register: sshkey_result

    - debug:
        var: sshkey_result

    - name: Delete SSH Key
      community.general.packet_sshkey:
        auth_token: "YOUR_AUTH_TOKEN"
        id: "YOUR_SSHKEY_ID"
        state: "absent"
      register: delete_result

    - debug:
        var: delete_result