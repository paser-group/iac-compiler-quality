---
- name: Test Ansible Latent Type-Related Bugs in community.general.rhsm_release module
  hosts: all
  gather_facts: false

  tasks:
    - name: Set rhsm_release variable with a string value
      set_fact:
        rhsm_release: "8"

    - name: Unset rhsm_release variable
      set_fact:
        rhsm_release: null

    - name: Test division-based operations on limit-related values
      debug:
        msg: "{{ 10 / rhsm_release }}"

    - name: Test division-based operations on limit-related values with null
      debug:
        msg: "{{ 10 / (rhsm_release | default(0)) }}"

    - name: Set rhsm_release variable with a numeric value
      set_fact:
        rhsm_release: 8

    - name: Unset rhsm_release variable
      set_fact:
        rhsm_release: null

    - name: Test division-based operations on limit-related values
      debug:
        msg: "{{ 10 / rhsm_release }}"

    - name: Test division-based operations on limit-related values with null
      debug:
        msg: "{{ 10 / (rhsm_release | default(0)) }}"