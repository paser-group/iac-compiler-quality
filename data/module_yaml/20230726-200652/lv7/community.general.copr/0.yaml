---
- name: Test playbook for 'community.general.copr' module
  hosts: localhost
  gather_facts: false

  vars:
    chroot: "/tmp/chroot"
    host: "copr.fedorainfracloud.org"
    name: "test-repo"
    protocol: "https"
    state: "present"

  tasks:
    - name: Create chroot directory
      file:
        path: "{{ chroot }}"
        state: directory
      delegate_to: localhost

    - name: Add COPR repository
      community.general.copr:
        chroot: "{{ chroot }}"
        host: "{{ host }}"
        name: "{{ name }}"
        protocol: "{{ protocol }}"
        state: "{{ state }}"

    - name: Test Heuristic - Limit-related value assignment
      set_fact:
        limit_value: "{{ 10 / 3 }}"

    - name: Debug Limit value
      debug:
        var: limit_value