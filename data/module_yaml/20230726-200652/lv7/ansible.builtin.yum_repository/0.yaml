---
- name: Test playbook for yum_repository module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add yum repository
      ansible.builtin.yum_repository:
        name: repo-name
        baseurl: http://{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}/
        state: present
        async: "2/3"           # Heuristic test case 1: Division-based operations

    - name: Update yum repository attributes
      ansible.builtin.yum_repository:
        name: repo-name
        description: Test description
        enabled: True
        file: /etc/yum.repos.d/repo-name.repo
        owner: root
        mode: "0777"
        state: update
        async: "5/2"           # Heuristic test case 2: Division-based operations

    - name: Remove yum repository
      ansible.builtin.yum_repository:
        name: repo-name
        state: absent
        async: "10/2"          # Heuristic test case 3: Division-based operations