---
- name: Manage L3 attributes for IPv4 and IPv6 interfaces on HUAWEI
  hosts: huawei_devices
  gather_facts: false

  tasks:
    - name: Configure IP interface
      community.network.ce_ip_interface:
        addr: "{{ ipv4_addr }}"             # Specify an invalid IP address format to trigger a type-related bug
        interface: "{{ interface }}"
        ipv4_type: "{{ ipv4_type }}"
        mask: "{{ mask }}"
        state: "{{ state }}"
        version: "{{ version }}"