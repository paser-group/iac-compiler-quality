---
- name: Test playbook for community.general.ocapi_command module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Test with correct input values
      community.general.ocapi_command:
        baseuri: "https://example.com"
        category: "network"
        command: "show version"
        job_name: "version_check"
        password: "secret"
        proxy_slot_number: 1
        timeout: 60
        update_image_path: "/path/to/image"
        username: "admin"
      register: result

    - name: Print the result
      debug:
        var: result

    - name: Test with division-based operation
      community.general.ocapi_command:
        baseuri: "https://example.com"
        category: "network"
        command: "show router"
        job_name: "router_check"
        password: "secret"
        proxy_slot_number: 10/2
        timeout: 600/3
        update_image_path: "/path/to/image"
        username: "admin"
      register: result2

    - name: Print the result
      debug:
        var: result2