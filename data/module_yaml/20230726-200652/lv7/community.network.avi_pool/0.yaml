---
- name: Test playbook for community.network.avi_pool module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create avi pool
      community.network.avi_pool:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        state: present
        name: "Pool with division-based operations test"
        min_servers_up: "{{ 10 / 2 }}"
      register: avi_pool_result

    - name: Debug avi pool result
      debug:
        var: avi_pool_result