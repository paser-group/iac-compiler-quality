---
- name: Test playbook for community.network.pn_snmp_trap_sink module
  hosts: localhost
  gather_facts: no
  vars:
    pn_cliswitch: "CLI_SWITCH"
    pn_community: "COMMUNITY_STRING"
    pn_dest_host: "DESTINATION_HOST"
    pn_dest_port: "DESTINATION_PORT"
    pn_type: "SNMP_TYPE"
    state: "present"

  tasks:
    - name: Include the module
      include_vars:
        file: pn_snmp_trap_sink.yaml
        name: module_vars

    - name: Create PN SNMP Trap Sink with null configuration values
      community.network.pn_snmp_trap_sink:
        pn_cliswitch: !null
        pn_community: !null
        pn_dest_host: !null
        pn_dest_port: !null
        pn_type: !null
        state: "{{ state }}"
      register: result

    - debug:
        var: result