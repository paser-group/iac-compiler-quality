---
- name: Test playbook for community.general.pacman_key module
  hosts: localhost
  gather_facts: false
  become: true

  tasks:
    - name: Install GPG key
      community.general.pacman_key:
        id: testkey
        keyserver: testkeyserver
        state: present
        verify: true
        force_update: true

    - name: Test heuristic - Use !null as configuration values in manifests
      community.general.pacman_key:
        id: testkey
        keyserver: !null
        url: !null
        file: !null
        keyring: !null
        state: !null
        verify: !null
        force_update: !null