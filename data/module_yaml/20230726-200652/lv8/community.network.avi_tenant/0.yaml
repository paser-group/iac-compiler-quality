- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set variables for tenant creation
      set_fact:
        avi_credentials:
          controller: "{{ ansible_host }}"
          username: "{{ ansible_user }}"
          password: "{{ ansible_password }}"

    - name: Create tenant with incorrect data type
      community.network.avi_tenant:
        avi_credentials: "{{ avi_credentials }}"
        name: "{{ 'test_tenant' | int }}"
        tenant: 12345
        description: 98765
        api_version: true

    - name: Debug output
      debug:
        var: tenant_result