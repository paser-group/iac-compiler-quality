---
- name: Test play for pn_igmp_snooping module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Enable IGMP snooping on switch
      community.network.pn_igmp_snooping:
        pn_cliswitch: "{{ switch_cli }}"
        pn_enable: true
        pn_enable_vlans: "1-5"
        pn_igmpv2_vlans: "2,4"
        pn_igmpv3_vlans: "3,5"
        pn_no_snoop_linklocal_vlans: ""
        pn_query_interval: "30s"
        pn_query_max_response_time: "10"
        pn_scope: null
        pn_snoop_linklocal_vlans: ""
        pn_vxlan: false
        state: present
      register: result

    - name: Display module output
      debug:
        var: result