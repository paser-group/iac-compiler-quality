---
- name: Manage OSPF configuration on HUAWEI device
  hosts: localhost
  gather_facts: False

  vars:
    addr: null
    area: null
    auth_key_id: null
    auth_mode: null
    auth_text_md5: null
    auth_text_simple: null
    mask: null
    max_load_balance: null
    nexthop_addr: null
    nexthop_weight: null
    process_id: null
    state: null

  tasks:
    - name: Configure OSPF instance
      community.network.ce_ospf:
        addr: "{{ addr | default(omit) }}"
        area: "{{ area | default(omit) }}"
        auth_key_id: "{{ auth_key_id | default(omit) }}"
        auth_mode: "{{ auth_mode | default(omit) }}"
        auth_text_md5: "{{ auth_text_md5 | default(omit) }}"
        auth_text_simple: "{{ auth_text_simple | default(omit) }}"
        mask: "{{ mask | default(omit) }}"
        max_load_balance: "{{ max_load_balance | default(omit) }}"
        nexthop_addr: "{{ nexthop_addr | default(omit) }}"
        nexthop_weight: "{{ nexthop_weight | default(omit) }}"
        process_id: "{{ process_id | default(omit) }}"
        state: "{{ state | default(omit) }}"
      register: result

    - name: Debug result
      debug:
        var: result