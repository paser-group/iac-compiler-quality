---
- name: Test playbook for netscaler_gslb_service module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include variables
      include_vars:
        file: vars.yml

    - name: Test case: Use !null as configuration values
      community.network.netscaler_gslb_service:
        nsip: "{{ nsip }}"
        nitro_user: "{{ nitro_user | default('nsroot') }}"
        nitro_pass: "{{ nitro_pass | default('nsroot') }}"
        nitro_protocol: "{{ nitro_protocol | default('https') }}"
        nitro_timeout: "{{ nitro_timeout | default(10) }}"
        state: present
        servicename: "test_service"
        sitename: "!null"
        sitepersistence: "!null"
        siteprefix: "!null"
        validate_certs: false

    - name: Verify result
      debug:
        var: netscaler_gslb_service