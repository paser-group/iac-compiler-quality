---
- name: Test playbook for Ansible latent type-related bugs
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Configure GSLB service member
      community.network.avi_gslbservice_patch_member:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        api_version: "{{ api_version }}"
        avi_credentials: "{{ avi_credentials }}"
        tenant_uuid: "{{ tenant_uuid }}"
        api_context: "{{ api_context }}"
        avi_disable_session_cache_as_fact: "{{ avi_disable_session_cache_as_fact }}"
        name: "{{ item.name }}"
        data:
          state: "{{ item.state }}"
          params: !null
      loop:
        - { name: ubuntu1_member, state: present }
        - { name: alpine1_member, state: present }
        - { name: centos1_member, state: present }
        - { name: redhat1_member, state: present }