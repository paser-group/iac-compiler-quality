---
- hosts: localhost
  gather_facts: false

  tasks:
    - name: Enable Apache module
      community.general.apache2_module:
        name: mod_ssl
        state: "{{ state | default('present') }}"
        force: "{{ force | default(false) }}"
        identifier: "{{ identifier | default('default') }}"
        ignore_configcheck: "{{ ignore_configcheck | default(false) }}"
        warn_mpm_absent: "{{ warn_mpm_absent | default(false) }}"
      register: result_enable

    - name: Display enable module result
      debug:
        var: result_enable

    - name: Disable Apache module
      community.general.apache2_module:
        name: mod_ssl
        state: "{{ state | default('absent') }}"
        force: "{{ force | default(false) }}"
        identifier: "{{ identifier | default('default') }}"
        ignore_configcheck: "{{ ignore_configcheck | default(false) }}"
        warn_mpm_absent: "{{ warn_mpm_absent | default(false) }}"
      register: result_disable

    - name: Display disable module result
      debug:
        var: result_disable