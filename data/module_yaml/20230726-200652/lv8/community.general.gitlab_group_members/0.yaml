---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    gitlab_group: "my_group"
    gitlab_user: "user1"
    access_level: "guest"
    api_url: "https://gitlab.example.com"
    api_token: "my_api_token"
    api_password: !null

  tasks:
    - name: Add GitLab group members
      community.general.gitlab_group_members:
        api_url: "{{ api_url }}"
        api_token: "{{ api_token }}"
        api_password: "{{ api_password }}"
        gitlab_group: "{{ gitlab_group }}"
        gitlab_user: "{{ gitlab_user }}"
        access_level: "{{ access_level }}"
        validate_certs: false
      register: result