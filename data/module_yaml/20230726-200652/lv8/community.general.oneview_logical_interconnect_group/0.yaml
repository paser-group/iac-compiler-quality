---

- name: Run community.general.oneview_logical_interconnect_group module
  hosts: localhost
  connection: local
  gather_facts: no

  vars:
    api_version: !int "1200"
    config: !path "/path/to/config.yaml"
    data: !dict
      name: "LIG Test"
      state: "absent"
    hostname: !str "10.1.1.1"
    image_streamer_hostname: !str "10.1.1.2"
    password: !str "password"
    state: !str "present"
    username: !str "admin"
    validate_etag: !bool false

  tasks:
    - name: Include configuration file
      include_vars:
        file: "{{ config }}"

    - name: Debug configuration
      debug:
        var: config

    - name: Debug data
      debug:
        var: data

    - name: Run community.general.oneview_logical_interconnect_group
      community.general.oneview_logical_interconnect_group:
        config: "{{ config }}"
        api_version: "{{ api_version }}"
        hostname: "{{ hostname }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        state: "{{ state }}"
        validate_etag: "{{ validate_etag }}"
        data: "{{ data }}"
      register: result

    - name: Debug result
      debug:
        var: result