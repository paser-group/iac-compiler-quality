- name: Create user in network device
  hosts: localhost
  gather_facts: false

  vars:
    pn_name: "testuser"
    pn_password: "testpassword"
    pn_initial_role: "network-operator"
    pn_cliswitch: "cli1"
    pn_scope: "local"
    state: "present"
    pn_invalid_value: !null

  tasks:
    - name: Create user
      community.network.pn_user:
        pn_name: "{{ pn_name }}"
        pn_password: "{{ pn_password }}"
        pn_initial_role: "{{ pn_initial_role }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_scope: "{{ pn_scope }}"
        pn_invalid_value: "{{ pn_invalid_value }}"
        state: "{{ state }}"
      register: result

    - name: Debug output
      debug:
        var: result