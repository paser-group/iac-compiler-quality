---
- name: Ansible Playbook to test 'community.general.gitlab_hook' module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure GitLab hook
      community.general.gitlab_hook:
        api_url: "{{ gitlab_api_url }}"
        api_username: "{{ gitlab_api_username }}"
        api_password: "{{ gitlab_api_password }}"
        project: "{{ gitlab_project }}"
        state: "{{ hook_state }}"
        hook_url: "{{ hook_url | default(omit) }}"
        hook_validate_certs: "{{ hook_validate_certs }}"
        push_events: "{{ push_events }}"
        push_events_branch_filter: "{{ push_events_branch_filter }}"
        tag_push_events: "{{ tag_push_events }}"
        issues_events: "{{ issues_events }}"
        merge_requests_events: "{{ merge_requests_events }}"
        wiki_page_events: "{{ wiki_page_events }}"
        note_events: "{{ note_events }}"
        job_events: "{{ job_events }}"
        pipeline_events: "{{ pipeline_events }}"
        token: "{{ hook_token }}"
        validate_certs: "{{ validate_certs }}"

      register: result

    - name: Print the result
      debug:
        var: result