---
- name: Test playbook for 'community.general.xml' module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create XML file with incorrect attribute value
      community.general.xml:
        path: /tmp/test.xml
        namespaces:
          ns: http://example.com
        set_children:
          - xpath: /ns:root/ns:element
            attribute: !null
            value: foo
      register: result
      ignore_errors: true

    - name: Print debug output
      debug:
        var: result

    - name: Remove XML file
      file:
        path: /tmp/test.xml
        state: absent