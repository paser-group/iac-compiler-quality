- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create a server
      community.general.oneandone_server:
        api_url: "https://api_url"
        auth_token: "auth_token"
        server: "test-server"
        count: 1
        hostname: !null
        description: "Test Server"
        vcore: "2"  # Mismatching type
        
    - name: Stop the server
      community.general.oneandone_server:
        api_url: "https://api_url"
        auth_token: "auth_token"
        server: "test-server"
        state: "stopped"
        wait: true
        wait_interval: 10
        wait_timeout: 300
        
    - name: Delete the server
      community.general.oneandone_server:
        api_url: "https://api_url"
        auth_token: "auth_token"
        server: "test-server"
        state: "absent"
        wait: true
        wait_interval: 10
        wait_timeout: 300