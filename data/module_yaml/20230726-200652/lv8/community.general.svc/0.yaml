---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    service:
      - name: test-service
        state: stopped
        downed: true
        enabled: false
        service_dir: !null
        service_src: /tmp/test-service

  tasks:
    - name: Install services
      community.general.svc:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
        downed: "{{ item.downed }}"
        enabled: "{{ item.enabled }}"
        service_dir: "{{ item.service_dir }}"
        service_src: "{{ item.service_src }}"
      loop: "{{ service }}"