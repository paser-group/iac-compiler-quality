---
- name: Test playbook for community.general.librato_annotation module
  hosts: localhost
  gather_facts: false

  tasks:
    # Test Case 1: Trigger type-related bug by passing invalid type for api_key
    - name: Create annotation with invalid type for api_key
      community.general.librato_annotation:
        api_key: 12345
        name: "Test Annotation"
        description: "This is a test annotation"
        user: "admin"
        title: "Test Title"
        source: "Ansible"
        start_time: 1634731200
        end_time: 1634742000
        links:
          - title: "Link 1"
            url: "https://www.example.com"
      register: result1
      ignore_errors: true

    - debug:
        var: result1

    # Test Case 2: Trigger type-related bug by passing invalid type for name
    - name: Create annotation with invalid type for name
      community.general.librato_annotation:
        api_key: "YOUR_API_KEY"
        name: 12345
        description: "This is a test annotation"
        user: "admin"
        title: "Test Title"
        source: "Ansible"
        start_time: 1634731200
        end_time: 1634742000
        links:
          - title: "Link 1"
            url: "https://www.example.com"
      register: result2
      ignore_errors: true

    - debug:
        var: result2

    # Test Case 3: Trigger type-related bug by passing invalid type for start_time
    - name: Create annotation with invalid type for start_time
      community.general.librato_annotation:
        api_key: "YOUR_API_KEY"
        name: "Test Annotation"
        description: "This is a test annotation"
        user: "admin"
        title: "Test Title"
        source: "Ansible"
        start_time: "2021-10-20"
        end_time: 1634742000
        links:
          - title: "Link 1"
            url: "https://www.example.com"
      register: result3
      ignore_errors: true

    - debug:
        var: result3

    # Test Case 4: Trigger type-related bug by passing invalid type for links
    - name: Create annotation with invalid type for links
      community.general.librato_annotation:
        api_key: "YOUR_API_KEY"
        name: "Test Annotation"
        description: "This is a test annotation"
        user: "admin"
        title: "Test Title"
        source: "Ansible"
        start_time: 1634731200
        end_time: 1634742000
        links: "Invalid Links"
      register: result4
      ignore_errors: true

    - debug:
        var: result4