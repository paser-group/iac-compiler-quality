---
- name: Test playbook for NetworkSecurityPolicy module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Network Security Policy
      community.network.avi_networksecuritypolicy:
        controller: "https://{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "{{ network_security_policy_name }}"
        rules: !python/unicode NULL
        state: "present"
      register: result

    - name: Display result
      debug:
        var: result