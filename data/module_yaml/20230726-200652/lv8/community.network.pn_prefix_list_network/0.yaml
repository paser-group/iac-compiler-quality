---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add prefix list network
      community.network.pn_prefix_list_network:
        pn_cliswitch: "{{ pn_cliswitch | default('') }}"
        pn_name: "{{ pn_name | default('test-prefix-list') }}"
        pn_netmask: "{{ pn_netmask | default(!null) }}"
        pn_network: "{{ pn_network | default(!null) }}"
        state: present
      register: add_result

    - name: Debug add_result
      debug:
        var: add_result

    - name: Remove prefix list network
      community.network.pn_prefix_list_network:
        pn_cliswitch: "{{ pn_cliswitch | default('') }}"
        pn_name: "{{ pn_name | default('test-prefix-list') }}"
        pn_netmask: "{{ pn_netmask | default(!null) }}"
        pn_network: "{{ pn_network | default(!null) }}"
        state: absent

    - name: Debug remove_result
      debug:
        var: remove_result