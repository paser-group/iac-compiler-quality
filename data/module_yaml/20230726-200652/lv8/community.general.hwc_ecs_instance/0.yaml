---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a resource with latent type-related bugs
      community.general.hwc_ecs_instance:
        admin_pass: "admin123"
        availability_zone: "us-west-1"
        data_volumes: "/dev/sdb"
        description: 12345
        domain: "!null"
        eip_id: "eip123"
        enable_auto_recovery: true
        enterprise_project_id: ["project123"]
        flavor_name: 12345
        id: "instance123"
        identity_endpoint: "https://identity.example.com"
        image_id: ["image123"]
        name: 12345
        nics: "nic1"
        password: "!null"
        project: 12345
        region: "us-west-1"
        root_volume:
          size: "100"
          volume_type: 12345
        security_groups: ["sg1"]
        server_metadata:
          key1: 12345
        server_tags:
          key1: 12345
        ssh_key_name: 12345
        state: "present"
        timeouts:
          create: "600"
        user: 12345
        user_data: "#!/bin/bash\necho 'Hello, world!'"
        vpc_id: 12345
      register: result

    - name: Debug the result
      debug:
        var: result