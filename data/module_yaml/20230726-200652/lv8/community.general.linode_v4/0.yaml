---
- name: Manage Linode Instances
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Linode Instance
      community.general.linode_v4:
        access_token: "{{ access_token }}"
        state: present
        label: "TestInstance"
        region: "us-west"
        image: "linode/debian9"
        type: "g6-standard-2"
        tags:
          - "test"
        authorized_keys:
          - "ssh-rsa ABC123"
        stackscript_id: null
        stackscript_data:
          - key1: value1
            key2: value2
        private_ip: true
        root_pass: !null
      register: linode

    - name: Debug Linode response
      debug:
        var: linode