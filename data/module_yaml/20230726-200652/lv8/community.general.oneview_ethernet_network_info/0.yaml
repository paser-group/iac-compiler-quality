- name: Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false

  vars:
    api_version: 2
    config: "/path/to/config.json"
    hostname: "example.com"
    image_streamer_hostname: "imagestreamer.example.com"
    username: "admin"
    password: "password"
    name: "{{ host }}"

  tasks:
    - name: Include OneView library module
      include_role:
        name: "community.general.oneview_ethernet_network_info"

    - name: Retrieve Ethernet Network Info
      community.general.oneview_ethernet_network_info:
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        api_version: "{{ api_version }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        name: "{{ name }}"
        options: !null
      register: network_info

    - name: Print Network Info
      debug:
        var: network_info