---
- name: Test playbook for scaleway_function_info module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test with different data types
      community.general.scaleway_function_info:
        api_token: !set
        api_timeout: "300"
        api_url: 1234
        name: ["function1", "function2"]
        namespace_id: {"id": 1234}
        query_parameters:
          - param1: "value1"
            param2: !set
        region: 1234
        validate_certs: "false"
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Validate the result
      assert:
        that:
          - result is failed
        msg: "Type-related bug discovered in scaleway_function_info module!"