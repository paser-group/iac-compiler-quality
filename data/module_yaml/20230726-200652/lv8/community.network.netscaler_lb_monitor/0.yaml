- name: Test playbook for community.network.netscaler_lb_monitor module
  hosts: localhost
  gather_facts: false

  vars:
    type: !null

  tasks:
    - name: Create netscaler lb monitor
      community.network.netscaler_lb_monitor:
        nitro_user: admin
        nitro_pass: admin
        nitro_protocol: http
        nitro_timeout: 30
        nsip: "192.168.0.1"
        monitorname: "testmonitor"
        type: "{{ type }}"
      register: result

    - name: Debug monitor creation
      debug:
        var: result