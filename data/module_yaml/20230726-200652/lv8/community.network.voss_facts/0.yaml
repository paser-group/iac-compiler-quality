- name: Expose latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Include required collections
      include_role:
        name: ansible_collections.community.network

    - name: Set gather_subset to !null
      set_fact:
        gather_subset: !null

    - name: Collect Voss facts
      community.network.voss_facts:
        gather_subset: "{{ gather_subset }}"
        gather_network_resources: True
        gather_routing_resources: False
        gather_lldp_resources: False
      register: voss_facts

    - name: Display collected facts
      debug:
        var: voss_facts