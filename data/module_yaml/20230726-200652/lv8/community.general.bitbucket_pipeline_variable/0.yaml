---
- name: Manage Bitbucket Pipeline Variables
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Set a Bitbucket Pipeline Variable
      community.general.bitbucket_pipeline_variable:
        client_id: "your_client_id"
        client_secret: "your_client_secret"
        name: "variable_name"
        password: "your_password"
        repository: "your_repository"
        secured: true
        state: "present"
        user: "your_user"
        value: "your_value"
        workspace: "your_workspace"
      register: result

    - name: Print the Result
      debug:
        var: result