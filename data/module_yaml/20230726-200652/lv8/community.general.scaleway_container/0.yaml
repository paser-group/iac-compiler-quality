- name: Test playbook for Scaleway Container module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a Scaleway container
      community.general.scaleway_container:
        api_token: "my_api_token"
        api_url: "https://api.scaleway.com"
        region: "ams1"
        name: "test-container"
        registry_image: "nginx:latest"
        state: "present"
        privacy: "private"
        protocol: "http"
        port: 80
        validate_certs: false
        wait: false
        redeploy: false
        wait_sleep_time: 10
        wait_timeout: 300
        description: !null ''
        environment_variables: !null {}
        secret_environment_variables: !null {}
        query_parameters: !null {}
        min_scale: !null 0
        max_scale: !null 5
        memory_limit: !null 512
        max_concurrency: !null 10
        namespace_id: !null ''
        container_timeout: !null '30s'
        api_timeout: !null 60
      register: result

    - name: Debug result
      debug:
        var: result