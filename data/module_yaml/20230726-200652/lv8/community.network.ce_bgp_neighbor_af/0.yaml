---
- name: Test playbook for community.network.ce_bgp_neighbor_af module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure BGP neighbor Address-family
      community.network.ce_bgp_neighbor_af:
        provider: "{{ provider }}"
        neighbor: "{{ neighbor }}"
        vrf_name: "{{ vrf_name | default(omit) }}"
        af_type: "{{ af_type | default(omit) }}"
        default_rt_adv_enable: "{{ default_rt_adv_enable | default(omit) }}"
        export_rt_policy_name: "{{ export_rt_policy_name | default(omit) }}"
        import_rt_policy_name: "{{ import_rt_policy_name | default(omit) }}"
        advertise_arp: "{{ advertise_arp | default(omit) }}"
        advertise_irb: "{{ advertise_irb | default(omit) }}"
        keep_all_routes: "{{ keep_all_routes | default(omit) }}"
        default_rt_match_mode: "{{ default_rt_match_mode | default(omit) }}"
        redirect_ip: "{{ redirect_ip | default(omit) }}"
        redirect_ip_validation: "{{ redirect_ip_validation | default(omit) }}"
        public_as_only: "{{ public_as_only | default(omit) }}"
        public_as_only_force: "{{ public_as_only_force | default(omit) }}"
        public_as_only_limited: "{{ public_as_only_limited | default(omit) }}"
        public_as_only_replace: "{{ public_as_only_replace | default(omit) }}"
        public_as_only_skip_peer_as: "{{ public_as_only_skip_peer_as | default(omit) }}"
        route_limit: "{{ route_limit | default(omit) }}"
        route_limit_type: "{{ route_limit_type | default(omit) }}"
        route_limit_percent: "{{ route_limit_percent | default(omit) }}"
        route_limit_idle_timeout: "{{ route_limit_idle_timeout | default(omit) }}"
        update_pkt_standard_compatible: "{{ update_pkt_standard_compatible | default(omit) }}"
        export_pref_filt_name: "{{ export_pref_filt_name | default(omit) }}"
        import_pref_filt_name: "{{ import_pref_filt_name | default(omit) }}"
        export_as_path_name_or_num: "{{ export_as_path_name_or_num | default(omit) }}"
        import_as_path_name_or_num: "{{ import_as_path_name_or_num | default(omit) }}"
        export_as_path_filter: "{{ export_as_path_filter | default(omit) }}"
        import_as_path_filter: "{{ import_as_path_filter | default(omit) }}"
        advertise_community: "{{ advertise_community | default(omit) }}"
        advertise_ext_community: "{{ advertise_ext_community | default(omit) }}"
        discard_ext_community: "{{ discard_ext_community | default(omit) }}"
        add_path_mode: "{{ add_path_mode | default(omit) }}"
        adv_add_path_num: "{{ adv_add_path_num | default(omit) }}"
        remote_address: "{{ remote_address | default(omit) }}"
        substitute_as_enable: "{{ substitute_as_enable | default(omit) }}"
        export_acl_name_or_num: "{{ export_acl_name_or_num | default(omit) }}"
        import_acl_name_or_num: "{{ import_acl_name_or_num | default(omit) }}"
        vpls_enable: "{{ vpls_enable | default(omit) }}"
        vpls_ad_disable: "{{ vpls_ad_disable | default(omit) }}"
        rt_updt_interval: "{{ rt_updt_interval | default(omit) }}"
        orftype: "{{ orftype | default(omit) }}"
        orf_mode: "{{ orf_mode | default(omit) }}"
        ipprefix_orf_enable: "{{ ipprefix_orf_enable | default(omit) }}"
        is_nonstd_ipparefix_mod: "{{ is_nonstd_ipparefix_mod | default(omit) }}"
        allow_as_loop_enable: "{{ allow_as_loop_enable | default(omit) }}"
        allow_as_loop_limit: "{{ allow_as_loop_limit | default(omit) }}"
        preferred_value: "{{ preferred_value | default(omit) }}"
        soostring: "{{ soostring | default(omit) }}"
      register: bgp_neighbor_af

    - name: Debug bgp_neighbor_af output
      debug:
        var: bgp_neighbor_af