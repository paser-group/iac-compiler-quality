---
- name: Test Ansible Latent Type-Related Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Debug variable
      debug:
        var: some_variable

    - name: Set fact with dynamic type
      set_fact:
        dynamic_fact: "{{ some_variable | length | random | ternary('string', 123) }}"

    - name: Show fact
      debug:
        var: dynamic_fact