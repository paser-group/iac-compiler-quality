---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set up AlertEmailConfig with invalid values
      community.network.avi_alertemailconfig:
        controller: "https://{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        api_context:
          name: []
        avi_credentials:
          username: 123
          password: 123
        tenant_uuid: false
        tenant_ref: 0
        avi_api_patch_op: "none"
        avi_api_update_method: "none"
        avi_disable_session_cache_as_fact: ""
        cc_emails: [1, 2, 3]
        to_emails: {}
        url: 1.2.3.4
        uuid: true
        name: null
        description: ""
        state: 123
      register: result
      delegate_to: localhost

    - name: Display result
      ansible.builtin.debug:
        var: result
...