- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    check_command: ping
    client_cert: /path/to/client.cert
    client_key: /path/to/client.key
    display_name: Host 1
    force: true
    force_basic_auth: false
    http_agent: Mozilla/5.0
    ip: 10.1.1.1
    name: host1
    state: present
    template: null
    url: https://example.com
    url_username: admin
    url_password: password
    use_gssapi: true
    use_proxy: false
    validate_certs: true
    variables:
      var1: value1
      var2: value2
    zone: zone1

  tasks:
    - name: Create Icinga2 Host
      community.general.icinga2_host:
        name: "{{ name }}"
        check_command: "{{ check_command }}"
        client_cert: "{{ client_cert }}"
        client_key: "{{ client_key }}"
        display_name: "{{ display_name }}"
        force: "{{ force }}"
        force_basic_auth: "{{ force_basic_auth }}"
        http_agent: "{{ http_agent }}"
        ip: "{{ ip }}"
        state: "{{ state }}"
        template: "{{ template }}"
        url: "{{ url }}"
        url_username: "{{ url_username }}"
        url_password: "{{ url_password }}"
        use_gssapi: "{{ use_gssapi }}"
        use_proxy: "{{ use_proxy }}"
        validate_certs: "{{ validate_certs }}"
        variables: "{{ variables }}"
        zone: "{{ zone }}"
      register: icinga2_host_result

    - name: Print Icinga2 Host Result
      debug:
        var: icinga2_host_result