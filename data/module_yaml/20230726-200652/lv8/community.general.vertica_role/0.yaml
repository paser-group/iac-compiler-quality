- name: Test Vertica database role creation
  hosts: localhost
  gather_facts: false
  
  vars:
    assigned_roles: ['role1', 'role2', 'role3', 123]
    cluster: 'my_cluster'
    db: 'my_database'
    login_password: 'my_password'
    login_user: 'my_user'
    port: '5433'
    role: 'my_role'
    state: 'new'
  
  tasks:
    - name: Create Vertica database role
      community.general.vertica_role:
        assigned_roles: "{{ assigned_roles }}"
        cluster: "{{ cluster }}"
        db: "{{ db }}"
        login_password: "{{ login_password }}"
        login_user: "{{ login_user }}"
        port: "{{ port }}"
        role: "{{ role }}"
        state: "{{ state }}"
      register: result
  
    - name: Print Vertica role creation result
      debug:
        var: result