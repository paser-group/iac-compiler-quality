---
- name: Test playbook for Ansible latent type-related bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the redis_data_info module
      include_vars: "{{ playbook_dir }}/vars.yml"
      no_log: true

    - name: Execute the redis_data_info module
      community.general.redis_data_info:
        ca_certs: "{{ ca_certs | default(!null) }}"
        key: "{{ key | default(!null) }}"
        login_host: "{{ login_host | default(!null) }}"
        login_password: "{{ login_password | default(!null) }}"
        login_port: "{{ login_port | default(!null) }}"
        login_user: "{{ login_user | default(!null) }}"
        tls: "{{ tls | default(!null) }}"
        validate_certs: "{{ validate_certs | default(!null) }}"

      register: result

    - name: Debug the result
      debug:
        var: result