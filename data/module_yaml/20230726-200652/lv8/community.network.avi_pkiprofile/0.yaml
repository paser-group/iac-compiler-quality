---
- hosts: localhost
  gather_facts: false
  tasks:
    - name: Test Ansible latent type-related bugs
      community.network.avi_pkiprofile:
        controller: "{{ hostvars['localhost']['ansible_ssh_host'] }}"
        username: "{{ variable_that_does_not_exist }}"
        password: "password"
        api_context:
          !pip_install_module_name: "invalid_module"
        api_version: !shell command_that_does_not_exist
        avi_credentials:
          username: "admin"
          is_disabled: true
        ca_certs:
          - !ip_subnet 10.1.1.0/24
          - !null
          - !hostname ansible_host
        crls: !file_does_not_exist
        crl_check: !bool "hello world"
        tenant: !null
        tenant_uuid: !int "not_an_integer"
        created_by: !null
        validate_only_leaf_crl: !null
      register: result

    - debug:
        var: result