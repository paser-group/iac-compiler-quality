- name: Example Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create InfluxDB User
      community.general.influxdb_user:
        admin: !null
        grants:
          - database: "testdb"
            privilege: "READ"
        hostname: "localhost"
        password: "password"
        path: "/api/v2"
        port: 8086
        state: "present"
        timeout: "10"
        udp_port: 0
        use_udp: !null
        user_name: !null
        user_password: ""
        username: "admin"
        validate_certs: !null
      register: result

    - debug:
        var: result