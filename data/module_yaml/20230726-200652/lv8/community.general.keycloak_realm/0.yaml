- name: Test playbook for community.general.keycloak_realm module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Keycloak realm with !null values
      community.general.keycloak_realm:
        auth_keycloak_url: "http://keycloak.example.com/auth"
        auth_realm: "master"
        auth_username: "admin"
        auth_password: "admin"
        realm: "test_realm"
        state: present
        {% for option, value in options.items() %}
        {{ option }}: !null
        {% endfor %}
      register: result

    - name: Print result
      debug:
        var: result