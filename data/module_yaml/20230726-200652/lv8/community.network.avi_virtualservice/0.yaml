---
- name: Test playbook for community.network.avi_virtualservice module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a new VirtualService
      community.network.avi_virtualservice:
        controller: "ansible-controller"
        username: "admin"
        password: "password"
        tenant: "Default"
        cloud_type: null  # Heuristic: Use !null as configuration values
        tenant_uuid: "null"
        api_version: "17.2.9"
        uuid: null
        name: "test_virtualservice"
        enabled: false
        analytics_policy: null
        analytics_profile_ref: null
        avi_allocated_vip: false
        network_profile_ref: null
        pool_group_ref: null
        service_pool_select: null
        snat_ip: null
        ssl_profile_ref: null
        ssl_key_and_certificate_refs: null
        type: null
        url: null
        vip: null
        state: null
      register: result

    - name: Print the result
      debug:
        var: result