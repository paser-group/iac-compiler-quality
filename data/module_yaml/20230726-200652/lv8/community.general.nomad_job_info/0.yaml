- name: Test Ansible module for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include Nomad module
      ansible.builtin.include_role:
        name: community.general.nomad

    - name: Create Nomad job
      community.general.nomad_job_info:
        name: test_job
        namespace: !null
        client_cert: !null
        client_key: !null
        host: !null
        timeout: 300
        use_ssl: true
        validate_certs: false
        token: !null
      register: result

    - name: Print result
      debug:
        var: result