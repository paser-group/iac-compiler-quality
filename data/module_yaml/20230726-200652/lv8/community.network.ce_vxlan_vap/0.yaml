---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false
  
  vars:
    bind_vlan_id: null
    bridge_domain_id: null
    ce_vid: null
    encapsulation: null
    l2_sub_interface: null
    pe_vid: null
    state: null
  
  tasks:
    - name: Create VXLAN VAP
      community.network.ce_vxlan_vap:
        bind_vlan_id: "{{ bind_vlan_id | default(omit) }}"
        bridge_domain_id: "{{ bridge_domain_id | default(omit) }}"
        ce_vid: "{{ ce_vid | default(omit) }}"
        encapsulation: "{{ encapsulation | default(omit) }}"
        l2_sub_interface: "{{ l2_sub_interface | default(omit) }}"
        pe_vid: "{{ pe_vid | default(omit) }}"
        state: "{{ state | default(omit) }}"
      register: result
      
    - name: Debug VXLAN VAP
      debug:
        var: result