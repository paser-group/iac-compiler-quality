---
- name: Test Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: False

  vars:
    controller: "my_controller"
    username: "my_username"
    password: "my_password"
    tenant: "my_tenant"

  tasks:
    # Test Case 1: Using !null as configuration values
    - name: Create a scheduler with null start_date_time
      community.network.avi_scheduler:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "scheduler1"
        start_date_time: !null
        state: present

    - name: Create a scheduler with null frequency
      community.network.avi_scheduler:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "scheduler2"
        frequency: !null
        state: present

    - name: Create a scheduler with null end_date_time
      community.network.avi_scheduler:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "scheduler3"
        end_date_time: !null
        state: present

    - name: Create a scheduler with null enabled
      community.network.avi_scheduler:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "scheduler4"
        enabled: !null
        state: present

    - name: Create a scheduler with null run_mode
      community.network.avi_scheduler:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "scheduler5"
        run_mode: !null
        state: present

  handlers:
    - name: Display success message
      debug:
        msg: "All test cases executed successfully."