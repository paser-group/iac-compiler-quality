- name: Test playbook for ansible.builtin.user module
  hosts: all
  gather_facts: false

  tasks:
    - name: Create user with null value for password
      ansible.builtin.user:
        name: testuser
        password: '!null'
        state: present

    - name: Create user with null value for shell
      ansible.builtin.user:
        name: testuser
        shell: '!null'
        state: present

    - name: Create user with null value for home directory
      ansible.builtin.user:
        name: testuser
        home: '!null'
        state: present

    - name: Create user with null value for groups
      ansible.builtin.user:
        name: testuser
        groups: '!null'
        state: present

    - name: Create user with null value for authorized keys
      ansible.builtin.user:
        name: testuser
        authorized_keys: '!null'
        state: present

    - name: Create user with null value for remove
      ansible.builtin.user:
        name: testuser
        remove: '!null'

    - name: Create user with null value for system
      ansible.builtin.user:
        name: testuser
        system: '!null'

    - name: Create user with null value for uid
      ansible.builtin.user:
        name: testuser
        uid: '!null'
        state: present

    - name: Create user with null value for umask
      ansible.builtin.user:
        name: testuser
        umask: '!null'
        state: present

    - name: Create user with null value for update_password
      ansible.builtin.user:
        name: testuser
        update_password: '!null'
        state: present