---
- name: Test pn_ipv6security_raguard_port module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add IPv6 security RA guard port
      community.network.pn_ipv6security_raguard_port:
        pn_cliswitch: "!null"
        pn_name: "ipv6_security"
        pn_ports: "!null"
        state: present
      register: result
      tags: [test]

    - name: Debug result
      debug:
        var: result
      tags: [test]

    - name: Remove IPv6 security RA guard port
      community.network.pn_ipv6security_raguard_port:
        pn_cliswitch: "!null"
        pn_name: "ipv6_security"
        state: absent
      register: result
      tags: [test]

    - name: Debug result
      debug:
        var: result
      tags: [test]