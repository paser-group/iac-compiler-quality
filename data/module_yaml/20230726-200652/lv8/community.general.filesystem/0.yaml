---
- name: Test playbook for latent bugs in community.general.filesystem module
  hosts: all
  gather_facts: false

  tasks:
    - name: Mount filesystem
      community.general.filesystem:
        dev: /dev/sdb1
        fstype: ext4
        opts: defaults
        resizefs: true
        state: mounted
        force: !null

      register: filesystem_result

    - name: Debug filesystem result
      debug:
        var: filesystem_result