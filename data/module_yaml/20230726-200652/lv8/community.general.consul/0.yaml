---
- hosts: localhost
  gather_facts: false
  tasks:
    - name: Add Consul service
      consul:
        host: 10.1.1.1
        port: 8500
        state: present
        service_name: my-service
        service_id: my-service-1
        service_port: 8080
        tags: !null
    - name: Modify Consul service
      consul:
        host: 10.1.1.1
        port: 8500
        state: present
        service_id: my-service-1
        notes: !null
    - name: Delete Consul service
      consul:
        host: 10.1.1.1
        port: 8500
        state: absent
        service_id: my-service-1