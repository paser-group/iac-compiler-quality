---
- name: Execute NETCONF RPC operations
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Execute NETCONF RPC
      ansible.netcommon.netconf_rpc:
        content: |
          <rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
            <get>
              <filter>
                <interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces">
                  <interface/>
                </interfaces>
              </filter>
            </get>
          </rpc>
        display: xml
        rpc: True
        xmlns: ietf-interfaces="urn:ietf:params:xml:ns:yang:ietf-interfaces"

      register: result

    - name: Display the output
      debug:
        var: result.stdout

    - name: Test Case 1 - Use !null as configuration values
      ansible.netcommon.netconf_rpc:
        content: |
          <rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
            <edit-config>
              <target>
                <running/>
              </target>
              <config>
                <interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces">
                  <interface>
                    <name>GigabitEthernet0/0</name>
                    <description>!null</description>
                  </interface>
                </interfaces>
              </config>
            </edit-config>
          </rpc>
        display: xml
        rpc: True
        xmlns: ietf-interfaces="urn:ietf:params:xml:ns:yang:ietf-interfaces"

      register: result2

    - name: Display the output of Test Case 1
      debug:
        var: result2.stdout