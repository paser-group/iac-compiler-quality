---
- name: Testing Ansible Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Docker container
      ansible.builtin.docker_container:
        name: my_container
        image: "{{ docker_image | default('ubuntu') }}"
        state: running

    - name: Debug container info
      debug:
        var: ansible_facts.docker_container.my_container

    - name: Update Docker container
      ansible.builtin.docker_container:
        name: my_container
        image: !null  # Use !null as a configuration value
        state: reloaded

    - name: Debug updated container info
      debug:
        var: ansible_facts.docker_container.my_container