- name: Manage IP tunnel interfaces
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create IP tunnel interface with null values
      community.network.dladm_iptun:
        state: present
        name: !null
        type: !null
        temporary: "{{ true }}"
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Update IP tunnel interface with null values
      community.network.dladm_iptun:
        state: present
        name: !null
        type: !null
        temporary: "{{ false }}"
      register: result

    - name: Debug result
      debug:
        var: result

    - name: Delete IP tunnel interface with null values
      community.network.dladm_iptun:
        state: absent
        name: !null
      register: result

    - name: Debug result
      debug:
        var: result