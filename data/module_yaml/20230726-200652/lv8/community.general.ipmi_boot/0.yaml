- name: IPMI Boot Management
  hosts: all
  gather_facts: false

  tasks:
    - name: Set IPMI boot options
      community.general.ipmi_boot:
        name: "{{ inventory_hostname }}"
        state: present
        bootdev: pxe
        uefiboot: true
        key: !null
        user: !null
        password: !null
        persistent: !null
        port: !null

      register: ipmi_boot_result

    - name: Debug IPMI boot result
      debug:
        var: ipmi_boot_result