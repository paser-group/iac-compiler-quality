- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Run custom module
      custom_module:
        option1: "{{ option1 }}"
        option2: "{{ option2 }}"
        option3: "{{ option3 }}"
        option4: "{{ option4 }}"
        option5: "{{ option5 }}"
        option6: "{{ option6 }}"
        option7: "{{ option7 }}"
      loop: "{{ targets }}"
      loop_control:
        loop_var: target

  vars:
    targets:
      - target1
      - target2
    option1: 10
    option2: "string"
    option3: true
    option4: !null
    option5: []
    option6: {}
    option7: "invalidValue"