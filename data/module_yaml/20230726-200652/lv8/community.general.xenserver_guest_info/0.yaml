- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    hostname: !null
    name: !null
    password: !null
    username: !null
    uuid: !null
    validate_certs: !null

  tasks:
    - name: Gather information for virtual machine
      community.general.xenserver_guest_info:
        hostname: "{{ hostname }}"
        name: "{{ name }}"
        password: "{{ password }}"
        username: "{{ username }}"
        uuid: "{{ uuid }}"
        validate_certs: "{{ validate_certs }}"
      register: vm_info

    - name: Print virtual machine information
      debug:
        var: vm_info