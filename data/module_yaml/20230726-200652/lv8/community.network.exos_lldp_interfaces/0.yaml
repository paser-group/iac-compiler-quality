---
- name: Test Ansible latent bugs
  hosts: localhost
  gather_facts: false

  vars:
    config:
      - interface: eth1
        state: !null
        system_name: "Switch1"
        chasses_id: "ASDF1234"
        port_description: "Test Interface 1"
        management_address: "10.1.1.10/24"
      - interface: eth2
        state: enable
        system_name: !null
        chasses_id: "ASDF1234"
        port_description: "Test Interface 2"
        management_address: "10.1.1.20/24"
      - interface: eth3
        state: enable
        system_name: "Switch1"
        chasses_id: "ASDF1234"
        port_description: "Test Interface 3"
        management_address: !null

  tasks:
    - name: Configure LLDP attributes for different interfaces
      community.network.exos_lldp_interfaces:
        config: "{{ config }}"

      register: result

    - name: Debug module output
      debug:
        var: result