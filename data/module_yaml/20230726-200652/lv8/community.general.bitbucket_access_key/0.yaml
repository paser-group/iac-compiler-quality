---
- name: Manage Bitbucket Access Keys
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Access Key
      community.general.bitbucket_access_key:
        user: test_user
        repository: test_repo
        key: test_key
        state: present
        client_id: "!null"
        client_secret: "!null"
        label: "!null"
        password: "!null"
        workspace: "!null"
      register: result

    - name: Display Result
      debug:
        var: result