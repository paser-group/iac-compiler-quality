---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false
  vars:
    ansible_python_interpreter: "{{ ansible_playbook_python }}"
    ansible_connection: local

  tasks:
    - name: Set inventory configurations
      set_fact:
        inventory_config:
          - name: ubuntu1
            ip: 10.1.1.1
          - name: alpine1
            ip: 10.1.1.2
          - name: centos1
            ip: 10.1.1.3
          - name: redhat1
            ip: 10.1.1.4

    - name: Print inventory configurations
      debug:
        var: inventory_config

    - name: Validate inventory configurations
      validate_argument_spec:
        argument_spec: !null
        provided_arguments: "{{ inventory_config }}"
      register: validation_result

    - name: Print validation result
      debug:
        var: validation_result