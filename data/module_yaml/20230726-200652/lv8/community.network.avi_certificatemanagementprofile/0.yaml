---
- name: Test ansible_certificatemanagementprofile module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create CertificateManagementProfile with null values
      community.network.avi_certificatemanagementprofile:
        controller: "192.168.1.1"
        username: "admin"
        password: "password"
        tenant: "Default"
        name: "test-certificate"
        state: present
        avi_credentials:
          username: null
          password: null
        url: null
        tenant_uuid: null
        tenant_ref: null
        script_path: null
        script_params: null
        avi_api_update_method: null
        avi_api_patch_op: null
        api_version: "20.1.3"
        api_context:
          ssl_key_and_certificate_refs: []
          service_engine_group_refs: []
          not_before: null
          not_after: null
        avi_disable_session_cache_as_fact: false
      register: result

    - name: Debug CertificateManagementProfile creation
      debug:
        var: result