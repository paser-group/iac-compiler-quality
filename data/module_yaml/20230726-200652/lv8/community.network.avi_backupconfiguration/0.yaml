- name: Test Ansible Latent Type-Related Bugs Exploration
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Configure Backup Configuration
      community.network.avi_backupconfiguration:
        controller: "{{ ansible_host }}"
        username: "{{ avi_username }}"
        password: "{{ avi_password }}"
        tenant: "{{ avi_tenant }}"
        name: BackupConfig1
        remote_hostname: "10.1.1.1"
        remote_directory: "/backup"
        upload_to_remote_host: true
        upload_to_s3: true
        aws_access_key: null
        aws_secret_access: null
        aws_bucket_id: null
        backup_file_prefix: null
        backup_passphrase: null
        maximum_backups_stored: null
        save_local: true
        state: present
      register: result

    - debug:
        var: result