---
- name: Test playbook for exposing type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Create VNIC with incorrect type for 'state'
      community.network.dladm_vnic:
        link: "net0"
        mac: "00:11:22:33:44:55"
        name: "test_vnic"
        state: 123  # Providing an incorrect type for 'state'
        temporary: true
        vlan: 10
      register: vnic_result

    - name: Display output
      debug:
        var: vnic_result