---
- name: Test reachability using ping from Ruckus ICX
  hosts: localhost
  connection: local
  gather_facts: false
  
  tasks:
    - name: Dummy task
      debug:
        msg: "This is a dummy task"
    
    - name: Ping test
      community.network.icx_ping:
        dest: 10.1.1.1
        count: "{{ '5' }}"
        size: "{{ 56 }}"
        source: 10.1.1.2
        state: present
        timeout: "{{ 2 }}"
        ttl: "{{ 64 }}"
        vrf: !null
      register: ping_result

    - name: Print ping result
      debug:
        var: ping_result