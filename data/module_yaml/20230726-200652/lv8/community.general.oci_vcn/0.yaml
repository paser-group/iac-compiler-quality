---
- name: Test playbook for Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false
  
  vars:
    api_user: null
    api_user_fingerprint: null
    api_user_key_file: null
    api_user_key_pass_phrase: null
    auth_type: null
    cidr_block: null
    compartment_id: null
    config_file_location: null
    config_profile_name: null
    defined_tags: null
    display_name: null
    dns_label: null
    force_create: null
    freeform_tags: null
    key_by: null
    region: null
    state: null
    tenancy: null
    vcn_id: null
    wait: null
    wait_timeout: null
    wait_until: null

  tasks:
    - name: Create VCN with null configuration values
      oci_vcn:
        api_user: "{{ api_user | default(omit) }}"
        api_user_fingerprint: "{{ api_user_fingerprint | default(omit) }}"
        api_user_key_file: "{{ api_user_key_file | default(omit) }}"
        api_user_key_pass_phrase: "{{ api_user_key_pass_phrase | default(omit) }}"
        auth_type: "{{ auth_type | default(omit) }}"
        cidr_block: "{{ cidr_block | default(omit) }}"
        compartment_id: "{{ compartment_id | default(omit) }}"
        config_file_location: "{{ config_file_location | default(omit) }}"
        config_profile_name: "{{ config_profile_name | default(omit) }}"
        defined_tags: "{{ defined_tags | default(omit) }}"
        display_name: "{{ display_name | default(omit) }}"
        dns_label: "{{ dns_label | default(omit) }}"
        force_create: "{{ force_create | default(omit) }}"
        freeform_tags: "{{ freeform_tags | default(omit) }}"
        key_by: "{{ key_by | default(omit) }}"
        region: "{{ region | default(omit) }}"
        state: "{{ state | default(omit) }}"
        tenancy: "{{ tenancy | default(omit) }}"
        vcn_id: "{{ vcn_id | default(omit) }}"
        wait: "{{ wait | default(omit) }}"
        wait_timeout: "{{ wait_timeout | default(omit) }}"
        wait_until: "{{ wait_until | default(omit) }}"
        
      register: vcn_creation_result

    - name: Debug VCN creation result
      debug:
        var: vcn_creation_result