---
- hosts: localhost
  gather_facts: false
  vars:
    webhook:
      repository: test_repo

  tasks:
    - name: Create GitHub webhook
      community.general.github_webhook:
        repository: "{{ webhook.repository }}"
        url: "http://webhook.example.com/receive"
        password: !null
        github_url: "https://github.com/test_owner/test_repo"
        user: "test_user"
        state: "{{ 'present' }}"
      register: result

    - name: Check registered result for type-related bugs
      debug:
        var: result