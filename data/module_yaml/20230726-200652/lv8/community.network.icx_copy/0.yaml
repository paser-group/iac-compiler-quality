- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Transfer file using icx_copy module
      community.network.icx_copy:
        protocol: null  # Bug: Setting protocol to null
        remote_server: localhost
        remote_user: testuser
        remote_pass: testpass
        remote_port: "22"
        public_key: null  # Bug: Setting public_key to null
        remote_filename: null  # Bug: Setting remote_filename to null
        download: "/tmp/file.txt"  # Bug: Setting download to a filePath
        upload: null  # Bug: Setting upload to null
      register: result

    - name: Debug icx_copy result
      debug:
        var: result