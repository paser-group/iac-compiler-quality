- name: Test Ansible module - community.general.profitbricks_datacenter
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create ProfitBricks datacenter
      community.general.profitbricks_datacenter:
        name: "Test Datacenter"
        description: !null
        location: ["us/las", "us/lax"]
        state: present
        subscription_user: "user1"
        subscription_password: "password"
        wait: true
        wait_timeout: !null

    - name: Debug ProfitBricks datacenter
      debug:
        var: ansible_facts.profitbricks_datacenter

    - name: Remove ProfitBricks datacenter
      community.general.profitbricks_datacenter:
        name: "Test Datacenter"
        state: absent
        subscription_user: "user1"
        subscription_password: "password"
        wait: true
        wait_timeout: !null