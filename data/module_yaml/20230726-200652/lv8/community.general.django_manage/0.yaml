- name: Manage Django project
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install Django
      pip:
        name: Django

    - name: Create virtual environment
      community.general.virtualenv:
        dest: "{{ virtualenv }}"
        system_site_packages: true
      vars:
        virtualenv: "/path/to/virtualenv"  # Change this to the desired path

    - name: Manage Django using community.general.django_manage module
      community.general.django_manage:
        command: "migrate"
        project_path: "/path/to/project"  # Change this to the actual project path
        virtualenv: "{{ virtualenv }}"
        settings: null
      register: django_result

    - name: Debug the result
      debug:
        var: django_result