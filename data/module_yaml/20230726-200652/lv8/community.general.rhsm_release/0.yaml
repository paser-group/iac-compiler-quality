---
- name: Test Ansible module for latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Set release using rhsm_release module with null value
      community.general.rhsm_release:
        release: !null
      when: inventory_hostname == 'redhat1'

    - name: Set release using rhsm_release module with non-string value
      community.general.rhsm_release:
        release: 7.9
      when: inventory_hostname == 'centos1'

    - name: Set release using rhsm_release module with list value
      community.general.rhsm_release:
        release:
          - "7.9"
      when: inventory_hostname == 'ubuntu1'

    - name: Unset release using rhsm_release module
      community.general.rhsm_release:
        release: !null
      when: inventory_hostname == 'alpine1'