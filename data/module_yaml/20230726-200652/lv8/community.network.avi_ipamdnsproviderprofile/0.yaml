- name: Test playbook for community.network.avi_ipamdnsproviderprofile module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Triggering a potential type-related bug by setting avi_api_update_method to an invalid value
      community.network.avi_ipamdnsproviderprofile:
        controller: "https://{{inventory_hostname}}"
        username: "{{ username }}"
        password: "{{ password }}"
        avi_api_update_method: "invalid_value"
      register: result
      ignore_errors: true

    - name: Display debug message
      debug:
        var: result