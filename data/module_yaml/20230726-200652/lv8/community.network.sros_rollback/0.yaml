---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate a latent type-related bug
      community.network.sros_rollback:
        local_max_checkpoints: 10.1.1.1
        remote_max_checkpoints: None
        rescue_location: True
        rollback_location: ['redhat1', 'ubuntu1']
        state: 3
      register: rollback_result

    - name: Debug rollback result
      debug:
        var: rollback_result