- name: Test playbook for latent type-related bug exploration
  hosts: all
  gather_facts: false

  tasks:
    - name: Set value as a string
      set_fact:
        my_variable: 123

    - name: Set value as a boolean
      set_fact:
        my_variable: true

    - name: Set value as a list
      set_fact:
        my_variable: [1, 2, 3]

    - name: Set value as a dictionary
      set_fact:
        my_variable:
          key1: value1
          key2: value2

    - name: Print variable type
      debug:
        msg: "Variable type: {{ my_variable | type_debug }}"