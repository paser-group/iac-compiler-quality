---
- name: Test playbook for community.general.oneview_san_manager module
  hosts: localhost
  gather_facts: false

  vars:
    api_version: '1.2.3'
    config: null
    hostname: 12345
    image_streamer_hostname: 'image.example.com'
    password: 12345
    state: 'absent'
    username: null
    validate_etag: 12345

  tasks:
    - name: Include role to install Ansible OneView SDK
      include_role:
        name: hpe.oneview
        tasks_from: python_sdk_install.yml

    - name: Create a SAN manager using community.general.oneview_san_manager module
      community.general.oneview_san_manager:
        config: "{{ config }}"
        hostname: "{{ hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        state: "{{ state }}"
        api_version: "{{ api_version }}"
        image_streamer_hostname: "{{ image_streamer_hostname }}"
        validate_etag: "{{ validate_etag }}"
        data:
          hostname: "{{ inventory_hostname }}"
          name: "{{ non_existent_variable }}"
          providerDisplayName: [1, 2, 3]
          providerUri: 12345
          type: ['a', 'b', 'c']