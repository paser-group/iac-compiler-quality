---
- name: Test playbook for community.general.ipa_dnszone module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test Case 1 - Triggering latent type-based bug
      community.general.ipa_dnszone:
        zone_name: "{{ item.zone_name }}"
        state: present
        allowsyncptr: "{{ item.allowsyncptr | default('!null') }}"
        dynamicupdate: "{{ item.dynamicupdate | default('!null') }}"
        ipa_host: "{{ item.ipa_host | default('!null') }}"
        ipa_pass: "{{ item.ipa_pass | default('!null') }}"
        ipa_port: "{{ item.ipa_port | default('!null') }}"
        ipa_prot: "{{ item.ipa_prot | default('!null') }}"
        ipa_timeout: "{{ item.ipa_timeout | default('!null') }}"
        ipa_user: "{{ item.ipa_user | default('!null') }}"
        validate_certs: "{{ item.validate_certs | default('!null') }}"
      loop:
        - { zone_name: "example.com", allowsyncptr: false }
        - { zone_name: "test.com", dynamicupdate: true }
        - { zone_name: "ansible.com", ipa_host: "ipa.example.com" }
        - { zone_name: "playbook.com", ipa_pass: "mypassword" }
        - { zone_name: "heuristic.com", ipa_port: 8888 }
        - { zone_name: "bug.com", ipa_prot: "https" }
        - { zone_name: "typebug.com", ipa_timeout: 30 }
        - { zone_name: "ansiblebug.com", ipa_user: "ansible" }
        - { zone_name: "certbug.com", validate_certs: true }