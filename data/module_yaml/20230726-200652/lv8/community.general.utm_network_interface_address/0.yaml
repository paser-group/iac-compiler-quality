- name: Test UTM Network Interface Address module
  hosts: localhost
  gather_facts: false

  vars:
    address: "10.1.1.1"
    address6: "fe80::1"
    comment: "Testing UTM Network Interface"
    headers:
      Content-Type: "application/json"
    name: "interface1"
    resolved: false
    resolved6: false
    state: "present"
    utm_host: "utm.example.com"
    utm_port: 443
    utm_protocol: "https"
    utm_token: "secret_token"
    validate_certs: true

  tasks:
    - name: Create UTM Network Interface
      community.general.utm_network_interface_address:
        address: "{{ address | default(!null) }}"
        address6: "{{ address6 | default(!null) }}"
        comment: "{{ comment | default(!null) }}"
        headers: "{{ headers | default({}) }}"
        name: "{{ name | default(!null) }}"
        resolved: "{{ resolved | default(!null) }}"
        resolved6: "{{ resolved6 | default(!null) }}"
        state: "{{ state | default(!null) }}"
        utm_host: "{{ utm_host | default(!null) }}"
        utm_port: "{{ utm_port | default(!null) }}"
        utm_protocol: "{{ utm_protocol | default(!null) }}"
        utm_token: "{{ utm_token | default(!null) }}"
        validate_certs: "{{ validate_certs | default(!null) }}"