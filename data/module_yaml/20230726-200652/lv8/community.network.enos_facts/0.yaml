---
- name: Gather facts from remote devices
  hosts: all
  gather_facts: false
  tasks:
    - name: Set configuration values
      set_fact:
        auth_pass: null
        authorize: !null
        gather_subset: null

    - name: Gather facts
      community.network.enos_facts:
        auth_pass: "{{ auth_pass }}"
        authorize: "{{ authorize }}"
        gather_subset: "{{ gather_subset }}"
      register: facts
      delegate_to: localhost

    - name: Display gathered facts
      debug:
        var: facts