---
- name: Test playbook for Scaleway Load Balancer module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a Scaleway Load Balancer
      community.general.scaleway_lb:
        api_token: "YOUR_API_TOKEN"
        api_url: "https://api.scaleway.com"
        organization_id: "YOUR_ORGANIZATION_ID"
        region: "fr-par-1"
        name: "my-lb"
        description: "My Load Balancer"
        state: present
        query_parameters:
          - key: "param1"
            value: 123
          - key: "param2"
            value: "abc"
        tags:
          - "web"
          - 123
          - !null
        validate_certs: true
        wait: true
        wait_sleep_time: 10
        wait_timeout: "300"
      register: result

    - name: Debug result
      debug:
        var: result