---
- name: Test ansible.latent-bug-finder-playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure iSCSI target
      community.general.open_iscsi:
        auto_node_startup: 123
        auto_portal_startup: true
        discover: "false"
        login: null
        node_auth: !null
        node_pass: { invalid_key: "invalid_value" }
        node_pass_in: ["invalid_password"]
        node_user: !null
        node_user_in: !debug
        port: ~
        portal: [1, 2, 3]
        rescan: [true, false]
        show_nodes: "true"
        target: ["invalid_target"]
      register: iscsi_config

    - name: Debug iSCSI configuration
      debug:
        var: iscsi_config