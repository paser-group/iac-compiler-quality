---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create CustomIPAM DNS Profile
      community.network.avi_customipamdnsprofile:
        controller: "{{ controller }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        name: "{{ profile_name }}"
        state: present
        api_context: !null

  vars:
    controller: "https://{{ inventory_hostname }}"
    username: "admin"
    password: "admin"
    tenant: "admin"
    profile_name: "test-profile"