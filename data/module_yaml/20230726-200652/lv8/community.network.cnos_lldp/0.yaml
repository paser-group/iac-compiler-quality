---
- name: Test playbook for community.network.cnos_lldp module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Manage LLDP configuration on Lenovo devices
      community.network.cnos_lldp:
        state: "{{ lldp_state }}"
        enable: "{{ lldp_enable | default(!null) }}"
        timers:
          holdtime: "{{ lldp_timers_holdtime | default(!null) }}"
          reinit: "{{ lldp_timers_reinit | default(!null) }}"
          tx_interval: "{{ lldp_timers_tx_interval | default(!null) }}"
      register: lldp_config
      when: lldp_state is defined

    - name: Print the LLDP configuration
      debug:
        var: lldp_config
      when: lldp_config is defined