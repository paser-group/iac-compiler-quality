---
- name: Test ansible.builtin.find module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Find files based on specified criteria
      ansible.builtin.find:
        paths: "/path/to/directory"
        age: "!null"
        excludes:
          - "*.txt"
        recurse: true
        size: ">=1M"
      register: found_files

    - name: Debug found files
      debug:
        var: found_files.files