---
- name: Test playbook for community.general.rpm_ostree_pkg
  hosts: all
  gather_facts: false

  tasks:
    - name: Install or uninstall RPM packages using rpm_ostree_pkg module
      community.general.rpm_ostree_pkg:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      loop:
        - { name: 'package_ex1', state: 'present' }
        - { name: 'package_ex2', state: 'absent' }
        - { name: 'package_ex3', state: 'present' }
        - { name: 'package_ex4', state: 'absent' }