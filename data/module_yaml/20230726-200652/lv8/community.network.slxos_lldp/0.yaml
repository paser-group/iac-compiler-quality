---
- name: Configure LLDP on Extreme Networks devices
  hosts: network_devices
  gather_facts: false

  tasks:
    - name: Configure LLDP on the network devices
      community.network.slxos_lldp:
        state: none
        interface: "{{ item.interface }}"
        admin_status: "{{ item.admin_status }}"
        config:
          - '{{ item.config | to_nice_yaml }}'
      with_items:
        - interface: GigabitEthernet1/1
          admin_status:
            - !null
            - !['enabled', 'disabled']
          config:
            timers:
              hold: 4
              transmit: 2
              retry: !null
              invalid_key: !null
              invalid_value: '!null'
        - interface: GigabitEthernet1/2
          admin_status:
            - !null
            - 'enabled'
          config: !null