---
- name: Retrieve file information with ansible.builtin.stat
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Retrieve file information
      ansible.builtin.stat:
        path: "{{ item }}"
        checksum_algorithm: !!str null
        follow: !!bool null
        get_attributes: !!bool null
        get_checksum: !!bool null
        get_mime: !!bool null
      with_items:
        - /path/to/file1
        - /path/to/file2
        - /path/to/file3
      register: file_stats

    - name: Show file information
      debug:
        var: file_stats