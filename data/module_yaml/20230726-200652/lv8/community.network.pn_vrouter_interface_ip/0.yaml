- name: Test playbook for pn_vrouter_interface_ip module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add IP address to vRouter interface
      community.network.pn_vrouter_interface_ip:
        pn_bd: "vlan100"
        pn_cliswitch: "leaf1"
        pn_ip: "10.1.1.100"
        pn_netmask: "255.255.255.0"
        pn_nic: "eth0"
        pn_vnet: "vnet1"
        pn_vrouter_name: "vrouter1"
        state: present
      register: result

    - name: Display result
      debug:
        var: result

    - name: Remove IP address from vRouter interface
      community.network.pn_vrouter_interface_ip:
        pn_bd: "vlan100"
        pn_cliswitch: "leaf1"
        pn_ip: null
        pn_netmask: null
        pn_nic: "eth0"
        pn_vnet: "vnet1"
        pn_vrouter_name: "vrouter1"
        state: present
      register: result2

    - name: Display second result
      debug:
        var: result2