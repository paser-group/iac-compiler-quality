---
- name: Test playbook for community.network.ce_rollback module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create a checkpoint
      community.network.ce_rollback:
        action: "create"
      register: result
      failed_when: false

    - name: Print the result
      debug:
        var: result

    - name: Set a checkpoint
      community.network.ce_rollback:
        action: "set"
        commit_id: "!null"
        filename: "!null"
        label: "!null"
        last: "!null"
        oldest: "!null"
      register: result
      failed_when: false

    - name: Print the result
      debug:
        var: result