- name: Test playbook for latent type-related bug
  hosts: all
  gather_facts: false
  vars:
    - packages:
        - package1
        - package2
    - force: "{{ 'false' | bool }}"
    - update_cache: "{{ 'true' | bool }}"
    - upgrade: "{{ 'false' | bool }}"
  tasks:
    - name: Install packages
      community.general.pacman:
        name: "{{ packages }}"
        state: present
        force: "{{ force }}"
        update_cache: "{{ update_cache }}"
        upgrade: "{{ upgrade }}"
      register: result

    - name: Debug result
      debug:
        var: result