---
- name: Test playbook for community.general.rax_cdb
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create a Rackspace Cloud Database instance with null values
      community.general.rax_cdb:
        api_key: "!null"
        auth_endpoint: "!null"
        cdb_type: "!null"
        cdb_version: "!null"
        credentials: "!null"
        env: "!null"
        flavor: "!null"
        identity_type: "!null"
        name: "!null"
        region: "!null"
        state: present
        tenant_id: "!null"
        tenant_name: "!null"
        username: "!null"
        validate_certs: "!null"
        volume: "!null"
        wait: "!null"
        wait_timeout: "!null"
      register: result_create_instance
      
    - name: Display result of creating a Rackspace Cloud Database instance
      debug:
        var: result_create_instance
        
    - name: Delete the created Rackspace Cloud Database instance with null values
      community.general.rax_cdb:
        api_key: "!null"
        auth_endpoint: "!null"
        cdb_type: "!null"
        cdb_version: "!null"
        credentials: "!null"
        env: "!null"
        flavor: "!null"
        identity_type: "!null"
        name: "!null"
        region: "!null"
        state: absent
        tenant_id: "!null"
        tenant_name: "!null"
        username: "!null"
        validate_certs: "!null"
        volume: "!null"
        wait: "!null"
        wait_timeout: "!null"
      register: result_delete_instance
      
    - name: Display result of deleting the Rackspace Cloud Database instance
      debug:
        var: result_delete_instance