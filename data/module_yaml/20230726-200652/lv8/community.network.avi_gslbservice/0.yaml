---
- hosts: localhost
  tasks:
    - name: Create GSLB service
      community.network.avi_gslbservice:
        controller: "10.1.1.1"
        username: "admin"
        password: "password"
        tenant: "Default-Cloud"
        name: "{{ lookup('env', 'SERVICE_NAME') }}"
        description: "{{ lookup('env', 'SERVICE_DESCRIPTION') }}"
        state: present
        enabled: true
        tenant_ref: null
        tenant_uuid: null
        domain_names: null
        groups: null
        health_monitor_refs: null
        health_monitor_scope: null
        min_members: null
        num_dns_ip: null
        pool_algorithm: null
        site_persistence_enabled: true
        ttl: null
        url: null
        use_edns_client_subnet: true
        wildcard_match: true
      register: gslb_service

    - name: Debug gslb_service
      debug:
        var: gslb_service