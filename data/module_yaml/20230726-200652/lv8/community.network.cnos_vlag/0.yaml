- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Define variables
      set_fact:
        vlagArgs:
          - "{{ vlagArg1 | default(None) }}"
          - "{{ vlagArg2 | default(None) }}"
          - "{{ vlagArg3 | default(None) }}"
          - "{{ vlagArg4 | default(None) }}"
  
    - name: Create VLAG
      community.network.cnos_vlag:
        host: "{{ ansible_host }}"
        username: "{{ username }}"
        password: "{{ password }}"
        enablePassword: "{{ enablePassword }}"
        deviceType: "{{ deviceType }}"
        vlagArg: "{{ vlagArgs | default([]) }}"
      register: result
      ignore_errors: true
  
    - name: Print debug output
      debug:
        var: result