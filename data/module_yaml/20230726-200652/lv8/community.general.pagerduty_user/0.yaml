- name: Manage PagerDuty User
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create PagerDuty user with invalid pd_email value
      community.general.pagerduty_user:
        access_token: "YOUR_ACCESS_TOKEN_HERE"
        pd_user: "test_user"
        pd_email: []
        pd_role: "user"
        pd_teams: []
        state: present

    - name: Update PagerDuty user with invalid pd_role value
      community.general.pagerduty_user:
        access_token: "YOUR_ACCESS_TOKEN_HERE"
        pd_user: "test_user"
        pd_email: "test@example.com"
        pd_role: 123
        pd_teams: []
        state: present

    - name: Update PagerDuty user with invalid pd_teams value
      community.general.pagerduty_user:
        access_token: "YOUR_ACCESS_TOKEN_HERE"
        pd_user: "test_user"
        pd_email: "test@example.com"
        pd_role: "user"
        pd_teams: {}
        state: present

    - name: Delete PagerDuty user with invalid access_token value
      community.general.pagerduty_user:
        access_token: []
        pd_user: "test_user"
        state: absent