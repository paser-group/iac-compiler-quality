- name: Test playbook for Ansible latent type-related bug exploration
  hosts: localhost
  gather_facts: false

  vars:
    inventory_file: |
      [nodes]
      ubuntu1 ansible_host=10.1.1.1 ansible_connection=docker
      alpine1 ansible_host=10.1.1.2 ansible_connection=docker
      centos1 ansible_host=10.1.1.3 ansible_connection=docker
      redhat1 ansible_host=10.1.1.4 ansible_connection=docker

      [node-net]
      ubuntu1 ansible_host=10.1.1.1 gateway=10.1.1.254 netmask=255.255.255.0
      alpine1 ansible_host=10.1.1.2 gateway=10.1.1.254 netmask=255.255.255.0
      centos1 ansible_host=10.1.1.3 gateway=10.1.1.254 netmask=255.255.255.0
      redhat1 ansible_host=10.1.1.4 gateway=10.1.1.254 netmask=255.255.255.0

  tasks:
    - name: Display the inventory file
      debug:
        var: inventory_file