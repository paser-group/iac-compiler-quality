---
- name: Test Playbook
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create GitLab runner
      community.general.gitlab_runner:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        state: present
        project: "my_project"
        description: !null
        tag_list: !null
        active: !null
        locked: !null
        run_untagged: !null
        access_level: !null
        access_level_on_creation: !null
        validate_certs: !null
      register: result
      
    - name: Display GitLab runner info
      debug:
        var: result

    - name: Modify GitLab runner
      community.general.gitlab_runner:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        state: present
        project: "my_project"
        description: !null
        tag_list: !null
        active: !null
        locked: !null
        run_untagged: !null
        access_level: !null
        access_level_on_creation: !null
        validate_certs: !null
      register: result
      
    - name: Display modified GitLab runner info
      debug:
        var: result

    - name: Delete GitLab runner
      community.general.gitlab_runner:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        state: absent
        project: "my_project"
        description: !null
        tag_list: !null
        active: !null
        locked: !null
        run_untagged: !null
        access_level: !null
        access_level_on_creation: !null
        validate_certs: !null
      register: result
      
    - name: Display GitLab runner deletion result
      debug:
        var: result