---
- name: Test playbook for logstash plugin
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Install logstash plugin
      community.general.logstash_plugin:
        name: logstash-plugin
        plugin_bin: "/usr/local/bin/logstash-plugin"
        proxy_host: !null
        proxy_port: !null
        state: present
        version: "2.0.0"
      register: plugin_installed
      
    - name: Debug logstash plugin installation
      debug:
        var: plugin_installed