---
- name: Test IRC module with latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    irc_channel: "#ansible"
    irc_server: "irc.example.com"
    irc_nick: "ansiblebot"
    irc_msg: "Hello from Ansible Bot"
    irc_key: null  # Use !null as configuration value to uncover latent bugs

  tasks:
    - name: Send IRC message with null key
      community.general.irc:
        channel: "{{ irc_channel }}"
        msg: "{{ irc_msg }}"
        server: "{{ irc_server }}"
        key: "{{ irc_key | default(!null) }}"  # Set key to !null if not provided