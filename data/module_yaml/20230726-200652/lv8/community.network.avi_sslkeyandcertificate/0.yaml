---
- name: Test playbook for exposing latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create SSL Key and Certificate
      community.network.avi_sslkeyandcertificate:
        controller: "https://{{ inventory_hostname }}"
        username: "admin"
        password: "admin"
        tenant: "Default"
        api_version: "20.1.1"
        name: "ssl_key_cert"
        key:
          - alias:
            key: "-----BEGIN PRIVATE KEY-----\nMIIE..."
            key_passphrase:
        certificate:
          - cert: "-----BEGIN CERTIFICATE-----\nMIID..."
            format: "PEM"
        tenant_ref:
      register: result

    - name: Display result
      debug:
        var: result
...