- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Gather online user information
      community.general.online_user_info:
        api_timeout: null
        api_token: null
        api_url: null
        validate_certs: null
      register: online_users

    - name: Display online user information
      debug:
        var: online_users

    - name: Validate gathered online user information
      assert:
        that:
          - online_users is not failed
          - online_users | length > 0