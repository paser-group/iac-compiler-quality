---
- name: Test playbook for community.general.aix_lvg
  hosts: localhost
  gather_facts: false
  vars:
    my_test_vg: mytestvg
    my_test_pp_size: 128
    my_test_pvs: "/dev/sdb,/dev/sdc"
  
  tasks:
    - name: Create volume group
      community.general.aix_lvg:
        vg: "{{ my_test_vg }}"
        state: present
        force: true
        pp_size: "{{ my_test_pp_size }}"
        pvs: "{{ my_test_pvs }}"
      register: create_lvg
      
    - debug:
        var: create_lvg

    - name: Test case - Use !null as configuration values
      community.general.aix_lvg:
        vg: "{{ my_test_vg }}"
        state: "{{ omit }}"
        pp_size: "{{ omit }}"
        pvs: "{{ omit }}"
        force: "{{ omit }}"
      register: type_bug
      
    - debug:
        var: type_bug