---
- name: Test playbook for community.network.a10_server_axapi3 module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set configuration values
      set_fact:
        client_cert: !null
        client_key: !null
        force: !null
        force_basic_auth: !null
        host: "10.1.1.1"
        http_agent: !null
        operation: !null
        password: "password123"
        server_ip: !null
        server_name: !null
        server_ports: !null
        server_status: !null
        url: "/api/v2/server"
        url_password: !null
        url_username: !null
        use_gssapi: !null
        use_proxy: !null
        username: "admin"
        validate_certs: !null
        write_config: !null

    - name: Manage A10 Networks AX/SoftAX/Thunder AXAPI server
      community.network.a10_server_axapi3:
        client_cert: "{{ client_cert }}"
        client_key: "{{ client_key }}"
        force: "{{ force }}"
        force_basic_auth: "{{ force_basic_auth }}"
        host: "{{ host }}"
        http_agent: "{{ http_agent }}"
        operation: "{{ operation }}"
        password: "{{ password }}"
        provider:
          server_ip: "{{ server_ip }}"
          server_name: "{{ server_name }}"
          server_ports: "{{ server_ports }}"
          server_status: "{{ server_status }}"
        url: "{{ url }}"
        url_password: "{{ url_password }}"
        url_username: "{{ url_username }}"
        use_gssapi: "{{ use_gssapi }}"
        use_proxy: "{{ use_proxy }}"
        username: "{{ username }}"
        validate_certs: "{{ validate_certs }}"
        write_config: "{{ write_config }}"
      register: result

    - name: Print module result
      debug:
        var: result