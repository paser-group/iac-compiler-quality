---
- hosts: localhost
  gather_facts: false

  vars:
    domain: "example.com"
    enterprise_project_id: "123456"
    id: "security_group_id"
    identity_endpoint: "https://identity.cloud.example.com"
    name: "test_security_group"
    password: "s3cr3tp@ssw0rd"
    project: "my_project"
    region: "us-west1"
    state: "present"
    user: "my_user"
    vpc_id: "vpc_id"

  tasks:
    - name: Create VPC Security Group
      community.general.hwc_vpc_security_group:
        domain: "{{ domain | default(!null) }}"
        enterprise_project_id: "{{ enterprise_project_id | default(!null) }}"
        id: "{{ id | default(!null) }}"
        identity_endpoint: "{{ identity_endpoint | default(!null) }}"
        name: "{{ name | default(!null) }}"
        password: "{{ password | default(!null) }}"
        project: "{{ project | default(!null) }}"
        region: "{{ region | default(!null) }}"
        state: "{{ state | default(!null) }}"
        user: "{{ user | default(!null) }}"
        vpc_id: "{{ vpc_id | default(!null) }}"
      register: result

    - debug:
        var: result