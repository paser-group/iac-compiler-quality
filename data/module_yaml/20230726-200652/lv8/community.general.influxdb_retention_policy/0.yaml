---
- name: Test playbook to uncover type-related bugs in influxdb_retention_policy module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set null configuration value for database_name using !null
      community.general.influxdb_retention_policy:
        database_name: !null
        default: true
        duration: "1w"
        hostname: "localhost"
        password: "password"
        path: "/etc/influxdb"
        policy_name: "my_policy"
        port: 8086
        proxies: {}
        replication: 1
        retries: 3
        shard_group_duration: "1w"
        ssl: false
        state: present
        timeout: 10
        udp_port: 0
        use_udp: false
        username: "admin"
        validate_certs: false