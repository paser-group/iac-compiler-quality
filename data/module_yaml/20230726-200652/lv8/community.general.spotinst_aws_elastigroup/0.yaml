- name: Create an AWS Elastigroup
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include the spotinst_aws_elastigroup module
      include_role:
        name: community.general.spotinst_aws_elastigroup

- name: Test case 1 - Assign a boolean value to availability_vs_cost
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Elastigroup
      community.general.spotinst_aws_elastigroup:
        state: present
        name: my-elastigroup
        account_id: "{{ lookup('env', 'SPOTINST_ACCOUNT_ID') }}"
        availability_vs_cost: true

- name: Test case 2 - Assign an integer value to block_device_mappings
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Elastigroup
      community.general.spotinst_aws_elastigroup:
        state: present
        name: my-elastigroup
        account_id: "{{ lookup('env', 'SPOTINST_ACCOUNT_ID') }}"
        block_device_mappings: 12345

- name: Test case 3 - Assign a dictionary value to health_check_type
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Elastigroup
      community.general.spotinst_aws_elastigroup:
        state: present
        name: my-elastigroup
        account_id: "{{ lookup('env', 'SPOTINST_ACCOUNT_ID') }}"
        health_check_type:
          - type: TCP
            interval: 30
            timeout: 5
            health_threshold: 5
            unhealthy_duration: 60

- name: Test case 4 - Assign an array value to iam_role_name
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create Elastigroup
      community.general.spotinst_aws_elastigroup:
        state: present
        name: my-elastigroup
        account_id: "{{ lookup('env', 'SPOTINST_ACCOUNT_ID') }}"
        iam_role_name:
          - role_1
          - role_2
          - role_3