---
- name: Test Ansible apt_repo module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add APT repository
      community.general.apt_repo:
        repo: "{{ apt_repo_url }}"
        state: present
        update: "{{ update | default(true) }}"
        remove_others: "{{ remove_others | default(false) | int }}"

    - name: Set invalid type for update option
      community.general.apt_repo:
        repo: "{{ apt_repo_url }}"
        state: present
        update: "True"

    - name: Set invalid type for remove_others option
      community.general.apt_repo:
        repo: "{{ apt_repo_url }}"
        state: present
        remove_others: "False"

    - name: Set null state value
      community.general.apt_repo:
        repo: "{{ apt_repo_url }}"
        state: !null

    - name: Set unsupported type for state option
      community.general.apt_repo:
        repo: "{{ apt_repo_url }}"
        state: 123

    - name: Set unsupported type for repo option
      community.general.apt_repo:
        repo:
          - repo1
          - repo2

...