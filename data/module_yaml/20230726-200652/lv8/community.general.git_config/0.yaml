---
- name: Test playbook for community.general.git_config
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set git configuration
      community.general.git_config:
        name: user.name
        value: "John Doe"
        scope: local
      register: result_set_config

    - name: debug set configuration result
      debug:
        var: result_set_config

    - name: Get git configuration
      community.general.git_config:
        name: user.name
        scope: local
      register: result_get_config

    - name: debug get configuration result
      debug:
        var: result_get_config

    - name: Remove git configuration
      community.general.git_config:
        name: user.name
        state: absent
        scope: local
      register: result_remove_config

    - name: debug remove configuration result
      debug:
        var: result_remove_config