---
- name: Test playbook for latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Send email
      community.general.sendgrid:
        api_key: "YOUR_API_KEY"
        attachments: []
        bcc: []
        body: "Hello, this is the body of the email."
        cc: []
        from_address: "sender@example.com"
        from_name: "Sender Name"
        headers: {}
        html_body: false
        password: "{{ null }}"
        subject: "Test Email"
        to_addresses:
          - recipient1@example.com
        username: "{{ not_defined_variable }}"
      register: sendgrid_result

    - name: Debug sendgrid_result
      debug:
        var: sendgrid_result