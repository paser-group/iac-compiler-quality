---
- name: Expose latent type-related bugs
  hosts: localhost
  gather_facts: false

  vars:
    api_host: "proxmox.example.com"
    api_user: "admin"
    api_password: "password"
    node: "proxmox-node-1"
    vmid: 100

  tasks:
    - name: Create a Proxmox instance
      community.general.proxmox:
        api_host: "{{ api_host }}"
        api_user: "{{ api_user }}"
        api_password: "{{ api_password }}"
        node: "{{ node }}"
        vmid: "{{ vmid }}"
        state: present
        ostemplate: null
        password: null
        onboot: null
        validate_certs: null
      register: proxmox_instance

    - name: Debug Proxmox instance details
      debug:
        var: proxmox_instance