---
- name: Test Ansible latent bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test module with different variable types
      debug:
        var: item
      loop:
        - 10
        - "20"
        - 30.5
        - !null  # Using !null as a configuration value

    - name: Test variable coercion
      set_fact:
        var1: "{{ item }}"
      with_items:
        - 123
        - "456"
        - !null  # Using !null as an item value

    - name: Test variable validation
      assert:
        that:
          - item is string
        fail_msg: "Variable '{{ item }}' is not a string!"
      with_items:
        - "hello"
        - 123
        - [1, 2, 3]
        - !null  # Using !null as an item value