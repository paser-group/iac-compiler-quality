- name: Test latent type-related bugs in Ansible compiler
  hosts: localhost
  gather_facts: false

  vars:
    network_nodes:
      - name: ubuntu1
        ip_address: "10.1.1.1"
        distribution: "ubuntu"
      - name: alpine1
        ip_address: "10.1.1.2"
        distribution: "alpine"
      - name: centos1
        ip_address: "10.1.1.3"
        distribution: "centos"
      - name: redhat1
        ip_address: "10.1.1.4"
        distribution: "redhat"

  tasks:
    - name: Create inventory file
      template:
        src: inventory.j2
        dest: inventory

    - name: Print inventory
      ansible.builtin.debug:
        var: inventory_content