- name: Execute community.general.hg module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Clone/update Mercurial repository
      community.general.hg:
        clone: "{{ clone | default(!null) }}"        # bool
        dest: "{{ dest | default(!null) }}"          # path
        executable: "{{ executable | default(!null) }}"  # str
        force: "{{ force | default(!null) }}"        # bool
        purge: "{{ purge | default(!null) }}"        # bool
        repo: "{{ repo | default(!null) }}"          # str
        revision: "{{ revision | default(!null) }}"  # str
        update: "{{ update | default(!null) }}"      # bool
      register: hg_result