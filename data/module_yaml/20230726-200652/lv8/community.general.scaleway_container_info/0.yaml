---
- name: Test playbook for Ansible Latent Type-Related Bug Exploration
  hosts: localhost
  gather_facts: false

  vars:
    api_timeout: 10
    api_token: "YOUR_API_TOKEN"
    api_url: "https://api.scaleway.com"
    name: "my-container"
    namespace_id: "my-namespace"
    query_parameters:
      key1: "value1"
      key2: "value2"
    region: "fr-par"
    validate_certs: false

  tasks:
    - name: Include the community.general.scaleway_container_info module
      include_role:
        name: community.general.scaleway_container_info

    - name: Test with !null value in configuration
      community.general.scaleway_container_info:
        api_timeout: "{{ api_timeout }}"
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        name: "{{ name }}"
        namespace_id: "{{ namespace_id }}"
        query_parameters: "{{ query_parameters }}"
        region: "{{ region }}"
        validate_certs: "{{ validate_certs | bool }}"