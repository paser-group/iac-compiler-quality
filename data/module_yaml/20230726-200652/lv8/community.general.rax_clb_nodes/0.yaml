---
- hosts: localhost
  gather_facts: False

  tasks:
    - name: Create a test load balancer
      community.general.rax_clb:
        state: present
        name: test-lb
        protocol: HTTP
        port: 80

    - name: Add node to the load balancer
      community.general.rax_clb_nodes:
        state: present
        load_balancer_id: "!null"
        address: "!null"
        port: 80
        type: "!null"
        condition: "!null"
        weight: "!null"

    - name: Modify node in the load balancer
      community.general.rax_clb_nodes:
        state: present
        load_balancer_id: "!null"
        node_id: "!null"
        address: "!null"
        port: "!null"
        type: "!null"
        condition: "!null"
        weight: "!null"

    - name: Remove node from the load balancer
      community.general.rax_clb_nodes:
        state: absent
        load_balancer_id: "!null"
        node_id: "!null"