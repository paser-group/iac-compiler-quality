---
- name: Test playbook for community.general.mas module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install mas package
      community.general.mas:
        id: 123
        state: installed
        upgrade_all: "true"

    - name: Uninstall mas package
      community.general.mas:
        id: "abc"
        state: absent
        upgrade_all: "false"

    - name: Upgrade mas package
      community.general.mas:
        id: [1, 2, 3]
        state: latest
        upgrade_all: "true"

    - name: Configure mas package
      community.general.mas:
        id: "xyz"
        state: present
        upgrade_all: "invalid_value"
      vars:
        custom_app_id: 987
        custom_app_file: /tmp/app_file
        custom_app_url: "http://example.com"

    - name: Configure mas package with invalid custom_app_url
      community.general.mas:
        id: "xyz"
        state: present
        upgrade_all: "true"
      vars:
        custom_app_id: "abc"
        custom_app_file: /tmp/app_file
        custom_app_url: 123