---
- name: Test Airbrake Deployment
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include airbrake_deployment module
      include_vars:
        file: airbrake_deployment.yml

    - name: Test Case 1 - Valid configuration
      airbrake_deployment:
        environment: !null
        project_id: !null
        project_key: !null
        repo: !null
        revision: !null
        url: !null
        user: !null
        validate_certs: false
        version: !null
      ignore_errors: true
      register: result_1
      when: false  # Change to the appropriate condition for your specific case

    - name: Debug test case 1 results
      debug:
        var: result_1

    - name: Test Case 2 - Invalid configuration
      airbrake_deployment:
        environment: !null
        project_id: !null
        project_key: !null
        repo: !null
        revision: !null
        url: !null
        user: !null
        validate_certs: false
        version: !null
      ignore_errors: true
      register: result_2
      when: true  # Change to the appropriate condition for your specific case

    - name: Debug test case 2 results
      debug:
        var: result_2