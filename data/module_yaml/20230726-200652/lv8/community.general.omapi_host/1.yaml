---
- name: Test playbook for community.general.omapi_host module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include OMAPI host module
      include_role:
        name: community.general.omapi_host
      vars:
        omapi_host_ddns: true
        omapi_host_host: "example.com"
        omapi_host_hostname: "server"
        omapi_host_ip: "192.168.1.100"
        omapi_host_key: "API_KEY"
        omapi_host_key_name: "api_key_name"
        omapi_host_macaddr: "00:11:22:33:44:55"
        omapi_host_port: 1234
        omapi_host_state: "present"
        omapi_host_statements:
          - "allow new"
          - "deny known"