- name: Execute commands on Aruba devices
  hosts: aruba_devices
  gather_facts: false

  tasks:
    - name: Run commands on Aruba devices
      community.network.aruba_command:
        host: "{{ inventory_hostname }}"
        username: "{{ aruba_username }}"
        password: "{{ aruba_password }}"
        commands:
          - show version
          - command: show ip interfaces {{ interface }}
            interface: null
      register: result

    - name: Debug output
      debug:
        var: result