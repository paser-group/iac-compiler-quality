- name: Ansible Playbook to test 'community.general.webfaction_domain' module
  hosts: localhost
  tasks:
    - name: Add domain with subdomains
      community.general.webfaction_domain:
        login_name: 1234
        login_password: ansible_password
        name: example.com
        state: present
        subdomains: "{{ null }}"
      ignore_errors: true

    - name: Remove domain and all subdomains
      community.general.webfaction_domain:
        login_name: ansible_user
        login_password: 5678
        name: example.com
        state: absent
        subdomains: "{{ null }}"
      ignore_errors: true