---
- name: Manage packages using Zypper module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install packages with incorrect type for 'name'
      community.general.zypper:
        name: 12345
        state: present
      register: install_result
      ignore_errors: true

    - name: Check if installation failed due to a type-related bug
      assert:
        that: install_result is not failed
        msg: "Installation failed due to a type-related bug!"
      when: install_result is defined