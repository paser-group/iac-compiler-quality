---
- name: Test playbook to uncover latent type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure DNS record with null for priority
      community.general.rax_dns_record:
        api_key: "Your_API_Key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0"
        comment: "Test DNS record"
        credentials: "/path/to/credentials"
        data: "1.2.3.4"
        domain: "example.com"
        env: "env1"
        identity_type: "rackspace"
        loadbalancer: null
        name: "www"
        overwrite: false
        priority: null
        region: "IAD"
        server: "servers.api.rackspacecloud.com"
        state: "present"
        ttl: 3600
        type: "A"
        username: "your_username"
        validate_certs: false

    - name: Configure DNS record with null for region
      community.general.rax_dns_record:
        api_key: "Your_API_Key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0"
        comment: "Test DNS record"
        credentials: "/path/to/credentials"
        data: "1.2.3.4"
        domain: "example.com"
        env: "env1"
        identity_type: "rackspace"
        loadbalancer: null
        name: "www"
        overwrite: false
        priority: 10
        region: null
        server: "servers.api.rackspacecloud.com"
        state: "present"
        ttl: 3600
        type: "A"
        username: "your_username"
        validate_certs: false

    - name: Configure DNS record with null for validate_certs
      community.general.rax_dns_record:
        api_key: "Your_API_Key"
        auth_endpoint: "https://identity.api.rackspacecloud.com/v2.0"
        comment: "Test DNS record"
        credentials: "/path/to/credentials"
        data: "1.2.3.4"
        domain: "example.com"
        env: "env1"
        identity_type: "rackspace"
        loadbalancer: null
        name: "www"
        overwrite: false
        priority: 10
        region: "IAD"
        server: "servers.api.rackspacecloud.com"
        state: "present"
        ttl: 3600
        type: "A"
        username: "your_username"
        validate_certs: null