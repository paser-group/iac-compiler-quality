---
- name: Ansible Compiler Debugger & Heuristic Test Playbook
  hosts: localhost
  gather_facts: false

  vars:
    guest_name: "test_guest"
    guest_password: "test_password"
    networks:
      - name: "network1"
        bridge: "xenbr0"
        mac: "00:11:22:33:44:55"
        ip: "192.168.1.100/24"
        netmask: "255.255.255.0"
        gateway: "192.168.1.1"
        vlan: "100"

  tasks:
    - name: Create a guest VM
      community.general.xenserver_guest:
        name: "{{ guest_name }}"
        password: "{{ guest_password }}"
        networks: "{{ networks }}"
      register: result

    - name: Display the result
      debug:
        var: result

    # Add more tasks to further test different scenarios and heuristics
    # ...

...