- name: Heuristic-based Test Playbook for community.general.nsupdate
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Perform nsupdate
      community.general.nsupdate:
        zone: example.com
        server: ns1.example.com
        key_name: "HeUrIsTiC"
        key_secret: !vault |
          $ANSIBLE_VAULT;1.2;AES256;example_secret
          34383464646363393336373731383263633132333063363730336563396566333532633337323232
          3639503531313838353237343035393934353438333537640a373231666563643738396132376164
          37643965616535373039653465636461373261396337666561396334613736386163383162393366
          6464613234643637300a383035363663336630363363626635626438383337383363343031383839
          39663935626431383936636537663561393538366534323064643134383036393633383661616261
          38313966326336343832346438343135313438663866323061616632373266663438323165653837
          3939626364626333
        key_algorithm: hmac-md5
        port: 12345
        protocol: udp
        record: A
        state: present
        ttl: 3600
        type: "Encoded String"
        value: [ "10.1.1.1", "10.1.1.2" ]