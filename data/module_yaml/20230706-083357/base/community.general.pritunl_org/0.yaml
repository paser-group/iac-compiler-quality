---
- name: Test playbook for community.general.pritunl_org module
  hosts: localhost
  gather_facts: no

  vars:
    force: True
    name: "Test Organization"
    pritunl_api_secret: "API_SECRET"
    pritunl_api_token: "API_TOKEN"
    pritunl_url: "https://example.com"
    state: present
    validate_certs: False

  tasks:
    - name: Test community.general.pritunl_org module
      community.general.pritunl_org:
        force: "{{ force }}"
        name: "{{ name }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Debug result
      debug:
        var: result
        verbosity: 2