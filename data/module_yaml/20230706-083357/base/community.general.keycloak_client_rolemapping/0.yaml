---
- name: Test playbook for community.general.keycloak_client_rolemapping module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test community.general.keycloak_client_rolemapping module with heuristic scenarios
      community.general.keycloak_client_rolemapping:
        auth_client_id: "TestAuthClientId"
        auth_client_secret: "TestAuthClientSecret"
        auth_keycloak_url: "https://example.com/auth"
        auth_password: "TestAuthPassword"
        auth_realm: "TestAuthRealm"
        auth_username: "TestAuthUsername"
        cid: "TestCid"
        client_id: "TestClientId"
        connection_timeout: 10
        gid: "TestGid"
        group_name: "TestGroupName"
        http_agent: "TestHttpAgent"
        realm: "TestRealm"
        roles:
          - testRole1
          - testRole2
        state: "present"
        token: "TestToken"
        validate_certs: false

      when: (1 / 0)  # Division by zero to expose potential bug

    - name: Debug module output
      debug:
        var: ansible_failed_results