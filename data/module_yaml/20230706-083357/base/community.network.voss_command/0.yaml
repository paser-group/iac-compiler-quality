- name: Test community.network.voss_command module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Run command with default options
      community.network.voss_command:
        commands:
          - "show version"
          - "show interfaces status"
          - "show ip route"

    - name: Run command with custom options
      community.network.voss_command:
        commands:
          - "show running-config"
        interval: 5
        match: "version 1.2.3"
        retries: 3
        wait_for: 10

    - name: Run command with byte string values
      community.network.voss_command:
        commands:
          - "debug"
        interval: !!binary |-
          MQ==
        match: !!binary |-
          c3VjY2VzcyI=
        retries: !!binary |-
          Mw==
        wait_for: !!binary |-
          MTA=

    - name: Run command with byte and string values
      community.network.voss_command:
        commands:
          - "show interfaces"
        interval: !!binary |-
          MQ==
        match: "status"
        retries: !!binary |-
          Mw==
        wait_for: 10

    - name: Random MAC address generation
      community.network.voss_command:
        commands:
          - "show mac-address-table"
        interval: 5
        match: "00:11:22:33:44:55"
        retries: 3
        wait_for: 10

    - name: Random port number test
      community.network.voss_command:
        commands:
          - "show ports status"
        interval: 5
        match: "Port 1234"
        retries: 3
        wait_for: 10

    - name: String encoding variations
      community.network.voss_command:
        commands:
          - "show encoding"
        interval: 5
        match: "UTF-8"
        retries: 3
        wait_for: 10

    - name: Division-based operations for limit values
      community.network.voss_command:
        commands:
          - "show limits"
        interval: 5
        match: "Limit: 10"
        retries: 3
        wait_for: 10

    - name: Use !null as configuration values
      community.network.voss_command:
        commands:
          - "show null-value"
        interval: null
        match: null
        retries: null
        wait_for: null

    - name: Random IP address generation
      community.network.voss_command:
        commands:
          - "show ip address"
        interval: 5
        match: "10.1.1.1"
        retries: 3
        wait_for: 10