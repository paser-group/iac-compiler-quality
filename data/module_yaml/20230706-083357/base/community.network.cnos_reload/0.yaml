---
- name: Heuristic test playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Reload switch configuration
      community.network.cnos_reload:
        deviceType: "{{ deviceType }}"
        enablePassword: "{{ enablePassword }}"
        host: "{{ host }}"
        outputfile: "{{ outputfile }}"
        password: "{{ password }}"
        username: "{{ username }}"
        mixedStrings: "{{ mixedStrings }}"
        byteStrings: "{{ byteStrings }}"
        macAddress: "{{ macAddress }}"
        port: "{{ port }}"
        encodingString: "{{ encodingString }}"
        limit: "{{ limit }}"
        manifest: "{{ manifest }}"
        ipAddress: "{{ ipAddress }}"

  vars:
    deviceType: "cnos"
    enablePassword: "password123"
    host: "10.1.1.1"
    outputfile: "switch_output.txt"
    password: "password123"
    username: "admin"
    byteStrings:
      - "b'{{ random('string', 10) | string }}'"
      - "byte"
    mixedStrings:
      - "{{ random('string', 10) }}"
      - "{{ random('string', 10) }}"
      - 123
    macAddress: "{{ random_mac }}"
    port: "{{ random_port }}"
    encodingString: "{{ random('string', 10).decode('utf-8') }}"
    limit: "{{ random('int', 1, 10) / random('int', 1, 10) }}"
    manifest: "{{ 'null' if random('bool') else 'not null' }}"
    ipAddress: "{{ random_ip }}"

  vars_files:
    - vars.yml