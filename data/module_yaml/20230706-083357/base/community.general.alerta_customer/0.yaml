---
- name: Heuristic-based test playbook for community.general.alerta_customer module
  hosts: localhost
  gather_facts: false

  vars:
    alerta_url: "https://example.com/alerta"
    api_key: "my-api-key"
    api_username: "admin"
    api_password: "admin123"
    customer: "ACME"
    match: "all"
    state: "present"

  tasks:
    - name: Test mixed case sensitivity with string configuration values
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "hElLo"
      register: result_1
  
    - name: Test byte string configuration values
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63356463613430633762323433333433613337363764666566363764373762313437323437
          3631613234366131663534663966613665333437396638320A333137653562393663396535
          36363634356465333365373234383334363037396639373862396232346235633863363762
          6630633336613738300A623835363938666237393061636332316439643965373637633734
          60716434666130383835666261626465323138363533343836373163323662383337663531
          35356631373864396233343962323861653135363533303736333766353534393231663433
          33343930626661383431353365353930343030663033396533333036666230633566346637
          66393839653964343661303231396433663530376666326638633464373838393661373166
          30373031393434623337303061346638383066373861373865313230383465613733323263
          62306262353166663331326539373861203431613264623631363437633431323939373130
          30626662393436623665353835613561366335656238363838396662343762376163303636
          34343765373434393864333639663431303437633962396562303766616134623262616630
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
      register: result_2

    - name: Test mixed byte and string configuration values
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: !vault "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
      register: result_3

    - name: Test random MAC address
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
        mac: "00:11:22:33:44:55"
      register: result_4

    - name: Test random port number
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
        port: 12345
      register: result_5

    - name: Test varied encoded string
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ 'SGVsbG8gd29ybGQ=' | b64decode }}"
        customer: "{{ customer }}"
      register: result_6

    - name: Test limit value assigned with division
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
        limit: 50
      register: result_7

    - name: Test null configuration value
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
        null_value: null
      register: result_8

    - name: Test random IP address
      community.general.alerta_customer:
        alerta_url: "{{ alerta_url }}"
        api_key: "{{ api_key }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        customer: "{{ customer }}"
        ip_address: "192.168.0.1"
      register: result_9

    - name: Debug module output
      debug:
        var: item
      loop:
        - result_1
        - result_2
        - result_3
        - result_4
        - result_5
        - result_6
        - result_7
        - result_8
        - result_9