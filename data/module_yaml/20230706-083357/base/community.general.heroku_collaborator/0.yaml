---
- name: Test playbook for community.general.heroku_collaborator module
  hosts: localhost
  gather_facts: False

  vars:
    api_key: YOUR_API_KEY
    apps:
      - app1
      - app2
    state: present
    suppress_invitation: true
    user: user1

  tasks:
    - name: Add collaborators to Heroku app
      community.general.heroku_collaborator:
        api_key: "{{ api_key }}"
        apps: "{{ apps }}"
        state: "{{ state }}"
        suppress_invitation: "{{ suppress_invitation | bool }}"
        user: "{{ user }}"
      ignore_errors: true
      register: result

    - name: Debug module output
      debug:
        var: result