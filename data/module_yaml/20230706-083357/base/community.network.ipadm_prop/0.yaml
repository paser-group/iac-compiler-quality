- name: Heuristic Test Playbook for community.network.ipadm_prop
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set property with a random value
      community.network.ipadm_prop:
        property: "property1"
        value: "{{ random_string }}"
        state: "present"
      vars:
        random_string: "{{ lookup('password', chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789') }}"

    - name: Test mixed case sensitivity for string configuration values
      community.network.ipadm_prop:
        property: "PrOpErTy5"
        value: "{{ random_string }}"
        state: "present"
      vars:
        random_string: "{{ lookup('password', chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789') }}"

    - name: Introduce byte string values
      community.network.ipadm_prop:
        property: "property1_byte"
        value: "{{ random_string | to_bytes }}"
        state: "present"
      vars:
        random_string: "{{ lookup('password', chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789') }}"

    - name: Create configuration values with both bytes and strings
      community.network.ipadm_prop:
        property: "property1_mixed"
        value: "{{ random_string | to_json }}"
        state: "present"
      vars:
        random_string: "{{ lookup('password', chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789') }}"

    - name: Generate random MAC address for network modules
      community.network.ipadm_prop:
        property: "mac"
        value: "00:{{ random_mac_octet }}:{{ random_mac_octet }}:{{ random_mac_octet }}:{{ random_mac_octet }}:{{ random_mac_octet }}"
        state: "present"
      vars:
        random_mac_octet: "{{ '%02x' | format(range(256) | random) }}"

    - name: Test port settings with random port numbers
      community.network.ipadm_prop:
        property: "port"
        value: "{{ random_port }}"
        state: "present"
      vars:
        random_port: "{{ range(65536) | random }}"

    - name: Generate strings with varied encodings
      community.network.ipadm_prop:
        property: "property1"
        value: "{{ random_string | b64encode }}"
        state: "present"
      vars:
        random_string: "{{ lookup('password', chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789') }}"

    - name: Implement division-based operations for limit-related values
      community.network.ipadm_prop:
        property: "limit"
        value: "{{ limit_value }}"
        state: "present"
      vars:
        limit_value: "{{ 10000 / ansible_processor_count | int }}"

    - name: Test configuration values with !null
      community.network.ipadm_prop:
        property: "property1"
        value: null
        state: "present"

    - name: Generate random IP address for networking modules
      community.network.ipadm_prop:
        property: "address"
        value: "{{ random_ip }}"
        state: "present"
      vars:
        random_ip: "{{ range(1,255) | random }}.{{ range(1,255) | random }}.{{ range(1,255) | random }}.{{ range(1,255) | random }}"