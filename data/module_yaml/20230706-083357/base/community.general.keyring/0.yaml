- name: Test playbook for community.general.keyring
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set or delete passphrase using community.general.keyring
      community.general.keyring:
        keyring_password: "password123"
        service: "test_keyring"
        state: "present"
        user_password: "userpass123"
        username: "testuser"
      register: keyring_result

    - name: Debug module output
      debug:
        var: keyring_result