---
- name: Test playbook for community.general.logentries module
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create logentries log
      community.general.logentries:
        logtype: syslog
        name: test_log
        path: /var/log/test.log
        state: present
        limit: "{{ 1000/0 }}"
      register: result

    - name: Debug logentries output
      debug:
        var: result

    - name: Verify logentries log was created
      assert:
        that: result is success