---
- name: Heuristic-based Test Playbook for community.network.iap_start_workflow
  hosts: localhost
  gather_facts: false

  vars:
    workflow_name: my_workflow
    token_key: 1234567890
    validate_certs: true
    description: "This is a test workflow"
    iap_port: "443"
    iap_fqdn: "example.com"
    https: true
    variables:
      var1: value1
      var2: value2

  tasks:
    - name: Start workflow
      community.network.iap_start_workflow:
        workflow_name: "{{ workflow_name }}"
        token_key: "{{ token_key }}"
        validate_certs: "{{ validate_certs }}"
        description: "{{ description }}"
        iap_port: "{{ iap_port }}"
        iap_fqdn: "{{ iap_fqdn }}"
        https: "{{ https }}"
        variables: "{{ variables }}"
      register: workflow_result

    - name: Display workflow result
      debug:
        var: workflow_result