---
- name: Test playbook for community.general.java_cert module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Import certificate with community.general.java_cert
      community.general.java_cert:
        cert_alias: "{{ 'test_cert' }}"
        cert_path: "{{ '/path/to/certificate.crt' }}"
        cert_port: "{{ 8443 }}"
        cert_url: "{{ 'https://www.example.com/certificate.crt' }}"
        executable: "{{ '/usr/bin/keytool' }}"
        keystore_create: "{{ true }}"
        keystore_pass: "{{ 'changeit' }}"
        keystore_path: "{{ '/path/to/keystore.jks' }}"
        keystore_type: "{{ 'JKS' }}"
        pkcs12_alias: "{{ 'test_pkcs12' }}"
        pkcs12_password: "{{ 'password' }}"
        pkcs12_path: "{{ '/path/to/keystore.p12' }}"
        state: "{{ 'present' }}"
        trust_cacert: "{{ true }}"
      register: java_cert_result

    - name: Debug java_cert_result
      debug:
        var: java_cert_result