- name: Heuristic-based test playbook for ansible.netcommon.network_resource
  hosts: localhost
  gather_facts: False

  vars:
    raw_config: "{{ lookup('file', 'config.yml') }}"
    random_mac: "{{ (uuid.uuid4().hex[:6]).upper() }}"

  tasks:
    - name: Create network resource with random MAC address
      ansible.netcommon.network_resource:
        config: "{{ raw_config }}"
        name: "Test Network Resource"
        os_name: "Ubuntu"
        running_config: null
        state: present
        mac: "{{ random_mac }}"
      register: result

    - name: Display the result of network_resource module
      debug:
        var: result