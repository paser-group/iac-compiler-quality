- name: Heuristic Test for ansible.builtin.assemble module
  hosts: localhost
  gather_facts: false

  vars:
    test_file_dir: "/tmp/test_files"
    src_file: "/tmp/file1"
    dest_file: "/tmp/dest1"

  tasks:
    - name: Create test file directory
      file:
        path: "{{ test_file_dir }}"
        state: directory

    - name: Create test source file
      copy:
        content: "Test File"
        dest: "{{ src_file }}"
        force: true

    - name: Execute ansible.builtin.assemble module
      ansible.builtin.assemble:
        src: "{{ src_file }}"
        dest: "{{ dest_file }}"
        attributes: "test_attributes"
        backup: no
        decrypt: no
        delimiter: "/"
        group: "test_group"
        ignore_hidden: no
        mode: "octal_mode"
        owner: "test_owner"
        regexp: "test_regexp"
        remote_src: no
        selevel: "test_selevel"
        serole: "test_serole"
        setype: "test_setype"
        seuser: "test_seuser"
        unsafe_writes: no
        validate: "test_validate"
...