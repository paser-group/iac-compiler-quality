- name: Heuristic-based test for community.general.open_iscsi module
  hosts: localhost
  gather_facts: false
  vars:
    auto_node_startup: "{{ ['True', 'False'] | random }}"
    auto_portal_startup: "{{ ['True', 'False'] | random }}"
    discover: "{{ ['True', 'False'] | random }}"
    login: "{{ ['True', 'False'] | random }}"
    node_auth: "{{ ['', 'CHAP'] | random }}"
    node_pass: "{{ ['password', '!@#$%^&*()'] | random }}"
    node_pass_in: "{{ ['password', '!@#$%^&*()'] | random }}"
    node_user: "{{ ['username', '!@#$%^&*()'] | random }}"
    node_user_in: "{{ ['username', '!@#$%^&*()'] | random }}"
    port: "{{ ['3260', '3261', '3262'] | random }}"
    portal: "{{ ['10.1.1.5', '10.1.1.10', '10.1.1.15'] | random }}"
    rescan: "{{ ['True', 'False'] | random }}"
    show_nodes: "{{ ['True', 'False'] | random }}"
    target: "{{ ['iqn.2019-01.com.example:storage.target1', 'iqn.2019-01.com.example:storage.target2'] | random }}"

  tasks:
    - name: Print configuration values
      debug:
        var:
          auto_node_startup: "{{ auto_node_startup }}"
          auto_portal_startup: "{{ auto_portal_startup }}"
          discover: "{{ discover }}"
          login: "{{ login }}"
          node_auth: "{{ node_auth }}"
          node_pass: "{{ node_pass }}"
          node_pass_in: "{{ node_pass_in }}"
          node_user: "{{ node_user }}"
          node_user_in: "{{ node_user_in }}"
          port: "{{ port }}"
          portal: "{{ portal }}"
          rescan: "{{ rescan }}"
          show_nodes: "{{ show_nodes }}"
          target: "{{ target }}"