---
- name: Heuristic-based Test Playbook for community.general.utm_proxy_exception
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create UTM proxy exception
      community.general.utm_proxy_exception:
        name: "Test Exception"
        headers:
          User-Agent: "Mozilla"
          Accept-Language: "en-US"
        op: "replace"
        path:
          - "/path1"
          - "/path2"
        skip_custom_threats_filters:
          - "threat1"
          - "threat2"
        skip_threats_filter_categories:
          - "category1"
          - "category2"
        skipav: False
        skipbadclients: True
        skipcookie: False
        skipform: True
        skipform_missingtoken: False
        skiphtmlrewrite: True
        skiptft: False
        skipurl: True
        source:
          - "source1"
          - "source2"
        state: "present"
        status: True
        utm_host: "example.com"
        utm_port: 8443
        utm_protocol: "https"
        utm_token: "example_token"
        validate_certs: True