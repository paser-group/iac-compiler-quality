- name: Test playbook for community.network.avi_backup module
  hosts: localhost
  gather_facts: false
  
  vars:
    credentials:
      username: "admin"
      password: "password"
  
  tasks:
    - name: Backup configuration
      community.network.avi_backup:
        controller: "https://example.com"
        avi_credentials: "{{ credentials }}"
        tenant: "MyTenant"
        api_version: "20.1.3"
        state: present
        url: "{{ some_url }}"
        
      register: result
      
    - name: Debug backup result
      debug:
        var: result