---
- name: Heuristic-based Test Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Configure VXLAN Global Attributes
      community.network.ce_vxlan_global:
        bridge_domain_id: "{{ bridge_domain_id }}"
        nvo3_acl_extend: "{{ nvo3_acl_extend }}"
        nvo3_ecmp_hash: "{{ nvo3_ecmp_hash }}"
        nvo3_eth_trunk_hash: "{{ nvo3_eth_trunk_hash }}"
        nvo3_gw_enhanced: "{{ nvo3_gw_enhanced }}"
        nvo3_prevent_loops: "{{ nvo3_prevent_loops }}"
        nvo3_service_extend: "{{ nvo3_service_extend }}"
        state: "{{ state }}"
        tunnel_mode_vxlan: "{{ tunnel_mode_vxlan }}"
      register: result

    - name: Display Result
      debug:
        var: result

# Define test scenarios with different options and attributes
vars:
  bridge_domain_id: null
  nvo3_acl_extend: null
  nvo3_ecmp_hash: null
  nvo3_eth_trunk_hash: null
  nvo3_gw_enhanced: null
  nvo3_prevent_loops: null
  nvo3_service_extend: null
  state: null
  tunnel_mode_vxlan: null

# Additional heuristic-driven test scenarios
vars_prompt:
  - name: "random_mac"
    prompt: "Enter a random MAC address: "
    private: false

  - name: "random_port"
    prompt: "Enter a random port number: "
    private: false

  - name: "random_ip"
    prompt: "Enter a random IP address: "
    private: false

  - name: "mixed_case_string"
    prompt: "Enter a mixed case string: "
    private: false

  tasks:
    - name: Configure VXLAN Global Attributes with Heuristics
      community.network.ce_vxlan_global:
        bridge_domain_id: "{{ bridge_domain_id }}"
        nvo3_acl_extend: "{{ nvo3_acl_extend }}"
        nvo3_ecmp_hash: "{{ nvo3_ecmp_hash }}"
        nvo3_eth_trunk_hash: "{{ nvo3_eth_trunk_hash }}"
        nvo3_gw_enhanced: "{{ nvo3_gw_enhanced }}"
        nvo3_prevent_loops: "{{ nvo3_prevent_loops }}"
        nvo3_service_extend: "{{ nvo3_service_extend }}"
        state: "{{ state }}"
        tunnel_mode_vxlan: "{{ tunnel_mode_vxlan }}"
      loop:
        - "{{ vars | random }}"
        - "{{ vars | random }}"
        - "{{ vars | random }}"
      register: heuristic_result

    - name: Display Heuristic Result
      debug:
        var: heuristic_result