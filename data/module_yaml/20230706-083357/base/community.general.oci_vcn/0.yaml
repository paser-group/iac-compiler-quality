---
- name: Heuristic Test Playbook for Ansible Compiler
  hosts: localhost
  gather_facts: false

  vars:
    my_var1: "{{ item | upper }}"
    my_var2: "{{ item | to_json }}"
    my_var3: "{{ item | string }}"
    my_var4: "{{ item | default(omit) }}"
    my_var5: "{{ item | random }}"
    my_var6: "{{ item | b64encode }}"
    my_var7: "{{ (item | int) / 0 }}"
    my_var8: !!null

  tasks:
    - name: Test mixed case sensitivity
      debug:
        msg: "{{ my_var1 }}"
      with_items:
        - "value1"
        - "Value2"

    - name: Test JSON encoding
      debug:
        msg: "{{ my_var2 }}"
      with_items:
        - "value1"
        - "value2"

    - name: Test type coercion to string
      debug:
        msg: "{{ my_var3 }}"
      with_items:
        - 123
        - true

    - name: Test default with omit
      debug:
        msg: "{{ my_var4 }}"
      with_items:
        - "value1"
        - "value2"

    - name: Test random filter
      debug:
        msg: "{{ my_var5 }}"
      with_items:
        - "item1"
        - "item2"

    - name: Test base64 encoding
      debug:
        msg: "{{ my_var6 }}"
      with_items:
        - "value1"
        - "value2"

    - name: Test division by zero
      debug:
        msg: "{{ my_var7 }}"
      with_items:
        - 10
        - 20

    - name: Test null value
      debug:
        msg: "{{ my_var8 }}"