- name: Test Ansible module community.general.rhn_register
  hosts: localhost
  gather_facts: False

  vars:
    activationkey: "abc123"
    channels:
      - channel1
      - channel2
    enable_eus: True
    force: True
    state: present
    username: "testuser"

  tasks:
    - name: Register to Red Hat Network
      community.general.rhn_register:
        activationkey: "{{ activationkey }}"
        channels: "{{ channels }}"
        enable_eus: "{{ enable_eus }}"
        force: "{{ force }}"
        state: "{{ state }}"
        username: "{{ username }}"