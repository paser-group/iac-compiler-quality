- name: Heuristic-based test playbook for community.general.proxmox_tasks_info
  hosts: localhost
  gather_facts: false

  vars:
    api_host: "example-proxmox.host.com"
    api_password: "secure_password"
    api_token_id: "proxmox_token_id"
    api_token_secret: "proxmox_token_secret"
    api_user: "admin"
    node: "proxmox-node"
    task: "task-name"
    validate_certs: true
    random_mac: "00:16:3e:{{ '%02x'|format(range(0,255)|random) }}:{{ '%02x'|format(range(0,255)|random) }}:{{ '%02x'|format(range(0,255)|random) }}"
    random_port: "{{ range(1000, 9999) | random }}"
    random_ip: "{{ range(1, 255) | random }}.{{ range(1, 255) | random }}.{{ range(1, 255) | random }}.{{ range(1, 255) | random }}"

  tasks:
    - name: Heuristic test - Mixed case sensitivity
      community.general.proxmox_tasks_info:
        api_host: "{{ api_host }}"
        api_password: "{{ api_password }}"
        api_token_id: "{{ api_token_id }}"
        api_token_secret: "{{ api_token_secret }}"
        api_user: "{{ api_user }}"
        node: "{{ task | upper }}"
        task: "{{ task }}"
        validate_certs: "{{ validate_certs }}"

    - name: Heuristic test - Byte string values
      community.general.proxmox_tasks_info:
        api_host: "{{ api_host }}"
        api_password: "{{ api_password | b }}"
        api_token_id: "{{ api_token_id | b }}"
        api_token_secret: "{{ api_token_secret | b }}"
        api_user: "{{ api_user | b }}"
        node: "{{ node }}"
        task: "{{ task }}"
        validate_certs: "{{ validate_certs }}"

    # Add additional heuristic tests here