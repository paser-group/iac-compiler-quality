- name: Heuristic-based test scenarios for community.general.manageiq_user module
  hosts: localhost
  gather_facts: false

  vars:
    email: "testuser@example.com"
    group: "admins"
    manageiq_connection:
      user: "admin"
      password: "password"
      url: "https://manageiq.example.com/api"
    name: "testuser"
    password: "P@ssw0rd"
    state: "present"
    update_password: "always"
    userid: "12345"

  tasks:
    - name: Test mixed case sensitivity
      community.general.manageiq_user:
        email: "{{ email | lower }}"
        group: "{{ group | upper }}"
        manageiq_connection: "{{ manageiq_connection }}"
        name: "{{ name | swapcase }}"
        password: "{{ password | capitalize }}"
        state: "{{ state }}"
        update_password: "{{ update_password | title }}"
        userid: "{{ userid | lower }}"
      register: result_mixed_case_sensitivity

    - debug:
        var: result_mixed_case_sensitivity