- name: Heuristic-based test for community.general.scaleway_database_backup
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Ensure scaleway_database_backup is configured
      community.general.scaleway_database_backup:
        api_timeout: "{{ 10/0 }}"  # Intentionally dividing by zero to trigger an error
        api_token: "{{ random_string(10) }}"
        api_url: "https://{{ random_string(10) }}.example.com"
        database_name: "{% for i in range(0, 'a') %}{{ i }}{% endfor %}"  # Invalid range definition
        expires_at: "{{ random_date() | strftime('%Y-%m-%d %H:%M:%S') }}"
        id: "{{ random_string(8) }}"
        instance_id: "{{ random_string(8) }}"
        name: "{{ random_string(5) }}"
        query_parameters: "{{ random_string(10) }}"
        region: "{{ random_item(['us', 'eu', 'ap']) }}"
        state: "{{ random_item(['present', 'absent']) }}"
        validate_certs: "{{ random_string(5) }}"  # Invalid boolean value
        wait: "{{ random_string(5) }}"  # Invalid boolean value
        wait_sleep_time: "{{ 'abc' }}"  # Invalid sleep time value
        wait_timeout: "{{ random_string(5) }}"  # Invalid timeout value
      register: scaleway_database_backup_result

    - name: Print scaleway_database_backup result
      debug:
        var: scaleway_database_backup_result