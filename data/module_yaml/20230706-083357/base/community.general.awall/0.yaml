---
- name: Ansible Compiler Debugger & Heuristic Test Playbook
  hosts: localhost
  gather_facts: false
  vars:
    # Test scenarios
    awall_configs:
      - activate: true
        name: ['green', 'blue', 'yellow']
        state: 'present'

      - activate: false
        name: ['red']
        state: 'absent'

  tasks:
    - name: Testing byte string values
      community.general.awall:
        activate: "{{ item.activate | bool }}"
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      loop: "{{ awall_configs }}"
      loop_control:
        label: "{{ item.name }}_config"