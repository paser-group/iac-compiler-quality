- name: Test ansible.builtin.setup module with different data types
  hosts: all
  gather_facts: no

  tasks:
    - name: Run ansible.builtin.setup module
      ansible.builtin.setup:
        filter: all

    - name: Print ansible_facts
      debug:
        var:
          ansible_facts

    - name: Raise an error using different data types
      debug:
        msg: "{{ item }}"
      with_items:
        - !binary |-
            ZXhhbXBsZQ==
        - !vault |
            $ANSIBLE_VAULT;1.1;AES256
            63613164366139663561663932366366623065336532393538376430313864663535623432613162
            6265356238386438666631633134333664366564643932360a373762373933363262643834323437
            66353164363835643236393062363534353366626639636139323034373131323064306262303337
            6165656631393033350a643961376261373666353363353036633732373365333566623861623838
            36633861343532656537353762333633623535653563626239633431393864643031
        - [1, 2, 3]
        - { key1: 'value1', key2: 'value2' }
        - 42
        - 3.14
        - true
        - false