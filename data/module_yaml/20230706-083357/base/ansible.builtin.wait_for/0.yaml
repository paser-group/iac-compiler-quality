- name: Test random IP addresses for wait_for module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Generate random IP address
      command: echo "10.{{(60|random)}}.{{(1|random)}}.{{(1|random)}}"
      register: random_ip

    - name: Test wait_for module with random IP address
      wait_for:
        host: "{{ random_ip.stdout }}"
        port: 80
        delay: 5
        timeout: 10
        msg: "Random IP address test"