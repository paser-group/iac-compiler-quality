---
- name: Testing community.general.aix_inittab module for bugs
  hosts: localhost
  gather_facts: false
  
  vars:
    action_values:
      - "start"
      - "stop"
      - "wait"
    command_values:
      - "init 1"
      - "init 2"
      - "init 3"
    insertafter_values:
      - "getty"
      - null
      - ""
    name_values:
      - "tty1"
      - "`echo 'getty'`"
      - "abc; rm -rf /"
    runlevel_values:
      - "1"
      - "2"
      - "3"
      - "4"
      - "5"
    state_values:
      - "present"
      - "absent"

  tasks:
    - name: Test case - Mixed case sensitivity
      community.general.aix_inittab:
        action: "{{ item | upper }}"
        command: "{{ item }}"
        insertafter: "{{ item }}"
        name: "{{ item }}"
        runlevel: "{{ item | lower }}"
        state: "{{ item | capitalize }}"
      loop:
        - "{{ action_values }}"