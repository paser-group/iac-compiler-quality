---
- name: Heuristic-based test playbook for community.network.ce_evpn_bgp_rr module
  hosts: localhost
  gather_facts: false
  
  vars:
    as_number: "{{ ['123', '456', '789'] | random }}"
    bgp_evpn_enable: "{{ [true, false] | random }}"
    bgp_instance: "{{ ['instance1', 'instance2', 'instance3'] | random }}"
    peer: "{{ ['peer1', 'peer2', 'peer3'] | random }}"
    peer_type: "{{ ['ebgp', 'ibgp'] | random }}"
    policy_vpn_target: "{{ ['target1', 'target2', 'target3'] | random }}"
    reflect_client: "{{ ['client1', 'client2', 'client3'] | random }}"
  
  tasks:
    - name: Run community.network.ce_evpn_bgp_rr module
      community.network.ce_evpn_bgp_rr:
        as_number: "{{ as_number }}"
        bgp_evpn_enable: "{{ bgp_evpn_enable }}"
        bgp_instance: "{{ bgp_instance }}"
        peer: "{{ peer }}"
        peer_type: "{{ peer_type }}"
        policy_vpn_target: "{{ policy_vpn_target }}"
        reflect_client: "{{ reflect_client }}"
      register: result
      
    - name: Print module output
      debug:
        var: result