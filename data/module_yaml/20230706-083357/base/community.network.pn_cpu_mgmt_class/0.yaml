- name: Heuristic Test Playbook for community.network.pn_cpu_mgmt_class module
  hosts: localhost
  gather_facts: false

  vars:
    pn_burst_size: "10"
    pn_cliswitch: "enable"
    pn_name: "cpu-management"
    pn_rate_limit: "100"
    state: "present"

  tasks:
    - name: Test scenario - Mixed case sensitivity - Lowercase
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size | lower }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"

    - name: Test scenario - Mixed case sensitivity - Uppercase
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size | upper }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"

    - name: Test scenario - Byte string values
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch | b }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"

    - name: Test scenario - Mixed byte and string values
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name | b }}"
        pn_rate_limit: "{{ pn_rate_limit | b }}"
        state: "{{ state }}"

    - name: Test scenario - Random MAC addresses
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"
        pn_mac: "random"

    - name: Test scenario - Random port numbers
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"
        pn_port: "random"

    - name: Test scenario - Varied encodings
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"
        pn_encoding: "utf-8"

    - name: Test scenario - Division-based limit
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"
        pn_limit: "{{ pn_rate_limit | float | random }}"

    - name: Test scenario - Null configuration values
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"
        pn_limit: !null

    - name: Test scenario - Random IP addresses
      community.network.pn_cpu_mgmt_class:
        pn_burst_size: "{{ pn_burst_size }}"
        pn_cliswitch: "{{ pn_cliswitch }}"
        pn_name: "{{ pn_name }}"
        pn_rate_limit: "{{ pn_rate_limit }}"
        state: "{{ state }}"
        pn_ip: "random"