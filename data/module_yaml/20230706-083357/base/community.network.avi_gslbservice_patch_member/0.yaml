---
- name: Heuristic-based testing for community.network.avi_gslbservice_patch_member module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Configure gslbservice patch member
      community.network.avi_gslbservice_patch_member:
        controller: "Avi_Controller"
        username: "admin"
        password: "password"
        tenant: "admin"
        tenant_uuid: "default"
        api_version: "20.1.2"
        api_context:
          name: "cloud_api"
          params:
            - name: "param1"
              value: "value1"
        state: "present"
        avi_disable_session_cache_as_fact: true
        data:
          - gslbservice_id: "gslbservice1"
            gslbservice_ip: "192.168.0.1"
            gslbservice_port: 80
            gslbservice_username: "testuser"
            gslbservice_password: "testpassword"
            gslbservice_folder: "/folder1"
            gslbservice_weight: 10
            gslbservice_ratio: 1
            gslbservice_enabled: true
            gslbservice_use_fqdn: false
            gslbservice_gslb_site_se: "gslb_se_1"
            gslbservice_network_security_policy_ref: "network_security_policy1"

    - name: Print API context
      debug:
        var: community.network.avi_gslbservice_patch_member.api_context

    - name: Print gslbservice patch member data
      debug:
        var: community.network.avi_gslbservice_patch_member.data

    - name: Print gslbservice patch member attributes
      debug:
        msg: |
          gslbservice_id: {{ community.network.avi_gslbservice_patch_member.data[0].gslbservice_id }}
          gslbservice_ip: {{ community.network.avi_gslbservice_patch_member.data[0].gslbservice_ip }}
          gslbservice_port: {{ community.network.avi_gslbservice_patch_member.data[0].gslbservice_port }}