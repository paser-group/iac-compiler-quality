- name: Heuristic Test Playbook for community.general.ipa_subca module
  hosts: localhost
  gather_facts: false
  vars:
    ipa_host: 'ipa.example.com'
    ipa_pass: 'password'
    ipa_port: 443
    ipa_prot: 'https'
    ipa_timeout: 30
    ipa_user: 'admin'
    state: 'present'
    subca_desc: 'Test Sub CA'
    subca_name: 'test-sub-ca'
    subca_subject: 'CN=test-sub-ca,O=Example'
    validate_certs: true

  tasks:
    - name: Testing mixed case sensitivity for string configuration values
      community.general.ipa_subca:
        ipa_host: '{{ ipa_host }}'
        ipa_pass: '{{ ipa_pass }}'
        ipa_port: '{{ ipa_port }}'
        ipa_prot: '{{ ipa_prot }}'
        ipa_timeout: '{{ ipa_timeout }}'
        ipa_user: '{{ ipa_user }}'
        state: '{{ state | upper }}'
        subca_desc: '{{ subca_desc | title }}'
        subca_name: '{{ subca_name | upper }}'
        subca_subject: '{{ subca_subject | lower }}'
        validate_certs: '{{ validate_certs }}'