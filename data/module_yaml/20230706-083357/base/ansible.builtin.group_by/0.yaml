- name: Test playbook for ansible.builtin.group_by module
  hosts: localhost
  gather_facts: false

  vars:
    test_group_name: "MyGroup"

  tasks:
    - name: Create group using ansible.builtin.group_by module
      ansible.builtin.group_by:
        key: "{{ test_group_name }}"
        parents:
          - "ParentGroup"

    - name: Display group facts
      debug:
        var: groups

    - name: Access group information
      debug:
        msg: "Group Name: {{ groups['MyGroup'].name }}"
      when: groups['MyGroup'].name == "MyGroup"