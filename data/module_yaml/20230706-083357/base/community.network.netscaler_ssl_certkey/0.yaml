---
- name: Heuristic-based test playbook for community.network.netscaler_ssl_certkey module
  hosts: localhost
  gather_facts: false

  vars:
    cert: "certificate.pem"
    certkey: "private_key.pem"
    expirymonitor: true
    inform: "email@example.com"
    key: "key.pem"
    nitro_pass: "n1tr0P4ss"
    nitro_protocol: "https"
    nitro_timeout: 10.0
    nitro_user: "admin"
    notificationperiod: 7
    nsip: "192.168.0.1"
    passplain: "plaintextpass"
    password: "encryptedpass"
    save_config: true
    state: "present"
    validate_certs: true

  tasks:
    - name: Ensure SSL certificate and key are present
      community.network.netscaler_ssl_certkey:
        cert: "{{ cert }}"
        certkey: "{{ certkey }}"
        expirymonitor: "{{ expirymonitor }}"
        inform: "{{ inform }}"
        key: "{{ key }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        nitro_user: "{{ nitro_user }}"
        notificationperiod: "{{ notificationperiod }}"
        nsip: "{{ nsip }}"
        passplain: "{{ passplain }}"
        password: "{{ password }}"
        save_config: "{{ save_config }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Debug module output
      debug:
        var: result