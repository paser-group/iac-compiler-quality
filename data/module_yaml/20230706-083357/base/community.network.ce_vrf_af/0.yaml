- name: Test the community.network.ce_vrf_af module
  hosts: localhost
  gather_facts: false

  vars:
    vrf_name: "VRF1"
    evpn_value: true
    vpn_target_type: null
    vpn_target_state: false
    vrf_aftype: "ipv4"
    route_distinguisher: 10.100.100.1:1
    vpn_target_value:
      - "target:123:456"
      - "target:789:101"

  tasks:
    - name: Include the community.network.ce_vrf_af module
      include_tasks: community.network.ce_vrf_af.yaml
      vars:
        vrf_name: "{{ vrf_name }}"
        evpn: "{{ evpn_value }}"
        vpn_target_type: "{{ vpn_target_type }}"
        vpn_target_state: "{{ vpn_target_state }}"
        vrf_aftype: "{{ vrf_aftype }}"
        route_distinguisher: "{{ route_distinguisher }}"
        vpn_target_value: "{{ vpn_target_value }}"