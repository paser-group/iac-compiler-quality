- name: Heuristic Test for ansible.builtin.set_stats Module
  hosts: all
  gather_facts: false

  tasks:
    - name: Check if aggregate option supports mixed case sensitivity
      set_stats:
        aggregate: "TrUe"
        data:
          key: value
      register: result
      failed_when: "'aggregate: True' not in result.data"

  post_tasks:
    - name: Print Result
      debug:
        var: result