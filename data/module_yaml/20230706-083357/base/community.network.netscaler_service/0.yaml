- name: Test Playbook for community.network.netscaler_service
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Include community.network.netscaler_service module
      include_role:
        name: community.network.netscaler_service

    - name: Create netscaler service
      community.network.netscaler_service:
        nitro_user: "admin"
        nitro_pass: "password"
        nitro_protocol: "https"
        nitro_timeout: 5.0
        nsip: "192.168.1.1"
        state: "present"

        # Heuristic-driven test scenarios
        accessdown: true
        cacheable: false
        cip: [-12, 25, 150]
        cipheader: "bytes"
        cka: "true"
        clttimeout: "abc"
        cmp: "yes"
        monthreshold: 10/0
        name: 123
        processlocal: "true"
        rtspsessionidremap: "false"
        save_config: "yes"
        servtimeout: "a"
        tcpb: "on"
        tcpprofilename: "profile1"
        td: "true"
        useproxyport: "no"
        
        # Uncomment the following lines to enable other attributes
        # appflowlog: null
        # cachetype: null
        # cipheader: null
        # cleartextport: null
        # dnsprofilename: null
        # downstateflush: null
        # hashid: null
        # healthmonitor: null
        # httpprofilename: null
        # ip: null
        # ipaddress: null
        # maxbandwidth: null
        # maxclient: null
        # maxreq: null
        # monitor_bindings: null
        # netprofile: null
        # pathmonitor: null
        # pathmonitorindv: null
        # port: null
        # serverid: null
        # servername: null
        # servicetype: null
        # sp: null
        # svrtimeout: null
        # tcpprofilename: null
        # usip: null
        
      register: result

    - name: Debug the result
      debug:
        var: result