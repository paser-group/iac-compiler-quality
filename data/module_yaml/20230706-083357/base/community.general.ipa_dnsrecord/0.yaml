- name: Test scenario - Heuristic-based playbook for community.general.ipa_dnsrecord
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create DNS record
      community.general.ipa_dnsrecord:
        ipa_host: "example.com"
        ipa_pass: "password"
        ipa_port: 443
        ipa_prot: "https"
        ipa_timeout: 30
        ipa_user: "admin"
        record_name: "{{ item.record_name }}"
        record_ttl: "{{ item.record_ttl }}"
        record_type: "{{ item.record_type }}"
        record_value: "{{ item.record_value }}"
        state: "present"
        validate_certs: true
        zone_name: "examplezone.com"
      loop:
        - { record_name: "example1", record_ttl: 3600, record_type: "A", record_value: "192.168.1.1" }
        - { record_name: "example2", record_ttl: 7200, record_type: "A", record_value: "192.168.1.2" }