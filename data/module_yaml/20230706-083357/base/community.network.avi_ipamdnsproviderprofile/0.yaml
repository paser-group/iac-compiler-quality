- name: Heuristic-based playbook for community.network.avi_ipamdnsproviderprofile module
  hosts: localhost
  gather_facts: false
  vars:
    allocate_ip_in_vrf: true
    api_context:
      name: api1
    api_version: "2.5"
    avi_credentials:
      username: admin
      password: "{{ ansible_password }}"
    controller: 10.1.1.1
    name: ipamdnsproviderprofile1
    password: "{{ ansible_password }}"
    tenant: admin
    tenant_uuid: admin_uuid
    type: InfobloxDNS
    url: infoblox.example.com
    username: admin

  tasks:
    - name: Create ipamdnsproviderprofile
      community.network.avi_ipamdnsproviderprofile:
        name: "{{ name }}"
        type: "{{ type }}"
        url: "{{ url }}"
        username: "{{ username }}"
        password: "{{ password }}"
        tenant: "{{ tenant }}"
        tenant_uuid: "{{ tenant_uuid }}"
        api_context: "{{ api_context }}"
        api_version: "{{ api_version }}"
        avi_credentials:
          username: "{{ avi_credentials.username }}"
          password: "{{ avi_credentials.password }}"
        controller: "{{ controller }}"
        allocate_ip_in_vrf: "{{ allocate_ip_in_vrf }}"
        state: present
...