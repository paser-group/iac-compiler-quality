- name: Heuristic-based playbook for community.network.netscaler_server module
  hosts: localhost
  gather_facts: false

  vars:
    comment: null
    disabled: true
    nitro_pass: "password"
    nitro_protocol: "https"
    nitro_timeout: 10.0
    nitro_user: "admin"
    nsip: "192.168.1.1"
    save_config: true
    state: "present"
    ipv6address: true
    validate_certs: true

  tasks:
    - name: Test mixed case sensitivity
      community.network.netscaler_server:
        comment: "MixedCase"
        disabled: "{{ disabled }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        nitro_user: "{{ nitro_user }}"
        nsip: "{{ nsip }}"
        save_config: "{{ save_config }}"
        state: "mixed_case"
        ipv6address: "{{ ipv6address }}"
        validate_certs: "{{ validate_certs }}"

    - name: Test random MAC addresses
      community.network.netscaler_server:
        comment: null
        disabled: "{{ disabled }}"
        nitro_pass: "{{ nitro_pass }}"
        nitro_protocol: "{{ nitro_protocol }}"
        nitro_timeout: "{{ nitro_timeout }}"
        nitro_user: "{{ nitro_user }}"
        nsip: "{{ nsip }}"
        save_config: "{{ save_config }}"
        state: "present"
        ipv6address: "{{ ipv6address }}"
        validate_certs: "{{ validate_certs }}"

        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(range(256) | random, range(256) | random, range(256) | random, range(256) | random, range(256) | random, range(256) | random)}}"