---
- name: Heuristic-based test playbook for community.network.voss_facts module
  hosts: all
  gather_facts: false

  tasks:
    - name: Gather facts using community.network.voss_facts module
      community.network.voss_facts:
        gather_subset: None
        hostname: "{{ ['device1', 'Device2', 'DeViCe3'] | random }}"
        username: "{{ b'admin' }}"
        password: "{{ [b'secret', 'password'] | random }}"
        mac_address: "{{ '%012x' % (range(0, 100) | random) | regex_replace('(\\w{2})(?=\\w)', '\\1:')}}"
        port: "{{ range(1, 65535) | random }}"
        description: "{{ ['description1', 'description2', b'description3'] | random }}"
        limit: "{{ 100 / (range(1, 10) | random) }}"
        state: "{{ ['present', '!null'] | random }}"
        ip_address: "{{ range(1, 255) | random }}.{{ range(1, 255) | random }}.{{ range(1, 255) | random }}.{{ range(1, 255) | random }}"
      register: voss_facts_output

    - name: Debug gathered facts
      debug:
        var: voss_facts_output