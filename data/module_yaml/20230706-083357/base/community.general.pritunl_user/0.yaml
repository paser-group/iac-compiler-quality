---
- name: Heuristic-based test playbook for community.general.pritunl_user
  hosts: localhost
  gather_facts: false

  vars:
    organization: "TestOrg"
    pritunl_api_secret: "api_secret"
    pritunl_api_token: "api_token"
    pritunl_url: "https://pritunl.example.com"
    state: "present"
    user_disabled: false
    user_email: "test@example.com"
    user_gravatar: true
    user_groups:
      - group1
      - group2
    user_mac_addresses:
      - 00:11:22:33:44:55
      - 11:22:33:44:55:66
    user_name: "TestUser"
    user_type: "regular"
    validate_certs: true

  tasks:
    - name: Create Pritunl user
      community.general.pritunl_user:
        organization: "{{ organization }}"
        pritunl_api_secret: "{{ pritunl_api_secret }}"
        pritunl_api_token: "{{ pritunl_api_token }}"
        pritunl_url: "{{ pritunl_url }}"
        state: "{{ state }}"
        user_disabled: "{{ user_disabled }}"
        user_email: "{{ user_email }}"
        user_gravatar: "{{ user_gravatar }}"
        user_groups: "{{ user_groups }}"
        user_mac_addresses: "{{ user_mac_addresses }}"
        user_name: "{{ user_name }}"
        user_type: "{{ user_type }}"
        validate_certs: "{{ validate_certs }}"