- name: Heuristic-based test playbook for community.general.clc_publicip module
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Add public ips on servers
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes

    - name: Test mixed case sensitivity
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        SERVER_IDS: [server1, server2]
        state: present
        wait: yes

    - name: Test byte string values
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [b'server1', b'server2']
        state: present
        wait: yes

    - name: Test mixed byte and string values
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [b'server1', 'server2']
        state: present
        wait: yes

    - name: Test random MAC addresses
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes
        random_mac: true

    - name: Test random port numbers
      community.general.clc_publicip:
        ports: [random, random]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes

    - name: Test varied string encodings
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes
        encoding: utf-8

    - name: Test division-based operations
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes
        limit: "{{ 10/2 }}"

    - name: Test !null configuration values
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes
        limit: !null

    - name: Test random IP addresses
      community.general.clc_publicip:
        ports: [80, 443]
        protocol: tcp
        server_ids: [server1, server2]
        state: present
        wait: yes
        ip_address: "10.{{ range(1, 255) | random }}.{{ range(1, 255) | random }}.{{ range(1, 255) | random }}"