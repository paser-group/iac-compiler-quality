- name: Heuristic-based Ansible playbook for IBM Spectrum Accelerate volumes
  hosts: localhost
  gather_facts: False

  vars:
    endpoints: "https://spectrum.accelerate.com"
    username: "admin"
    password: "password"
    pool: "pool_name"
    size: "10GiB"
    vol: "vol_name"

  tasks:
    - name: Set mixed case sensitivity for string configuration value
      community.general.ibm_sa_vol:
        endpoints: "{{ endpoints }}"
        username: "{{ username }}"
        password: "{{ password }}"
        pool: "{{ pool }}"
        size: "{{ size }}"
        vol: "{{ vol }}"
        state: "{{ state | random(omit=['absent', 'present']) }}"

    - name: Verify state value
      debug:
        var: state