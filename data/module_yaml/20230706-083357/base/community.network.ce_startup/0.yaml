---
- name: Heuristic-based test playbook for community.network.ce_startup
  hosts: localhost
  gather_facts: false
  vars:
    action: "{{ ['startup', 'shutdown'] | random }}"
    cfg_file: "{{ ['', '/configs/startup.cfg'] | random }}"
    patch_file: "{{ ['', '/patches/startup.patch'] | random }}"
    slot: "{{ [None, '0/1'] | random }}"
    software_file: "{{ ['', '/software/startup.sw'] | random }}"
    mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | random | format(random() * 256, random() * 256, random() * 256, random() * 256, random() * 256, random() * 256) | replace('.', ':') }}" # Generate random MAC address
    port_number: "{{ range(1024,65535) | random }}"
    encoding: "{{ ['utf-8', 'iso-8859-1', 'ascii'] | random }}"
    limit_value: "{{ (1000 / (random() | random)) | int }}"
    null_value: "!null"
    ip_address: "{{ range(1,255) | random }}.{{ range(1,255) | random }}.{{ range(1,255) | random }}.{{ range(1,255) | random }}"

  tasks:
    - name: Test community.network.ce_startup module
      community.network.ce_startup:
        action: "{{ action }}"
        cfg_file: "{{ cfg_file }}"
        patch_file: "{{ patch_file }}"
        slot: "{{ slot }}"
        software_file: "{{ software_file }}"
        mac_address: "{{ mac_address }}"
        port_number: "{{ port_number }}"
        encoding: "{{ encoding }}"
        limit_value: "{{ limit_value }}"
        null_value: "{{ null_value }}"
        ip_address: "{{ ip_address }}"
      register: result

    - name: Print module result
      debug:
        var: result