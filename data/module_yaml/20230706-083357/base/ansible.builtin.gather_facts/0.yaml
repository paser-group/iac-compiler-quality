- name: Heuristic-based test playbook for ansible.builtin.gather_facts module
  hosts: all
  gather_facts: false

  tasks:
    - name: Enable gather_facts module
      gather_facts:
        parallel: "{{ [true, false] | random }}"
        gather_subset: [hardware, network, virtual]

    - name: Test mixed case sensitivity for string configuration values
      debug:
        msg: "{{ 'MixedCase' | lower }}"

    - name: Test byte string values
      debug:
        msg: "{{ b'byte string value' }}"

    - name: Test configuration values with bytes and strings
      debug:
        msg: "{{ 'string config' + b'byte config' }}"

    - name: Test random MAC address generation
      debug:
        msg: "{{ lookup('community.general.random_mac') }}"

    - name: Test random port numbers
      debug:
        msg: "{{ range(10) | random(start=1000, end=9000) }}"

    - name: Test varied encodings
      debug:
        msg: "{{ 'encoded value' | b64encode | from_yaml }}"

    - name: Test division-based operations for limit-related values
      debug:
        msg: "{{ 100 / (50 | random) }}"

    - name: Test !null as configuration value
      debug:
        msg: "{{ null is not defined }}"

    - name: Test random IP addresses
      debug:
        msg: "{{ lookup('community.general.random_ip') }}"