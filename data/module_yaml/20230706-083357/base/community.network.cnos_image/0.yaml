---
- name: Ansible Compiler Debugger & Heuristic Test Playbook for community.network.cnos_image module
  hosts: localhost
  gather_facts: false

  vars:
    deviceType: "switch"
    enablePassword: "enablepass"
    host: "10.1.1.1"
    imgpath: null
    imgtype: null
    outputfile: "/tmp/output.log"
    password: "password"
    protocol: null
    serverip: null
    serverpassword: null
    serverusername: null
    username: "admin"

  tasks:
    - name: Upgrade Firmware with mixed case sensitivity
      community.network.cnos_image:
        deviceType: "{{ deviceType | upper }}"
        enablePassword: "{{ enablePassword | upper }}"
        host: "{{ host }}"
        imgpath: "{{ imgpath }}"
        imgtype: "{{ imgtype }}"
        outputfile: "{{ outputfile }}"
        password: "{{ password | upper }}"
        protocol: "{{ protocol }}"
        serverip: "{{ serverip }}"
        serverpassword: "{{ serverpassword }}"
        serverusername: "{{ serverusername }}"
        username: "{{ username }}"
      register: result

    - name: Debug Result
      debug:
        var: result