---
- name: Heuristic-based Test Scenarios for community.network.pn_snmp_trap_sink
  hosts: localhost
  gather_facts: false
  vars:
    pn_cliswitch: "pn1"
    pn_community: "public"
    pn_dest_host: "10.1.1.1"
    pn_dest_port: "162"
    pn_type: "generic"
    state: "present"

  tasks:
    - name: Check if community.network.pn_snmp_trap_sink module is available
      assert:
        that:
          - "'community.network.pn_snmp_trap_sink' in lookup('ansible_modules')"
        msg: "community.network.pn_snmp_trap_sink module is not found"

    - name: Test pn_cliswitch with mixed case sensitivity
      community.network.pn_snmp_trap_sink:
        pn_cliswitch: "PN1"
        pn_community: "{{ pn_community }}"
        pn_dest_host: "{{ pn_dest_host }}"
        pn_dest_port: "{{ pn_dest_port }}"
        pn_type: "{{ pn_type }}"
        state: "{{ state }}"