---
- name: Ansible Compiler Bug Hunt
  hosts: localhost
  gather_facts: False

  vars:
    api_timeout: 30
    api_token: "YOUR_API_TOKEN"
    api_url: "https://api.scaleway.com/"
    description: "Heuristic test scenario"
    environment_variables:
      VAR1: "value1"
      VAR2: "value2"
    name: "heuristic_test"
    project_id: "YOUR_PROJECT_ID"
    query_parameters:
      parameter1: "value1"
      parameter2: "value2"
    region: "par1"
    secret_environment_variables:
      PASSWORD: "s3cr3t"
    state: "present"
    validate_certs: True
    wait: True
    wait_sleep_time: 2
    wait_timeout: 60

  tasks:
    - name: Include scaleway_container_namespace module
      include_role:
        name: community.general.scaleway_container_namespace

    - name: Run scaleway_container_namespace module with heuristic test scenarios
      community.general.scaleway_container_namespace:
        api_timeout: "{{ api_timeout }}"
        api_token: "{{ api_token }}"
        api_url: "{{ api_url }}"
        description: "{{ description }}"
        environment_variables: "{{ environment_variables }}"
        name: "{{ name }}"
        project_id: "{{ project_id }}"
        query_parameters: "{{ query_parameters }}"
        region: "{{ region }}"
        secret_environment_variables: "{{ secret_environment_variables }}"
        state: "{{ state }}"
        validate_certs: "{{ validate_certs }}"
        wait: "{{ wait }}"
        wait_sleep_time: "{{ wait_sleep_time }}"
        wait_timeout: "{{ wait_timeout }}"
      register: result

    - name: Debug scaleway_container_namespace module output
      debug:
        var: result