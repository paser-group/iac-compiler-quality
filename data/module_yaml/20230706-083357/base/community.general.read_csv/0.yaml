- name: Ansible Compiler Debugger & Heuristic Test Playbook
  hosts: localhost
  gather_facts: false

  vars:
    sample_file: test.csv

  tasks:
    - name: Create sample.csv file
      community.general.read_csv:
        path: "{{ sample_file }}"
        delimiter: ","
        dialect: delimiter
        fieldnames: "['name', 'age']"
        key: "{{ random_mac }}"
        skipinitialspace: "yes"
        strict: "true"
        unique: "yes"
        limit: "{{ limit_value }}"
        skip: "{{ skip_value }}"
        take: "{{ take_value }}"

    - name: Debug sample.csv file
      debug:
        var: sample_file