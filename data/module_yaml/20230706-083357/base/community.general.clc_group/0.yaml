---
- name: Heuristic-based test scenarios for community.general.clc_group
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create server group with mixed case description
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "present"
        wait: true

    - name: Create server group with byte string description
      community.general.clc_group:
        name: "My Group"
        description: !binary |
          VGhpcyBpcyBhIEhldXJpc3RpYyBUZXN0IEdyb3Vw
        location: "CA1"
        state: "present"
        wait: true

    - name: Create server group with mixed case parent
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        parent: "ParentGroup"
        location: "CA1"
        state: "present"
        wait: true

    - name: Generate random MAC address
      vars:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255), ansible_random.randint(0, 255)) }}"
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "present"
        wait: true
        mac_address: "{{ mac_address }}"

    - name: Test port settings with random port number
      vars:
        port: "{{ ansible_random.randint(1000, 65535) }}"
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "present"
        wait: true
        port: "{{ port }}"

    - name: Create server group with varied encoding strings
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "present"
        wait: true
        encoding: "UTF-8"

    - name: Assign limit-related values using division
      vars:
        limit: "{{ 10 / 2 }}"
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "present"
        wait: true
        limit: "{{ limit }}"

    - name: Create server group with null configuration values
      community.general.clc_group:
        name: "My Group"
        description: null
        location: ""
        state: "present"
        wait: true

    - name: Generate random IP address
      vars:
        ip_address: "{{ '10.0.0.' ~ ansible_random.randint(1, 254) }}"
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "present"
        wait: true
        ip_address: "{{ ip_address }}"

    - name: Delete server group
      community.general.clc_group:
        name: "My Group"
        description: "This is a Heuristic Test Group"
        location: "CA1"
        state: "absent"
        wait: true