- name: Heuristic Playbook for community.general.one_image
  hosts: localhost
  gather_facts: false

  vars:
    api_url: "https://example.com/api"
    api_username: "admin"
    api_password: "password"
    enabled: true
    id: 123
    name: "image-1"
    new_name: "new-image-1"
    state: "present"

  tasks:
    - name: Ensure one_image is configured correctly
      community.general.one_image:
        api_url: "{{ api_url }}"
        api_username: "{{ api_username }}"
        api_password: "{{ api_password }}"
        enabled: "{{ enabled }}"
        id: "{{ id }}"
        name: "{{ name }}"
        new_name: "{{ new_name }}"
        state: "{{ state }}"
      register: result

    - name: Display the result
      debug:
        var: result
        verbosity: 2