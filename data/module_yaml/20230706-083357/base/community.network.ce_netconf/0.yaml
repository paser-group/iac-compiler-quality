- name: Heuristic Test Playbook for community.network.ce_netconf
  hosts: localhost
  gather_facts: false

  vars:
    rpc_command: "show interfaces"
    cfg_xml: |-
      <rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="101">
        <get-interface-information>
          <interface-name>{{ interface }}</interface-name>
        </get-interface-information>
      </rpc>

  tasks:
    - name: Run netconf command
      community.network.ce_netconf:
        cfg_xml: "{{ cfg_xml }}"
        rpc: "{{ rpc_command }}"
      register: result

    - name: Display result
      debug:
        var: result