- name: Test playbook for community.general.clc_modify_server
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Modify servers
      community.general.clc_modify_server:
        alert_policy_id: "123456789"
        alert_policy_name: "alert_policy"
        anti_affinity_policy_id: "987654321"
        anti_affinity_policy_name: "anti_affinity_policy"
        cpu: "2"
        memory: "4096"
        server_ids:
          - "server1"
          - "server2"
        state: "present"
        wait: true
      register: result

    - debug:
        var: result