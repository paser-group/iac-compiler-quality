- name: Expose Ansible Compiler Bugs
  hosts: localhost
  gather_facts: false

  vars:
    dependencies:
      - requests
      - numpy
      - pandas

  tasks:
    - name: Check Python path
      assert:
        that:
          - '/usr/bin/python' in ansible_facts['ansible_playbook_python']
          - 'python_path' in ansible_facts

    - name: Validate byte string values
      debug:
        var: dependencies

    - name: Validate mixed bytes and string configuration values
      debug:
        var: dependencies

    - name: Generate random MAC address
      set_fact:
        mac_address: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(mac.0, mac.1, mac.2, mac.3, mac.4, mac.5) }}"
      vars:
        mac:
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"

    - name: Validate random MAC address
      debug:
        var: mac_address

    - name: Generate random port number
      set_fact:
        port: "{{ 1025 + (32767 | random) }}"
        
    - name: Validate random port number
      debug:
        var: port

    - name: Generate string with varied encodings
      set_fact:
        encoded_string: "{{ 'ansible' | b64encode }}"
        
    - name: Validate string with varied encodings
      debug:
        var: encoded_string

    - name: Perform division-based operation
      set_fact:
        limit: "{{ 10 // 2 }}"
        
    - name: Validate division-based operation
      debug:
        var: limit

    - name: Assign null as configuration value
      set_fact:
        null_value: null
        
    - name: Validate null as configuration value
      debug:
        var: null_value

    - name: Generate random IP address
      set_fact:
        ip_address: "{{ '%d.%d.%d.%d' | format(ip.0, ip.1, ip.2, ip.3) }}"
      vars:
        ip:
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"
          - "{{ 255 | random }}"

    - name: Validate random IP address
      debug:
        var: ip_address