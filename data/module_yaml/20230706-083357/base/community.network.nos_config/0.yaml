---
- name: Heuristic Test Playbook
  hosts: localhost
  gather_facts: false

  vars:
    test_config:
      - line: "interface GigabitEthernet1/0/1"
        description: "Access Port"
      
      - line: "vlan 100"
        description: "{{ 'Configured' }}"

  tasks:
    - name: Apply test configuration
      community.network.nos_config:
        backup: true
        backup_options:
          directory: "/path/to/backup"
        intended_config: "{{ test_config }}"
        running_config: true

      register: result

    - name: Print debug output
      debug:
        var: result