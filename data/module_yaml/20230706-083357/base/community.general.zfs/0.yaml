- name: Heuristic Test Playbook for community.general.zfs
  hosts: localhost
  gather_facts: False

  vars:
    extra_zfs_properties:
      compression: lz4
      readonly: 'on'
    name: 'test_pool'
    origin: ''

  tasks:
    - name: Test mixed case sensitivity for string configuration values
      community.general.zfs:
        extra_zfs_properties: "{{ extra_zfs_properties }}"
        name: "{{ name }}"
        origin: "{{ origin }}"
        state: "{{ state|upper }}"

    - name: Introduce byte string values in place of regular strings
      community.general.zfs:
        extra_zfs_properties: "{{ extra_zfs_properties }}"
        name: "{{ name | b64encode }}"
        origin: "{{ origin | b64encode }}"
        state: "{{ state | b64encode }}"

    - name: Create configuration values that incorporate both bytes and strings
      community.general.zfs:
        extra_zfs_properties: "{{ extra_zfs_properties }}"
        name: "{{ name + 'b' }}"
        origin: "{{ origin + 'b' }}"
        state: "{{ state + 'b' }}"