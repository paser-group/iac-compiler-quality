---
- name: Heuristic-based test playbook for community.network.icx_system module
  hosts: localhost
  gather_facts: false
  
  vars:
    aaa_servers:
      - 10.1.1.4
      - 10.1.1.5
    domain_name: "example.com"
    domain_search:
      - "test.example.com"
      - "prod.example.com"
    hostname: "switch1"
    name_servers:
      - 8.8.8.8
      - 8.8.4.4
    state: "present"
  
  tasks:
    - name: Test mixed case sensitivity for domain_name option
      community.network.icx_system:
        aaa_servers: "{{ aaa_servers }}"
        domain_name: "{{ domain_name | upper }}"
        state: "{{ state }}"
      register: result
  
    - name: Debug result
      debug:
        var: result