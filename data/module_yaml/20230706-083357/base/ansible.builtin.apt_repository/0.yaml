- name: Heuristic-based Test Playbook for ansible.builtin.apt_repository
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Add apt repository with random IP address and invalid codename
      ansible.builtin.apt_repository:
        repo: "http://archive.ubuntu.com/ubuntu"
        state: present
        codename: "{{ invalid_codename }}"

      vars:
        - invalid_codename: "{{ query('random', 'invalid', 'codename') }}"