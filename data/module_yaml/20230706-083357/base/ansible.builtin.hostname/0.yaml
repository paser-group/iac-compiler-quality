---
- name: Heuristic Test Playbook for ansible.builtin.hostname
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set hostname
      ansible.builtin.hostname:
        name: "{{ ansible_hostname }}"
        use: "{{ item }}"
      loop:
        - "{{ ['new', 'old', 'random', 'deterministic'] | random }}"

    - name: Print hostname
      debug:
        var: inventory_hostname