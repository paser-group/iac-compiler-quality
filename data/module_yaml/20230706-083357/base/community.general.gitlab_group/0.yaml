---
- name: Test community.general.gitlab_group module
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create GitLab group with mixed case sensitivity
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "{{ ['Test-Group', 'test-group', 'tEsT-gRoUp'] | random }}"
        state: present

    - name: Create GitLab group with byte string values
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "{{ 'test-group' | b64encode }}"
        state: present

    - name: Create GitLab group with mixed types in configuration values
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "{{ [123, 'test-group', true] | random }}"
        state: present

    - name: Create GitLab group with random MAC address
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "test-group"
        mac_address: "{{ (999999999999 | random * 1000000000000) | ipaddr }}"
        state: present

    - name: Create GitLab group with random port number
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "test-group"
        port: "{{ 999999999999 | random }}"
        state: present

    - name: Create GitLab group with varied encodings
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "{{ ['test-group', 'τεστ-γκρουπ', 'テストグループ'] | random }}"
        state: present

    - name: Create GitLab group with division-based operations for limit-related value
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "test-group"
        limit: "{{ 100 / 3 }}"
        state: present

    - name: Create GitLab group with !null as configuration value
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "test-group"
        limit: "{{ null }}"
        state: present

    - name: Create GitLab group with random IP address
      community.general.gitlab_group:
        api_url: "https://gitlab.example.com/api/v4"
        api_token: "your_api_token"
        name: "test-group"
        ip_address: "{{ lookup('community.general.network.random_ip_network', {'ip_network': '192.0.2.0/24'}) }}"
        state: present