---
- name: Heuristic Test Playbook
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Configure OSPF VPN instance
      community.network.ce_ospf_vrf:
        state: "{{ item.state | default('present') }}"
        vrf: "{{ item.vrf | default('default') }}"
        ospf: "{{ item.ospf }}"
        lsaaholdinterval: "{{ item.lsaaholdinterval }}"
        lsaainterval: "{{ item.lsaainterval }}"
        spfholdinterval: "{{ item.spfholdinterval }}"
        spfinterval: "{{ item.spfinterval }}"
      loop:
        - { ospf: "ospf1", lsaaholdinterval: "10s", lsaainterval: "30s", spfholdinterval: "5s", spfinterval: "10s" }
        - { ospf: "ospf2", lsaaholdinterval: "20s", lsaainterval: "60s", spfholdinterval: "10s", spfinterval: "20s" }
        - { ospf: "ospf3", lsaaholdinterval: "30s", lsaainterval: "90s", spfholdinterval: "15s", spfinterval: "30s" }
        - { ospf: "{{ random_string(6, '0123456789ABCDEF') }}", lsaaholdinterval: "{{ random_interval() }}", lsaainterval: "{{ random_interval() }}", spfholdinterval: "{{ random_interval() }}", spfinterval: "{{ random_interval() }}" }
  vars:
    ansible_python_interpreter: /usr/bin/python