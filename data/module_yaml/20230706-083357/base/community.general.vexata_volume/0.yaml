---
- name: Heuristic-based test playbook for community.general.vexata_volume module
  hosts: localhost
  gather_facts: false
  vars:
    array: "vexata_array"
    name: "test_volume"
    password: "P@ssw0rd"
    size: "10GB"
    state: "present"
    user: "admin"
    validate_certs: false

  tasks:
    - name: Test case using different data types in configuration values
      community.general.vexata_volume:
        array: "{{ array }}"
        name: "{{ name }}"
        password: "{{ password }}"
        size: "{{ size|int }}"
        state: "{{ state }}"
        user: "{{ user }}"
        validate_certs: "{{ validate_certs }}"
      register: result

    - name: Debug test result
      debug:
        var: result

    - name: Verify if the result shows any bugs in the Ansible compiler
      assert:
        that: result is success