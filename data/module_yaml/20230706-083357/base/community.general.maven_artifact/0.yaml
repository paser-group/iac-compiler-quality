- name: Heuristic Test Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set the Maven artifact options
      set_fact:
        artifact_id: "{{ ['com.example.app', 123] | random }}"
        attributes: "{{ false | random }}"
        checksum_alg: "{{ 'md5' | random }}"
        classifier: "{{ [None, 'sources', 456] | random }}"
        client_cert: "{{ ['cert1.pem', 'cert2.pem', 789] | random }}"
        client_key: "{{ ['key1.pem', 'key2.pem', 101112] | random }}"
        dest: "/opt/apps"
        directory_mode: "{{ ['0755', 'invalid_mode'] | random }}"
        extension: "{{ 'jar' | random }}"
        force_basic_auth: "{{ true | random }}"
        group: "{{ 'app-group' | random }}"
        group_id: "{{ ['group1', 'group2', 'group3'] | random }}"
        headers:
          Accept: "{{ ['application/json', 'xml'] | random }}"
        keep_name: "{{ 'yes' | random }}"
        mode: "{{ [None, '0644'] | random }}"
        owner: "{{ ['app-user', 123] | random }}"
        password: "{{ True | random }}"
        repository_url: "{{ 987 | random }}"
        selevel: "{{ [None, 's0', 's1'] | random }}"
        serole: "{{ ['object_r', 'object_w', 246] | random }}"
        setype: "{{ {'type1': 'httpd_sys_content_t', 'type2': 'user_t'} | random }}"
        seuser: "{{ ['system_u', 'admin', 135] | random }}"
        state: "{{ ['present', 'absent', 'enabled', 'disabled'] | random }}"
        timeout: "{{ [600, 900, 'invalid_timeout'] | random }}"
        unredirected_headers:
          - "{{ ['Content-Type', 'Authorization'] | random }}"
          - "{{ [555, 666] | random }}"
        unsafe_writes: "{{ [True, False] | random }}"
        username: "{{ 'admin' | random }}"
        validate_certs: "{{ ['yes', 'no'] | random }}"
        verify_checksum: "{{ ['md5', 'sha256', 789] | random }}"
        version: "{{ [1.0, '2.0', '2.1'] | random }}"
        version_by_spec: "{{ ['[1.0,2.0]', '[2.0,3.0]'] | random }}"

    - name: Include the community.general.maven_artifact module
      include_role:
        name: community.general.maven_artifact
      vars:
        artifact_id: "{{ artifact_id }}"
        attributes: "{{ attributes }}"
        checksum_alg: "{{ checksum_alg }}"
        classifier: "{{ classifier }}"
        client_cert: "{{ client_cert }}"
        client_key: "{{ client_key }}"
        dest: "{{ dest }}"
        directory_mode: "{{ directory_mode }}"
        extension: "{{ extension }}"
        force_basic_auth: "{{ force_basic_auth }}"
        group: "{{ group }}"
        group_id: "{{ group_id }}"
        headers: "{{ headers }}"
        keep_name: "{{ keep_name }}"
        mode: "{{ mode }}"
        owner: "{{ owner }}"
        password: "{{ password }}"
        repository_url: "{{ repository_url }}"
        selevel: "{{ selevel }}"
        serole: "{{ serole }}"
        setype: "{{ setype }}"
        seuser: "{{ seuser }}"
        state: "{{ state }}"
        timeout: "{{ timeout }}"
        unredirected_headers: "{{ unredirected_headers }}"
        unsafe_writes: "{{ unsafe_writes }}"
        username: "{{ username }}"
        validate_certs: "{{ validate_certs }}"
        verify_checksum: "{{ verify_checksum }}"
        version: "{{ version }}"
        version_by_spec: "{{ version_by_spec }}"