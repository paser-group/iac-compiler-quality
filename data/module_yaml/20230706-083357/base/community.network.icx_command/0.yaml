---
- name: Heuristic Test Playbook
  hosts: all
  gather_facts: false

  vars:
    commands:
      - show version
      - show running-config

  tasks:
    - name: Run arbitrary commands on remote Ruckus ICX
      community.network.icx_command:
        commands: "{{ commands }}"
        interval: "{{ interval }}"
        match: "{{ match }}"
        retries: "{{ retries }}"
        wait_for: "{{ wait_for }}"
      register: icx_result

    - name: Print command results
      debug:
        var: icx_result