---
- name: Heuristic Test Playbook - ansible.builtin.include_vars
  hosts: localhost
  gather_facts: false
  
  vars:
    depth: 2
    dir: "/path/to/vars"
    extensions:
      - yaml
      - yml
    file: "vars.yaml"
    files_matching: "*.y*ml"
    hash_behaviour: merge
    ignore_files:
      - secrets.yaml
    ignore_unknown_extensions: true
    name: "include_vars_test"
  
  tasks:
    - name: Include vars from file using depth
      include_vars:
        file: "{{ playbook_dir }}/{{ file }}"
        depth: "{{ depth }}"
    
    - name: Include vars from directory
      include_vars:
        dir: "{{ dir }}"
    
    - name: Include vars from files matching pattern
      include_vars:
        dir: "{{ dir }}"
        files_matching: "{{ files_matching }}"
    
    - name: Include vars with hash merging
      include_vars:
        dir: "{{ dir }}"
        file: "{{ file }}"
        hash_behaviour: "{{ hash_behaviour }}"
    
    - name: Include vars ignoring specific files
      include_vars:
        dir: "{{ dir }}"
        ignore_files: "{{ ignore_files }}"
    
    - name: Include vars ignoring unknown extensions
      include_vars:
        dir: "{{ dir }}"
        file: "{{ file }}"
        ignore_unknown_extensions: "{{ ignore_unknown_extensions }}"
    
    - name: Include vars with specific name
      include_vars:
        name: "{{ name }}"