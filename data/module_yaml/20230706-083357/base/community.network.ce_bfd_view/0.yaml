---
- name: Heuristic-driven Ansible playbook for community.network.ce_bfd_view
  hosts: localhost
  gather_facts: false

  vars:
    # Random MAC address
    random_mac: "{{ '%02x:%02x:%02x:%02x:%02x:%02x' | format(255|random, 255|random, 255|random, 255|random, 255|random, 255|random) }}"
    # Random port number
    random_port: "{{ 1024 + (32768 - 1024 + 1) | random }}"

  tasks:
    - name: Configure BFD
      community.network.ce_bfd_view:
        admin_down: false
        description: "Test BFD session"
        detect_multi: null
        local_discr: "{{ random_mac }}"
        min_rx_interval: "{{ random_port }}"
        min_tx_interval: "{{ random_port }}"
        remote_discr: null
        session_name: "BFD-Session"
        state: present
        tos_exp: null
        wtr_interval: null