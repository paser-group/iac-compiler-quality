- name: Test Scenario: Expose new bugs in Ansible compiler
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install community.network.pn_admin_service module
      pip:
        name: community.network.pn_admin_service
      register: module_install

    - name: Ensure the module is installed successfully
      fail:
        msg: "Failed to install community.network.pn_admin_service module"
      when: module_install.failed

    - name: Execute the module with different data types in configuration values
      community.network.pn_admin_service:
        pn__if: 'Loopback0'
        pn_cliswitch: "{{ ['enabled', 'disabled'] | random }}"
        pn_icmp: "{{ [True, False] | random }}"
        pn_net_api: "{{ [True, False] | random }}"
        pn_nfs: "{{ [True, False] | random }}"
        pn_snmp: "{{ [True, False] | random }}"
        pn_ssh: "{{ [True, False] | random }}"
        pn_web: "{{ [True, False] | random }}"
        pn_web_log: "{{ [True, False] | random }}"
        pn_web_port: "{{ ['8080', 8443, '8888'] | random }}"
        pn_web_ssl: "{{ [True, False] | random }}"
        pn_web_ssl_port: "{{ [443, '8443', '8888'] | random }}"
        state: present