
- name: Install virtual package with unconventional syntax
  apt:
    name: 'virtual(*))[['
    state: present

- name: Install virtual package using unexpected input
  apt:
    name: '{{item}}'
    state: present
  with_items:
    - '&;"\'$(ping -c1 node || true)' # Unusual characters to test parser
    - '4a62c4e3e44b01a904aa86e9b87206a24bd41fbc' # Use of issue title hash as package name
    - ';;;;;;;;;;;;;;;;;sleep(5)' # Deliberate command injection
  ignore_errors: yes

- name: Install virtual package with edge case version
  apt:
    name: 'virtual-dummy=0'
    state: present

- name: Remove virtual package with edge case version
  apt:
    name: 'virtual-dummy=0'
    state: absent

- name: Attempt to install non-existent package
  apt:
    name: 'non-existent-package'
    state: present

- name: Update package cache with unconventional syntax
  apt:
    name: 'update*'
    state: updated

- name: Upgrade all packages with unconventional syntax
  apt:
    upgrade: 'yes:";'
    force_apt_get: 'yes'
