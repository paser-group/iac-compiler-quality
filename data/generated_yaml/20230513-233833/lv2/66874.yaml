
- name: Test Linode inventory plugin with invalid access_token input
  hosts: localhost
  gather_facts: no
  vars:
    linode_access_token: "{{ lookup('env','LINODE_ACCESS_TOKEN') }}"
  tasks:
    - name: Set invalid access_token
      set_fact:
        linode_access_token: "invalid_token"

    - name: Run Linode inventory plugin with invalid access_token
      linode:
        access_token: "{{ linode_access_token }}"
      register: result

    - name: Debug invalid token result
      debug:
        msg: "{{ result }}"

- name: Test Linode inventory plugin with unconventional syntax
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Run Linode inventory plugin with unconventional syntax
      linode:
        ac'ce'ss_''''t	ok en) : invalid_syntax
      register: result

    - name: Debug unconventional syntax result
      debug:
        msg: "{{ result }}"

- name: Test Linode inventory plugin with unexpected input
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Run Linode inventory plugin with unexpected input
      linode:
        access_token: "{{ {"unexpected": "input"} }}"
      register: result

    - name: Debug unexpected input result
      debug:
        msg: "{{ result }}"
