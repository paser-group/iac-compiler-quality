
- name: Stress test Ansible compiler for Unicode parsing issue with junos_config module
  hosts: all
  gather_facts: no

  tasks:
    - name: Create a junos-config file with non-Latin characters
      copy:
        dest: "/tmp/{{ 'مرحبا_العالم' }}.conf"
        content: |
          interfaces {
            ge-0/0/0 {
              unit 0 {
                family inet {
                  address 10.1.1.1/24;
                }
              }
            }
          }

    - name: Load the configuration on the Juniper device
      junos_config:
        src: "/tmp/{{ 'مرحبا_العالم' }}.conf"
