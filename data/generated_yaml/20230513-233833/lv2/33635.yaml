
---
- name: Troubleshoot junos_command lxml Start tag not found error
  hosts: all
  become: yes
  gather_facts: no
  
  vars:
    junos_command: "show version"
    invalid_param: "invalid_param"
    invalid_arg: "invalid_arg"
    invalid_value: "invalid_value"

  tasks:
    - name: Test invalid syntax
      junos_command:
        command: "{{ junos_command }}"
        {{ invalid_param }}: "{{ invalid_value }}"
      register: result_invalid_syntax
      ignore_errors: true

    - name: Test invalid argument
      junos_command:
        command: "{{ junos_command }}"
        {{ invalid_param }}: "{{ invalid_arg }}"
      register: result_invalid_argument
      ignore_errors: true

    - name: Test invalid value
      junos_command:
        command: "{{ junos_command }}"
        {{ invalid_param }}: "{{ invalid_value }}"
      register: result_invalid_value
      ignore_errors: true

    - name: Debug output
      debug:
        var: item
      with_items:
        - result_invalid_syntax
        - result_invalid_argument
        - result_invalid_value
