
---
- name: Test playbook for cloudfront_facts unsupported operands error
  hosts: all
  gather_facts: no

  vars:
    # Define an empty list
    empty_list: []
    
    # Define a dictionary with unsupported operand
    unsupported_dict: {"key": "value"} + {"key2": "value2"}

    # Define a malformed variable with extra double quotes
    malformed_var: ""This variable is malformed""

  tasks:
    - name: Test CloudFront Facts
      cloudfront_facts:
        distribution_id: some_cloudfront_distribution_id
      ignore_errors: true

    - name: Test unsupported operand on a variable
      debug:
        var: unsupported_dict
      ignore_errors: true

    - name: Test unsupported operand on a list
      debug:
        msg: "{{ empty_list + 'should fail' }}"
      ignore_errors: true

    - name: Test malformed variable 
      debug:
        var: "{{ malformed_var }}"
      ignore_errors: true

    # Define an invalid module name 
    - name: Test invalid module name
      invalid_module_name:
        var: some_var
      ignore_errors: true

    # Define an invalid task structure 
    - name: Test invalid task structure 
      - command: echo "Invalid task structure"
      ignore_errors: true
