
---
- name: Test DigitalOcean Module Utils Params Bug
  hosts: all
  gather_facts: no

  tasks:
    - name: Testing an edge case with empty params
      digital_ocean:
        state: present
        params:

    - name: Testing an edge case with unconventional syntax
      digital_ocean:
        state: present
        params: "{{ item }}"
      with_items:
        - "{{ 'test' }}"
        - "{{ true }}"
        - "{{ false }}"
        - "{{ 42 }}"
        - "{{ None }}"

    - name: Testing an edge case with unexpected input
      digital_ocean:
        state: "{{ item }}"
        params:
          name: "{{ item }}"
          region: "{{ item }}"
          size: "{{ item }}"
      with_items:
        - "{{ 'present' }}"
        - "{{ 'absent' }}"
        - "{{ 'running' }}"
        - "{{ 'stopped' }}"
        - "{{ 'restarted' }}"
        - "{{ 'terminated' }}"
