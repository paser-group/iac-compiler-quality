
- name: Test playbook for shell and command plugins
  hosts: all
  gather_facts: no
  vars:
    bad_input: "; this should produce an error"
  tasks:
    - name: Test command plugin with incorrect commands
      command: "{{ bad_input }}"
      register: result
      ignore_errors: true

    - name: Debug output for command plugin
      debug:
        var: result

    - name: Test shell plugin with incorrect commands
      shell: "{{ bad_input }}"
      register: result
      ignore_errors: true

    - name: Debug output for shell plugin
      debug:
        var: result
