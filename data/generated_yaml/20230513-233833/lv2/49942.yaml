
---

- name: Testing out-of-scope default variables in included roles
  hosts: all
  become: true

  vars:
    my_var: "{{ some_var | default('default_value', true) }}"

  tasks:
    - name: Include role and use out-of-scope default variable
      include_role:
        name: "{{ my_var }}"
      vars:
        my_var: "{{ some_out_of_scope_var }}"
