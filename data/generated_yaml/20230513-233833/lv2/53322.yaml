
- name: Generate edge cases and stress test compiler
  hosts: all
  gather_facts: no

  tasks:
  - name: Try ios_command with non-existent command
    ios_command:
      commands:
        - "fake-command-that-does-not-exist"
    register: ios_command_output
    ignore_errors: true

  - name: Try ios_command with non-existent connection profile
    ios_command:
      commands:
        - "show ip interface brief"
      provider:
        host: "non-existent-connection-profile"
        username: "some-username"
        password: "some-password"
    register: ios_command_output
    ignore_errors: true

  - name: Try ios_command with a non-string command
    ios_command:
      commands:
        - 123
    register: ios_command_output
    ignore_errors: true

  - name: Try ios_command with an invalid format character
    ios_command:
      commands:
        - "show version %n"
    register: ios_command_output
    ignore_errors: true

  - name: Try ios_command without a command
    ios_command:
    register: ios_command_output
    ignore_errors: true

  - name: Try ios_command with a command that takes a while to execute
    ios_command:
      commands:
        - "ping 127.0.0.1 -c 5"
    register: ios_command_output
    ignore_errors: true
