
- hosts: all
  gather_facts: false
  become: true

  vars:
    invalid_user: "INVALID_USER"
  
  tasks:
  - name: Test 1 - Invalid chmod value
    file:
      dest: "/etc/file.txt"
      mode: "{{ 'drwxrwxrwx' }}"
      state: file

  - name: Test 2 - Invalid owner
    file:
      dest: "/etc/file.txt"
      owner: "{{ invalid_user }}"
      state: file

  - name: Test 3 - Invalid group
    file:
      dest: "/etc/file.txt"
      group: "{{ invalid_user }}"
      state: file

  - name: Test 4 - Invalid state
    file:
      dest: "/etc/file.txt"
      state: "{{ 'non_existent_state' }}"
  
  - name: Test 5 - Invalid file path
    file:
      dest: "{{ '/invalid_path/file.txt' }}"
      state: file

  - name: Test 6 - Attempt to write outside root directory
    file:
      dest: "{{ '..' }}/outside_root.txt"
      state: touch

  - name: Test 7 - Attempt to remove outside root directory
    file:
      dest: "{{ '..' }}/outside_root.txt"
      state: absent

  - name: Test 8 - Attempt to generate error message
    file:
      dest: "/etc/file.txt"
      owner: "{{ invalid_user }}"
      state: "{{ 'non_existent_state' }}"
      mode: "{{ 'drwxrwxrwx' }}"
