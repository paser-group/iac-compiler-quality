
- name: Ascii codec error stress test playbook
  hosts: all
  gather_facts: no

  tasks:
    - name: Generate ASCII codec error with empty string
      command: python -c "print(str(''.encode('ascii'), 'utf-8'))"

    - name: Generate ASCII codec error with binary input
      command: python -c "print(b'\xff'.decode('ascii'))"

    - name: Generate ASCII codec error with non-ASCII characters in string
      command: python -c "print('你好'.encode('ascii'))"

    - name: Generate ASCII codec error with integer input
      set_fact:
        integer_input: 123
      command: python -c "print(str({{ integer_input }}).encode('ascii'))"

    - name: Generate ASCII codec error with boolean input
      set_fact:
        boolean_input: true
      command: python -c "print(str({{ boolean_input }}).encode('ascii'))"

    - name: Generate ASCII codec error with None input
      set_fact:
        none_input: null
      command: python -c "print(str({{ none_input }}).encode('ascii'))"

    - name: Generate ASCII codec error with unsupported encoding
      command: python -c "print('test'.encode('unsupported_encoding'))"

    - name: Generate ASCII codec error with invalid string
      command: python -c "print(b'\xff'.decode('ascii', 'ignore'))"
