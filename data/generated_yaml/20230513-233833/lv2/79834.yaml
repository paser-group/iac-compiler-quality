
- name: Test dict2items
  hosts: all
  gather_facts: false
  tasks:

    # Test with empty dictionary
    - name: Test with empty dictionary
      set_fact:
        my_dict: {}
      register: empty_dict
    - name: Test dict2items with empty dictionary
      debug:
        var: empty_dict | dict2items

    # Test with non-empty dictionary
    - name: Test with non-empty dictionary
      set_fact:
        my_dict:
          key1: value1
          key2: value2
          key3: value3
      register: non_empty_dict
    - name: Test dict2items with non-empty dictionary
      debug:
        var: non_empty_dict | dict2items

    # Test with string instead of dictionary
    - name: Test with string instead of dictionary
      set_fact:
        my_dict: "this_is_a_string"
      register: string_dict
    - name: Test dict2items with string instead of dictionary
      debug:
        var: string_dict | dict2items

    # Test with list instead of dictionary
    - name: Test with list instead of dictionary
      set_fact:
        my_dict:
          - item1
          - item2
      register: list_dict
    - name: Test dict2items with list instead of dictionary
      debug:
        var: list_dict | dict2items

    # Test with integer instead of dictionary
    - name: Test with integer instead of dictionary
      set_fact:
        my_dict: 123
      register: integer_dict
    - name: Test dict2items with integer instead of dictionary
      debug:
        var: integer_dict | dict2items
