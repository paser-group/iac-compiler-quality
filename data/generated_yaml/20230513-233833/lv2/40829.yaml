
- name: ios_facts issue playbook
  hosts: all
  gather_facts: no
  
  vars:
    # Edge case with an IP address instead of MAC address
    edge_case_ip: '10.1.1.1/24'
  
  tasks:
    - name: Get ios_facts with edge case IP
      ios_facts:
        gather_subset: interfaces
        filter: "GigabitEthernet1.{{edge_case_ip}}"
  
    - name: Get ios_facts with unexpected input
      ios_facts:
        gather_subset: interfaces
        filter: "GigabitEthernet1.\{{foo.bar}}"

    - name: Get ios_facts with unconventional syntax
      ios_facts:
        gather_subset: interfaces
        filter: "GigabitEthernet1.(bool) True"
