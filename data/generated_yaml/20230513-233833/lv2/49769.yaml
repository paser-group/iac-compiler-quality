
- name: Test ACI aci_bd_subnet module
  hosts: node1
  gather_facts: no

  tasks:
    - name: Create new BD with custom subnet
      aci_bd_subnet:
        tenant: aci-demo
        ap: demo-ap
        bd: demo-bd
        l3out: demo-l3out
        state: present
        subnet: 10.0.0.0/24
        attributes:
          ARP-flood:
            enabled: no
          atomic-count: 10
          mac-aging:
            interval: 300
            default-action: forward
          unicast-route: "{{ item }}"
          aaa:
            default-group: "{{ item }}"
      with_items:
        - {}
        - "100.1.1.0/24"
        - "[2001:0db8:85a3:0000:0000:8a2e:0370:7334]/64"
        - "invalid_subnet"
        - 1234
        - # An empty item
        - [1]  # A list with a single integer element
        - {key: null, value: null} # A dictionary with null values
