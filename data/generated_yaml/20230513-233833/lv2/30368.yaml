
---
- name: Test ec2_vpc_subnet_facts module with unusual inputs and syntax
  hosts: all
  gather_facts: no

  vars:
    invalid_region: "<!DOCTYPE html><html><head><title>Test Region</title></head><body><h1>Hello World!</h1></body></html>"

  tasks:
  - name: Test invalid region syntax
    ec2_vpc_subnet_facts:
      region: "{{ invalid_region }}"
    register: output
    ignore_errors: yes
  
  - name: Test missing region parameter
    ec2_vpc_subnet_facts:

  - name: Test invalid output format
    ec2_vpc_subnet_facts:
      format: "xml"
    register: output
    ignore_errors: yes

  - name: Test invalid output parameter
    ec2_vpc_subnet_facts:
      output: "invalid_output"
    register: output
    ignore_errors: yes

  - name: Print output of successful API call
    debug:
      var: output
