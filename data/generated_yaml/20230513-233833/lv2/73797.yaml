
---
- name: Stress Test Ansible Compiler
  hosts: all
  gather_facts: false

  tasks:
    - name: Assign empty dict to variable
      set_fact:
        my_var: {}

    - name: Using default filter with variable
      debug:
        var: my_var.some_key | default('Default Value')

    - name: Using default filter with missing key
      debug:
        var: my_var.missing_key | default('Default Value')

    - name: Using default filter with NoneType
      debug:
        var: my_var.none_key | default('Default Value')

    - name: Using default filter with empty string
      debug:
        var: '' | default('Default Value')

    - name: Attempting to use default filter with non-dictionary data
      debug:
        var: 'string' | default('Default Value')
