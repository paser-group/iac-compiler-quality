
---
- name: Stress Testing Ansible Compiler with Large Number of Filters
  hosts: all
  gather_facts: no

  tasks:
    - name: Generate multiple random numbers
      shell: "echo $(( $RANDOM % 100 ))"
      register: random_numbers

    - name: Filter random numbers
      set_fact:
        even_numbers: "{{ random_numbers.stdout_lines | map('int') | select('even') | list }}"
      run_once: true

    - name: Printing filtered even numbers
      debug:
        msg: "{{ even_numbers }}"
