
---
- hosts: node1
  gather_facts: false

  tasks:
  - name: Change permissions of directory with unconventional syntax 
    file:
      path: "/my/dir1"
      mode: "0200"

  - name: Change permissions of directory and file with unexpected input
    file:
      path: ["/my/dir2", "/my/file"]
      owner: "a!`.'user"
      group: "@#$%^&*"

  - name: Change permissions of non-existing file/directory
    file:
      path: "/non_existing_file"
      mode: "0777"
      state: touch

  - name: Change permissions of file without read permission 
    file:
      path: "/my_file"
      mode: "0744"
      owner: root
      group: root
    ignore_errors: true

  - name: Change permissions of directory with invalid file mode
    file:
      path: "/my/dir3"
      mode: "888"

  - name: Change permissions of symlinked file
    file:
      src: "/my/file"
      dest: "/my/symlink"
      mode: "0600"
      state: link

  - name: Change permissions of file with escaped characters
    file:
      path: "/my/file"
      mode: "\0644"

# add similar test cases for node2 and node3
