
- name: Test Ansible Compiler for mysql_user host_all arguments conversion string formatting errors
  hosts: database
  gather_facts: no

  tasks:
    - name: Add user with invalid host range
      mysql_user:
        name: "testUser1"
        password: "password1"
        host: "10.1.[1-3].1"
        priv: "test_db.*:ALL"

    - name: Add user with non-string host
      mysql_user:
        name: "testUser2"
        password: "password2"
        host: 10.1.1.1
        priv: "test_db.*:ALL"

    - name: Add user with empty host
      mysql_user:
        name: "testUser3"
        password: "password3"
        host: ""
        priv: "test_db.*:ALL"

    - name: Add user with non-existent privileges
      mysql_user:
        name: "testUser4"
        password: "password4"
        host_all: yes
        priv: "test_db.non_existent_privilege:ALL"

    - name: Add user with invalid characters in password
      mysql_user:
        name: "testUser5"
        password: "passwor$d5!"
        host_all: yes
        priv: "test_db.*:ALL"

    - name: Add user with very long name
      mysql_user:
        name: "testUser6_this_user_has_a_very_long_name_that_is_longer_than_thirtytwo_characters"
        password: "password6"
        host_all: yes
        priv: "test_db.*:ALL"
