
- name: Unarchive bug stress test
  hosts: all
  tasks:
    - name: Unarchive with invalid archive path
      unarchive:
        src: /path/to/invalid/archive.zip
        dest: /tmp/unarchive_test/
      ignore_errors: yes
  
    - name: Unarchive with invalid destination path
      unarchive:
        src: /path/to/archive.zip
        dest: /i/do/not/exist/
  
    - name: Unarchive with unsupported compression format
      unarchive:
        src: /path/to/archive.tar.gz.xz
        dest: /tmp/unarchive_test/
  
    - name: Unarchive with archive path as directory
      unarchive:
        src: /path/to/directory/
        dest: /tmp/unarchive_test/
  
    - name: Unarchive with non-existent src file
      unarchive:
        src: /path/to/non-existent/file
        dest: /tmp/unarchive_test/
      ignore_errors: yes
  
    - name: Unarchive with invalid mode parameter
      unarchive:
        src: /path/to/archive.tar.gz
        dest: /tmp/unarchive_test/
        mode: invalid_mode_value
  
    - name: Unarchive with owner and group parameters reversed
      unarchive:
        src: /path/to/archive.tar.gz
        dest: /tmp/unarchive_test/
        owner: root
        group: wheel
