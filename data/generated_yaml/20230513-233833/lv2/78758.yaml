
- name: Install galaxy roles
  hosts: all
  become: true
  gather_facts: false

  vars:
    roles:
      - role: role{{ item }}_{{ range(1,101)|random }}.0.0
        version: "{{ range(1,101)|random }}.{{ range(1,101)|random }}.{{ range(1,101)|random }}"

  tasks:
    - name: Install roles
      command: ansible-galaxy install {{ item.role }}=={{ item.version }}
      with_items: "{{ roles }}"
      register: result

    - name: Debug result
      debug: var=result
