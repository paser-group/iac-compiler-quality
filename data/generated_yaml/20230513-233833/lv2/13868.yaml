
---
- name: Test playbook for 'with_url' error
  hosts: all
  gather_facts: no

  vars:
    my_urls:
      - http://localhost:8080/path1
      - https://www.example.com/path2
      - ftps://user:pass@ftpserver/path3
      - sftp://user@remote2/path4

  tasks:

    - name: Test `with_url` lookup
      shell: echo "URL: {{ item }}"
      with_url: "{{ my_urls }}"
