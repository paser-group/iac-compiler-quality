yaml
---
- name: Test ansible_default_ipv6.address fact
  hosts: all
  gather_facts: true
  
  tasks:
    - name: Print ansible_default_ipv6.address fact
      debug:
        msg: "{{ ansible_default_ipv6.address }}"
        
    - name: Print IPv6 address with wrong fact value (string)
      debug: 
        msg: "{{ 'invalid_ipv6_address' }}"
        
    - name: Print IPv6 address with wrong fact value (int)
      debug: 
        msg: "{{ 1234 }}"
        
    - name: Print IPv6 address with unexpected input (list)
      debug: 
        msg: "{{ [10, 1, 1, 1] }}"
        
    - name: Print IPv6 address with unexpected input (dict)
      debug:
        msg: "{{ {'ip_address':'10.1.1.1'} }}"
        
    - name: Ping each node in the inventory file using IPv6 address
      ping:
        data: "ping"
        dest: "{{ hostvars[item]['ansible_default_ipv6'].address }}"
      with_items: "{{ groups['all'] }}"
