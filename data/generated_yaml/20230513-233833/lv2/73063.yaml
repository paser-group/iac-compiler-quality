
---
- name: Test Ansible Galaxy Install from Git
  hosts: all
  gather_facts: false
  tasks:
    - name: Clone git repo
      git:
        repo: "https://github.com/example/repo.git"
        dest: "/tmp/test_clone"
        version: "master"
    - name: Install role from cloned repo
      shell: ansible-galaxy install /tmp/test_clone
      register: galaxy_output
      ignore_errors: true
    - name: Print Debug Information
      debug:
        var: galaxy_output
