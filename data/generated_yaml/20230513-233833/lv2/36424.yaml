
- name: Synchronize with local_action and unconventional syntax
  hosts: node1
  gather_facts: no
  tasks:
    - name: Test synchronization with local_action and unconventional syntax
      synchronize:
        src: /data/
        dest: /home/user/data/
      local_action:
        module: shell
        args:
          cmd: "ls -al {{ inventory_hostname }}"
        become: true
        become_user: root
        register: output
    - name: Print output
      debug:
        var: output.stdout_lines
