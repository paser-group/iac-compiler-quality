
---
- name: Test read_timeout_sec errors on Windows nodes
  hosts: all
  gather_facts: no
  
  tasks:
    - name: Set invalid read_timeout_sec value
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: invalid
      
    - name: Set read_timeout_sec to less than minimum
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: -1
      
    - name: Set read_timeout_sec to greater than maximum
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: 999999999999999
      
    - name: Set float read_timeout_sec value
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: !!float 1.5
      
    - name: Set negative float read_timeout_sec value
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: !!float -1.5
      
    - name: Set null read_timeout_sec value
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: null
      
    - name: Set read_timeout_sec value as string
      winrm_connection:
        username: administrator
        password: Passw0rd123!
        winrm_transport: ntlm
        winrm_port: 5986
        transport: ssl
        read_timeout_sec: "string"

