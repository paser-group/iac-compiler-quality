
- name: Test playbook for Azure Load Balancer Facts module
  hosts: all
  become: yes

  tasks:
  
  - name: Test 1 - Missing required parameters
    azure_rm_loadbalancer_facts:
      
    register: result
    ignore_errors: yes
    
  - name: Test 2 - Provide invalid resource group name
    azure_rm_loadbalancer_facts:
      rg: invalid_resource_group
      
    register: result
    ignore_errors: yes   

  - name: Test 3 - Provide invalid load balancer name
    azure_rm_loadbalancer_facts:
      resource_group: myResourceGroup
      name: invalid_load_balancer
      
    register: result
    ignore_errors: yes
    
  - name: Test 4 - Provide non-existent virtual network name
    azure_rm_loadbalancer_facts:
      resource_group: myResourceGroup
      name: myLoadBalancer
      virtual_network_name: non_existent_virtual_network
      
    register: result
    ignore_errors: yes
    
  - name: Test 5 - Provide non-existent subnet name
    azure_rm_loadbalancer_facts:
      resource_group: myResourceGroup
      name: myLoadBalancer
      virtual_network_name: myVirtualNetwork
      subnet_name: non_existent_subnet
      
    register: result
    ignore_errors: yes
    
  - name: Test 6 - Test with tags and multiple resource groups
    azure_rm_loadbalancer_facts:
      resource_group:
        - myResourceGroup
        - myOtherResourceGroup
      name: myLoadBalancer
      tags:
        - tag1
        - tag2
        
    register: result
    ignore_errors: yes
    
  - name: Test 7 - Test with invalid virtual network
    azure_rm_loadbalancer_facts:
      resource_group: myResourceGroup
      name: myLoadBalancer
      virtual_network_name: invalid_virtual_network
      
    register: result
    ignore_errors: yes
