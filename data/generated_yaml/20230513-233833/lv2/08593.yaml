
- name: Empty with_items skip test playbook
  hosts: all
  become: true

  tasks:
    - name: Empty with_items test
      authorized_key:
        user: root
        state: present
        key: "{{ lookup('file', '/root/.ssh/id_rsa.pub') }}"
        with_items: "{{ [] }}"
      ignore_errors: true
