
---
- name: Ansible Compiler Fuzzing Playbook
  hosts: all
  become: true
  vars:
    null_var: null

  tasks:
    - name: Test edge case with empty vars
      debug:
        var: "{{ [] }}"
    
    - name: Test unconventional method call
      debug:
        var: "{{ ['test']|lower.0 }}"
    
    - name: Test unexpected input with null variable
      debug:
        var: "{{ null_var | list | default(['test']) }}"

    - name: Test unexpected input with undefined variable
      debug:
        var: "{{ undefined_var | list | default(['test']) }}"

    - name: Test edge case with empty loop
      debug:
        msg: "Looping over empty list."
      loop: "{{ [] }}"
    
    - name: Test unconventional syntax with vars
      debug:
        var: "{{ ['test']|lower + ['ing'] }}"
    

    - name: Test unexpected input with empty host list
      hosts: []

    - name: Test edge case with duplicate items in list
      debug:
        var: "{{ [1, 2, 2, 3] | unique }}"

    - name: Test unconventional syntax with `enum*` filters
      debug:
        var: "{{ ['a', 'b', 'c'] | enum34(start=0) | list | join(', ') }}"

    - name: Test unexpected input with null result
      debug:
        var: "{{ none_var | default(['test']) }}"

