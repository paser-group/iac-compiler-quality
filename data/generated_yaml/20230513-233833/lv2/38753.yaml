
---
- name: Testing nxos_igmp_interface oif_source and oif_prefix
  hosts: all
  gather_facts: no

  tasks:
  - name: Add oif_prefix from a list
    nxos_igmp_interface:
      oif_prefix:
        - "{{ ['10.0.1.0/24', '10.0.2.0/24'] }}"
    delegate_to: "{{ groups['node2'][0] }}"

  - name: Add oif_source with mixed variables
    nxos_igmp_interface:
      oif_source:
        - "{{ 'node' + '1' }}"
        - "{{ '10.0.1' + '.' + ('1' ~ '') }}"
    delegate_to: "{{ groups['node1'][0] }}"

  - name: Add oif_prefix with unexpected input
    nxos_igmp_interface:
      oif_prefix: 10.0.1.0/24, 10.0.2.0/24
    delegate_to: "{{ groups['node3'][0] }}"    
