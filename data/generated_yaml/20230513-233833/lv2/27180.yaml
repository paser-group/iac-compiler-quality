
- hosts: all
  gather_facts: no

  tasks:
    - name: edge case 1
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect([3, 4, 5, 6]) | reject('lt', 2) }}"

    - name: edge case 2
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect([3, 4, 5, 6]) | join(',') }}"

    - name: edge case 3
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect([3, 4, 5, 6]) | random }}"

    - name: unconventional syntax
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect /([3, 4, 5, 6])}}"

    - name: unexpected input 1
      debug:
        msg: "{{ [1, 2, 3, '4'] | intersect([3, 4, 5, 6]) }}"

    - name: unexpected input 2
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect(3, 4, 5, 6) }}"

    - name: unexpected input 3
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect() }}"

    - name: unexpected input 4
      debug:
        msg: "{{ [1, 2, 3, 4] | intersect([]) }}"
