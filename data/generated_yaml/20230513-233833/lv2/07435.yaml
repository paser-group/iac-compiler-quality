
- name: Run command as sudo_user
  hosts: node1
  gather_facts: false
  become: true
  become_method: sudo
  become_user: "{{ sudo_user }}"
  tasks:
  - name: Invalid syntax (sudo_user as an integer)
    command: ls -al
    sudo_user: 12345
  - name: Invalid syntax (sudo_user as a dictionary)
    command: ls -al
    sudo_user:
      - user1
      - user2
  - name: Test sudo_user as a non-existent user
    command: ls -al
    sudo_user: non_existent_user
  - name: Test sudo_user as an existing user
    command: ls -al
    sudo_user: ansible
  - name: Test sudo_user as root
    command: ls -al
    sudo_user: root
