yaml
- name: ansible-galaxy info throws AttributeError
  hosts: all
  gather_facts: no

  tasks:

    - name: Define offline variable as Values instance
      set_fact: offline={ "Values": {} }

    - name: Define Values instance with other attributes
      set_fact: offline.Values.attributes={ "foo": "bar" }

    - name: Define offline variable as string
      set_fact: offline={ "Values": "string" }

    - name: Define offline variable without Values attribute
      set_fact: offline={ "NonValues": {} }

    - name: Define offline variable as integer
      set_fact: offline=5

    - name: Query ansible-galaxy info
      shell: ansible-galaxy info -vv --offline
      register: output

    - name: Show output
      debug:
        var: output.stdout_lines
