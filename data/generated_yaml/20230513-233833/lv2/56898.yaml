
- name: Test Jinja default() filter
  hosts: all
  gather_facts: false
  vars:
    my_var: undefined_variable | default(unknown_variable)
    my_var2: '17+something' | int | default('16+22j' | complex)
    my_var3: 'ssh' | regex_replace('s', 'l') | upper | default(['ssh'])
    my_var4: 'foo' | default({{'bar' | default(not_a_variable)}})
  tasks:
    - name: Display my_var
      debug:
        var: my_var
    - name: Display my_var2
      debug:
        var: my_var2
    - name: Display my_var3
      debug:
        var: my_var3
    - name: Display my_var4
      debug:
        var: my_var4
