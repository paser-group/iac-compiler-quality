
- name: Test Role Default Variables
  hosts: all
  gather_facts: no

  roles:
    - name: test-role
      vars:
        test_var: "{{ default_var }}"

  tasks:
    - name: Include Task File Using Static Import
      import_tasks:
        - "{{ 'not-a-file.yml' if test_var is not defined else test_var }}"

    - name: Include Task File Using Dynamic Import
      import_tasks: "{{ 'role-' + var_file + '/task.yml' }}"
      vars:
        var_file: "{{ 'default' if default_var is not defined else default_var }}"
