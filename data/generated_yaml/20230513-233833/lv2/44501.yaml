
---
- name: iOS_config issue playbook
  hosts: all
  gather_facts: false
  tasks:

  - name: Configure iOS devices with timeout
    ios_config:
      lines: ["timeout 60"]
    register: ios_timeout

  - name: Ensure timeout was set
    debug:
      msg: "Timeout was set to {{ ios_timeout.stdout_lines }}"

  - name: Attempt to run non-existent command on iOS devices
    ios_command:
      commands:
        - "non-existent-command"
    register: ios_command_output
    ignore_errors: true

  - name: Debug iOS command output
    debug:
      var: ios_command_output.stdout_lines

  - name: Attempt to ping highly unusual IP address
    ping:
      data: "192.168.001.001"
    ignore_errors: true

  - name: Debug ping result
    debug:
      var: ansible_ping.results
