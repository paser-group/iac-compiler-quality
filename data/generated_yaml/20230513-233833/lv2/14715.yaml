
---
- name: ansible-galaxy paging error stress test playbook
  hosts: node1
  gather_facts: no

  tasks:
  - name: Create a file containing edge case characters
    copy:
      content: "{{ lookup('password', '/dev/urandom', chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890@#$%^&*()_+-=[]{}|;:,.<>?') }}"
      dest: /tmp/edge_case_file.txt

  - name: Execute a command with unconventional syntax
    shell: |
      [ -e ./file1 ] && [ -e ./file2 ] && echo "file1 and file2 exist"
    args:
      executable: /bin/bash

  - name: Delete a non-existent file
    file:
      path: /tmp/non_existent_file.txt
      state: absent
    ignore_errors: yes

  - name: Include an invalid IP in a host group
    add_host:
      name: 10.1.1.300
      groups: test_group

  - name: Execute a failed ping command
    ping:
    ignore_errors: yes

  - name: Install a non-existent package
    apt:
      name: non_existent_package
      state: present

  - name: Attempt an illegal file operation
    file:
      path: "{{ lookup('env','HOME') }}/test_file.txt"
      mode: '0755'
      owner: root
      group: root
      state: touch
    become: true
