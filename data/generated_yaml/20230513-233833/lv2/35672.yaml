
- name: Test Yum module with state=absent
  hosts: all
  become: true
  gather_facts: false
  vars:
    package_name: "nonexistent_package"
  tasks:
    # Test edge case - empty state value
    - name: Test empty state value
      yum:
        name: "{{ package_name }}"
        state: ""

    # Test edge case - invalid state value
    - name: Test invalid state value
      yum:
        name: "{{ package_name }}"
        state: absentt

    # Test unconventional syntax - use single quotes around state value
    - name: Test single quotes on state value
      yum:
        name: "{{ package_name }}"
        state: 'absent'

    # Test unexpected input - provide package name with a space
    - name: Test package name with a space
      yum:
        name: "nonexistent package"
        state: absent

    # Test unexpected input - provide package name with NaN value
    - name: Test package name with NaN value
      yum:
        name: "{{ package_name|int/0 }}"
        state: absent
