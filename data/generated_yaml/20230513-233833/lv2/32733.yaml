
- name: Test Pacman get_bin_path error
  hosts: all
  tasks:

    - name: Install a package with a valid package name
      pacman:
        name: vim
      become: true

    - name: Install a non-existing package
      pacman:
        name: non-existing-package
        state: present
      become: true

    - name: Install a package with an invalid package name type
      pacman:
        name: ['invalid-package-name']
      become: true

    - name: Install a package with an empty package name
      pacman:
        name: ""
      become: true

    - name: Remove a package with a valid package name
      pacman:
        name: vim
        state: absent
      become: true

    - name: Remove a non-existing package
      pacman:
        name: non-existing-package
        state: absent
      become: true

    - name: Remove a package with an invalid package name type
      pacman:
        name: ['invalid-package-name']
        state: absent
      become: true

    - name: Remove a package with an empty package name
      pacman:
        name: ""
        state: absent
      become: true

    - name: Install a package with an invalid state
      pacman:
        name: vim
        state: invalid-state
      become: true

    - name: Install a package with an invalid parameter
      pacman:
        name: vim
        invalid_parameter: ""
      become: true

    - name: Install a package with a valid package name on an invalid host
      pacman:
        name: vim
      delegate_to: invalid-host
      become: true

    - name: Install a package with a valid package name on an invalid connection type
      pacman:
        name: vim
      connection: invalid-connection
      become: true

    - name: Install a package with an invalid become type
      pacman:
        name: vim
      become: invalid-become-type

    - name: Install a package using an empty inventory
      pacman:
        name: vim
      become: true
      delegate_to: "{{ item }}"
      with_inventory: /dev/null
