
---
- hosts: all
  vars:
    invalid_template: "{% import in_file %}"
    edges:
      - "{{ 'aa' is defined }}"
      - "{{ 10 is iterable }}"
      - "{{ 1000 / 0 }}"
      - "{{ arr[10] }}"
  tasks:
  - name: Execute invalid template
    template:
      src: /tmp/template.j2
      dest: /tmp/generated
    vars:
      in_file: "{{ invalid_template }}"
  - name: Edge case testing
    debug:
      msg: "{{ item }}"
    with_items: "{{ edges }}"
