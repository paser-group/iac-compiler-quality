
---
- name: Test playbook for aws_s3 module error
  hosts: all
  tasks:
    - name: Upload file with nonexistent version
      aws_s3:
        bucket: my-bucket
        object: my-object
        src: /path/to/local/file
        version_id: None
        mode: put
      ignore_errors: yes

    - name: Upload file with unconventional S3 URL syntax
      aws_s3:
        bucket: my%20bucket
        object: /path_to/my_object
        src: /path/to/local/file
        region: us-east-1
        mode: put

    - name: Upload file with invalid region
      aws_s3:
        bucket: my-bucket
        object: my-object
        src: /path/to/local/file
        region: invalid-region
        mode: put
      ignore_errors: yes

    - name: Upload file with unexpected source file input
      aws_s3:
        bucket: my-bucket
        object: my-object
        src: /invalid/path/to/file
        mode: put
      ignore_errors: yes
