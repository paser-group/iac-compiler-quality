
---
- name: Test playbook for edge cases
  hosts: node1
  become: yes
  vars:
    some_dict:
      existing_key: [1, 2, 3]
      non_existing_key: ["a", "b"]
  tasks:
    - name: Test with_items
      debug:
        var: item
      with_items: "{{ some_dict[some_existing_key] | default(['default value']) + [none_existing_key] }}"
