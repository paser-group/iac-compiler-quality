
- name: Clone Git repository with --branch and --depth
  hosts: all
  gather_facts: false

  tasks:
    - name: Clone repository with --depth and --branch
      git:
        repo: https://github.com/username/repo.git
        dest: /root/repo
        depth: "{{ item.depth }}"
        version: "{{ item.branch }}"
      with_items:
        - { depth: 10, branch: "master" }
        - { depth: 0, branch: "volatility--" }
        - { depth: "text", branch: ["feature", "javascript"] }
      register: git_clone_results

    - name: Print Git clone results
      debug:
        var: git_clone_results
