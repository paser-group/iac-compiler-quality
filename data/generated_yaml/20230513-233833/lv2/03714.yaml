
---
- name: Test lvol module state=absent with unconventional input
  hosts: all
  gather_facts: no
  tasks:
    - name: Remove non-existent LVM volume group
      lvol:
        vg: non-existent-vg
        lv: lvol-test1
        state: absent
      ignore_errors: yes

    - name: Remove LVM volume group with no volumes
      lvol:
        vg: vg-with-no-volumes
        lv: lvol-test2
        state: absent
      ignore_errors: yes

    - name: Remove LVM volume group with volumes
      lvol:
        vg: vg-with-volumes
        lv: lvol-test3
        state: absent
      ignore_errors: yes

- name: Test lvol module state=absent with unexpected inputs
  hosts: all
  gather_facts: no
  tasks:
    - name: Remove LVM volume group with wrong input type for state
      lvol:
        vg: vg-to-be-deleted
        state: int
      ignore_errors: yes
      
    - name: Remove LVM volume group with wrong input types
      lvol:
        vg: 42
        state: "absent"
      ignore_errors: yes
