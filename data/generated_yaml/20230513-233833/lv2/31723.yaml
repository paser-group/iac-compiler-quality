
---
- name: Jenkins Script Error
  hosts: all
  become: true

  tasks:
  - name: Jenkins Script
    jenkins_script:
      jenkins_url: "http://localhost:8080/"
      user: "admin"
      password: "password"
      script: "{{ lookup('file', '/path/to/script.json') | to_json }}"
    register: result

  - name: Debug Result
    debug:
      var: result

  - name: Node 1 Result
    debug:
      msg: "{{ result['node-1']['builds'] }}"

  - name: Node 2 Result
    debug:
      msg: "{{ result['node-2']['builds'] }}"

  - name: Node 3 Result
    debug:
      msg: "{{ result['node-3']['builds'] }}"
