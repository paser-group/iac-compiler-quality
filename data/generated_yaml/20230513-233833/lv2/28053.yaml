yaml
- name: Stress testing Ansible compiler for LXC container error
  hosts: node2
  vars:
    lxc_name: "{{ 'my_container' }}"
    lxc_image: "{{ 'ubuntu:18.04' }}"
    lxc_state: "{{ 'started' }}"
    invalid_key: "{{ 'invalid_var' }}"
  tasks:
  - name: Install LXC package
    apt:
      name: lxc
      state: present
  - name: Create LXC container
    lxc_container:
      name: "{{ lxc_name }}"
      image: "{{ lxc_image }}"
      state: "{{ lxc_state }}"
  - name: Start LXC container (typo in state variable)
    lxc_container:
      name: "{{ lxc_name }}"
      image: "{{ lxc_image }}"
      state: "{{ 'start' }}"
  - name: Start LXC container (invalid key)
    lxc_container:
      name: "{{ lxc_name }}"
      image: "{{ lxc_image }}"
      state: "{{ lxc_state }}"
      "{{ invalid_key }}": "invalid_value"
  - name: Execute invalid command in LXC container
    lxc_container:
      name: "{{ lxc_name }}"
      command: "{{ 'invalid_command' }}"
