
- name: Ansible templating error stress test playbook
  hosts: all
  become: true
  vars:
    # Define a variable containing an unexpected input
    unexpected_input: {{ name'|cmd' }}
    # Define a variable containing unconventional syntax
    unconventional_syntax: {1:2, 3:4, };{% for item in range(5) %}{{ item }}, {% endfor %}5:6};
  tasks:
    # Task 1 - using an attribute that contains an invalid syntax
    - name: Test 1 - Invalid syntax
      debug:
        msg: 'This is an example of {{ invalid_syntax }}'
      vars:
        invalid_syntax: /* = Comment */
    
    # Task 2 - using an attribute that contains unconventional syntax
    - name: Test 2 - Unconventional syntax
      debug:
        msg: 'This is an example of {{ unconventional_syntax }}'
      vars:
        unconventional_syntax: "{{ unconventional_syntax|safe }}"
    
    # Task 3 - using an attribute that contains an unexpected input
    - name: Test 3 - Unexpected input
      debug:
        msg: 'This is an example of {{ unexpected_input }}'
  
# End of playbook
