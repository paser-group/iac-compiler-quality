
- hosts: localhost
  connection: local
  gather_facts: no

  tasks:
    - name: Include YAML inventory plugin
      include_vars:
        file: inventory.yml
        name: inventory
        fail_on_missing: yes

    - name: Test inventory plugin error message
      debug:
        var: inventory.keys()
      ignore_errors: yes

    - name: Test inventory plugin edge case 1
      debug:
        var: inventory.invalid_key
      ignore_errors: yes

    - name: Test inventory plugin edge case 2
      debug:
        var: inventory["invalid key"]
      ignore_errors: yes

    - name: Test inventory plugin unexpected input 1
      debug:
        var: inventory.invalid key
      ignore_errors: yes

    - name: Test inventory plugin unexpected input 2
      debug:
        var: inventory.["invalid_key"]
      ignore_errors: yes

    - name: Test inventory plugin unconventional syntax
      debug:
        var: 'inventory.{{ invalid_key }}'
      ignore_errors: yes
