
---
- name: Interpolation Syntax Stress Test
  hosts: all
  become: true

  vars:
    var1: "hello"
    var2: "world"
    var3: "{{ hello }}"  # Unexpected nested variable reference
    var4: "{{ undefined }}"  # Reference to undefined variable
    var5: "{{ 'hello' ~ 'world' }}"  # Unconventional string concatenation
    var6: >  # Large multiline string
      First line
      Second line
      Third line

  tasks:
    - name: Task 1
      debug:
        msg: "{{ var1 + var2 }}"  # Valid interpolation
    - name: Task 2
      debug:
        msg: "{{ var1 + undefined }}"  # Reference to undefined variable
    - name: Task 3
      debug:
        msg: "{{ [1, 2,] }}"  # Unconventional list syntax
    - name: Task 4
      debug:
        msg: "{{ var3 }}"  # Nested variable reference
    - name: Task 5
      debug:
        msg: "{{ var5 }}"  # Unconventional string concatenation
    - name: Task 6
      debug:
        msg: "{{ var6 }}"  # Large multiline string
    - name: Task 7
      debug:
        msg: "{{ var5[999] }}"  # Index out of range
