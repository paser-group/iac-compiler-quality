
- hosts: all
  tasks:
  - name: Install a package with pip
    pip:
      name: "package_name"
      state: "present"
      editable: "True"
      extra_args: "-q --no-index"
      index_url: "{{ hostvars[item]['ansible_default_ipv4']['address'] }}/simple"
    register: result
    with_items:
      - "{{ groups['all'] }}"
    ignore_errors: true

  - name: Display pip installation results
    debug:
      msg: "{{ result }}"
