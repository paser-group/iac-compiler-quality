
- name: Ansible Playbook for sudo password error
  hosts: all
  become: true
  gather_facts: true

  tasks:
  - name: Run a command with sudo and set a custom password
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_password: "{{ sudo_password }}"
    
  - name: Set a passwordless sudo user
    user:
      name: ansible
      sudo: yes
      nopasswd: yes
    
  - name: Run a command as a passwordless sudo user
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_user: ansible
    
  - name: Run a command as an invalid sudo user
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_user: invalid_user
    
  - name: Run a command with an incorrect sudo password
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_password: invalid_password
    
  - name: Run a command with a non-existent sudo binary path
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_exe: /usr/bin/sudo-non-existent
    
  - name: Run a command with a unicode password
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_password: "südö_pässwörd"
    
  - name: Run a command with a non-string password
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_password: 1234
    
  - name: Run a command with an empty sudo password
    command: echo "Command ran successfully"
    become: true
    become_method: sudo
    become_password: ""
