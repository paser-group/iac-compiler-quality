
---
- name: A playbook to test edge cases and unconventional syntax related to acl module
  hosts: all
  tasks:
    - name: Removing all default entries from acl
      acl:
        path: /path/to/file
        entity: everyone
        type: user
        rights: r
        state: absent
        default: yes
      ignore_errors: yes

    - name: Adding an invalid access control list entry
      acl:
        path: /path/to/file
        entity: nobody
        type: invalid
        rights: xyz
        default: no

    - name: Adding an invalid attribute
      acl:
        path: /path/to/file
        entity: everyone
        type: user
        rights: r
        state: absent
        default: invalid

    - name: Adding an access control list entry with invalid file path
      acl:
        path: /invalid/path/to/file
        entity: guest
        type: group
        rights: x
        default: no

    - name: Attempting to remove a non-existent access control list entry
      acl:
        path: /path/to/file
        entity: non_existent_user
        type: user
        rights: r
        state: absent
        default: no

    - name: Adding multiple access control list entries
      acl:
        path: /path/to/multiple/files
        entity: user1
        type: user
        rights: rw
        default: no
      acl:
        path: /path/to/multiple/files
        entity: user2
        type: user
        rights: r
        default: no
      acl:
        path: /path/to/multiple/files
        entity: user3
        type: user
        rights: w
        default: no
