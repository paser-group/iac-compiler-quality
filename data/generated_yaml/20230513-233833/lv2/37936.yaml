
---
- name: Test playbook
  hosts: all
  
  tasks:
  
  - name: Configure trunk interface with port type edge
    nxos_config:
      lines:
        - interface {{ item }} 
        - spanning-tree port type edge trunk
    with_items:
      - Ethernet1/1
      - Ethernet1/2
      - Ethernet1/3
      
  - name: Configure access interface with port type edge
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree port type edge 
    with_items:
      - Ethernet1/4
      - Ethernet1/5
      - Ethernet1/6   
      
  - name: Configure weird interface with port type edge
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree port type ed ge
    with_items:
      - Ethernet1/7
      - Ethernet1/8
      - Ethernet1/9  
        
  - name: Configure trunk interface with invalid syntax
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree 123
    with_items:
      - Ethernet1/10
      - Ethernet1/11
      - Ethernet1/12  
  
  - name: Configure access interface with invalid syntax
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree hello world 
    with_items:
      - Ethernet1/13
      - Ethernet1/14
      - Ethernet1/15 
        
  - name: Configure weird interface with invalid syntax
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree !
    with_items:
      - Ethernet1/16
      - Ethernet1/17
      - Ethernet1/18
        
  - name: Configure trunk interface with unexpected input
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree 2+2={}
    with_items:
      - Ethernet1/19
      - Ethernet1/20
      - Ethernet1/21    
        
  - name: Configure access interface with unexpected input
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree "hello world"
    with_items:
      - Ethernet1/22
      - Ethernet1/23
      - Ethernet1/24       
        
  - name: Configure weird interface with unexpected input
    nxos_config:
      lines:
        - interface {{ item }}
        - spanning-tree ()
    with_items:
      - Ethernet1/25
      - Ethernet1/26
      - Ethernet1/27
