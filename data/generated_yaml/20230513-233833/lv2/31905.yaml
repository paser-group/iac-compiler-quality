yaml
- name: Create subnet
  hosts: node1

  tasks:
  - name: Create subnet with invalid az parameter
    ec2_vpc_subnet:
      vpc_id: "vpc-123456"
      cidr: "10.0.2.0/24"
      az: "invalid"
      state: present
    register: result
    ignore_errors: true

  - name: Print debug info for failing subnet creation
    debug:
      var: result

  - name: Create subnet with valid az parameter
    ec2_vpc_subnet:
      vpc_id: "vpc-123456"
      cidr: "10.0.2.0/24"
      az: "us-west-2a"
      state: present
