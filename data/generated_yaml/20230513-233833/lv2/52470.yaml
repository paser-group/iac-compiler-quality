
- hosts: all
  become: true
  vars:
    prefix: "10.10.10.0/24"
    gateway: "192.168.1.1"
  tasks:
    - name: Add route with prefix
      win_route:
        network: "{{ prefix }}"
        mask: "255.255.255.0"
        gateway: "{{ gateway }}"

    - name: Add route with malformed prefix
      win_route:
        network: "10.10.10.0/24/"
        mask: "255.255.255.0"
        gateway: "{{ gateway }}"

    - name: Add route with incorrect network format
      win_route:
        network: "10.10.10.0:24"
        mask: "255.255.255.0"
        gateway: "{{ gateway }}"

    - name: Add route with invalid mask
      win_route:
        network: "{{ prefix }}"
        mask: "255.255.255.256"
        gateway: "{{ gateway }}"

    - name: Add route with invalid gateway
      win_route:
        network: "{{ prefix }}"
        mask: "255.255.255.0"
        gateway: "192.168.1.256"

    - name: Add route without network
      win_route:
        mask: "255.255.255.0"
        gateway: "{{ gateway }}"

    - name: Add route without mask
      win_route:
        network: "{{ prefix }}"
        gateway: "{{ gateway }}"

    - name: Add route without gateway
      win_route:
        network: "{{ prefix }}"
        mask: "255.255.255.0"

    - name: Add route with gateway in the wrong format
      win_route:
        network: "{{ prefix }}"
        mask: "255.255.255.0"
        gateway: "192.168.1.1/24"

    - name: Add route with network and gateway swapped
      win_route:
        network: "{{ gateway }}"
        mask: "255.255.255.0"
        gateway: "{{ prefix }}"
