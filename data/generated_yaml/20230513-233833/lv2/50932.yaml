yaml
- hosts: all
  gather_facts: False
  tasks:
    - name: Gather facts with invalid state
      netapp_e_facts:
        state: '{{ "not a valid state" }}'
      delegate_to: node1
    
    - name: Gather facts with invalid credentials
      netapp_e_facts:
        hostname: node1
        username: '{{ "invalid_user" }}'
        password: '{{ "invalid_password" }}'
      delegate_to: node2

    - name: Gather facts with invalid cDOT version
      netapp_e_facts:
        hostname: node1
        username: '{{ "admin" }}'
        password: '{{ "password" }}'
        state: present
        ontapi: 10
      delegate_to: node3

    - name: Gather facts with missing mandatory parameter
      netapp_e_facts:
        hostname: node1
        username: '{{ "admin" }}'
        password: '{{ "password" }}'
        state: present
        vserver: ''
      delegate_to: node1
