yaml
- name: Test Multiline Error Messages
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Run command with multiple errors
      command: "{{ item }}"
      register: command_output
      ignore_errors: true
      with_items:
        - "echo 'This is a test.' ; echo 'This is the first error.' >&2 ; echo 'This is another error.' >&2"
        - "echo 'This is another test.' ; echo 'This is an error.' >&2 ; echo 'This is a multiline error\nThis is the second line of the error\nThis is the third line of the error.' >&2"
        - "echo 'This is a third test.' ; echo 'This is an error message that exceeds the maximum width and generates unreadable output. This is a long line that wraps around and around and around until it becomes a convoluted mess that is hard to read.' >&2"

    - name: Display error output
      debug: var=command_output
