
---
- name: Route53 TXT record creation
  hosts: all
  become: yes
  tasks:
    - name: Create Route53 TXT record with invalid zone
      route53:
        command: create
        zone: abcdefg
        record: "{{ inventory_hostname }}"
        type: TXT
        ttl: 180
        value: "This is a test"
      ignore_errors: true
    - name: Create Route53 TXT record with invalid TTL
      route53:
        command: create
        zone: "{{ inventory_hostname }}"
        record: test
        type: TXT
        ttl: -1
        value: "This is a test"
      ignore_errors: true
    - name: Create Route53 TXT record with invalid value
      route53:
        command: create
        zone: "{{ inventory_hostname }}"
        record: test
        type: TXT
        ttl: 180
        value: 123
      ignore_errors: true
    - name: Create Route53 TXT record with missing zone
      route53:
        command: create
        zone: ""
        record: test
        type: TXT
        ttl: 180
        value: "This is a test"
      ignore_errors: true
    - name: Create Route53 TXT record with missing value
      route53:
        command: create
        zone: "{{ inventory_hostname }}"
        record: test
        type: TXT
        ttl: 180
        value: ""
      ignore_errors: true
    - name: Create Route53 TXT record with unconventional syntax
      route53:
        command: create
        zone: "{{ inventory_hostname }}"
        record: "{{ inventory_hostname }}"
        type: "{{'T' ~ 'X' ~ 'T'}}"
        ttl: "{{'1'+'8'+'0'}}"
        value: "{{'T'~'h'~'i'~'s'~' '~'i'~'s'~' '~'a'~' '~'t'~'e'~'s'~'t'}}"
      ignore_errors: true
    - name: Create Route53 TXT record with unexpected input - array
      route53:
        command: create
        zone: "{{hostvars[inventory_hostname]['ansible_default_ipv4']['address']}}"
        record: "{{ [1, 2, 3] }}"
        type: TXT
        ttl: 180
        value: "This is a test"
      ignore_errors: true
    - name: Create Route53 TXT record with unexpected input - dictionary
      route53:
        command: create
        zone: "{{hostvars[inventory_hostname]['ansible_default_ipv4']['address']}}"
        record: "{{ {'key': 'value'} }}"
        type: TXT
        ttl: 180
        value: "This is a test"
      ignore_errors: true
    - name: Create Route53 TXT record with unexpected input - Boolean
      route53:
        command: create
        zone: "{{hostvars[inventory_hostname]['ansible_default_ipv4']['address']}}"
        record: "{{ True }}"
        type: TXT
        ttl: 180
        value: "This is a test"
      ignore_errors: true
    - name: Create Route53 TXT record with unexpected input - None
      route53:
        command: create
        zone: "{{hostvars[inventory_hostname]['ansible_default_ipv4']['address']}}"
        record: "{{ None }}"
        type: TXT
        ttl: 180
        value: "This is a test"
      ignore_errors: true
