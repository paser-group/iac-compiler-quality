
- name: Test playbook for apt and yum modules with with_items prefix
  hosts: node1
  become: true
  tasks:
  - name: Install packages with prefix using apt module
    apt:
      name: "{{ item }}"
      state: present
    with_items: 
       - p:vim
       - p:tree
       - p:htop

  - name: Install packages with prefix using yum module
    yum:
      name: "{{ item }}"
      state: present
    with_items: 
       - p:httpd
       - p:openssl
      
  - name: Remove packages with prefix using apt module
    apt:
      name: "{{ item }}"
      state: absent
    with_items: 
       - p:vim
       - p:tree
       - p:htop

  - name: Remove packages with prefix using yum module
    yum:
      name: "{{ item }}"
      state: absent
    with_items: 
       - p:httpd
       - p:openssl
