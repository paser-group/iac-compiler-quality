
- name: Test firewalld module on CentOS / RedHat
  hosts: all
  become: yes

  tasks:
  - name: Set zone for interface
    firewalld:
      interface: eth0
      zone: public

  - name: Set non-existent zone for interface
    firewalld:
      interface: eth1
      zone: non-existent

  - name: Set a list of zones for interface
    firewalld:
      interface: eth0
      zone: ['public', 'internal']

  - name: Set invalid parameter
    firewalld:
      interface: eth0
      state: stopped

  - name: Set invalid list parameter
    firewalld:
      interface: eth0
      zone: ['public', 100]

  - name: Remove zone for interface
    firewalld:
      interface: eth0
      zone: ''

  - name: Set interface to a non-existent zone
    firewalld:
      interface: eth0
      zone: non-existent

  - name: Set zone for all interfaces
    firewalld:
      zone: public

  - name: Set non-existent zone for all interfaces
    firewalld:
      zone: non-existent

  - name: Set a list of zones for all interfaces
    firewalld:
      zone: ['public', 'internal', 'non-existent']

  - name: Set invalid parameter for all interfaces
    firewalld:
      state: stopped

  - name: Set invalid list parameter for all interfaces
    firewalld:
      zone: ['public', 100]

  - name: Remove zone for all interfaces
    firewalld:
      zone: ''
