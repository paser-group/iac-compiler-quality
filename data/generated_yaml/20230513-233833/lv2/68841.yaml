yaml
---
- name: Testing wait_for_connection bugs
  hosts: node1
  gather_facts: no

  tasks:
    - name: Testing default syntax for wait_for_connection
      wait_for_connection:
        timeout: 10
      register: result1

    - name: Testing unconventional syntax for timeout
      wait_for_connection:
        timeout: []
      ignore_errors: yes

    - name: Testing unconventional syntax for connect_timeout
      wait_for_connection:
        connect_timeout: []
      ignore_errors: yes

    - name: Testing unexpected inputs for ip and port
      wait_for_connection:
        timeout: 5
        host: []
        port: "string"
      ignore_errors: yes

    - name: Testing unexpected input for status_code
      wait_for_connection:
        timeout: 5
        status_code: "A"
      ignore_errors: yes

    - name: Testing unexpected input for search_regex
      wait_for_connection:
        timeout: 15
        search_regex: "*"
      ignore_errors: yes

    - name: Testing unexpected input for delay
      wait_for_connection:
        timeout: 5
        delay: "A"
      ignore_errors: yes

    - name: Testing unexpected input for new_line
      wait_for_connection:
        timeout: 5
        new_line: "A"
      ignore_errors: yes

    - name: Testing unexpected input for sleep
      wait_for_connection:
        timeout: 5
        sleep: "A"
      ignore_errors: yes

    - name: Testing unexpected input for active_connection_attempts
      wait_for_connection:
        timeout: 5
        active_connection_attempts: "A"
      ignore_errors: yes

    - name: Testing unexpected input for retry_interval
      wait_for_connection:
        timeout: 5
        retry_interval: "A"
      ignore_errors: yes

    - name: Testing unexpected input for port_offset
      wait_for_connection:
        timeout: 5
        port_offset: "A"
      ignore_errors: yes

    - name: Testing unexpected input for delay_factor
      wait_for_connection:
        timeout: 5
        delay_factor: []
      ignore_errors: yes

    - name: Testing unexpected input for body_regex
      wait_for_connection:
        timeout: 5
        body_regex: {}
      ignore_errors: yes

    - name: Testing unexpected input for body_regex_match
      wait_for_connection:
        timeout: 5
        body_regex_match: {}
      ignore_errors: yes

    - name: Testing unexpected input for json
      wait_for_connection:
        timeout: 5
        json: []
      ignore_errors: yes

    - name: Testing unexpected input for text
      wait_for_connection:
        timeout: 5
        text: {}
      ignore_errors: yes

    - name: Testing unexpected input for search_string
      wait_for_connection:
        timeout: 5
        search_string: []
      ignore_errors: yes

    - name: Testing unexpected input for delay_on_retry
      wait_for_connection:
        timeout: 5
        delay_on_retry: "A"
      ignore_errors: yes

    - name: Testing edge case of no timeout
      wait_for_connection:
      ignore_errors: yes

    - name: Testing edge case of no timeout with host
      wait_for_connection:
        host: 10.1.1.1
      ignore_errors: yes

    - name: Testing edge case of no timeout with sleep
      wait_for_connection:
        sleep: 1
      ignore_errors: yes

    - name: Testing edge case of no timeout with body
      wait_for_connection:
        body: "This is a test"
      ignore_errors: yes
