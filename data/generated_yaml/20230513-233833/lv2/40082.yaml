
- name: Stress Test Playbook
  hosts: all
  vars:
    invalid_var: "!$#"
  gather_facts: false

  tasks:
    - name: Test invalid group
      debug:
        msg: "{{ groups[inventory_hostname] + non_existent_var }}"

    - name: Test invalid host
      debug:
        msg: "{{ hostvars['non_existent_host']['ansible_hostname'] }}"

    - name: Test invalid vars
      set_fact:
        invalid_fact: "{{ invalid_var }}"

    - name: Test invalid module
      non_existent_module:
        invalid_param: "{{ invalid_var }}"

    - name: Test invalid syntax
      command: "{{ invalid_var }}"

    - name: Test invalid loop
      set_fact:
        loop_var: "{{ range(10, invalid_var) }}"

    - name: Test invalid template
      template:
        src: "{{ invalid_var }}"
        dest: "/tmp/test.txt"

    - name: Test invalid shell
      shell: "{{ invalid_var }}"

    - name: Test invalid include
      include: "{{ invalid_var }}"

    - name: Test invalid when condition
      debug:
        msg: "This task should not be executed"
      when: "{{ invalid_var }}"

    - name: Test invalid until condition
      debug:
        msg: "This task should not be executed"
      until: "{{ invalid_var }}"
