
- name: Ansible Bug Hunt
  hosts: node1
  gather_facts: no

  tasks:
    # Define a list variable with strings
    - set_fact:
        my_list: [{{ item }}]
      # Use an unconventional syntax to define the list items
      with_items: >-
                  ["string1",
                   {{ "{{" }} '' | quote }},
                   "string2",
                   {{ '""' | quote }},
                   "string3",
                   {{ "{{" }} }}

    # Attempt to append a string to the "AnsibleUnicode" object, which should generate an error
    - debug:
        # Edge case input - use a nonexistent attribute "appened" instead of "append"
        var: my_list.0.appened("string4")

    # Ping all the nodes in the inventory
    - ping:

  # Use a non-existent module to further test the compiler
  - no_such_module:
      command: "/bin/true"
