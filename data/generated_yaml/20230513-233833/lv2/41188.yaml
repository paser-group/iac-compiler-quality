
- hosts: all
  gather_facts: no

  tasks:
    - name: Set environment variable with an empty value
      set_fact:
        empty_var: ""
      environment:
        empty_var: "{{ empty_var }}"

    - name: Set environment variable with a boolean value
      set_fact:
        bool_var: true
      environment:
        bool_var: "{{ bool_var }}"

    - name: Set environment variable with a null value
      set_fact:
        null_var: null
      environment:
        null_var: "{{ null_var }}"

    - name: Set environment variable with a numerical value
      set_fact:
        num_var: 42
      environment:
        num_var: "{{ num_var }}"

    - name: Set environment variable with a list value
      set_fact:
        list_var: ["item1", "item2"]
      environment:
        list_var: "{{ list_var }}"

    - name: Set environment variable with a dictionary value
      set_fact:
        dict_var:
          key1: "value1"
          key2: "value2"
      environment:
        dict_var: "{{ dict_var }}"

    - name: Access environment variable with an invalid syntax
      debug:
        var: "{{ invalid_syntax ]]}"
      environment:
        invalid_syntax ]]: "invalid value"

    - name: Access undefined environment variable
      debug:
        var: "{{ undefined_var }}"
      environment:
        defined_var: "defined value"

    - name: Use undefined variable in jinja template
      template:
        src: "{{ undefined_template }}.j2"
        dest: "/tmp/output"
      environment:
        defined_template: "defined_template"
