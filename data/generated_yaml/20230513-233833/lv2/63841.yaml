
---
- name: Test Ansible Win_Robocopy Access Errors
  hosts: node1
  gather_facts: no

  tasks:
    - name: Win_Robocopy Access Error Test
      win_robocopy:
        src: C:\Data
        dest: \\server\Data
        filespec: "*.*"
        switch: /COPY:DAT
        retry: 3
        retries: 3
        ignore_errors: True
        quiet: True
        purge: True
        log_options: "/R:3 /W:10"
        force: True
        security: True
        copy_links: True
        overwrite: True
        wait: False
        destination_folder_keep: False
        dir_keep: False
        paths:
        - C:\Windows
        - C:\Program Files
        - C:\Users\Administrator\Documents
        - 'C:\Data\Unexpected"Syntax'
        - 'C:\Data\Unexpected|Syntax'
        - 'C:\Data\Unexpected<Syntax'
        - 'C:\Data\Unexpected>Syntax'
        - 'C:\Data\Unexpected(Syntax'
        - 'C:\Data\Unexpected)Syntax'
        - 'C:\Data\Unexpected[Syntax'
        - 'C:\Data\Unexpected]Syntax'
        - 'C:\Data\Unexpected{Syntax'
        - 'C:\Data\Unexpected}Syntax'
        - 'C:\Data\Unexpected"File.txt'
      register: win_robocopy_result
