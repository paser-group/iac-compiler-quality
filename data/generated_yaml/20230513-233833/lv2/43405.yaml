
- hosts: all
  gather_facts: false
  tasks:
    - name: create directory
      file:
        path: "./{{ item }}"
        state: directory
        mode: "0777"
      with_items:
        - "."
        - "./."
        - "././"
        - "./././"
        - "././././"
        - "/././././"
        - "/../.."
        - "/../../.."
        - "/../../../"
        - "/../../../../"
        - "/../../../../../"
        - "/../../../../../../"
        - "/../../../../../../../"
        - "/../../../../../../../../etc/passwd"
    - name: run terraform
      shell: "terraform plan \"{{ item.path }}\""
      with_items:
        - "."
        - "./."
        - "././"
        - "./././"
        - "././././"
        - "/././././"
        - "/../.."
        - "/../../.."
        - "/../../../"
        - "/../../../../"
        - "/../../../../../"
        - "/../../../../../../"
        - "/../../../../../../../"
        - "/../../../../../../../../etc/passwd"
