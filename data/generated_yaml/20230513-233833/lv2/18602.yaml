
- hosts: all
  gather_facts: false

  tasks:
    - name: Task with any_errors_fatal
      command: /bin/false
      any_errors_fatal: true
      ignore_errors: true

    - name: File copy task
      copy:
        src: /tmp/abc
        dest: /etc/some/path/

  rescue:
    - name: Rescue task
      command: echo "Rescued. Trying again."
      ignore_errors: true

  always:
    - name: Always task
      command: echo "This will always execute"

  - name: Random command task
    command: ping 127.0.0.1

  - name: Random module task
    set_fact:
      random_var: "Random {{ item }}"
    with_items: "{{ range(5)|list }}"
