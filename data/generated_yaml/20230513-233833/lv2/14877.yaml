
---
- hosts: all
  gather_facts: no

  tasks:
    # Edge case #1: Use a non-boolean value for ignore_errors
    - shell: echo "hello"
      register: output
      changed_when: output.rc != 0
      ignore_errors: "true"

    # Edge case #2: Use a non-integer value for rc
    - shell: echo "world"
      register: output2
      changed_when: output2.rc != "0"
      ignore_errors: true

    # Edge case #3: Use unconventional syntax for changed_when
    - shell: echo "unconventional syntax"
      register: output3
      changed_when: "{{ output3.rc != 0 }}"
      ignore_errors: true

    # Edge case #4: Include a task that does not use changed_when
    - shell: echo "no changed_when"
      ignore_errors: true

    # Edge case #5: Use a conditional expression as the argument for changed_when
    - shell: echo "conditional expression"
      register: output4
      changed_when: "{{ 1 if output4.rc != 0 else 0 }}"
      ignore_errors: true
