
- hosts: localhost
  gather_facts: no
  tasks:
    - name: "Deploy VPC with profile parameter"
      ec2_vpc:
        name: "test-vpc"
        state: present
        region: "us-west-2"
        cidr_block: "192.168.0.0/16"
        profile: "{{ item }}"
      loop: "{{ ['test-profile', '', 'invalid-profile'] }}"

    - name: "Deploy VPC with non-numeric CIDR block"
      ec2_vpc:
        name: "test-vpc"
        state: present
        region: "us-west-2"
        cidr_block: "invalid-cidr-block"
      
    - name: "Deploy VPC with invalid region"
      ec2_vpc:
        name: "test-vpc"
        state: present
        region: "invalid-region"
        cidr_block: "192.168.0.0/16"

    - name: "Deploy VPC with unsupported state parameter"
      ec2_vpc:
        name: "test-vpc"
        state: absent
        region: "us-west-2"
        cidr_block: "192.168.0.0/16"

    - name: "Deploy VPC with an invalid CIDR block range"
      ec2_vpc:
        name: "test-vpc"
        state: present
        region: "us-west-2"
        cidr_block: "192.300.0.0/16"
