
- name: Test ansible-playbook error reporting
  hosts: all
  gather_facts: no

  tasks:
    - name: Test inventory file error
      debug:
        msg: "This is a test message."
      delegate_to: localhost
      ignore_errors: yes

    - name: Test inventory file presence
      stat:
        path: "/path/to/nonexistent/file"
      register: file_status
      ignore_errors: yes

    - name: Fail if inventory file doesn't exist
      fail:
        msg: "Inventory file not found"
      when: not file_status.stat.exists
      delegate_to: localhost
