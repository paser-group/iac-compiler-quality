
- name: Test Ansible Compiler
  hosts: node1
  gather_facts: no
  
  tasks:
    - name: Run command on node1
      command: echo "Command executed on node1"
      ignore_errors: yes
  
    - name: Copy file to node1
      copy:
        content: "{{ 'A'*9999999999999999999 }}"
        dest: "~/test-file"
        remote_src: yes
        mode: 777
        force: yes
  
    - name: Run command on node2
      shell: "{{ 'A'*100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' }}"
  
    - name: Execute command on node3
      shell: ifconfig "{{ item }}"
      with_items:
        - eth0
        - lo
        - wlan0
        
    - name: Change file permissions on node2
      file: path=~/test-file mode=chicken state=file owner=root group=root
      become: yes
      
    - name: Remove all files on node3
      file: path=/ force=yes
      
    - name: Install package on node3
      apt: name=chicken state=present 
