
- name: Test playbook for variable default value
  hosts: all
  gather_facts: no
  vars:
    var1: "{{ var1 | default(omit) }}"
    var2: "{{ var2 | default([]) | length }}"
    var3: "{{ var3 | default('') | upper }}"
    var4: "{{ var4 | default('2022-01-01') | regex_replace('[^\d-]+', '') }}"
    var5: "{{ var5 | default(1) | int }}"
    
  tasks:
  - name: Debug vars
    debug:
      msg:
        - var1: "{{ var1 is defined }}"
        - var2: "{{ var2 is defined }}"
        - var3: "{{ var3 is defined }}"
        - var4: "{{ var4 is defined }}"
        - var5: "{{ var5 is defined }}"
