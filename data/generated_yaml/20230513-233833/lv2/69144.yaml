
---
- name: Test service_facts module
  hosts: all
  gather_facts: yes

  tasks:
    - name: Get service facts
      service_facts:
        - name: "{{ item }}"
        - pattern: "{{ item }}"
      loop:
        - "sshd"
        - "httpd"
        - ";" # test unexpected input
        - "systemd-journald.service;echo test" # test unconventional syntax with unexpected input
        - "pause" # test unconventional syntax with correct input but non-existent service
        - "{{ '/etc/passwd' }}" # test unconventional syntax with input that is not a valid service name
