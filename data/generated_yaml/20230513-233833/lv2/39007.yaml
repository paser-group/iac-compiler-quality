
- name: Test dynamic inventory errors
  hosts: all
  gather_facts: false
  
  tasks:
    # Invalid group name
    - name: Test case 1 - Invalid group name
      debug:
        var: hostvars['[@#$%]']

    # Invalid host name
    - name: Test case 2 - Invalid host name
      debug:
        var: hostvars['invalid-host']

    # Invalid inventory file
    - name: Test case 3 - Invalid inventory file
      debug:
        var: ansible_play_batch

    # Incorrect syntax in inventory file
    - name: Test case 4 - Invalid syntax in inventory file
      debug:
        var: hostvars['invalid-host']

    # Empty inventory file
    - name: Test case 5 - Empty inventory file
      debug:
        var: groups.all

    # Non-existent group
    - name: Test case 6 - Non-existent group
      debug:
        var: groups['invalid-group']

    # Non-existent host in group
    - name: Test case 7 - Non-existent host in group
      debug:
        var: groups['test-group']['invalid-host']

    # Duplicate host name in inventory file
    - name: Test case 8 - Duplicate host name in inventory file
      debug:
        var: hostvars['node1']

    # Duplicate group name in inventory file
    - name: Test case 9 - Duplicate group name in inventory file
      debug:
        var: groups['all']

    # Group with invalid children
    - name: Test case 10 - Group with invalid children
      debug:
        var: groups['invalid-group']

    # Invalid hostvars data type
    - name: Test case 11 - Invalid hostvars data type
      debug:
        var: hostvars[string]

  vars:
    string: "this is not a dictionary"
