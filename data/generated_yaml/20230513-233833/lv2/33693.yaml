
- name: Import Role Within Child Playbook Test
  hosts: all
  become: true
  vars:
    my_var: "testing123"
  tasks:
    - name: Child Playbook Test
      include_tasks: child_playbook.yml
      vars:
        some_var: "{{ my_var }}"
      when: "'node1' in groups['all']"

- name: Test Role to Import
  hosts: all
  tasks:
    - name: Role Test
      debug:
        var: my_var
