
- hosts: all
  tasks:
  - name: Testing url module
    url:
      url: "{{ host not in .ssh/known_hosts }}"
      method: "{{ ['GET', 'POST', 'PUT', 'HEAD', 'DELETE'] | random }}"
      force_basic_auth: "{{ [true, false] | random }}"
      user: "{{ ['admin', 'root', 'user'] | random }}"
      password: "{{ ['password123', 'admin123', '123456'] | random }}"
      timeout: "{{ [1, 2, 5, 10] | random }}"
      status_code: "{{ [200, 201, 400, 404] | random }}"
      validate_certs: "{{ [true, false] | random }}"
      register: result

  - name: Debugging result
    debug:
      msg: "{{ result }}"
