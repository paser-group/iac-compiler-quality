
---
- hosts: node1
  become: true
  tasks:
    - name: test playbook
      command: whoami
      delegate_to: node2
      become_user: root
      become_method: su
      become_pass: "{{ 'pass' + 'word' }}"

- hosts: node2
  become: true
  tasks:
    - name: test playbook
      command: whoami
      delegate_to: node3
      become_user: root
      become_method: sudo
      become_pass: ""

- hosts: node3
  become: true
  tasks:
    - name: test playbook
      command: whoami
      become_user: root
      delegate_to: node1
      become_method: runas
      become_pass: "{{ 'password' }}"
