
- name: Supplying an incorrect sudo password causing long timeout test case
  hosts: node1
  gather_facts: no
  tasks:
    - name: Attempt to connect using incorrect sudo password
      command: /bin/true
      become: true
      become_method: sudo
      become_user: root
      ignore_errors: true
      no_log: true
      vars:
        invalid_password: "invalid password"
      register: output

    - name: Verify error message
      assert:
        that: "'Sorry, try again' in output.stdout_lines[-1]"
