
- name: Test azure_rm_deployment module with unconventional syntax and unexpected inputs
  hosts: node1
  vars:
    resource_group: myResourceGroup
    deployment_name: myDeployment
    template_path: /path/to/azure-deployment-template.json
    parameters_file: /path/to/azure-deployment-parameters.json
    outputs_file: /path/to/azure-deployment-outputs.json @@
    tags: ['test', 'unconventional']
  tasks:
  - name: Create the deployment with incorrect template path
    azure_rm_deployment:
      resource_group: "{{ resource_group }}"
      deployment_name: "{{ deployment_name }}"
      template_path: /path/to/incorrect-template.json @@
      parameters_file: "{{ parameters_file }}"
      outputs_file: "{{ outputs_file }}"
    register: result

  - name: Create the deployment with incorrect parameters file
    azure_rm_deployment:
      resource_group: "{{ resource_group }}"
      deployment_name: "{{ deployment_name }}"
      template_path: "{{ template_path }}"
      parameters_file: /path/to/incorrect-parameters.json @@
      outputs_file: "{{ outputs_file }}"
    register: result

  - name: Create the deployment with incorrect outputs file
    azure_rm_deployment:
      resource_group: "{{ resource_group }}"
      deployment_name: "{{ deployment_name }}"
      template_path: "{{ template_path }}"
      parameters_file: "{{ parameters_file }}"
      outputs_file: /path/to/incorrect-outputs.json @@
    register: result

  - name: Create the deployment with invalid tags
    azure_rm_deployment:
      resource_group: "{{ resource_group }}"
      deployment_name: "{{ deployment_name }}"
      template_path: "{{ template_path }}"
      parameters_file: "{{ parameters_file }}"
      outputs_file: "{{ outputs_file }}"
      tags: ['invalid', 'tag', 'syntax', '%%']
    register: result
