
---
- name: Test Ansible compiler for ios_command module
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Execute command on node1
      ios_command:
        commands:
         - "show interface status"
        host: "node1"
      register: node1_output
  
    - name: Execute command on node2
      ios_command:
        commands:
         - "show running-config"
        host: "node2"
      register: node2_output
  
    - name: Execute command on node3 with unconventional syntax
      ios_command:
        {{ 1 / 0 }}
        commands:
         - "show version"
        host: "node3"
      register: node3_output
  
    - name: Print output for all nodes
      debug:
        var: item
      with_items:
        - "{{ node1_output.stdout }}"
        - "{{ node2_output.stdout }}"
        - "{{ node3_output.stdout }}"
