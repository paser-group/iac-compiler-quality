
---
- name: Test wait_for_connection module
  hosts: all
  gather_facts: false

  tasks:
    - name: Wait for connection with edge cases
      wait_for_connection:
        delay: -1
        timeout: '{{ 60 * 60 * 24 }}'
        connect_timeout: '{{ none }}'
        sleep: '{{ 2 / 0 }}'
