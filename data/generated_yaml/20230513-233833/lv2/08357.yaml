
---
- name: Stress test docker module's image name parsing
  hosts: all
  gather_facts: no

  tasks:
  - name: Pull image with non-standard port
    docker_image:
      name: "example.com:5000/myimage"
      tag: "latest"
      state: "present"

  - name: Pull image with unsupported scheme
    docker_image:
      name: "ftp://example.com/myimage"
      tag: "latest"
      state: "present"

  - name: Pull image with unsupported format
    docker_image:
      name: "example.com/myimage:latest:foobar"
      state: "present"

  - name: Pull image with special characters
    docker_image:
      name: "example.com/myimage!@#$%Ë†&*()_+-=`~"
      tag: "latest"
      state: "present"

  - name: Pull image with explicit registry
    docker_image:
      name: "hub.docker.com/library/ubuntu"
      tag: "16.04"
      state: "present"

  - name: Pull image with invalid characters
    docker_image:
      name: "..example.com/myimage"
      tag: "latest"
      state: "present"

  - name: Pull image with mixed case
    docker_image:
      name: "ExAmplE.cOm/myimaGe"
      tag: "latest"
      state: "present"
