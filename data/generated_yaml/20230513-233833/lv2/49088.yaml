
---
- name: Test SSH connection with Ansible edge cases
  hosts: all
  gather_facts: no
  tasks:
    - name: Test SSH connection using incorrect user
      ping:
      become: yes
      remote_user: rootkkk
      register: test_result1
      
    - name: Test SSH connection using nonexistent key file
      ping:
      become: yes
      remote_user: root
      private_key_file: /usr/path_to_key/ssh_keyyyy
      register: test_result2
      
    - name: Test SSH connection using a malformed password
      ping:
      become: yes
      remote_user: root
      conn_pass: amazing_passwordzzz
      register: test_result3
      
    - name: Test SSH connection using incorrect port
      ping:
      become: yes
      remote_user: root
      ansible_port: 111
      register: test_result4
      
    - name: Test SSH connection using incorrect host IP
      ping:
      become: yes
      remote_user: root
      extra_ssh_args: '-o "HostKeyAlias node1" -o StrictHostKeyChecking=no'
      register: test_result5
      
    - name: Print results
      debug:
        var: item.stdout
      loop:
        - "{{ test_result1 }}"
        - "{{ test_result2 }}"
        - "{{ test_result3 }}"
        - "{{ test_result4 }}"
        - "{{ test_result5 }}"
