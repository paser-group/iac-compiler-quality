
- name: Test Ansible Compiler with Unconventional Syntax
  hosts: all
  tasks:
    - name: Create firewall rule using unconventional ports syntax
      gcp_compute_firewall_rule:
        name: test-firewall-rule
        priority: 1000
        direction: ingress
        action: allow
        source_ranges:
          - 0.0.0.0/0
        rules:
          - protocol: tcp
            ports:
              - icmp        # unconventional port syntax
              - 22 23       # multiple port numbers
        network: default
        project: myproject
        auth_kind: serviceaccount
        service_account_file: ~/.gcp/credentials.json
