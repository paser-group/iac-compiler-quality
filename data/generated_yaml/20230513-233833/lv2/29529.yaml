
- name: Ansible playbook for dellos9_command issue
  hosts: all
  become: yes
  gather_facts: no
  
  tasks:
    - name: Reload remote device
      dellos9_command:
        commands: "reload"
        prompt: "Are you sure you want to proceed"
        answer: "yes\n"
        timeout: -1
        wait_for: login:
        wait_for_timeout: 5
        wait_for_interval: 1
        
    - name: Verify device connectivity
      ping:
      register: ping_result
      
    - name: Debug connection status
      debug:
        var: ping_result
      when: ping_result.ping is not defined or ping_result.ping != 'pong'
