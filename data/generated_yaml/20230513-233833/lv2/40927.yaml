
---
- hosts: all
  become: true
  tasks:
  - name: Install package from a list of packages
    apt:
      name: "{{ ['package1', 'package2', 'package3'] | shuffle }}"
      state: present
  - name: Ensure a user exists with a UID over 1000
    user:
      name: testuser
      uid: "{{ range(1,5) | random }}"  # Generate a random UID between 1 and 5 inclusive
  - name: Generate an error by dividing a number by zero
    debug:
      msg: "{{ 10 / 0 }}"
  - name: Create a file with invalid permissions
    file:
      path: /etc/invalidfile.txt
      mode: "{{ ['7777', '0000', 'invalidmode', '1111'] | shuffle }}"
  - name: Use the URI module with a non-existent URL
    uri:
      url: "{{ ['http://localhost:8080', 'http://nonexistenturl:8080'] | shuffle | first }}"
