
---
- name: Test file module error
  hosts: all
  vars:
    src_file: "/home/user/test.txt"
    dest_folder: "/usr/share/test/"
  tasks:
    # Test 1 - syntax error
    - name: Test syntax error
      file:
        src: "{{ src_file }}"
        dest: "{{ dest_folder }}"
        state: copy
        create: "{{ invalid_input }}"
        
    # Test 2 - unexpected input
    - name: Test unexpected input
      file:
        src: "{{ src_file }}"
        dest: "{{ dest_folder }}"
        state: "{{ invalid_state }}"
        force: "{{ invalid_input }}"

    # Test 3 - no src or dest
    - name: Test missing src or dest
      file:
        state: "{{ invalid_state }}"

    # Test 4 - invalid state without src
    - name: Test invalid state without src
      file:
        state: "{{ invalid_state }}"

    # Test 5 - invalid state with src
    - name: Test invalid state with src
      file:
        src: "{{ src_file }}"
        state: "{{ invalid_state }}"

    # Test 6 - src without state=link
    - name: Test src without state=link
      file:
        src: "{{ src_file }}"
        dest: "{{ dest_folder }}"
        
    # Test 7 - src with state=link
    - name: Test src with state=link
      file:
        src: "{{ src_file }}"
        dest: "{{ dest_folder }}"
        state: link
