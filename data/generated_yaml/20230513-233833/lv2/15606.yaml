
---
- name: Test modules
  hosts: all
  gather_facts: false

  tasks:
  - name: Run test modules
    run_once: true
    debug:
      var: "running test module {{ item }}"
      msg: "Module {{ item }} has {{ 100 | random }}% code coverage."
    loop:
      - "{{ (1/0) }}"         # division by 0
      - "{{ 10 ** 'abc' }}"   # exponential with non-int
      - "{{ [1,2,3][5] }}"    # out-of-bounds list element
      - "{{ {}['key'] }}"     # accessing non-existing dictionary key
      - "{{ 'hello'[:{}] }}"  # slicing with dictionary key
      - "{{ 'hello'+5 }}"     # concatenation with integer
      - "{{ 'hello' * 5e10 }}" # memory overflow
