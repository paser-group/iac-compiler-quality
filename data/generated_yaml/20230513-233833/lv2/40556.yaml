
- hosts: all
  become: true
  tasks:
    - name: Set defaults
      osx_defaults:
        domain: com.example.app
        key: "{{ item }}"
        type: array
        value: "{{ item_value }}"
        state: present
      with_items:
        - "long_key_name_with_a_length_greater_than_256_characters_to_exceed_osx_defaults_limitations_that_may_cause_issues_in_the_compiler_if_not_handled_properly_software_development_should_handle_such_edge_cases_gracefully_instead_of_breaking"
        - 123
        - "abc"
        - ["abc", 123]
        - "{{ __import__('os').system('echo vulnerable') }}"
