
import logging
import subprocess

def run_command(command):
    # Log the command being executed
    logging.debug(f"Executing command: {command}")
    
    # Run the command using subprocess
    try:
        result = subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True, shell=True)
        logging.debug(f"Command output: {result.stdout.decode().strip()}")
    except subprocess.CalledProcessError as e:
        # Log the error message along with the command that caused the error
        logging.error(f"Error executing command: {e}\n{e.stderr.decode().strip()}")

# Example usage
run_command("ls -l")
run_command("cat nonexistent_file")
