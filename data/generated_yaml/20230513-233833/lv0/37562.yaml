python
from foreman import Foreman
from foreman.auth import ForemanAuth
from foreman.callbacks import ForemanAuthCallback

# Define your authentication credentials
FOREMAN_URL = "https://foreman.example.com"
FOREMAN_USER = "admin"
FOREMAN_PASS = "password"

# Create a ForemanAuth object
auth = ForemanAuth(FOREMAN_URL, FOREMAN_USER, FOREMAN_PASS)

# Create a Foreman object with the authentication plugin and callback
foreman = Foreman(auth=auth, callbacks=[ForemanAuthCallback()])

# Call any API method
hosts = foreman.hosts.index()
