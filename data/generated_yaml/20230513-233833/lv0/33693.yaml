yaml
- hosts: myhosts
  tasks:
    - name: main task
      include_role:
        name: myrole
      vars:
        myvar: somevalue

- hosts: myhosts
  gather_facts: no
  tasks:
    - name: child task
      import_role:
        name: myrole   # this is the same role as used in the main task
      vars:
        myvar: "{{ myvar }}"  # this variable is passed from the main task
        myvar2: othervalue   # this variable is defined only in the child task
      register: output

- debug: var=output
