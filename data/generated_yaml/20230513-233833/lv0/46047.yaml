
import OpenSSL

# Load the private key and certificate
with open('key.pem', 'rb') as key_file:
    key_data = key_file.read()
key = OpenSSL.crypto.load_privatekey(OpenSSL.crypto.FILETYPE_PEM, key_data)

with open('cert.pem', 'rb') as cert_file:
    cert_data = cert_file.read()
cert = OpenSSL.crypto.load_certificate(OpenSSL.crypto.FILETYPE_PEM, cert_data)

# Create a PKCS#12 certificate
pkcs12 = OpenSSL.crypto.PKCS12()
pkcs12.set_privatekey(key)
pkcs12.set_certificate(cert)
pkcs12_data = pkcs12.export(password='mypassword', name=b'myname') # name must be a byte string or None
