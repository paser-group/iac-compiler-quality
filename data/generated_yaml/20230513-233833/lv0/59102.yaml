
import boto3

iam = boto3.client('iam')

# Get the current password policy
response = iam.get_account_password_policy()

# Check if password expiration is set
if 'PasswordExpirationDays' not in response['PasswordPolicy']:
    # If not set, update policy to set password expiration
    response = iam.update_account_password_policy(
        PasswordPolicy={
            'MinimumPasswordLength': 8,
            'RequireSymbols': True,
            'RequireNumbers': True,
            'RequireUppercaseCharacters': True,
            'RequireLowercaseCharacters': True,
            'AllowUsersToChangePassword': True,
            'MaxPasswordAge': 90,
            'PasswordReusePrevention': 3,
            'HardExpiry': True
        }
    )

print(response)
