
- name: Example playbook for na_ontap_gather_facts
  hosts: storage
  connection: local
  gather_facts: no
  vars:
    netapp_hostname: YOUR_NETAPP_CLUSTER_NAME_OR_IP
    netapp_username: YOUR_NETAPP_USERNAME
    netapp_password: YOUR_NETAPP_PASSWORD
    netapp_ssl_verify: false
    netapp_ontap_api: http
    netapp_ontap_volume_list: true
    netapp_ontap_lif_list: true
    netapp_ontap_aggregate_list: true
    netapp_ontap_qos_policy_group_list: true
    netapp_ontap_snapmirror_relationship_list: true
    netapp_ontap_snapmirror_transfer_list: true
    netapp_ontap_snapshot_list: true
    netapp_ontap_iscsi_service_details: true
    netapp_ontap_cluster_details: true
    netapp_ontap_node_details: true
    netapp_ontap_vserver_details: true
    netapp_ontap_network_interface_details: true
  tasks:
    - name: Gather ONTAP facts
      na_ontap_gather_facts:
        hostname: "{{ netapp_hostname }}"
        username: "{{ netapp_username }}"
        password: "{{ netapp_password }}"
        ssl_verify: "{{ netapp_ssl_verify }}"
        ontap_api: "{{ netapp_ontap_api }}"
        volume_list: "{{ netapp_ontap_volume_list }}"
        lif_list: "{{ netapp_ontap_lif_list }}"
        aggregate_list: "{{ netapp_ontap_aggregate_list }}"
        qos_policy_group_list: "{{ netapp_ontap_qos_policy_group_list }}"
        snapmirror_relationship_list: "{{ netapp_ontap_snapmirror_relationship_list }}"
        snapmirror_transfer_list: "{{ netapp_ontap_snapmirror_transfer_list }}"
        snapshot_list: "{{ netapp_ontap_snapshot_list }}"
        iscsi_service_details: "{{ netapp_ontap_iscsi_service_details }}"
        cluster_details: "{{ netapp_ontap_cluster_details }}"
        node_details: "{{ netapp_ontap_node_details }}"
        vserver_details: "{{ netapp_ontap_vserver_details }}"
        network_interface_details: "{{ netapp_ontap_network_interface_details }}"
      register: ontap_facts
  
    - name: Display facts
      debug:
        var: ontap_facts
