
import json

try:
    # code to execute facts.d script and obtain JSON output
    facts_json = execute_facts_d_script()

    # check if the obtained JSON is valid
    json.loads(facts_json)

    # if JSON is valid, set the fact to the obtained JSON data
    fact = facts_json

except json.JSONDecodeError:
    # if JSON is invalid, set the fact to an error string
    fact = "Error: Invalid JSON returned by facts.d script"
    # log the error for debugging
    log_error("Invalid JSON returned by facts.d script")
