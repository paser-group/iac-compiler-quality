yml
---
- name: Configure Windows password for EC2 instance
  hosts: windows
  gather_facts: no
  tasks:
    
    - name: WinRM Connection with ec2_win_password with unicode arguments issue
      ec2_win_password:
        instance_id: ec2_instance-id
        key_name: keypair_name
        user_name: Administrator
        password: 'Password@123'
        key_data: "{{ lookup('file', 'C:\\programData\\amazon\\ssm\\sdl.pem').decode('utf-8') }}"
      become: yes
      tags: winrm
