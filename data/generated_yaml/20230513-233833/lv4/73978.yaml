
---
- name: Test playbook for default variables
  hosts: all
  vars:
    my_var: my_default_value
  tasks:
    - name: Set default variable in defaults folder
      set_fact:
        my_var: "{{ my_var }}"
      delegate_to: 127.0.0.1
      run_once: true
      when: inventory_hostname == groups['all'][0]

    - name: Debug default variable
      debug:
        var: my_var
