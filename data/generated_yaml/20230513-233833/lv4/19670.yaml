
- name: Azure_rm_storageaccount testing
  hosts: all
  gather_facts: no
  tasks:
  - name: Test creating a storage account with valid parameters
    azure_rm_storageaccount:
      resource_group: rg_group
      name: test_storage_account
      account_type: Standard_LRS
      location: eastus
      tags:
        Department: Finance
    register: storage_result
  - name: debug the storage account creation output
    debug:
        var: storage_result
  - name: Test creating a storage account with invalid account type value
    azure_rm_storageaccount:
      resource_group: rg_group
      name: test_storage_account_invalid_account_type
      account_type: InvalidValue
      location: eastus
      tags:
        Department: Finance
    register: storage_result_invalid_account_type
    failed_when: False
  - name: debug the storage account creation output - invalid account type value
    debug:
        var: storage_result_invalid_account_type
