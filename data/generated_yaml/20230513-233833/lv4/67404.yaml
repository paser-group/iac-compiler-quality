
---
- name: Test playbook for YAML parsing bugs
  hosts: all
  tasks:
    - name: Read YAML file with '#' in values
      slurp:
        src: /path/to/file.yaml
      register: yaml_file

    - name: Print file contents
      debug:
        var: yaml_file.content | b64decode

    - name: Parse YAML file
      set_fact:
        yaml_parsed: "{{ yaml_file.content | b64decode | from_yaml }}"

    - name: Print parsed YAML contents
      debug:
        var: yaml_parsed
