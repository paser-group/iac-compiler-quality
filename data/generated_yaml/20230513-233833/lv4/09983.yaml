
- hosts: all
  tasks:
    - name: Wait for port 80 to become available
      wait_for:
        host: "{{ inventory_hostname }}"
        port: 80
        timeout: 10
        delay: 0.5
    
    - name: Wait for file to exist on remote machine
      wait_for:
        path: /tmp/testfile
        timeout: 20
        delay: 1
