
---
- name: Execute Junos command
  hosts: junos-devices
  gather_facts: no
  vars:
    junos_username: "{{ lookup('env','JUNOS_USERNAME') }}"
    junos_password: "{{ lookup('env','JUNOS_PASSWORD') }}"
    junos_command: "show interface terse"
  tasks:
    - name: Junos command
      juniper_junos_command:
        host: "{{ inventory_hostname }}"
        user: "{{ junos_username }}"
        passwd: "{{ junos_password }}"
        command_lines: "{{ junos_command }}"
      register: junos_output
    - name: Output command result
      debug:
        var: junos_output
