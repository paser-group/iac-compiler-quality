
- name: Test playbook loading in virtual NXOS environment
  hosts: nxos
  gather_facts: no

  tasks:

    - name: Load tasks for configuration management
      include_tasks: tasks/nxos.yml
      
    - name: Validate variables
      debug: var=my_var
      
    - name: Test handler
      notify: my_handler
      
    - name: Test module
      nxos_cli:
        command: show ip route vrf all
      
  handlers:
    - name: my_handler
      debug: msg="test handler"
