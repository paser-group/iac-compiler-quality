
- name: Test importing and overwriting default values of a role
  hosts: all
  become: true
  tasks:
  - name: Import role and set values
    import_role:
      name: target_role
      tasks_from: main.yml
    vars:
      var1: "value1"
      var2: "value2"
  - name: Verify values were set
    assert:
      that:
        - var1 == "value1"
        - var2 == "value2"
