
---
- name: Check for Misleading File not Found Error from Slurp Module
  hosts: all
  tasks:
    - name: Attempt to Slurp Nonexistent File
      slurp:
        src: /nonexistent/file.txt
      ignore_errors: yes
      register: result
    - fail:
        msg: "Misleading file not found error from Slurp Module detected"
      when: "'file not found' in result.stderr and result.rc == 0"
