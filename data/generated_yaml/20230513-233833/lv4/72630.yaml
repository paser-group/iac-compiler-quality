
- name: Execute shell command from web UI
  hosts: all
  become: true
  vars_prompt:
    - name: web_ui_input
      prompt: "Enter shell command to run:"
      private: no
  tasks:
    - name: Execute shell command
      shell: "{{web_ui_input}}"
      register: shell_output
    - copy:
        content: "{{shell_output.stdout}}"
        dest: "{{inventory_hostname}}_output.txt"
    - debug:
        var: shell_output.stdout_lines
