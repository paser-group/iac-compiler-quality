
- name: create an event rule with specified attributes
  cloudwatchevent_rule:
    name: test-rule1
    description: This rule is for testing purpose
    state: present
    event_pattern: |
      {
        "source": [
          "aws.example.com"
        ],
        "detail-type": [
          "Test"
        ]
      }
  
- name: create an event rule with some random string as name
  cloudwatchevent_rule:
    name: '{{ random_string() }}'
    state: present
    event_pattern: |
      {
        "source": [
          "aws.example.com"
        ],
        "detail-type": [
          "Test"
        ]
      }
 
- name: check event rules using describe command
  cloudwatchevent_rule:
    name: 'test-rule*'
    description: '*testing*'
    state: present
    mode: describe
 
- name: delete event rule with specified attributes
  cloudwatchevent_rule:
    name: test-rule1
    state: absent
