
---
- name: test idempotency on nxos_igmp_interface
  hosts: all
  gather_facts: no

  tasks:
  - name: apply nxos_igmp_interface with default values first time
    nxos_igmp_interface:
      name: Ethernet1/1
    register: igmp_int_output

  - name: apply again to test idempotency
    nxos_igmp_interface:
      name: Ethernet1/1
    register: igmp_int_output_again

  - name: show differences in the output
    debug:
      var: igmp_int_output | diff(igmp_int_output_again)
