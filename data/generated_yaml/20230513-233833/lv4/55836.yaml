
- name: Test Azure RM Web App module
  hosts: all
  gather_facts: no

  vars:
    resource_group: my-resource-group
    location: eastus
    app_name: my-web-app
    plan_name: my-app-service-plan
    runtime: Python|3.8

  tasks:
  - name: Create Web App
    azure_rm_webapp:
      resource_group: "{{ resource_group }}"
      name: "{{ app_name }}"
      plan: "{{ plan_name }}"
      location: "{{ location }}"
      runtime: "{{ runtime }}"
    register: webapp

  - name: Debug output
    debug:
      var: webapp
