
- name: Test osx_defaults with an invalid value
  hosts: mac
  become: true

  tasks:
    - name: Set invalid value for system preference
      osx_defaults:
        domain: com.apple.TextEdit
        key: RichText
        value: "This should be an array"
      register: command_output
      ignore_errors: yes
      
    - name: Display resulting output
      debug:
        var: command_output
