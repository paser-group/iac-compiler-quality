
- name: Connect to Windows hosts using HTTPS
  hosts: windows
  gather_facts: false

  tasks:
    - name: Test HTTPS connection with SSL validation
      win_uri:
        url: "https://{{ inventory_hostname }}/"
        validate_certs: yes
        return_content: no
      register: response

    - name: Print SSL certificate details
      debug:
        var: response.json.certificates
