
- name: Test Playbook
  hosts: node1
  gather_facts: false

  tasks:
  - name: Test with_items and dictionary
    debug:
      msg: "{{ item.some_key }}"
    with_items: "{{ dict_nested.some_dict[i] }}"
    vars:
      i: "{{ item }}"

  - name: Test unsupported data types in key referencing
    debug:
      msg: "{{ item.some_key }}"
    with_items: "{{ dict.some_dict[i] }}"
    vars:
      i: "{{ invalid_datatype_key }}"

  - name: Test unsupported data types in dictionary
    debug:
      msg: "{{ item.some_key }}"
    with_items: "{{ invalid_datatype_dict[i] }}"
    vars:
      i: "{{ item }}"
