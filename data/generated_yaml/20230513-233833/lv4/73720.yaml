
---
- name: Install pip and install a package
  hosts: all
  become: true
  tasks:
    - name: Install pip
      apt:
        name: python3-pip
        update_cache: yes
      register: pip_installed

    - name: Install a package using pip
      pip:
        name: requests
        state: present
      register: package_installed

    - name: Print installed package details
      debug:
        var: package_installed

    - name: Print installation success message
      debug:
        msg: "Pip installed successfully"
