
- name: Test MySQL User Module Argument Conversion
  hosts: node1
  become: true
  tasks:
    - name: Create MySQL User with Static host_all Value
      mysql_user:
        name: john
        password: sensitive_password
        host_all: localhost
        priv: "*.*:ALL,GRANT"
        state: present

    - name: Test MySQL User Module Argument Conversion with Dynamic Parameters
      debug:
        msg: "{{ 'localhost' | format(host_all_var) }}"
      vars:
        host_all_var: "{{ item }}"
      loop:
        - localhost
        - 127.0.0.1
        - ::1
        - '%'
        - 'localhost,127.0.0.1'
