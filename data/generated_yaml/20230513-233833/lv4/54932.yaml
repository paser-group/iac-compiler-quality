
- name: Azure Rediscache provisioning operation with blocking enabled
  hosts: node1
  gather_facts: no

  tasks:
    - name: Provisioning Redis Cache Resource with blocking enabled
      azure_rm_rediscache:
        resource_group: myResourceGroup
        name: myRedisCache
        location: eastus
        sku: Basic
        tenant: myTenantGUID
        client_id: myClientID
        secret: mySecret
        state: present
        block: true
      ignore_errors: yes
      register: provisioning_output

    - debug:
        var: provisioning_output
