
---

- name: Test Scoped Blocks for Ansible Roles
  hosts: all
  gather_facts: no
  
  tasks:
  
  - set_fact: 
    
      var1: "{{ default_var1 }}"
            
  - debug:
      var: var1

  - set_fact:
      
      {% raw %}var2: "{% for item in list %}{{ item }} {% endfor %}"{% endraw %}
      
    vars:
    
      list:
      
        - foo
        - bar            
            
  - debug:
      var: var2

