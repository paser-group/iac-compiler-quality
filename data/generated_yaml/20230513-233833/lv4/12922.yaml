
---
- name: Test connection to remote hosts with incorrect SSH key
  hosts: all
  gather_facts: false
  vars:
    ansible_user: root
    ansible_ssh_common_args: '-i /path/key'
    ssh_private_key_file: "{{ lookup('env','HOME') }}/.ssh/wrong_private_key"
    ssh_public_key_file: "{{ lookup('env','HOME') }}/.ssh/wrong_public_key"
  tasks:
    - name: Attempt connection to remote host with incorrect key
      ping:
      become: true
