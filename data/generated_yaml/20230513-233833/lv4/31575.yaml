yaml
---
- name: Test ios_config module for bugs with fuzzing
  hosts: all
  gather_facts: no
  connection: network_cli
  tasks:
  
  - name: Configure device with correct commands
    ios_config:
      lines:
        - command1
        - command2
        - command3
      provider:
        username: admin
        password: password
    register: correct_output
  
  - name: Configure device with invalid commands
    ios_config:
      lines:
        - invalid_command1
        - invalid_command2
        - invalid_command3
      provider:
        username: admin
        password: password
    register: invalid_output
  
  - name: Compare outputs to find discrepancies
    assert:
      that:
        - correct_output == invalid_output
      fail_msg: "Potential bug found in ios_config module"
