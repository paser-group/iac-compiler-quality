
# Install required packages
- name: Install dependencies
  apt:
    name: ['docker', 'python3']
    state: latest
  become: yes
  tags: ['setup']

# Pull and load Docker image
- name: Load Docker image
  docker_image:
    name: example-image
    state: present
    load_path: /path/to/image.tar
  become: yes
  delegate_to: "{{ groups['docker'][0] }}"
  vars:
    ansible_python_interpreter: /usr/bin/python3
  tags: ['docker']

# Verify loaded Docker image
- name: Check Docker image contents
  docker_image_info:
    name: example-image
  become: yes
  delegate_to: "{{ groups['docker'][0] }}"
  vars:
    ansible_python_interpreter: /usr/bin/python3
  tags: ['docker']
