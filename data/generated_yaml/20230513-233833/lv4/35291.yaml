
---
- name: Test User Module
  hosts: all
  become: yes

  tasks:
    # Create a new user
    - name: Create user
      user:
        name: testuser
        password: pass123
        state: present
      
    # Modify the test user (if exists)
    - name: Modify user
      user:
        name: testuser
        comment: "Test Comment"
        state: present
      
    # Delete the test user (if exists)
    - name: Delete user
      user:
        name: testuser
        state: absent
