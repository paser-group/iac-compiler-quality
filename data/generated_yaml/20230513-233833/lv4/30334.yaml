yaml
---
- name: Test os_keypair module for force option
  hosts: all
  tasks:
    - name: Create key pair with no force option
      os_keypair:
        name: test_key_pair
        public_key: "{{ lookup('file', './path/to/public.key') }}"
        
    - name: Create key pair with force option
      os_keypair:
        name: test_key_pair
        public_key: "{{ lookup('file', './path/to/public.key') }}"
        force: yes
    
    - name: Create key pair with incorrect public key format
      os_keypair:
        name: test_key_pair
        public_key: "malformed_public_key"
