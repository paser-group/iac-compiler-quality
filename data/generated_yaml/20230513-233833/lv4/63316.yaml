
- name: Create a random user with a password
  user:
    name: "{{ 'user-' + lookup('password', '/dev/null length=10 chars=ascii_letters,digits') }}"
    password: "{{ 'pass-' + lookup('password', '/dev/null length=20 chars=ascii_letters,digits') }}"
    state: present

- name: Copy sensitive file to the newly created user's home directory
  copy:
    src: sensitive_file
    dest: "/home/{{ 'user-' + lookup('password', '/dev/null length=10 chars=ascii_letters,digits') }}"
