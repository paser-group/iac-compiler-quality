
---
- name: Testing shell and command modules
  hosts: all
  tasks:
  - name: Testing shell module
    shell: "uname -a"
    register: shell_output
    ignore_errors: yes
  - name: Verifying shell output
    assert:
      that:
        - "'failed' in shell_output"
    failed_when: false
  - name: Testing command module
    command: "echo 'hello'"
    register: cmd_output
    ignore_errors: yes
  - name: Verifying command output
    assert:
      that:
        - "'failed' in cmd_output"
    failed_when: false
