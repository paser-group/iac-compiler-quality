
- name: Validate inventory file syntax
  hosts: localhost
  gather_facts: false
  vars:
    inventory_file: "/path/to/inventory/file"
  tasks:
    - name: Check inventory file syntax
      command: "ansible-inventory --inventory {{ inventory_file }} --list --yaml --playbook-dir=."
      register: inventory_output
      ignore_errors: yes
    - name: Fail if inventory file syntax is invalid
      fail:
        msg: "Inventory file {{ inventory_file }} has syntax errors."
      when: inventory_output.rc != 0
