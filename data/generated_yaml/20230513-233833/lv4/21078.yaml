yaml
---
- name: Play to test Ansible compiler
  hosts: all
  tasks:
    - name: Create a file with trailing brackets (}}})
      blockinfile:
        path: /tmp/trailing_brackets.txt
        block: |
          This is an example of a file with extra trailing brackets }}}
    - name: Syntax check the file - will throw an error for extra brackets
      command: ansible-playbook --syntax-check /tmp/trailing_brackets.txt
      register: cmd_out
      ignore_errors: true
    - name: Analyze error message
      debug:
        var: cmd_out.stderr_lines
