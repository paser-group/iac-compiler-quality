yaml
---
- hosts: all

  tasks:

    - name: Test elb_application_lb module
      elb_application_lb:
        name: my-load-balancer
        state: present
        scheme: internet-facing
        subnets:
          - subnet-12345678
          - subnet-87654321
        listeners:
          - Protocol: HTTPS
            LoadBalancerPort: '443'
            InstanceProtocol: HTTP
            InstancePort: '80'
            SSLCertificateId: 'arn:aws:iam::123456789012:server-certificate/my-server-cert'
        security_groups: ["sg-1a2b3c4d", "sg-1a2b3c4e"]
        conn_type: "{{ conn_type | default('resource') }}"
      register: result

    - name: Show output
      debug:
        var: result
