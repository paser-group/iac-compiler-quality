
- hosts: localhost
  gather_facts: no
  tasks:
  - name: Create Openstack instance with a fixed IP
    os_server:
      state: present
      cloud: openstack
      auth:
        auth_url: "{{ auth_url }}"
        username: "{{ username }}"
        password: "{{ password }}"
        project_name: "{{ project_name }}"
        project_domain_name: "{{ project_domain_name }}"
        user_domain_id: "{{ user_domain_id }}"
      name: "{{ server_name }}"
      image: "{{ image }}"
      flavor: "{{ flavor }}"
      key_name: "{{ key_name }}"
      security_groups: "{{ security_group }}"
      network: "{{ network }}"
      auto_ip: no
      fixed_ip: "{{ fixed_ip }}"
