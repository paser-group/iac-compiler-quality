
- name: Test playbook for uncovering Ansible compiler bugs
  hosts: all
  become: yes
  tasks:
    - name: Create a new directory on the remote host.
      file:
        path: "/tmp/test_dir"
        state: directory
      
    - name: Add a custom fact with an incorrect character.
      copy:
        content: "myfact=This is a fact with an incorrect character â€˜"
        dest: "/etc/ansible/facts.d/myfact.fact"
        
    - name: Test the custom fact module with the incorrect character.
      command: ansible localhost -m setup
