
- name: Wait for playbook
  hosts: all
  gather_facts: no
  become: yes
  tasks:
    - name: Check if file new_file exists
      wait_for:
        path: /tmp/new_file
        state: present
        host: "{{ inventory_hostname }}"
      delegate_to: localhost

    - name: Check if file new_file2 exists
      wait_for:
        path: /tmp/new_file2
        state: present
        host: "{{ inventory_hostname }}"
      delegate_to: localhost

    - name: Check if file new_file3 exists
      wait_for:
        path: /tmp/new_file3
        state: present
        host: "{{ inventory_hostname }}"
      delegate_to: localhost
