
- name: Run async tasks concurrently
  hosts: all
  tasks:
    - name: Wait for all nodes to be reachable
      wait_for_connection:

    - name: Run async task 1
      async: 60
      shell: long_running_command_1
      poll: 5

    - name: Run async task 2
      async: 60
      shell: long_running_command_2
      poll: 5

    - name: Run async task 3
      async: 60
      shell: long_running_command_3
      poll: 5

    - name: Run async task 4
      async: 60
      shell: long_running_command_4
      poll: 5
