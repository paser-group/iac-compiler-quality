
- name: Test Ansible on macOS
  hosts: macos
  gather_facts: yes
  tasks:
    - name: Display macOS system details
      debug:
        var: ansible_facts.mac_system_info

    - name: Display Ansible version
      shell: ansible --version
      register: ansible_version_output

    - name: Assert Ansible version output
      assert:
        that:
          - "'ansible 2.4' in ansible_version_output.stdout"
