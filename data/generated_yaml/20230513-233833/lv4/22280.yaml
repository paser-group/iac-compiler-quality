
- name: Test dict parsing issue
  hosts: all
  tasks: 
    - name: Create dictionary with key-value pairs
      set_fact:
        my_dict:
          key1: value1
          key2: value2
          key3: value3
  
    - name: Generate file from dictionary
      template:
        src: template.j2
        dest: /tmp/file.txt
      loop: "{{ my_dict | dict2items }}"
  
    - name: Check if file was created successfully
      shell: 'cat /tmp/file.txt'
      register: file_contents

    - name: Display file contents
      debug:
        var: file_contents.stdout_lines
