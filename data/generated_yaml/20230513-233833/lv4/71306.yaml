
- name: Fuzzing Playbook
  hosts: all
  gather_facts: false
  tasks:
    - name: Testing error handling
      shell:
        cmd: "echo 'Testing error handling'; exit 1"
      ignore_errors: true

    - name: Testing problematic module
      shell:
        cmd: "echo 'Testing problematic module'"
      register: result
      failed_when: result.stdout == ''

    - name: Testing deprecated module
      debug:
        msg: "Testing deprecated module"
      run_once: true
      until: false

    - name: Testing incorrect parameter
      shell:
        cmd: "echo {{ nonexistent_parameter }} "
      register: result2
      failed_when: result2.rc != 127
