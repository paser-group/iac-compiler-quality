
---
- hosts: all
  gather_facts: true
  tasks:
  - name: Reboot the node and check the connection
    reboot:
      reboot_timeout: 300
      pre_reboot_delay: 0
      post_reboot_delay: 30
    become: true
    become_method: sudo
    connection: local
    vars:
      ansible_python_interpreter: "{{ ansible_playbook_python }}"
  - name: Debug Statements
    debug: 
      msg: "Command executed successfully at {{ inventory_hostname }}."
      verbosity: 4
