
- name: Fuzzing Make module with variables
  hosts: all
  tasks:
    - name: Define variables for make command
      set_fact:
        make_cmd: "make {{ make_target }} {%- if make_args is defined -%} {{ make_args }} {%- endif -%}"

    - name: Debug generated make command
      debug:
        var: make_cmd

    - name: Execute make command
      shell: "{{ make_cmd }}"
