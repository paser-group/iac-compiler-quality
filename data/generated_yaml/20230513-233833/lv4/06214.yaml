
- hosts: all
  tasks:
    - name: Test mysql_db import action
      mysql_db:
        state: import
        name: non_existent_db
        target: /tmp/dump.sql
      ignore_errors: yes
      register: result

    - name: Fail if error is confusing
      fail:
        msg: "Unexpected error message returned by mysql_db import"
      when: "'unknown error occurred' in result.msg"

    - debug:
        var: result
