
---
- name: Read CSV red dot issue Playbook
  hosts: all
  become: true

  vars:
    csv_path: /tmp/
    csv_file: test.csv
    red_dot: "."

  tasks:
    - name: Create CSV file
      file:
        path: "{{ csv_path }}/{{ csv_file }}"
        state: touch
      run_once: true

    - name: Add red dot to CSV file
      lineinfile:
        dest: "{{ csv_path }}/{{ csv_file }}"
        line: "{{ item }}{{ red_dot }}"
      with_lines: "cat /etc/passwd"
      delegate_to: localhost

    - name: Display CSV file
      command: "cat {{ csv_path }}/{{ csv_file }}"
      run_once: true

