
---
- name: Test Ansible Azure Module for Load Balancer
  hosts: localhost
  connection: local
  vars:
    subscription_id: "<ADD_SUBSCRIPTION_ID_HERE>"
    client_id: "<ADD_CLIENT_ID_HERE>"
    secret: "<ADD_SECRET_HERE>"
    tenant: "<ADD_TENANT_ID_HERE>"
    resource_group: "<ADD_RESOURCE_GROUP_NAME_HERE>"
    lb_name: "<ADD_LOAD_BALANCER_NAME_HERE>"
  tasks:
    - name: Gather Load Balancer Facts
      azure_rm_loadbalancer_facts:
        subscription_id: "{{ subscription_id }}"
        client_id: "{{ client_id }}"
        secret: "{{ secret }}"
        tenant: "{{ tenant }}"
        resource_group: "{{ resource_group }}"
        name: "{{ lb_name }}"
      register: loadbalancer_facts

    - name: Display Load Balancer Facts
      debug:
        var: loadbalancer_facts
