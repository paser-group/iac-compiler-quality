
---
- name: Test playbook for SSLHandshakeError validation
  hosts: all
  gather_facts: no
  tasks:
    - name: Send malformed requests to HTTP endpoint
      uri:
        url: "http://{{ inventory_hostname }}/test_endpoint"
        method: GET
        status_code: 200
        return_content: yes
        validate_certs: yes
        client_cert: "/path/to/cert"
        client_key: "/path/to/key"
      register: response

    - name: Debug response
      debug:
        var: response

    - name: Check SSLHandshakeError validity
      assert:
        that: "'SSLHandshakeError' in response.content"
