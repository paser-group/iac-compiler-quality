yaml
- name: Test replace_all_instances with no instances
  hosts: localhost
  gather_facts: False
  tasks:
  - name: Create empty EC2 instance data
    set_fact:
      ec2_instance_info: []

  - name: Replace all instances
    ec2_asg:
      region: us-west-2
      name: my-auto-scaling-group
      replace_all_instances: yes
      instance_ids: "{{ ec2_instance_info | map(attribute='id') | list }}"
