
- name: Test azure_rm_sqlserver error handling
  hosts: all
  tasks:
    - name: Call azure_rm_sqlserver with various parameters
      azure_rm_sqlserver:
        name: myserver
        login_host: "{{ item }}"
      loop:
        - invalidhost1
        - invalidhost2
        - invalidhost3
        - invalidhost4
        - validhost1
        - validhost2
        - validhost3
      register: sqlserver_output

    - name: Check for unexpected behavior
      debug:
        var: sqlserver_output
