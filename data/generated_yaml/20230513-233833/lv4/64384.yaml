
---
- name: Check ansible_default_ipv4.broadcast
  hosts: all
  tasks:
    - name: Debug ansible_default_ipv4.broadcast
      debug:
        var: ansible_default_ipv4.broadcast

    - name: Assert ansible_default_ipv4.broadcast is not network address
      assert:
        that:
          - ansible_default_ipv4.broadcast != ansible_default_ipv4.network
        fail_msg: "Broadcast address is the same as the network address"
        success_msg: "Broadcast address is not the same as the network address"
