
- hosts: cisco_switch
  connection: network_cli
  gather_facts: no
  tasks:
  - name: Configure interface gigabitethernet0/1
    ios_l2_interface:
      provider: "{{ cli }}" 
      name: gigabitethernet0/1
      mode: access
      access_vlan: "{{ vlan_id }}"
    register: state

  - name: Check if changes were made
    debug:
      var: state.changed
