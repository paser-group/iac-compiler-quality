
- name: Testing 'win_dns_record' module
  hosts: windows
  gather_facts: false
  vars: 
     dns_zone: example.com
     dns_server: 10.1.1.1
     dns_record_type: A
     dns_record_name: www
     dns_record_value: 10.1.1.100
  tasks:
   - name: Add A record to a DNS zone
     win_dns_record:
        name: "{{ dns_record_name }}.{{ dns_zone }}"
        value: "{{ dns_record_value }}"
        type: "{{ dns_record_type }}"
        zone_name: "{{ dns_zone }}"
        state: present
        nameservers:
          - "{{ dns_server }}"
