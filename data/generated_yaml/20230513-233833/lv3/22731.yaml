
---
- name: Assume IAM Role
  hosts: all
  gather_facts: False
  vars:
    region: "us-east-1"
    role: "arn:aws:iam::123456789012:role/test-role"
  tasks:
    - name: Assume Role
      sts_assume_role:
        role_arn: "{{ role }}"
        role_session_name: "ansible_assume_role_test"
        region: "{{ region }}"
      register: result
    - name: Show Result
      debug:
        var: result
