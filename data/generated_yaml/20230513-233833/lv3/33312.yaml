
---
- name: Ansible playbook to expose SSL vulnerabilities
  hosts: all
  vars:
    ssl_protocols: SSLv3
  tasks:
    - name: Install SSL tools
      become: yes
      apt: name=ssl-cert,pkgs=openssl state=latest
    - name: Test SSL connection
      uri:
        url: https://{{ inventory_hostname }}/
        method: GET
        validate_certs: true
        ssl_version: "{{ ssl_protocols }}"
        status_code: 200
      register: result
    - name: Debugging output
      debug: var=result
