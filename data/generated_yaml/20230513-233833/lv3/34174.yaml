
- hosts: aci_node
  become: yes
  tasks:
  - name: Manipulate unhashable data structure
    aci_rest:
      host: "{{ inventory_hostname }}"
      username: "{{ aci_username }}"
      password: "{{ aci_password }}"
      method: post
      path: /api/node/mo/topology/pod-1/node-101.json
      validate_certs: no
      headers:
        Content-Type: application/json
      body:
        fvTenant:
          attributes:
            name: "{{ aci_tenant }}"
            descr: "Test Tenant"
            dn: "uni/tn-{{ aci_tenant }}"
          children:
            - fvBD:
                attributes:
                  name: "Test BD"
                  descr: "Test Bridge Domain"
                  unk: "{{ aci_unhashable }}"
                children:
                  - fvSubnet:
                      attributes:
                        ip: "{{ aci_subnet_ip }}"
                        scope: "{{ aci_scope }}"
                        descr: "Test Subnet"
