
- hosts: all
  gather_facts: no
  become: true

  tasks:
    - name: Install python3
      apt:
        name: python3
        update_cache: yes

    - name: Create a test file
      shell: "echo 'test data' > /tmp/test_file"

    - name: Test the use of process_common_errors function
      shell: "/usr/local/bin/scripts/test_script.py --file /tmp/test_file"
      register: result

    - name: Display the result of the test script
      debug:
        var: result.stdout_lines
