
---
- name: Demonstrate Ansible Failed without Errors
  hosts: all
  gather_facts: false
  
  tasks:
  - name: Execute a Faulty Task
    command: invalid-command
    ignore_errors: yes

  - name: Retrieve Command Output
    shell: echo {{ hostvars[inventory_hostname]['output'] | default('no output received') }}
    register: cmd_output

  - name: Display Command Output
    debug:
      var: cmd_output.stdout
