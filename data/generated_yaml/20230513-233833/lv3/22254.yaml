
---
- name: Test Unarchive Module Bug
  hosts: all
  remote_user: ubuntu
  
  tasks:
    - name: Copy Zip file to remote node
      copy:
        src: /path/to/test_zip.zip
        dest: /tmp/test_zip.zip

    - name: Extract the zip file
      unarchive:
        src: /tmp/test_zip.zip
        dest: /tmp/test
        remote_src: yes
      register: result

    - name: Debug the result
      debug:
        var: result

    - name: Verify the contents of extracted file
      command: cat /tmp/test/test_file
      changed_when: false
      register: output
    
    - name: Debug the output
      debug:
        var: output
