
- hosts: all
  gather_facts: false
  tasks:
  - name: Copy file1.txt to node3
    copy:
      src: /path/to/file1.txt
      dest: /tmp/file1.txt
    delegate_to: node3
  - name: Get contents of file2.txt on node2 using Slurp
    slurp:
      src: /tmp/file2.txt
    register: file2
    delegate_to: node2
  - name: Write contents of file2.txt on node2 to file3.txt on node1
    copy:
      content: "{{ file2['content'] }}"
      dest: /tmp/file3.txt
    delegate_to: node1
