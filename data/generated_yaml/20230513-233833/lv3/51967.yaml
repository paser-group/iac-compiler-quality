yaml
- name: Update SSL certificate on default IIS binding
  hosts: all
  gather_facts: false
  vars:
    thumbprint: "ABCDEF1234567890" # Replace with the actual thumbprint of an SSL certificate
  tasks:
    - name: Create HTTPS binding with default SSL certificate
      win_iis_webbinding:
        name: Default Web Site
        protocol: https
        ssl_flags: 1
        thumbprint: "{{ thumbprint }}"
    
    - name: Update SSL certificate on the default binding
      win_iis_webbinding:
        name: Default Web Site
        binding_info: "*:443:"
        ssl_flags: 3
        thumbprint: "{{ thumbprint }}"
