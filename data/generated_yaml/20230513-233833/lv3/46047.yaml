
- name: recreate openssl_pkcs12 error
  hosts: all
  vars:
    invalid_name: 1234   # an invalid value that is neither a byte string nor None
  tasks:
    - name: create pkcs12 archive with invalid name
      openssl_pkcs12:
        name: "{{ invalid_name }}"   # passing the invalid value to the name parameter
        input_password: password
        output_password: password
        certificate: /tmp/cert.pem
        private_key: /tmp/key.pem
        path: /tmp/archive.p12
      become: true
      register: openssl_pkcs12_output   # capturing the output of the command

    - name: debug output
      debug:
        var: openssl_pkcs12_output   # printing the output to check for errors
