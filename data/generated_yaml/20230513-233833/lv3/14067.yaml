
---
- name: "Ansible Ignored Host-Vars Inventory Issue Recreation"
  hosts: all
  become: yes
  gather_facts: no

  tasks:
    - name: "Displaying the variables added to the inventory file"
      debug:
        var: inventory_variable

    - name: "Displaying the value of host-var"
      debug:
        var: host_variable
      when: inventory_hostname == "node2"

    - name: "Displaying the value of host1-var"
      debug:
        var: host1_variable
      when: inventory_hostname == "node1"

    - name: "Creating a file using host1-var"
      copy:
        content: "{{ host1_variable }}"
        dest: "/home/ubuntu/test.txt"
      when: inventory_hostname == "node1"
