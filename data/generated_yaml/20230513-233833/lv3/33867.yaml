
- name: Configure network interface on node1
  hosts: node1
  become: true
  tasks:

  - name: Set netmask
    network_interface:
      name: eth0
      ipv4:
        address: 10.1.1.1
        netmask: 255.0.0.0    # incorrect netmask to IPv4 prefix conversion
      state: present

- name: Configure network interface on node2
  hosts: node2
  become: true
  tasks:

  - name: Set netmask
    network_interface:
      name: eth0
      ipv4:
        address: 10.1.1.2
        netmask: 255.255.255.0
      state: present

- name: Configure network interface on node3
  hosts: node3
  become: true
  tasks:

  - name: Set netmask
    network_interface:
      name: eth0
      ipv4:
        address: 10.1.1.3
        netmask: 255.255.255.0
      state: present
