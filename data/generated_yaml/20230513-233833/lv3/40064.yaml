
- name: Configure IOS device
  hosts: all
  gather_facts: no
  connection: network_cli
  tasks:
    - name: Configure IP address on interface GigabitEthernet1
      ios_config:
        lines:
          - ip address 10.0.0.1 255.255.255.0
        parents: interface GigabitEthernet1
      register: interface_config

    - name: Show current interface GigabitEthernet1 configuration
      ios_command:
        commands:
        - show running-config interface GigabitEthernet1

    - name: Configure hostname
      ios_config:
        lines:
          - hostname ios-device
      register: hostname_config

- name: Configure IOS device with different configuration
  hosts: all
  gather_facts: no
  connection: network_cli
  tasks:
    - name: Configure IP address on interface GigabitEthernet1
      ios_config:
        lines:
          - ip address 192.168.1.1 255.255.255.0
        parents: interface GigabitEthernet1
      register: interface_config

    - name: Show current interface GigabitEthernet1 configuration
      ios_command:
        commands:
        - show running-config interface GigabitEthernet1

    - name: Configure hostname
      ios_config:
        lines:
          - hostname ios-device
      register: hostname_config
