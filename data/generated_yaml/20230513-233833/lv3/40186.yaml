
---
- name: Load Docker Image and Verify
  hosts: all
  become: true
  vars:
    docker_image: test-image:latest

  tasks:
    - name: Load Docker Image
      docker_image:
        name: "{{ docker_image }}"
        source: pull

    - name: Verify Image Loaded Correctly
      docker_container:
        name: test-container
        image: "{{ docker_image }}"
        command: /bin/sleep infinity
        state: started
      register: docker_container

    - name: Test Python 3 Binary Encoding Error
      command: python3 /path/to/script.py
