yaml
---
- name: Playbook for exposing Template type error
  hosts: all
  become: true
  tasks:
    - name: Creating temporary Template file
      copy:
        dest: "/tmp/my_template.j2"
        content: |
          {% for item in my_list %}
            {{ item['name'] }} has an age of {{ item['age'] }}
            {% if item.dictionary %}
              {% for key, value in item.dictionary.items() %}
                {{ key }}: {{ value }}
              {% endfor %}
            {% endif %}
          {% endfor %}

    - name: Running template with incorrect data and blocks
      template:
        src: "/tmp/my_template.j2"
        dest: "/tmp/example_output.txt"
        vars:
          my_list:
            - name: "John"
              age: 33
              dictionary: {'key': 'value'}
            - name: "Amy"
              age: 'twenty'
              dictionary: {'key1': 'value1', 'key2': 'value2'}
