
---
- name: Ansible Compiler Bug Replication Playbook
  hosts: node1

  tasks:
    - name: Parsing YAML File with duplicated key names
      command: echo "common: &common {field1: val1, field2: val2, field1: val3}; user: &user {<<: *common, field3: val3, field4: val4}; admin: &admin {<<: *common, field5: val5}; parser_type: &parser_type parser"
      loop: "{{ range(1,4) | list }}"
      register: result 

    - name: Display Output of Parsing YAML File
      debug:
        var: result.stdout_lines
