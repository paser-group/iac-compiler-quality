
- hosts: all
  gather_facts: no
  tasks:
  - name: Set undefined variable
    set_fact:
      myvar: "{{ something }}"
      when: something is not defined
  - name: Print variable
    debug:
      var: myvar
