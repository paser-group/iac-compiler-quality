
---
- name: Exposing Ansible error handling rescue block vulnerabilities
  hosts: node1
  become: yes
  gather_facts: yes

  tasks:
  - name: Intentional error task
    shell: /usr/bin/false
    register: error

  - name: Print output if error occurs
    debug:
      msg: "Task has failed and is being handled by the rescue block."
    rescue:
      - debug:
          msg: "Rescue block has handled the failed task."
