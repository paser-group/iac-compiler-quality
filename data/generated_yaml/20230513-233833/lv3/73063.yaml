
---
- name: Install Ansible Galaxy Roles from Git
  hosts: all
  tasks:
  - name: Clone the Git Repository
    git:
      repo: https://github.com/username/repo.git
      dest: /opt/galaxy_roles/sample_role
    register: git_output
  - name: Install role if git changed
    meta: refresh_cache=true
    when: git_output.changed
    geerlingguy.role-name
