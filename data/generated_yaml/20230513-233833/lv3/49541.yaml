
---
- name: Generate CloudStack Exception
  hosts: all
  gather_facts: no

  vars:
    isolated_networks:
      - isolated_network_1
      - isolated_network_2

  tasks:
  - name: Creating multiple isolated networks
    community.cloud.cloudstack_network:
      name: "{{ item }}"
      displaytext: "{{ item }}"
      networkoffering: "Default Isolated Network Offering"
      state: present
    loop: "{{ isolated_networks }}"
    register: result

  - name: Debug Result
    debug:
      var: result.results
