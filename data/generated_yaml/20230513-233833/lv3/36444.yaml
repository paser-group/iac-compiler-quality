
- name: Create an Azure network interface without public IP
  hosts: all
  gather_facts: false
  become: true
  
  vars:
    resource_group: "<resource group name>"
    virtual_network_name: "<virtual network name>"
    subnet_name: "<subnet name>"
    network_interface_name: "<network interface name>"
    location: "<location>"

  tasks:
  - name: create network interface
    azure_rm_networkinterface:
      resource_group: "{{ resource_group }}"
      virtual_network_name: "{{ virtual_network_name }}"
      subnet_name: "{{ subnet_name }}"
      name: "{{ network_interface_name }}"
      enable_accelerated_networking: true   // optional parameter
    register: result

  - debug: var=result
