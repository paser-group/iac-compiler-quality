
---
- name: Parse Docker image name
  hosts: all
  become: true
  vars:
    image_name: nginx:latest
  tasks:
    - name: Pull Docker image on node1
      docker_image:
        name: "{{ image_name }}"
        state: present
        api_version: auto
      register: docker_output_node1

    - name: Pull Docker image on node2
      docker_image:
        name: "{{ image_name }}"
        state: present
        api_version: auto
      register: docker_output_node2

    - name: Pull Docker image on node3
      docker_image:
        name: "{{ image_name }}"
        state: present
        api_version: auto
      register: docker_output_node3

    - name: Debug output
      debug:
        var: docker_output_node1
        var: docker_output_node2
        var: docker_output_node3

