
---
- hosts: all
  gather_facts: no
 
  tasks:
  - name: Create directory for testing
    file:
      path: ~/test_directory
      state: directory
 
  - name: Run eos_facts module with debug log enabled
    eos_facts:
      debug: true
    register: eos_facts_output
 
  - name: Remove test_directory
    file:
      path: ~/test_directory
      state: absent
 
  - name: Save eos_facts output to a file
    copy:
      content: "{{ eos_facts_output }}"
      dest: ~/output.txt
