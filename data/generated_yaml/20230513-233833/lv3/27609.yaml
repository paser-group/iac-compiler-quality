
- name: Configuring nxos_vxlan_vtep_vni
  hosts: all
  gather_facts: no
  connection: network_cli

  vars:
    vrf_name: "test_vrf"
    vni: 1000
    multicast_group: "224.0.0.1"

  tasks:
    - name: configure vxlan
      nxos_vxlan_vtep_vni:
        suppress_arp: true
        assoc_vrf: "{{vrf_name}}"
        vni: "{{vni}}"
        router_mac: "00:22:BD:F8:19:FF"
        multicast_group: "{{multicast_group}}"
      register: result

    - name: check result
      debug:
        var: result

