
- name: Transfer large file
  hosts: all
  gather_facts: no

  tasks:
  - name: Transfer large file via Ansible
    command: scp /path/to/large/file user@{{ inventory_hostname }}:/home/user/large_file
    register: file_transfer

  - debug:
      var: file_transfer

  - name: Verify file transfer
    command: diff /path/to/large/file /home/user/large_file
    register: file_diff

  - debug:
      var: file_diff
