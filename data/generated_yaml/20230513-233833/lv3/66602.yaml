
---
- name: Create a test playbook to identify XML parsing errors
  hosts: all # includes all the hosts mentioned in the inventory file
  become: true
  
  tasks:
    - name: Create an XML fragment
      copy: 
         dest: "C:/test.xml"
         content: "<test>Hello World</test>"
  
    - name: Add the XML fragment to hosts file
      lineinfile:
        path: "C:/Windows/System32/drivers/etc/hosts"
        regexp: "<!-- XML Fragment test -->"
        line: "<!-- XML Fragment test -->\n{{ lookup('file', 'C:/test.xml') }}"
