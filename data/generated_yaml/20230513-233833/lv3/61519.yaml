yaml
---
- name: Archive with Cyrillic Filename
  hosts: all
  become: true
  
  tasks:
  - name: Create Directory and Files
    file:
      path: /tmp/archive_test
      state: directory
  - name: Create File with Unicode Filename
    file:
      path: /tmp/archive_test/файл.txt
      state: touch 
  - name: Create Archive 
    archive:
      path: /tmp/archive_test
      dest: /tmp/archive_test.tar.gz
      format: gz
  - name: Extract Archive
    unarchive:
      src: /tmp/archive_test.tar.gz
      dest: /tmp/unarchived_files
      remote_src: yes
  - name: Ensure extracted file is the same as original file
    diff:
      src: /tmp/archive_test/файл.txt
      dest: /tmp/unarchived_files/файл.txt
