
---
- name: Ansible Playbook for Bug Replication
  hosts: all
  become: true
  
  tasks:
  - name: Execute a command to register a variable
    command: <some_linux_command>
    register: my_output

  - name: Use a registered variable in a shell command
    shell: grep "<some_string>" "{{ my_output.stdout_lines }}"
    register: grep_output

  - name: Check a conditional expression using the previously registered variable
    debug:
      msg: "String is present!"
    when: grep_output.rc == 0
