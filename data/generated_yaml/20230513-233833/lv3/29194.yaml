
- name: Test lvol module
  hosts: all
  gather_facts: False

  tasks:

  - name: Extend logical volume without options
    lvol:
      vg: vg01
      lv: lv01
      size: +1G
      resizefs: yes
    
  - name: Reduce logical volume without options
    lvol:
      vg: vg01
      lv: lv01
      size: -1G
      resizefs: yes
      force: no
  
  - name: Verify logical volume size
    shell: "sudo lvdisplay /dev/vg01/lv01 | grep 'LV Size'"
    register: lv_output

  - name: Print logical volume size
    debug:
      var: lv_output.stdout_lines
