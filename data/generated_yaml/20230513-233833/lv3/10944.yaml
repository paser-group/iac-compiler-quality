
---
- name: Test V2 bug with vars_prompt
  hosts: all
  gather_facts: false

  vars_prompt:
    - name: invalid_var
      prompt: "Enter an invalid value"
      private: no

  tasks:
    - name: Print invalid variable
      debug:
        msg: "{{ invalid_var }}"

    - name: Convert invalid variable to dictionary
      set_fact:
        dict_var: "{{ invalid_var | from_yaml }}"
  
    - name: Print dictionary variable
      debug:
        var: dict_var
