
---
- name: Test 'win_service' module for errors
  hosts: windows-nodes
  gather_facts: no
  tasks:
  - name: Install win_service module
    win_package:
      path: "{{ playbook_dir }}/win_service-0.1.0-py3-none-any.whl"
      state: present
  - name: Create and start service
    win_service:
      name: AnsibleTestService
      start_mode: auto
      state: started
    register: win_service_result
  - name: Debug win_service execution
    debug:
      var: win_service_result
