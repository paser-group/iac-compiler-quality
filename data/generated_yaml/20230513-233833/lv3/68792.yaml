
---
- name: Gather Junos Facts
  hosts: junos_devices
  gather_facts: no
  connection: network_cli
  vars:
    ansible_network_os: junos
    ansible_ssh_private_key_file: /path/to/ssh/key/file

  tasks:
    - name: Collect Junos Facts
      junos_facts:
        l3_interfaces: true
      register: junos_facts_output

    - name: Print Layer 3 interfaces to a File
      copy:
        content: "{{ junos_facts_output['ansible_facts']['junos_l3_interfaces'] }}"
        dest: /path/to/output/file
