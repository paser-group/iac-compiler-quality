
---
- hosts: all
  become: true
  tasks:
    - name: Unarchive file
      unarchive:
        src: /path/to/archive.tar.gz
        dest: /path/to/extract
        remote_src: yes
      register: unarchive_result

    - name: Verify file integrity
      command: md5sum /path/to/extracted/file
      register: md5_result

    - name: Debug result
      debug:
        var: md5_result.stdout_lines
