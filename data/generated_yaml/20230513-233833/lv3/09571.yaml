
- name: Playbook to recreate the issue caused by --start-at-task option with utf-8 encoded task name
  hosts: all
  become: true

  vars:
    utf8_task_name: '任务'

  tasks:
  - name: Task 1
    command: echo "Task 1"

  - name: {{ utf8_task_name }}
    command: echo "{{ utf8_task_name }}"

  - name: Task 3
    command: echo "Task 3"

  - name: Task 4
    command: echo "Task 4"
    
  - name: Execute the playbook starting from the specified task
    command: ansible-playbook playbook.yml -i inventory --private-key /path/key --start-at-task '{{ utf8_task_name }}'
    ignore_errors: true
