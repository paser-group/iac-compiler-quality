
---
- name: Install IIS Server on Windows Server 2016 ec2 instance on AWS
  hosts: windows
  gather_facts: no

  tasks:
    - name: Install Web Server
      win_feature:
        name: Web-Server
        state: present

    - name: Start Web Server
      win_service:
        name: w3svc
        start_mode: auto
        state: started
      
    - name: Install Common HTTP Features
      win_feature:
        name:
          - Web-Common-Http
          - Web-Default-Doc
          - Web-Dir-Browsing
          - Web-Http-Errors
        state: present
