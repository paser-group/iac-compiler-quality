
---
- name: Upload file to Docker containers and recreate timeout bug
  hosts: all
  become: true
  
  tasks:
    - name: Create uploads directory
      file:
        path: /uploads
        state: directory
        
    - name: Copy file to uploads folder on all nodes
      copy:
        src: /path/to/file
        dest: /uploads/
        
    - name: Upload file to a Docker node using os_image module
      os_image:
        src: /uploads/file
        dst: /path/to/docker/upload/
        timeout: 1

  handlers:
    - name: Restart os_image service
      service:
        name: os_image
        state: restarted
