
---
- name: Create an S3 version error
  hosts: all
  connection: local
  gather_facts: false
  vars:
    obj_version: 99
  tasks:
    - name: Get object version from S3
      aws_s3:
        bucket: my-s3-bucket
        object: my-object-key
        version: "{{ obj_version }}"
        mode: get
        dest: "/tmp/{{ inventory_hostname }}/object"
        mutable: False
      register: s3_object
    - name: Display S3 object output
      debug:
        msg: "S3 object version {{ obj_version }} does not exist"
