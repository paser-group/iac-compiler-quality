
- name: Check for error types in template
  hosts: all
  gather_facts: no
  
  tasks:
    - name: Incorrect syntax
      template:
        src: templates/example.j2
        dest: /var/tmp/example.out
        validate: /usr/bin/python /path/to/validate.py
      vars:
        data:
        - true
        - false
        - null

    - name: Invalid indentation
      template:
        src: templates/example_indentation.j2
        dest: /var/tmp/example_indentation.out
        validate: /usr/bin/python /path/to/validate.py
      vars:
        data:
        - true
        - false
        - null
          
    - name: File-read permission
      template:
        src: templates/example_permission.j2
        dest: /var/tmp/example_permission.out
        validate: /usr/bin/python /path/to/validate.py
        mode: '0755'
      vars:
        data:
        - true
        - false
        - null

    - name: String formatting error
      template:
        src: templates/example_formatter.j2
        dest: /var/tmp/example_formatter.out
        validate: /usr/bin/python /path/to/validate.py
      vars:
        data:
          name: John
          age: 35
          sex: male
