
- name: Delegate Task Issue Playbook
  hosts: all
  become: true

  tasks:
    - name: Create a file on node1
      copy:
        content: This is node1
        dest: /tmp/test.txt
      delegate_to: "{{ groups['node1'][0] }}"

    - name: Create a file on node2
      copy:
        content: This is node2
        dest: /tmp/test.txt
      delegate_to: "{{ groups['node2'][0] }}"

    - name: Create a file on node3
      copy:
        content: This is node3
        dest: /tmp/test.txt
      delegate_to: "{{ groups['node3'][0] }}"
