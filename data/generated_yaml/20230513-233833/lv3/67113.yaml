
---
- name: Test Macports
  hosts: all
  gather_facts: no
  vars:
      macports_install: "port install"
  tasks:
  - name: Install nginx through macports
    command: "{{ macports_install }} nginx"
  - name: Check if packages are up to date
    command: "{{ macports_install }} outdated"
    register: outdated_packages
  - name: Display outdated packages
    debug: msg="{{outdated_packages.stdout_lines}}"
