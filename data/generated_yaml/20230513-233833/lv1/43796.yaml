yaml
- name: Gather facts from BIG-IP device
  hosts: bigip
  gather_facts: no
  connection: local
  any_errors_fatal: true

  tasks:
    - name: Checking if BIG-IP Device is available
      wait_for_connection:
        timeout: 60

    - name: Gathering facts from BIG-IP Device
      bigip_facts:
        provider:
          server: "{{ inventory_hostname }}"
          user: "{{ bigip_user }}"
          password: "{{ bigip_password }}"
          server_port: "{{ bigip_port }}"
        gather_subset:
          - system
          - interfaces

    - name: Displaying gathered facts
      debug:
        var: ansible_facts.bigip

