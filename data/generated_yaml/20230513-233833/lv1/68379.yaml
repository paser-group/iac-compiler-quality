
---
- name: Pull a Docker image
  hosts: all
  become: true

  tasks:
  - name: Login to Docker registry
    docker_login:
      username: "{{ docker_registry_username }}"
      password: "{{ docker_registry_password }}"
      email: "{{ docker_registry_email }}"
      registry: "{{ docker_registry_url }}"

  - name: Pull Docker image
    docker_image:
      name: "{{ docker_image_name }}"
      tag: "{{ docker_image_tag }}"
      pull: always
