yaml
---
- name: Fix Type Error When Calling Blocks
  hosts: all
  gather_facts: true
  become: true

  tasks:
    - name: Install Required Libraries
      block:
        - name: Install Python Development Package
          apt:
            name: python-dev
            state: latest
          become: true
          vars:
            ansible_python_interpreter: /usr/bin/python3

        - name: Install Python PIP
          apt:
            name: python3-pip
            state: latest
          become: true
          vars:
            ansible_python_interpreter: /usr/bin/python3

    - name: Run Your Application
      block:
        - name: Execute Command
          command: python app.py
          become: true
          args:
            chdir: /path/to/your/app

  vars:
    ansible_python_interpreter: /usr/bin/python3

  handlers:
    - name: restart application
      service:
        name: your-app-name
        state: restarted
