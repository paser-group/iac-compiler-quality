yaml
- name: Configure Rackspace Inventory on Centos7
  hosts: localhost
  become: true

  tasks:
    - name: Install required packages
      yum:
        name: python-pip gcc openssl-devel python-devel
        state: present

    - name: Install rackspace-novaclient
      pip:
        name: rackspace-novaclient

    - name: Add Rackspace inventory to ansible.cfg
      ansible_config:
        options:
          inventory: /usr/local/bin/rax.py
        replace: yes
