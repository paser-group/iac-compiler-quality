yaml
- name: Update packages and install dependencies
  hosts: all
  become: yes
  tasks:
    - name: Update packages
      apt:
        upgrade: yes
        update_cache: yes

    - name: Install dependencies
      apt:
        name:
            - python3
            - python3-pip
            - python3-setuptools
            - libssl-dev
            - libffi-dev
        state: latest

    - name: Install Ansible
      pip:
        name: ansible

- name: Execute your playbook
  hosts: localhost
  become: yes
  vars:
    - var_name: "something"
  tasks:
    - name: Run your task
      command: sudo -u user_name your_command --some-option {{ var_name }}
