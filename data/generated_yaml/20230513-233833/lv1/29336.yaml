yaml
- name: Create LXC Container Snapshot and Clone
  hosts: all
  become: true
  tasks:
    - name: Take LXC Container Snapshot
      lxc_container:
        name: container_name
        snapshot: true
        state: snapshot
      register: snapshot_result

    - name: Clone LXC Container from Snapshot
      lxc_container:
        name: container_clone_name
        source: container_name/snap1
        state: started
      when: snapshot_result is succeeded
