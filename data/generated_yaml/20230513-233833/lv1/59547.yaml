yaml
---
- name: Example Playbook
  hosts: all
  tasks:
    - name: Check YAML Syntax
      command: ansible-playbook --syntax-check playbook.yml
      register: syntax_check

    - name: Stop Execution on Syntax Check Failure
      fail:
        msg: "{{ syntax_check.stderr_lines }}"
      when: syntax_check.rc != 0
