
- name: Fix dictionary resolution from empty list
  hosts: all
  vars:
    my_list: []
    my_dict:
      key1: 'value1'
      key2: 'value2'
  tasks:
   - name: Check if list is empty
     assert:
       that:
         - my_list|length > 0
       fail_msg: "The list is empty! Please add some values to the list."
   - name: Print the value of the dictionary key
     debug:
       msg: "The value of the dictionary {{ my_dict.key1 }} is {{ my_dict.key1 }}"
