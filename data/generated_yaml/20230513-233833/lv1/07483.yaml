
---
- name: Ansible Playbook to handle copy issue
  hosts: all
  
  tasks:
    - name: Copy file from source to destination
      copy:
        src: /path/to/source/file
        dest: /path/to/destination/file
        validate: 'cat {{src}} | grep -q validatestring'
      register: copy_output

    - name: Handle copy error
      fail:
        msg: '{{ copy_output.msg }}'
      when: copy_output|failed
