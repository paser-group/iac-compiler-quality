yaml
---
- name: Install and configure Ansible
  hosts: all
  become: true
  tasks:
    - name: install python3 on remote server
      apt:
        name: python3
        state: latest
    - name: install ansible on remote server
      apt:
        name:
          - software-properties-common
          - ansible
        state: latest

- name: Execute Ansible Modules
  hosts: localhost
  become_method: sudo
  tasks:
    - name: ping the remote server
      ping:

    - name: try to execute a module on remote server
      become: yes
      shell: ansible all -m ping
      register: result
    - name: debug result
      debug:
        var: result
...
