
---
- name: Gather EC2 VPC subnet facts
  hosts: localhost
  connection: local
  gather_facts: no
  tasks:
    - name: Gather facts for all subnets in a region
      ec2_vpc_subnet_facts:
        region: "{{ region }}"
        filters:
          vpc-id: "{{ vpc_id }}"
      register: subnet_facts
      vars:
        region: "us-east-1" # Replace with the desired region
        vpc_id: "vpc-123456" # Replace with the desired VPC ID

    - name: Print the subnet facts
      debug:
        var: subnet_facts
