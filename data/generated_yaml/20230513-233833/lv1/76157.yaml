
---
- name: Fix tmp file permission issue on remote server
  hosts: all
  become: true
  become_method: sudo
  vars:
    ansible_become_pass: "<the password for sudo>"
  tasks:
    - name: Create temporary directory
      tempfile:
        state: directory
        path: /tmp/ansible_fixes/
        mode: '0700'

    - name: Fix permissions on tmp folder
      file:
        path: /tmp
        owner: root
        group: root
        mode: '1777'
