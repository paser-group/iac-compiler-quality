yaml
---
- hosts: all
  tasks:
  - name: create a directory if it doesn't exist
    file:
      path: /path/to/directory
      state: directory
  - name: ensure a line is in a file, creating the file if it doesn't exist
    # change /path/to/directory to the directory path you want to create file into
    # change /path/to/file to the file path you want to insert line into
    lineinfile:
      path: "/path/to/directory/file"
      line: "line to insert"
      create: yes
