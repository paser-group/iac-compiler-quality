
---
- name: Update password for servers
  hosts: all
  become: yes

  vars_prompt:
    - name: user_name
      prompt: "What is the username for the account that needs the password updated?"
      private: no

  tasks:
    - name: Update password of user
      user:
        name: "{{ user_name }}"
        password: "{{ lookup('password', '/dev/null length=15 chars=ascii_letters,digits,special') }}"
        update_password: always
