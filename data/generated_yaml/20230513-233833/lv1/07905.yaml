yaml
---
- name: Example playbook for ec2_vpc issue
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Create VPC
      ec2_vpc:
        state: present
        cidr_block: "10.0.0.0/16"
      register: vpc_result

    - name: Create Subnets
      ec2_vpc_subnet:
        state: present
        vpc_id: "{{ vpc_result.vpc.id }}"
        cidr: "10.0.1.0/24"
        tags:
          Name: "subnet-1"
      register: subnet_result

    - name: Verify Subnets
      debug:
        var: subnet_result
