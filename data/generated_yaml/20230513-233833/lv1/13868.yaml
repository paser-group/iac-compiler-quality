
- name: Behavior regression
  hosts: all
  gather_facts: true
  tasks:
    - name: Fix `with_url` error
      block:
        - name: Fetch data from URL
          uri:
            url: "http://example.com/data"
            return_content: yes
          register: content
        - name: Do something with the content
          debug:
            var: content
      rescue:
        - name: Handle errors
          debug:
            msg: "Error occurred while fetching data from URL"
