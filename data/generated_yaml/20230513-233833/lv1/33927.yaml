yaml
---
- name: Retrieve facts about an Auto Scaling Group 
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Get information about the target group associated with the Auto Scaling Group. 
      ec2_asg_facts:
        region: us-west-2 # Replace this with your own region.
        auto_scaling_group_name: my_auto_scaling_group # Replace this with your own Auto Scaling Group name.
      register: asg_info
      ignore_errors: yes

    - name: Handle TargetGroupNotFoundException error
      fail:
        msg: "The Target Group is not found"
      when: "asg_info.msg is defined and 'TargetGroupNotFoundException' in asg_info.msg"
