yaml
- name: Example playbook to address unexpected task execution
  hosts: all
  tasks:
    - name: Perform pre-checks
      debug:
        msg: "Performing pre-checks before starting"

    - name: Execute tasks based on condition
      block:
        - name: Perform task 1
          debug:
            msg: "Task 1 executed"

        - name: Perform task 2
          debug:
            msg: "Task 2 executed"
          when: "'some_variable' in some_condition"

      when: "'another_variable' in some_condition"

    - name: Perform post-checks
      debug:
        msg: "Performing post-checks after completion"
