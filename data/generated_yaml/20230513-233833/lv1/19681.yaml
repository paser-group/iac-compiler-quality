yaml
---
- name: Check if hostname module works on Docker containers
  hosts: all
  tasks:
    - name: Check if hostname module works
      hostname:
      register: hostname_result
  
    - name: Show error message if hostname module does not work
      fail:
        msg: "Error: hostname module cannot work on Docker containers."
      when: "'docker' in ansible_connection and not hostname_result.changed"
