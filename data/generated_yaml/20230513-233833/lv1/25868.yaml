
---
- name: Debugging SSH Connection Issues
  hosts: all
  
  tasks:
  - name: Disable host key checking
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
    
  - name: Check SSH Connection
    ping:
    
  - name: Copy ~/.ssh/config for debugging
    copy:
      src: ~/.ssh/config
      dest: /tmp/
      mode: 0644
    
  - name: Copy SSH Private Key for debugging
    copy:
      src: ~/.ssh/id_rsa
      dest: /tmp/
      mode: 0600
