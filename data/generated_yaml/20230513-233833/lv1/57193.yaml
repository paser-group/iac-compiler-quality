yaml
---
- name: Install .NET Framework 3.5
  hosts: win_servers
  gather_facts: true

  tasks:
  - name: Install .NET Framework 3.5
    win_feature:
      name: NetFx3
      state: enabled
    register: dotnet

  - name: Reboot Server
    win_reboot:
      timeout: 120
      msg: "Rebooting to complete .NET Framework 3.5 installation"
    when: dotnet.reboot_required == true
