yaml
---
- name: troubleshoot redfish_facts Unknown error
  hosts: all
  gather_facts: no

  tasks:
  - name: install python prerequisites
    become: yes
    apt:
      name:
        - python3
        - python3-pip
      state: present

  - name: install redfish python module
    become: yes
    pip:
      name: redfish
      state: latest

  - name: gather redfish facts
    redfish_facts:
      hostname: "{{ inventory_hostname }}"
      username: "{{ redfish_username }}"
      password: "{{ redfish_password }}"
    register: redfish

  - name: debug redfish facts
    debug:
      var: redfish
