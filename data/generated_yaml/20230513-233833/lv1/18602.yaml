yaml
---
- name: Example playbook
  hosts: all
  become: true
  any_errors_fatal: true

  tasks:
    - name: Task 1
      debug:
        msg: "This is task 1"

    - name: Task 2
      command: /bin/false
      ignore_errors: yes

    - name: Rescue block
      block:
        - name: Rescue task 1
          debug:
            msg: "This is rescue task 1"

        - name: Rescue task 2
          debug:
            msg: "This is rescue task 2"

      rescue:
        - name: Rescue task 3
          debug:
            msg: "This is rescue task 3"

    - name: Always block
      block:
        - name: Always task 1
          debug:
            msg: "This is always task 1"

        - name: Always task 2
          debug:
            msg: "This is always task 2"

      always:
        - name: Always task 3
          debug:
            msg: "This is always task 3"
