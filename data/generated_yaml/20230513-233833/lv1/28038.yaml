yaml
---
- hosts: all
  gather_facts: true

  vars:
    groups_vars_files:
      - vars/all.yml
      - vars/{{ inventory_hostname }}.yml

  tasks:
    - name: Load group_vars files
      include_vars:
        file: "{{ item }}"
      with_items: "{{ groups_vars_files }}"
      when: item is exists

    - name: Test group_vars file
      debug:
        msg: "Group vars file loaded successfully!"
