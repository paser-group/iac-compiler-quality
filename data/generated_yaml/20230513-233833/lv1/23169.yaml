yaml
---
- name: Execute command and parse JSON output
  hosts: all
  
  tasks:
  - name: Run command and capture stdout
    shell: your_command_here | jq -r '.'
    register: command_output
    changed_when: false
    check_mode: no
    tags: always

  - name: Parse JSON and display stats
    debug:
      msg:
        - "Total number of items: {{ command_output.stdout | from_json | length }}"
    when: not skip_json_parsing
    tags: mytag
