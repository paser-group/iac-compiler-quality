
---
- hosts: localhost
  gather_facts: false

  tasks:
    - name: Update CloudWatch Alarm Period
      ec2_metric_alarm:
        region: "{{ region }}"
        alarm_name: "{{ alarm_name }}"
        metric: "{{ metric }}"
        namespace: "{{ namespace }}"
        statistic: "{{ statistic }}"
        period: "{{ period_seconds }}"
        evaluation_periods: "{{ evaluation_periods }}"
        threshold: "{{ threshold }}"
        comparison: "{{ comparison }}"
        description: "{{ alarm_description }}"
      when: period_seconds|int != period_seconds|float
