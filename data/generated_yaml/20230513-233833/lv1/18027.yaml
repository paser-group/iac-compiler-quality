
---
- name: Error Handling in Loops
  hosts: localhost
  gather_facts: no
  
  tasks:
    - name: Set list of items for loop
      set_fact:
        my_list: ["item1", "item2", "item3"]
      
    - name: Loop over items and handle errors
      block:
        - name: Do something with item
          debug:
            msg: "Doing something with {{ item }}"
          loop: "{{ my_list }}"
        - name: Handle success
          debug:
            msg: "{{ item }} was successful"
      rescue:
        - name: Handle failure
          debug:
            msg: "{{ item }} failed"
