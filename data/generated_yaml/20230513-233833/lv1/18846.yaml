
---
- name: Fix error message from shell and command modules
  hosts: all
  gather_facts: false

  tasks:
  - name: Run shell command
    shell: "echo 'Hello World'"
    register: result
    ignore_errors: true

  - name: Output result or error message
    debug:
      msg: "{{ result.stdout if result.rc == 0 else 'Error: {{ result.stderr }} }}"

