
---
- name: Example Playbook for Unarchive Modules
  hosts: all
  
  tasks:
    - name: Unarchive ZIP file
      unarchive:
        src: /path/to/zipfile.zip
        dest: /path/to/extract
        remote_src: yes
        mode: 0777
      register: result
      
    - name: Fix permissions
      file:
        path: "{{ item.path }}"
        mode: "{{ item.mode }}"
      with_items: "{{ result.files }}"
      when: item.mode != '0777'
