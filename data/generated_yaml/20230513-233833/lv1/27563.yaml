yaml
- name: Gather IOS facts
  hosts: ios_devices
  gather_facts: no
  connection: network_cli

  tasks:
    - name: get IOS facts
      ios_facts:
        gather_subset:
          - hardware
          - interfaces
          - config
        register: ios_output
        provider:
          host: "{{ inventory_hostname }}"
          username: "{{ ansible_user }}"
          password: "{{ ansible_password }}"

    - name: Debug IOS facts output
      debug:
        var: ios_output
