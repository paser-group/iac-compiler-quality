yaml
---
- hosts: localhost
  gather_facts: no

  vars:
    resource_group: my_azure_rg
    deployment_name: my_deployment
    template_path: /path/to/arm-template.json
    parameters_file_path: /path/to/parameters.json
  
  tasks:
    - name: Create or update Azure deployment
      azure_rm_deployment:
        resource_group_name: "{{ resource_group }}"
        deployment_name: "{{ deployment_name }}"
        template: "{{ lookup('file', template_path) }}"
        parameters: "{{ lookup('file', parameters_file_path) }}"
      register: deployment_output
      ignore_errors: true
           
    - name: Display detailed deployment status
      debug:
        var: deployment_output
        verbosity: 2
