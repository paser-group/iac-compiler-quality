
---
- name: Debug AWS Request Limit Exceeded error
  hosts: localhost
  gather_facts: false
  vars:
    aws_region: us-east-1
    subnet_id: subnet-xxxxxxxx
  tasks:
    - name: Describe Subnets and VPC attributes
      aws_ec2:
        aws_access_key: "{{ aws_access_key }}"
        aws_secret_key: "{{ aws_secret_key }}"
        region: "{{ aws_region }}"
        state: describe
        resource: subnet
        filters:
          subnet-id: "{{ subnet_id }}"
        register: subnets

    - name: Debug output
      debug:
        var: subnets
