yaml
---
- name: Test URI module with basic authentication
  hosts: localhost
  gather_facts: no
          
  tasks:
    - name: Test the URI module with basic authentication
      uri:
        url: "http://example.com/api/v1/users"
        method: GET
        force_basic_auth: yes
        user: "{{ vault_user | default(omit) }}"
        password: "{{ vault_password | default(omit) }}"
        return_content: yes
      register: uri_result
      
    - debug:
        var: uri_result.content
