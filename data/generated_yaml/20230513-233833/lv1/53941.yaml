
- name: Deploy Docker Swarm service
  hosts: swarm_nodes
  become: true

  tasks:
  - name: Log into private Docker registry
    docker_login:
      email: your_email@domain.com
      username: your_username
      password: your_password
      registry: your_private_registry
    when: your_private_registry is defined

  - name: Resolve Docker image from private registry
    docker_swarm_service:
      name: your_service_name
      image: "{{ your_private_registry }}/your_image_name:your_image_tag"
      state: present
    when: your_private_registry is defined
