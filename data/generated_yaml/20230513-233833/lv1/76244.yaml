yaml
---
- name: Delegate execution with changing target
  hosts: all
  tasks:
    - name: Execute task on {{ delegated_host }} with dynamic target
      shell: echo "Running task on {{ delegated_host }} with target {{ target }}"
      delegate_to: "{{ delegated_host }}"
      vars:
        target: "{{ hostvars[delegated_host].my_target }}"
      changed_when: false
