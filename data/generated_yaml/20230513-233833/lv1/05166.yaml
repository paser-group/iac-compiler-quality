
--- 
- name: Example playbook
  hosts: myhost
  become: true

  tasks:
  - name: Install packages with loop
    apt:
      name: "{{ item }}"
      state: present
    with_items:
      - python
      - python-pip
      - python-dev

  - name: Install packages with loop using prefix
    apt:
      name: "{{ prefix }}-{{ item }}"
      state: present
    with_items:
      - python
      - python-pip
      - python-dev
    vars:
      prefix: "customprefix"

  - name: Install packages with loop using yum module
    yum:
      name: "{{ item }}"
      state: present
    with_items:
      - python
      - python-pip
      - python-dev

  - name: Install packages with loop using prefix with yum module
    yum:
      name: "{{ prefix }}-{{ item }}"
      state: present
    with_items:
      - python
      - python-pip
      - python-dev
    vars:
      prefix: "customprefix"
