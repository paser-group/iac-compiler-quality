yaml
---
- name: Example Playbook to load Vault Password File
  hosts: localhost
  gather_facts: false

  vars:
    vault_password_file: "<PATH_TO_VAULT_PASSWORD_FILE>"

  tasks:
    - name: Check if vault password exists
      stat:
        path: "{{ vault_password_file }}"
      register: vault_pw_exist

    - name: Load vault password
      include_vars:
        file: "{{ vault_password_file }}"
      when: vault_pw_exist.stat.exists == true

    - name: Check if password was loaded correctly
      fail:
        msg: "Error in vault password file loading (default): A vault password must be specified to decrypt data."
      when: vault_password_file is not defined
