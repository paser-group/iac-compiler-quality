yaml
---
- name: Create a new container node pool in GCP
  hosts: localhost
  connection: local

  vars:
    project_id: "my-gcp-project"
    credentials_file: "/path/to/credentials.json"
    cluster_name: "my-gke-cluster"
    node_pool_name: "my-gke-node-pool"
    machine_type: "n1-standard-1"
    disk_size_gb: 100
    location: "us-central1-a"
  
  tasks:
  - name: Create new node pool
    gcp_container_node_pool:
      name: "{{ node_pool_name }}"
      cluster: "{{ cluster_name }}"
      location: "{{ location }}"
      project: "{{ project_id }}"
      auth_kind: serviceaccount
      service_account_file: "{{ credentials_file }}"
      initial_node_count: 3
      node_config:
        machine_type: "{{ machine_type }}"
        disk_size_gb: "{{ disk_size_gb }}"

