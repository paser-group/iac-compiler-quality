yaml
---
- name: Ansible Playbook to handle Empty default vars file breaks ansible run
  hosts: localhost
  gather_facts: false

  tasks:
  - name: Set default vars
    set_fact:
      my_var: "default_value"

  - name: Check if the default var is empty
    set_fact:
      my_var: "{{my_var}}"
    when: my_var | length == 0

  - name: Display the value of the variable
    debug:
      var: my_var
