yaml
---
- name: Configure Route53 using Python3 and boto3
  hosts: localhost
  gather_facts: false

  vars:
    aws_access_key: "<replace_with_your_access_key>"
    aws_secret_key: "<replace_with_your_secret_key>"
    hosted_zone_id: "<replace_with_your_hosted_zone_id>"
    domain_name: "<replace_with_your_domain_name>"
    ip_address: "<replace_with_your_ip_address>"

  tasks:
    - name: Install Boto3 (if not already installed)
      pip:
        name: boto3
        state: present
      become: true

    - name: Update DNS record in Route53
      boto3:
        aws_access_key: "{{ aws_access_key }}"
        aws_secret_key: "{{ aws_secret_key }}"
        region: "{{ aws_region }}"
        hosted_zone_id: "{{ hosted_zone_id }}"
        record_set_name: "{{ domain_name }}"
        record_set_type: "A"
        ttl: 300
        record_set_value: "{{ ip_address }}"
      become: true
