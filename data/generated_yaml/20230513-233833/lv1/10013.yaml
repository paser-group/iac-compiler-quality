yaml
- name: Run Inventory Script
  hosts: localhost
  gather_facts: false

  vars:
    inventory_script: /path/to/inventory_script.sh

  tasks:
  - name: Execute Inventory Script
    command: "{{ inventory_script }}"
    register: inventory_output

  - name: Check for Errors
    assert:
      that:
        - "'error' not in inventory_output.stderr"
        - "'fatal' not in inventory_output.stderr"
      fail_msg: "Inventory script generated errors. Check the script and try again."
