
---
- name: Synchronize files with local action using rsync
  hosts: all
  gather_facts: false
  vars:
    source: "/path/to/source"
    destination: "/path/to/destination"
  tasks:
    - name: Synchronize files using rsync
      become: no
      local_action:
        module: command
        cmd: rsync -r --delete --exclude='.git/' "{{ source }}" "{{ destination }}"

