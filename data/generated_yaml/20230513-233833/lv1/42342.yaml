
---
- name: MySQL User Creation
  hosts: your_servers_here
  gather_facts: false
  become: true

  vars:
    mysql_user: your_username_here
    mysql_password: your_password_here
    mysql_host: your_mysql_hostname_here
    mysql_port: your_mysql_port_here

  tasks:
  - name: Install MySQL Python Package
    pip: name=mysql-connector-python state=present
    become: true

  - name: Create MySQL User
    mysql_user:
      name: "{{ mysql_user }}"
      password: "{{ mysql_password }}"
      host: "{{ mysql_host }}"
      port: "{{ mysql_port }}"
      state: present
      login_user: root
      login_password: your_mysql_root_password_here
    become: true
