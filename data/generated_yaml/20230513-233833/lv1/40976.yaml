yaml
- name: Retrieve secret from Azure Key Vault
  hosts: localhost
  gather_facts: no
  vars:
    secret_name: "my_secret"
  tasks:
  - name: Retrieve secret from Azure Key Vault
    azure_rm_keyvaultsecret:
      vault_uri: "https://mykeyvault.vault.azure.net"
      secret_name: "{{ secret_name }}"
      client_id: "{{ vault_client_id }}"
      client_secret: "{{ vault_client_secret }}"
      tenant: "{{ vault_tenant }}"
    register: secret_response

  - name: Debug secret value
    debug:
      msg: "The secret value is {{ secret_response.value }}"
