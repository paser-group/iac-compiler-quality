
- name: Test ipaddr filter with subnets
  hosts: all
  gather_facts: false
  vars:
    subnets:
      - 192.168.1.0/24
      - 10.10.10.0/24
  tasks:
    - set_fact:
        test_subnet: "{{ item }}"
      loop: "{{ subnets }}"
    
    - debug:
        msg: "{{ test_subnet | ipaddr('subnet') }}"
