
---
- name: Playbook to test dict2items
  hosts: all
  become: yes
  vars:
    test_dict:
      key1: value1
      key2: value2
  tasks:
    - name: Test dict2items
      debug:
        var: test_dict|dict2items

- name: Playbook to test failed task skip
  hosts: all
  become: yes
  tasks:
    - name: Test failed task skip
      command: /bin/false
      register: result
      ignore_errors: yes
      when: result is failed

- name: Playbook to test dict2items in loops
  hosts: all
  become: yes
  vars:
    test_dict:
      key1: value1
      key2: value2
  tasks:
    - name: Test dict2items in loop
      debug:
        var: item
      loop: "{{ test_dict|dict2items }}"
