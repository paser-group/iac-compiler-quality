yaml
- name: testing duplicate dictionary key bug
  hosts: node1
  gather_facts: no
  tasks:
    - name: creating dictionary
      set_fact:
        dictionary: {"key1": "123", "key2": "456", "key1": "789"}
    
    - name: raising error
      fail:
        msg: "Duplicate dictionary key"
      when: "'key1' in dictionary and 'key2' in dictionary"

    - name: Debugging task (should not execute)
      debug:
        msg: "Should not see this message"
