
- name: Validate bigip_pool_member module 
  hosts: f5
  gather_facts: no
  tasks:
  - name: Add a pool member on F5 BIG-IP System 
    bigip_pool_member:
      state: present
      pool: "test_pool"
      host: "192.168.1.1"
      port: "80"
      user: "test_user"
      password: "test_password"
      provider:
        server: "f5.bigip.com"
        user: "admin"
        password: "secret"
    ignore_errors: yes
    register: result

  - name: Check for AttributeError exception 
    debug:
      msg: "{{ result }}"
    when: "'AttributeError' in result.msg"
