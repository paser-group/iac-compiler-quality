
---
- name: Bug Report Playbook
  hosts: all
  vars:
    encrypted_var: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      35303761613861613838303138376565396366393034323539343933343732613065343066323631
      6236333734336632353038353634663930396639633834380a363630353336656261613330373165
      33333964396135393330393463383666323165636462383231323566366136393463376537636566
      3033646431343338650a373835346131373962376533326634653265646664363439646535616362
      65663538623165626265623937623337663765653231623536626261373938343838386130393436
      6336353066653431653434323133353332383463643762373061
  tasks:
    - name: Verify decrypted variable
      set_fact:
        decrypted_var: "{{ encrypted_var | vault }}"
      when: encrypted_var is vaulted
    - name: Verify decrypted variable matches original value
      assert:
        that:
          decrypted_var == "<original value>"
