
- hosts: all
  gather_facts: no

  vars:
    empty_string: ""

  tasks:
    - name: generate template
      template:
        src: '{{ playbook_dir }}/template.j2'
        dest: '/tmp/template.out'
      vars:
        empty_string: '{{ empty_string }}'
      
    - name: print template output
      debug:
        var: output
      vars:
        output: '{{ lookup("file", "/tmp/template.out") }}'
