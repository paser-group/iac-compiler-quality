
all:
  hosts:
    node1:
      ansible_host: 10.1.1.1 
    node2:
      ansible_host: 10.1.1.2 
    node3:
      ansible_host: 10.1.1.3 
  vars:
    ansible_user: <username>
    ansible_ssh_private_key_file: </path/to/ssh_key>
    ansible_connection: ssh
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
helm:
  vars:
    tiller_namespace: kube-system
    tiller_debug: yes
  tasks:
    - name: Install Helm
      command: "{{ item }}"
      with_items:
        - helm init --service-account tiller --upgrade
        - helm repo update
      become: yes
      become_user: root
      ignore_errors: true
