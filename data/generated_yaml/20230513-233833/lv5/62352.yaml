
- name: Test ASA_command output parsing
  hosts: node1
  gather_facts: false

  tasks:
    - name: Execute ASA_command with incorrect output format
      asa_command:
        command: show version
        provider:
          host: "{{ inventory_hostname }}"
          username: admin
          password: pass
      expect:
        - name: Incorrect output format
          patterns:
            - "! Incorrect output format !"
            - ".*Unexpected output.*"
      register: cmd_output

    - name: Debug the output register variable
      debug:
        var: cmd_output
