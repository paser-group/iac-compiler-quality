
- hosts: all
  gather_facts: no

  vars:
    region: "{{ ['ams2', 'ams3', 'nyc1', 'nyc2', 'sfo1', 'sgp1', 'lon1'] }}"
    size: "{{ ['512mb', '1gb', '2gb', '4gb'] }}"
    image: "{{ ['ubuntu-16-04-x64', 'centos-7-x64', 'debian-9-x64'] }}"

  tasks:
    - name: Test Digital Ocean parameters
      digital_ocean_droplet:
        state: present
        name: "{{ item }}"
        region: "{{ region | random }}"
        size: "{{ size | random }}"
        image: "{{ image | random }}"
      with_items:
        - droplet-1
