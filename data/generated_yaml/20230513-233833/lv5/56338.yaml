
# Task 1 - Install docker and python-docker modules
- name: Install docker and python-docker modules
  apt:
    name: ['docker.io', 'python-docker']
    state: present
  become: true

# Task 2 - Confirm successful import of the docker_plugin
- name: Confirm successful import of docker_container plugin
  command: ansible localhost -m docker_container
  changed_when: false
  failed_when: false
  register: result
  ignore_errors: yes
- name: Log import status
  debug:
    msg: "docker_container import status: {{ result.rc }}"

# Task 3 - Create and run a docker container using docker_container plugin
- name: Create Docker container and execute command
  docker_container:
    name: ubuntu-test
    image: ubuntu
    command: "echo 'Hello World'"
  become: true

# Task 4 - Ensure no errors were encountered
- name: Ensure docker_container ran successfully
  assert:
    that:
      - result.msg == "All assertions passed"
