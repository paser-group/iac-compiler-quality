
- name: Test gcp_container_cluster module with different values for location
  hosts: all
  gather_facts: no
  tasks:
    - name: Test module with valid location value
      gcp_container_cluster:
        name: test-cluster
        location: us-west1
        project_id: my-gcp-project
        auth_kind: serviceaccount
        service_account_file: /path/to/service_account.json
      register: result_valid

    - assert:
        that:
          - "'invoked the module successfully' in result_valid.stderr"

    - name: Test module with invalid location value
      gcp_container_cluster:
        name: test-cluster
        location: invalid-location-value
        project_id: my-gcp-project
        auth_kind: serviceaccount
        service_account_file: /path/to/service_account.json
      register: result_invalid

    - assert:
        that:
          - "'failed' in result_invalid.stderr"
