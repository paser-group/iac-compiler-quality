
- name: Collect facts and verify ansible_net_interfaces data
  hosts: cisco_devices
  gather_facts: no
  connection: network_cli
  vars:
    nxs_username: "admin"
    nxs_password: "cisco"
    nxs_protocol: "https"
  
  tasks:
    - name: Collect device facts
      nxos_facts:
        gather_subset:
          - hardware
          - config

    - name: Print ansible_net_interfaces
      debug:
        var: ansible_net_interfaces

    - name: Assert ansible_net_interfaces data availability
      assert:
        that: ansible_net_interfaces is defined
