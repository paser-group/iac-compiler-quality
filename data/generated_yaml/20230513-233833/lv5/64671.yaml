
---
- name: Generate an Ansible playbook using bigip_dns_cache_resolver module name
  hosts: all
  tasks:
    - name: Configure DNS Cache
      bigip_dns_resolver:
        name: dns-cache
        zone: "{{ item.zone }}"
        address:
          - "{{ item.ip_address }}"
        provider:
          password: "{{ password }}"
          server: "{{ server }}"
          user: "{{ user }}"
      loop:
        - { zone: 'test.com', ip_address: '10.1.1.1' }
        - { zone: 'test1.com', ip_address: '10.1.1.2' }
        - { zone: 'test2.com', ip_address: '10.1.1.3' }
