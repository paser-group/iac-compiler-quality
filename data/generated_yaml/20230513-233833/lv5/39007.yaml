
# Gather information about the inventory script
- name: Gather info about inventory script
  shell: |
    pwd
    ls -alh

# Run the inventory script without gathering facts
- name: Run inventory script without gathering facts
  raw: |
    chmod +x {{ inventory_dir }}/myinventory.py
    {{ inventory_dir }}/myinventory.py --list

# Run commands based on dynamic inventory
- name: Ping nodes from inventory
  raw: ping -c 1 {{ item }}
  with_items: "{{ groups['all'] }}"
