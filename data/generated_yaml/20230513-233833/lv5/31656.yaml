
- name: Check inventory file format and variables 
  hosts: all
  gather_facts: false
  
  tasks:
  - name: Verify file format
    assert:
      that:
        - inventory_file.endswith('.yml') or inventory_file.endswith('.yaml')
      msg: "Inventory file has incorrect format. Should be YAML."

  - name: Verify hosts format 
    assert:
      that:
        - host in groups[group_name] 
      msg: "Host {{ host }} not defined in group {{ group_name }}."

  - name: Ensure variables are defined correctly
    assert:
      that:
        - inventory_var_name is defined
      msg: "Variable {{ inventory_var_name }} is not defined in inventory file."

  - name: Ensure variables are correctly interpolated
    debug:
      msg: "Variable value: {{ inventory_var_name }}"
