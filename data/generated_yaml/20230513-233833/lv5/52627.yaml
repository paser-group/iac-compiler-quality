yaml
---
- name: Java certificate generation testing playbook
  hosts: all
  become: true
  gather_facts: true

  tasks:
    - name: Generate a Java self-signed certificate
      command: >
        /usr/bin/keytool
        -genkeypair
        -keysize 2048
        -validity 365
        -dname "cn={{ inventory_hostname }}, ou=IT, o=MyOrg, c=US"
        -alias ansible_test
        -storetype PKCS12
        -storepass my_password
        -keystore /tmp/ansible_test.keystore.p12
      register: certificate_info

    - debug:
        var: certificate_info
