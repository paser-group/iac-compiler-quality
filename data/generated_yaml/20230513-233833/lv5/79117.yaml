
- name: Store default ipv4 addresses
  hosts: all

  tasks:
    - name: Gather network interface information
      fact:
        network_interfaces

    - name: Register specific interface information
      register: interface_info
        var:
          ansible_eth0.ipv4.address
          ansible_eth1.ipv4.address

    - name: Display registered information
      debug:
        var: interface_info

    - name: Compare with expected values
      assert:
        that:
          ansible_eth0.ipv4.address == '10.1.1.1'
          ansible_eth1.ipv4.address == '10.1.1.2'
