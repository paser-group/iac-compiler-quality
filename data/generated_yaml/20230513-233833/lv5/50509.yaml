
- name: Test if python3 is installed
  hosts: all
  gather_facts: False
  tasks:
    - name: Check python3 installation
      raw: which python3
      register: python3_check
      delegate_to: "{{ inventory_hostname }}"
      become: False
      failed_when: python3_check.rc not in [0, 1]
      check_mode: no

    - name: Print python3 availability status
      debug:
        var: python3_check.stdout
