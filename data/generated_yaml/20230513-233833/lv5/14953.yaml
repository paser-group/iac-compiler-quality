yaml
- name: local_action module - test for undefined inventory 'localhost'
  hosts: localhost
  vars:
    undefined_host: 'dummy_host'
    undefined_port: '8080'
  tasks:
    - name: run local_action to ping undefined inventory host
      local_action:
        host: "{{ undefined_host }}"
        port: "{{ undefined_port }}"
        module: ping

- name: local_action module - test for defined inventory 'localhost'
  hosts: localhost
  vars:
    defined_host: 'localhost'
    defined_port: '8080'
  tasks:
    - name: run local_action to ping defined inventory host
      local_action:
        host: "{{ defined_host }}"
        port: "{{ defined_port }}"
        module: ping

- name: local_action module - test with unexpected/invalid input values
  hosts: localhost
  vars:
    invalid_host: ['1.2.3.4.5', 'localhost^&*%']
    invalid_port: ['abc', 'abcd1234']
  tasks:
    - name: run local_action with invalid host parameter
      local_action:
        host: "{{ item }}"
        port: "8181"
        module: ping
      loop: "{{ invalid_host }}"

    - name: run local_action with invalid port parameter
      local_action:
        host: "localhost"
        port: "{{ item }}"
        module: ping
      loop: "{{ invalid_port }}"


- name: uri module - test with valid URI
  hosts: localhost
  vars:
    valid_url: 'http://localhost:8080/api/v1/users/1'
  tasks:
    - name: run uri with valid url
      uri:
        url: "{{ valid_url }}"
        method: GET

- name: uri module - test with invalid URL
  hosts: localhost
  vars:
    invalid_url: 'http://localhost/api/v1/users/99999'
  tasks:
    - name: run uri with invalid url
      uri:
        url: "{{ invalid_url }}"
        method: GET

- name: uri module - test with undefined url parameter
  hosts: localhost
  vars:
    undefined_url: ''
  tasks:
    - name: run uri with undefined url parameter
      uri:
        url: "{{ undefined_url }}"
        method: GET
