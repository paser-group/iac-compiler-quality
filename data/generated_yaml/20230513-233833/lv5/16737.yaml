
- hosts: all
  become: true
  gather_facts: false
  vars:
    ansible_python_interpreter: /usr/bin/python2.7

  tasks:
  - name: Install Python 2.7
    apt:
      name: python2.7
      state: present

  - name: Install Python 3.4
    apt:
      name: python3.4
      state: present

  - name: Verify Python 2.7 installation
    command: python --version
    register: python_version
    changed_when: false

  - name: Debug Python version
    debug:
      var: python_version.stdout_lines

  - name: Verify Python 3.4 installation
    command: python3 --version
    register: python3_version
    changed_when: false

  - name: Debug Python3 version
    debug:
      var: python3_version.stdout_lines
