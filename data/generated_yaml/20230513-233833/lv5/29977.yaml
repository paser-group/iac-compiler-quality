
- name: Create ASG and Wait for Instances
  hosts: localhost
  tasks:
    - name: Create ASG
      ec2_asg:
        name: my-asg
        min_size: 1
        max_size: 1
        desired_capacity: 1
        launch_template:
          id: <launch_template_id>
          version: <launch_template_version>
        availability_zones:
          - us-east-1a
        wait_for_instances: true
        region: us-east-1
