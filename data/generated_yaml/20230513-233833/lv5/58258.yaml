
# Create a network object-group with integers as values
- name: Create object-group with integers
  asa_og:
    name: integer-group
    description: object-group with integers
    port_objects:
      - 80
      - 443
      - 22
      - 10234

# Check for expected errors during group creation
- name: Check group creation for errors
  shell: "grep 'Invalid port number' /var/log/messages"
  register: error_check
  changed_when: False
  failed_when: error_check.stdout == ""
  ignore_errors: True

# Remove the created group
- name: Remove object-group
  asa_og:
    name: integer-group
    state: absent
