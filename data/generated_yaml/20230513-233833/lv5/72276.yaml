
---
- name: Test Ansible Vault for Format Error
  hosts: all
  become: yes
  tasks:
  - name: Encrypt data using invalid key
    ansible.builtin.vault:
      encrypt_string: "sensitive_data"
      password: "invalid_key"
    register: encryption_result
    ignore_errors: true
  - name: Decrypt data using invalid input format
    ansible.builtin.vault:
      decrypt_string: "{{ encryption_result}}"
    register: decryption_result
    ignore_errors: true
