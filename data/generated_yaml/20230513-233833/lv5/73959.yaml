
---
- name: Test uri module import error
  hosts: all
  gather_facts: false

  vars:
    destination: "/tmp"
    url: "http://example.com/file.txt"
    method: "GET"

  tasks:
    - name: Test uri module fails with import error
      uri:
        url: "{{ url }}"
        dest: "{{ destination }}"
        method: "{{ method }}"
      register: result
      ignore_errors: yes

    - debug:
        var: result
