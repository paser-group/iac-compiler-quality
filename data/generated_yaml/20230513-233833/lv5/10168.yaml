
---
- hosts: node1
  roles:
    - { role: roleA, when: var=='value1' }
  tasks:
    - name: Include dependent role
      include_role:
        name: dependent-role
      when: var=='value2'
