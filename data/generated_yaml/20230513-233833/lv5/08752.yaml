
- name: Test ansible-vault decrypt command
  hosts: node1
  tasks:
    - name: Execute ansible-vault decrypt command with sample encrypted file
      command: ansible-vault decrypt sample_encrypted_file.yml --vault-password-file /path/to/vault_password_file
      register: decrypt_output
      
    - name: Verify ansible-vault decrypt command output
      assert:
        that: decrypt_output.stdout == "plain text"
        fail_msg: "ansible-vault decrypt command failed"
