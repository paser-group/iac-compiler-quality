
- name: Test the block module with nested conditions
  hosts: all
  tasks:
  - name: Include a nested block with multiple conditions
    block:
    - name: Task 1
      debug:
        msg: "This is task 1"
      when: "'foo' in mylist"
    - name: Task 2
      debug:
        msg: "This is task 2"
      when: "'bar' in mylist"
    when: "mylist is defined"
