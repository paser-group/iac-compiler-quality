
- hosts: all
  tasks:
  - name: Install NFS client package
    apt:
      name: nfs-client
      state: present

  - name: Mount NFS share
    mount:
      path: /mnt/nfs_share
      fstype: nfs
      src: nfs_server_ip:/share/path
      state: mounted

  - name: Create file on NFS share
    file:
      path: /mnt/nfs_share/test.txt
      state: touch

  - name: Read file contents from NFS share
    slurp:
      src: /mnt/nfs_share/test.txt
    register: file_contents

  - name: Unmount NFS share
    mount:
      path: /mnt/nfs_share
      fstype: nfs
      state: unmounted
