
- name: Test nxos_igmp_interface module idempotency
  hosts: all
  gather_facts: no

  tasks:
  - name: Apply default values to nxos_igmp_interface module
    nxos_igmp_interface:
      name: "Ethernet1/1"
      igmp_version: 2
      state: present
    register: result

  - name: Apply default values to nxos_igmp_interface module again
    nxos_igmp_interface:
      name: "Ethernet1/1"
      igmp_version: 2
      state: present
    register: result_again

  - name: Ensure the module output is idempotent
    assert:
      that: result == result_again
