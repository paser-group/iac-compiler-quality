yaml
- name: Clone git repository
  git:
    repo: "{{ repo_url }}"
    dest: "{{ role_dest }}"
    version: "{{ version }}"
    {% if user is defined and password is defined %}
    user: "{{ user }}"
    password: "{{ password }}"
    {% endif %}

- name: Install role using ansible-galaxy
  command: "{{ ansible_galaxy }} install --force -r {{ install_requirements }} -p {{ role_dest }}"
  register: result
