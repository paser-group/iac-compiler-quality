
- name: Ensure correct status is returned with check and started, enabled options
  service:
    name: <service_name>
    enabled: yes
    state: started
    run_once: true
    register: svc_status
    tags: service
  # Check if the service is already running and enabled
  changed_when: svc_status is not defined or svc_status.changed
  failed_when: svc_status is not defined or svc_status.failed
