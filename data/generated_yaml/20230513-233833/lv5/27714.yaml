
- name: nxos_snmp_contact playbook
  hosts: network_devices
  collections:
    - ansible-network
  vars:
    ansible_connection: network_cli
    ansible_network_os: nxos
    ansible_become: yes
    ansible_become_password: "{{ enable_pass }}"
    ansible_user: "{{ un }}"
    ansible_password: "{{ pw }}"
    ansible_network_resources:
      transports:
        nxapi:
          username: "{{ un }}"
          password: "{{ pw }}"
          port: "{{ port }}"
          use_ssl: no
  tasks:
    - name: set snmp contact
      nxos_snmp_contact:
        contact: "test_contact"
