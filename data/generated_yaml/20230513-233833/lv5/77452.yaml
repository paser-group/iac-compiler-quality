
- name: Test Script Execution Fuzzing on Nodes
  hosts: all
  gather_facts: true
  become: true
  tasks:
  - name: Check if hosts supports Python interpolation
    raw: echo {{'hello ansible'}}|python
    register: result
    failed_when: False
    changed_when: False
  - name: Test script using Python
    command: python script.py
    ignore_errors: yes
    changed_when: False
    failed_when: "'failed' in result.stderr"
  - name: Test script using Perl
    command: perl script.py
    ignore_errors: yes
    changed_when: False
    failed_when: "'failed' in result.stderr"
  - name: Test script using Ruby
    command: ruby script.py
    ignore_errors: yes
    changed_when: False
    failed_when: "'failed' in result.stderr"
