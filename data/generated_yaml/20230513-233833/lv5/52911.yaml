
---
- name: Test ios_config module for invalid src options
  hosts: ios
  gather_facts: no
  tasks:

  - name: Test ios_config module with incorrect src option
    ios_config:
      src: "{{ item }}"
    with_items:
      - /path/to/nonexistent/file
      - /etc/passwd
      - /etc/shadow
    register: result

  - name: Assert failure with incorrect src option
    fail:
      msg: "Expected failure because of incorrect src option"
    when: result.failed == false
