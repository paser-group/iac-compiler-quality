
---
- name: Test playbook for dry run error with file touch
  hosts: all
  become: yes
  tasks:
    - name: Create file using touch command
      file:
        path: "/tmp/testfile"
        state: touch
    - name: Test dry run
      command: ansible-playbook test.yml --check
      register: output
      changed_when: false
    - name: Verify dry run does not yield any differences
      debug:
        msg: "{{ output.stdout }}"
