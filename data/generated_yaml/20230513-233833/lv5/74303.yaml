
---
- name: Testing Ansible Bugs
  hosts: node1
  become: true

  tasks:
  - name: Loop Task with Error
    shell: "for i in {1..3}; do echo $i; done; exit 1;"
    register: result
    ignore_errors: True

    rescue:
    - name: Rescuing the Task
      debug:
        msg: "Error rescued"
      when: result is failed
