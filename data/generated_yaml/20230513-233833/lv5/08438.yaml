
---
- name: Test role without main tasks file
  hosts: all
  gather_facts: yes
  tasks:
    - name: Execute role without main tasks file
      block:
        - name: Include role
          include_role:
            name: myrole
      rescue:
        - name: Print error message
          debug:
            msg: "Error: Role without main tasks file"
 