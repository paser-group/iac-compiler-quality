
- name: Test importing module with system_warnings disabled
  hosts: all
  vars:
    ansible_python_interpreter: /usr/bin/python3
    system_warnings: False
  tasks:
    - name: Ensure warnings are disabled
      ansible.builtin.set_fact:
        ansible_python_warnings: False
    - name: Import a module with a warning
      import_tasks: example_task.yml
