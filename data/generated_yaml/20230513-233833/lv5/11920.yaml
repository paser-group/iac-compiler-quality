
---
- name: Test for undefined variables
  hosts: all
  tasks:
    - name: Use undefined variable in a task
      debug:
        var: undefined_var

    - name: Use undefined variable in a template
      template:
        src: undefined_template.j2
        dest: /tmp/undefined_template

    - name: Use undefined variable in a register statement
      shell: echo "Hello"
      register: undefined_var

    - name: Use undefined variable in a when statement
      debug:
        msg: "Hello"
      when: undefined_var is defined
