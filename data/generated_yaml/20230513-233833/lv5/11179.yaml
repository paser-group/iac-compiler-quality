
- name: Install Galaxy Role with Role-file option
  hosts: all
  gather_facts: false
  tasks:
    - name: Install Galaxy Role
      ansible-galaxy:
        role-file: "/path/to/role-file"
        roles-path: "{{ roles_path }}"
      ignore_errors: true

    - name: Check if Role is installed
      fail:
        msg: "Galaxy Role installation failed"
      when: "'galaxy_role' not in ansible_facts.roles"
