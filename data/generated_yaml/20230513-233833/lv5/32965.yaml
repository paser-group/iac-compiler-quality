
- hosts: all
  become: yes
  gather_facts: no

  vars:
    python_path: /usr/bin/python

  tasks:
    - name: check if python interpreter is available
      stat:
        path: "{{ python_path }}"
      register: python_check
      ignore_errors: yes

    - fail:
        msg: |
          Python interpreter not found at {{ python_path }}
          Please install the required version of Python to proceed.
      when: not python_check.stat.exists
