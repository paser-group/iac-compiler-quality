
- name: Test if Syntax Error Occurs when subnet_name is used in Azure
  hosts: azure
  gather_facts: no

  tasks:
  - name: Create a Virtual Machine in Azure
    azure_rm_virtualmachine:
      resource_group: myResourceGroup
      name: vm1
      vm_size: Standard_B1ls
      admin_username: azureuser
      admin_password: MyPassword123
      image:
        offer: UbuntuServer
        publisher: Canonical
        sku: '18.04-LTS'
        version: 'latest'
      network_interfaces:
        - name: nic1
          subnet_name: mySubnet
      zones:
        - "1"
