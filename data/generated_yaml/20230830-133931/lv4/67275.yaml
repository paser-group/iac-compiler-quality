
---
- name: Ansible Latent Bug Finder
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create symlink paths with space
      file:
        path: "/tmp/target dir"
        src: "/tmp/source dir"
        state: link
      become: true

    - name: Generate malformed unicode strings for inventory
      set_fact:
        unicode_str: "{{ '\uAAAA' }}"
      vars:
        ansible_python_interpreter: "{{ ansible_playbook_python }}"
      run_once: true

    - name: Negative Cache timeout values leading to bugs
      set_fact:
        cache_timeout: -1

    - name: Print inventory variables
      debug:
        var: hostvars[inventory_hostname]

