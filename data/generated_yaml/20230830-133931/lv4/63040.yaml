
---
- name: Ansible Bug Finder
  hosts: all
  become: yes
  gather_facts: false

  tasks:
    - name: Create a temporary file
      tempfile:
        state: file
        suffix: '.txt'
      register: temp_file

    - name: Write sensitive data to the temporary file
      blockinfile:
        path: "{{ temp_file.path }}"
        block: |
          This is a test file containing sensitive data.
          The file {{ temp_file.path }} is created with unique attributes.

    - name: Print the content of the temporary file
      debug:
        msg: "File Content: {{ lookup('file', temp_file.path) }}"
