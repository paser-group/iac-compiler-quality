ansible
---
- name: Ansible Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  vars:
    ansible_inventory_source: "{{ playbook_dir }}/inventory"
    ansible_inventory_cache_timeout: -1

  tasks:
    - name: Set dynamic inventory path
      set_fact:
        ansible_inventory_path: "{{ playbook_dir }}/inventory"

    - name: Include dynamic inventory
      include_vars:
        file: "{{ ansible_inventory_path }}"

    - name: Debug inventory
      debug:
        var: hostvars
