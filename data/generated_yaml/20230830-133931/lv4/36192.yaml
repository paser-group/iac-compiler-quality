
---
- name: Ansible Compiler Bug Finder
  hosts: all
  gather_facts: false

  tasks:
    - name: Test Symlink with Space
      file:
        path: "/tmp/symlink with space"
        state: link
        src: "/tmp/testfile"
      register: result
      ignore_errors: yes

    - name: Test Malformed Unicode for Inventory
      debug:
        msg: "{{ hostvars[inventory_hostname].name }}"
      register: result
      ignore_errors: yes

    - name: Test Negative Cache Timeout
      command: "/usr/bin/ansible-playbook {{ playbook_file }} --forks={{ '-1' }}"
      register: result
      ignore_errors: yes
