---
- name: Ansible Type Bug Finder
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create symlink with space
      file:
        src: /path/to/symlink
        path: "/etc/ansible/inventory/hosts with space"
        state: link

    - name: Generate malformed inventory
      copy:
        content: |
          centos1 ansible_host=10.1.1.3 ansible_user=root ansible_ssh_pass=pass
          redhat1 ansible_host=10.1.1.4 ansible_user=root ansible_ssh_pass=pass
          ubuntu1 ansible_host=10.1.1.1 ansible_user=root ansible_ssh_pass=pass
          alpine1 ansible_host=10.1.1.2 ansible_user=root ansible_ssh_pass=pass
          -name_with_hyphen ansible_host=10.1.1.5 ansible_user=root
        dest: '/etc/ansible/inventory/malformed_inventory'

    - name: Set invalid cache timeout value
      lineinfile:
        path: /etc/ansible/ansible.cfg
        line: "ansible_cache_plugin_timeout = -1"

    - name: Debug Task
      debug:
        msg: "This playbook is designed to explore Ansible type bugs"