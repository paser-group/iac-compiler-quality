
---
- name: Test for Ansible SSLHandshakeError bug
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Define insecure SSL context
      set_fact:
        verify_ssl: false

    - name: Make a request to the server
      uri:
        url: https://some_server:8443/the/rest/here
        method: GET
        validate_certs: "{{ verify_ssl }}"
      register: response

    - name: Debug response
      debug:
        var: response
