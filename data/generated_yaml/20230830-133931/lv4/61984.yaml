
---
- name: Inventory-based Bug Detection
  hosts: all
  gather_facts: no

  tasks:
    - debug:
        msg: "Testing inventory"

    - name: Create symlink path with space
      file:
        path: "/tmp/my link with space"
        state: touch
        mode: a=r

    - name: Generate malformed unicode strings for inventory
      copy:
        dest: "/tmp/inventory"
        content: |
          [ubuntu1]
          \u0635

          [alpine1]
          \xc3\xa2\xc2\x80\xc2\x99

          [centos1]
          \xe5\xb1\xb1\xe4\xb8\x9c

          [redhat1]
          \xf0\x9f\x98\x80

    - name: Negative Cache timeout values
      lineinfile:
        path: "/tmp/ansible.cfg"
        line: "cache_timeout: -10"
