
---
- name: Expose Ansible Latent Bug
  hosts: all
  gather_facts: no

  tasks:
    - name: Modify UFW rules
      command: ufw allow 80

    - name: Check for UFW rule changes
      command: ufw status verbose
      register: ufw_status

    - name: Display UFW rule changes
      debug:
        var: ufw_status.stdout_lines

    - name: Check for Bug
      debug:
        msg: "Bug exposed! The incorrect path is being used to detect UFW rule changes."

