---
- name: Expose Latent Type-Related Bugs
  hosts: all
  gather_facts: true

  vars:
    subnet: "10.1.1.0/24"
    gateway: "10.1.1.254"

  tasks:
    - name: Check for integer subtraction bug
      debug:
        msg: "{{ subnet - gateway }}"
      comment: "This task attempts to perform an integer subtraction operation between the subnet and the gateway IP address. It aims to expose any latent type-related bugs in the Ansible compiler, such as improper handling of IP addresses as integers."

    - name: Check for string concatenation bug
      debug:
        msg: "{{ subnet + gateway }}"
      comment: "This task attempts to concatenate the subnet and the gateway IP address using the '+' operator. It tests for any latent type-related bugs in the Ansible compiler, such as unintended string concatenation instead of IP address concatenation."

    - name: Check for undefined variable bug
      debug:
        msg: "{{ undefined_variable }}"
      comment: "This task references an undefined variable to test if the Ansible compiler properly handles undefined variables. It aims to expose any latent bugs related to variable referencing and handling."

    - name: Check for incorrect type conversion bug
      debug:
        msg: "{{ subnet | int }}"
      comment: "This task applies the 'int' filter to the subnet variable, attempting to convert it to an integer. It tests for any latent bugs in the Ansible compiler related to incorrect type conversion or handling of variable filters."