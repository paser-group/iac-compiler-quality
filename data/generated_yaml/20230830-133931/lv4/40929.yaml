
- name: Generate Latent Bug
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Check if host is in subnet
      debug:
        msg: "{{ inventory_hostname }} is in subnet"
      when: ansible_default_ipv4.network == "10.1.1.0"
        and ansible_default_ipv4.netmask == "255.255.255.0"
        and ansible_default_ipv4.gateway == "10.1.1.254"
        and ansible_default_ipv4.network != ansible_default_ipv4.gateway

    - name: Check for mismatched network and router names
      debug:
        msg: "Network and router names mismatch"
      when: (ansible_default_ipv4.network_name is defined)
        and (ansible_default_ipv4.network_name != ansible_default_ipv4.router)
