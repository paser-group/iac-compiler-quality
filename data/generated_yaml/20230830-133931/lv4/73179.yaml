- name: Latent Type Bugs
  hosts: all
  gather_facts: false
  tasks:
    - name: Generate malformed inventory
      copy:
        content: |
          - hosts: ubuntu1
            vars:
              disk_space: "full"
            
          - hosts: alpine1
            vars:
              disk_space: "empty"
            
          - hosts: centos1
            vars:
              disk_space: "50%"
            
          - hosts: redhat1
            vars:
              disk_space: 80

        dest: "/tmp/inventory.yml"

    - name: Validate Disk Space
      debug:
        msg: "Disk Space: {{ item.disk_space }}"
      with_inventory_hostnames: all