---
- hosts: all
  gather_facts: true

  tasks:
    - name: Check if network and router names match
      assert:
        that:
          - "{{ ansible_default_ipv4.network }}" != "{{ ansible_default_ipv4.gateway }}"
        fail_msg: "Network and router names mismatched"
        success_msg: "Network and router names matched"

    - name: Verify subnet mask is valid
      assert:
        that:
          - "{{ inventory_hostname.split('.')[-1] }}" == "0" or "{{ inventory_hostname.split('.')[-1] }}" == "255"
        fail_msg: "Invalid subnet mask"
        success_msg: "Valid subnet mask"

    - name: Print OS version
      debug:
        var: ansible_distribution_version