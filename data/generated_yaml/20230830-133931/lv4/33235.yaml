- name: Test Latent Type-related Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Create symlink paths with space
      file:
        path: "/etc/ansible/hosts/"
        src: "/etc/ansible/symlink with space"
        state: link
      delegate_to: localhost

    - name: Generate malformed unicode strings for inventory
      lineinfile:
        dest: "/etc/ansible/{{ '\u2588\u2588\u2588' }}"
        line: "{{ '\u2588' }}"
      delegate_to: localhost

    - name: Set negative cache timeout
      lineinfile:
        dest: "/etc/ansible/ansible.cfg"
        line: "cache_timeout = -1"
      delegate_to: localhost