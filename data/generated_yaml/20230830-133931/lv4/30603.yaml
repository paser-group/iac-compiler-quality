---
- name: Discover network facts
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Set up network interface
      set_fact:
        ansible_default_ipv4:
          address: "192.168.1.172"
          alias: "dynamic"
          broadcast: "192.168.1.255"
          gateway: "192.168.1.1"
          interface: "eth1"
          macaddress: "68:05:ca:16:df:69"
          mtu: 1500
          netmask: "255.255.255.0"
          network: "192.168.1.0"
          type: "unknown"

    - name: Display network facts
      debug:
        var: ansible_default_ipv4