ansible
---
- name: Ansible Latent Bug Explorer
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Print Network Details
      debug:
        msg: "Network: {{ ansible_default_ipv4.network }}"
        
    - name: Print Router Details
      debug:
        msg: "Router: {{ ansible_default_ipv4.gateway }}"
        
    - name: Print Subnet Details
      debug:
        msg: "Subnet: {{ ansible_default_ipv4.netmask }}"
        
    - name: Base-10 Problem - Subnet Mask
      set_fact:
        base10_mask: "{{ ansible_default_ipv4.netmask | regex_replace('\\.', '') | int }}"
      run_once: true
    
    - name: Print Base-10 Mask
      debug:
        var: base10_mask
      
    - name: Mismatching Network and Router Names
      debug:
        msg: "The network and router names do not match!"
      when: ansible_default_ipv4.network != ansible_default_ipv4.gateway
