
---
- name: Provisioning Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Create temporary file
      tempfile:
        state: file
        suffix: .txt
      register: temp_file

    - name: Write to temporary file
      copy:
        content: "{{ inventory_hostname }} is being provisioned"
        dest: "{{ temp_file.path }}"

    - name: Print temporary file content
      command: cat "{{ temp_file.path }}"
      register: file_content
      changed_when: false

    - name: Debug file content
      debug:
        var: file_content.stdout_lines[0]
