
---
- name: Test Ansible Compiler Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Provision Docker containers
      docker_container:
        name: "{{ item.name }}"
        image: "{{ item.image }}"
        dns_servers: 8.8.8.8
        state: started
        network_mode: node-net
        ip_address: "{{ item.ip }}"
      with_items:
        - { name: "ubuntu1", image: "ubuntu", ip: "10.1.1.1" }
        - { name: "alpine1", image: "alpine", ip: "10.1.1.2" }
        - { name: "centos1", image: "centos", ip: "10.1.1.3" }
        - { name: "redhat1", image: "redhat", ip: "10.1.1.4" }

    - name: Gather Facts
      setup:

    - name: Execute Debug Command
      debug:
        var: inventory_hostname
