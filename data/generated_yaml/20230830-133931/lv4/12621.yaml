
---
- name: Latent Bug Finder Playbook
  hosts: all
  gather_facts: no

  tasks:
    - name: Ping test
      ping:

    - name: Debug facts
      debug:
        var: ansible_facts

    - name: Validate network configuration
      debug:
        msg: "Network name: {{ ansible_facts['ansible_default_ipv4']['network'] }}"

    - name: Validate router configuration
      debug:
        msg: "Router name: {{ ansible_facts['ansible_default_ipv4']['gateway'] }}"

    - name: Test subnet mask bug
      debug:
        msg: "Subnet mask: {{ hostvars[inventory_hostname]['ansible_default_ipv4']['netmask'] }}"

    - name: Test network and router name mismatch
      debug:
        msg: "Network and router names do not match"

