ansible
---
- name: Latent Bug Finder Playbook
  hosts: all
  gather_facts: no

  tasks:
    - name: Ping all hosts
      ping:

    - name: Perform state inquiry - Base-10 problem
      shell: |
        ip=$(hostname -i)
        subnet="10.1.1.0/24"
        gateway="10.1.1.254"
        echo "IP: $ip, Subnet: $subnet, Gateway: $gateway"
      register: state_inquiry

    - name: Perform state inquiry - Mismatching network and router names
      debug:
        msg: "{{ item }}"
      loop:
        - "{{ ansible_default_ipv4.network }}"
        - "{{ ansible_default_ipv4.gateway }}"
      register: state_inquiry
