
---
- name: Inventory-based Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create symlink path with space
      file:
        src: "/path/with space"
        dest: "/etc/ansible/hosts"

    - name: Generate malformed unicode strings for inventory
      copy:
        content: |
          [weird host name]
      dest: "/etc/ansible/hosts"

    - name: Set negative cache timeout value in inventory
      lineinfile:
        path: "/etc/ansible/hosts"
        line: "10.1.1.1 ansible_host=ubuntu1 ansible_cache_timeout=-1"

    - name: Debug Inventory
      debug:
        msg: "{{ inventory_hostname }}"
