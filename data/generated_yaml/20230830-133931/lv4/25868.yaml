---
- name: Test Ansible Compiler for Type-related Bugs
  hosts: all
  gather_facts: false
  tasks:
    - name: Set a variable with integer value
      set_fact:
        num_hosts: 4

    - name: Print the variable value
      debug:
        var: num_hosts

    - name: Perform invalid type conversion
      set_fact:
        num_hosts: "{{ num_hosts | bool }}"

    - name: Print the variable value after type conversion
      debug:
        var: num_hosts