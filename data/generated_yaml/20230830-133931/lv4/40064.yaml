
---
- name: Configure SNMP on Cisco IOS device
  hosts: cisco_ios
  gather_facts: false
  vars:
    provider:
      host: "{{ inventory_hostname }}"
      username: "{{ ansible_user }}"
      password: "{{ ansible_password }}"
      authorize: yes
      auth_pass: "{{ ansible_password }}"
      authorize_timeout: 5
      authorize_retries: 3
  
  tasks:
    - name: DEPLOY SNMP COMMANDS WITHIN PB
      ios_config:
        provider: "{{ provider }}"
        commands:
          - snmp-server community Test1ng RW
