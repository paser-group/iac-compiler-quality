---
- name: Debugging latent type-related bugs in Ansible compiler
  hosts: localhost
  gather_facts: false

  vars:
    - invalid_number: 'one'
    - invalid_boolean: 'yes'

  tasks:
    - name: Validate variables
      fail:
        msg: |-
          {{ invalid_number }} is not a valid number
          {{ invalid_boolean }} is not a valid boolean
      when: invalid_number is number or invalid_boolean is boolean