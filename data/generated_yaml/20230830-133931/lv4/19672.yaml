
---
- name: Copy files from Server1 to Server2
  hosts: Server2
  gather_facts: false

  vars:
    source_dir: /path/to/source/directory
    dest_dir: /path/to/destination/directory

  tasks:
    - name: Check connectivity to Server1
      ping:
      delegate_to: Server1
      register: pong_output

    - name: Synchronize files
      synchronize:
        src: "{{ source_dir }}"
        dest: "{{ dest_dir }}"
      delegate_to: Server1
      when: pong_output is defined and pong_output.changed == false
