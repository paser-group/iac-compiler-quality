---
- hosts: all
  gather_facts: no

  tasks:
    - name: Generate type-related bugs
      script:
        script: |
          #!/usr/bin/env python
          import sys
          import json

          inventory = {
            'ubuntu': {'ipv4_address': '10.1.1.1', 'os': 'Ubuntu'},
            'alpine': {'ipv4_address': '10.1.1.2', 'os': 'Alpine'},
            'centos': {'ipv4_address': '10.1.1.3', 'os': 'CentOS'},
            'redhat': {'ipv4_address': '10.1.1.4', 'os': 'Red Hat'}
          }

          print(json.dumps(inventory))
          sys.exit(0)

      register: inventory_output

    - name: Show inventory output
      debug:
        var: inventory_output.stdout

    - name: Access undefined attribute
      debug:
        var: item.undefined_attribute
      loop: "{{ inventory_output.stdout | from_json }}"