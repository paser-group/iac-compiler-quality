---
- name: Demo Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Task 1
      debug:
        msg: "This is Task 1"

    - name: Task 2
      debug:
        msg: "This is Task 2"

    - name: Task 3
      block:

        - name: Debug Task
          debug:
            var: non_existent_variable

        - name: Custom Task
          debug:
            msg: "Executing custom task"

        - name: Vulnerable Task
          shell: "'{{ vulnerable_command }}'"

      rescue:
        - name: Rescue Task
          debug:
            msg: "Rescuing the failed playbook run"

    - name: Task 4
      debug:
        msg: "This is Task 4"