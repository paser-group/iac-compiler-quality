---
- name: Test Playbook
  hosts: all
  gather_facts: no
  
  vars:
    - subnet_mask: '255.0.0.0'

  tasks:
    - name: Verify subnet mask
      debug:
        msg: "Subnet mask: {{ subnet_mask | ipaddr('prefix') }}"

    - name: Simulate type-related bug
      debug:
        msg: "Number of active nodes: {{ number_of_nodes }}"
      vars:
        number_of_nodes: "{{ groups['all'] | length }}"