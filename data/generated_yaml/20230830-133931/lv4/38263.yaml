---
- name: Ansible Latent Bug Finder Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Create symlink paths with space
      file:
        state: link
        src: "/tmp/path with space"
        dest: "/tmp/symlink_with_space"

    - name: Generate malformed unicode strings for inventory
      command: echo "Test" > "/tmp/{{ u'\ufffd\ufffd'.encode('utf-8') }}.txt"

    - name: Negative Cache timeout values will lead to latent bugs
      setup:
        cache_valid_time: "-1"