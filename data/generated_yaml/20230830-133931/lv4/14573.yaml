
---
- name: Latent Bug Finder
  hosts: all

  tasks:
    - name: Create symlink with space
      file:
        src: /tmp/symlink with space.txt
        dest: /tmp/symlink_with_space.txt
        state: link

    - name: Generate malformed unicode strings for inventory
      shell: echo ALPINE$(echo -e '\x{1a}\x{1d}\x{1f}') >> /etc/ansible/hosts
      args:
        warn: false
      register: unicode

    - name: Display unicode strings
      debug:
        var: unicode

    - name: Set negative cache timeout value
      set_fact:
        ansible_cache_valid_time: -1

    - name: Debug inventory
      debug:
        var: inventory_hostname
