
---
- name: Update Packages on Nodes
  hosts: all
  gather_facts: false
  any_errors_fatal: true

  vars:
    categories:
      - Application
      - Connectors
      - CriticalUpdates
      - DefinitionUpdates
      - DeveloperKits
      - FeaturePacks
      - Guidance
      - SecurityUpdates
      - ServicePacks
      - Tools
      - UpdateRollups
      - Updates

  tasks:
    - name: Update Packages
      ansible.builtin.package:
        name: "*"
        state: latest
        update_cache: yes
      register: package_updates

    - name: Print Package Updates
      debug:
        var: package_updates
