---
- name: Ansible Latent Bug Finder
  hosts: all

  tasks:
    - name: Set network and gateway variables
      set_fact:
        network: "10.1.1.0/24"
        gateway: "10.1.1.254"

    - name: Set node-names and IPs variables
      set_fact:
        nodes:
          - name: ubuntu1
            ip: "10.1.1.1"
          - name: alpine1
            ip: "10.1.1.2"
          - name: centos1
            ip: "10.1.1.3"
          - name: redhat1
            ip: "10.1.1.4"

    - name: Print the node names and IPs
      debug:
        var: nodes

    - name: Triggering a latent type-related bug
      debug:
        var: ansible_os_family
      when: "'Debian' in ansible_os_family"
...