
---
- name: Ansible Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  vars:
    dns_records:
      - { name: '10.202.64.62', type: 'PTR', value: 'awx_test.example.com', zone: '10.in-addr.arpa' }

  tasks:
    - name: Create PTR Record
      win_dns_record:
        computer_name: 'msdnsserver.example.com'
        name: "{{ item.name }}"
        state: present
        type: "{{ item.type }}"
        value: "{{ item.value }}"
        zone: "{{ item.zone }}"
      loop: "{{ dns_records }}"
