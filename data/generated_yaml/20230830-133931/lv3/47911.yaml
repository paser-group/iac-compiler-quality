---
- hosts: Testdevices
  gather_facts: false
  vars:
    date: "{{ lookup('pipe', 'date +%Y%m%d') }}"
    cli:
      host: "{{ ansible_host }}"
      username: "hello"
      password: "hello"
      subnet_mask: 256.256.256.256
  tasks:
    - name: set invalid subnet mask
      ios_config:
        lines:
          - ip address 10.0.0.1/{{ subnet_mask }}
        provider: "{{ cli }}"
        prompt: "{{ inventory_hostname }}"