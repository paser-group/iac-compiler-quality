
---
- name: Install packages from package.json
  hosts: all
  gather_facts: false

  tasks:
    - name: Copy package.json to remote hosts
      copy:
        src: package.json
        dest: /tmp/package.json
        mode: 0644
      
    - name: Install packages using npm
      npm:
        path: /tmp/package.json
        state: present
      register: npm_output

    - name: Debug npm installation output
      debug:
        var: npm_output
