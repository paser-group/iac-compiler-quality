---
- name: Latent Bug Finder Playbook
  hosts: all
  gather_facts: False

  vars:
    - target_disk: '/tmp/filler'

  tasks:
    - name: Fill up disk on target node
      file:
        path: "{{ target_disk }}"
        state: touch
      delegate_to: "{{ inventory_hostname }}"

    - name: Verify disk full condition
      shell: "if [[ -f {{ target_disk }} ]]; then echo 'Disk full'; else echo 'Disk not full'; fi"
      register: disk_status

    - name: Display disk status message
      debug:
        var: disk_status.stdout