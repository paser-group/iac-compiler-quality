
---
- name: Test Ansible Bug
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Create temp directory
      tempfile:
        state: directory
        suffix: _temp
      register: temp_dir
      
    - name: Ensure there is no space left on the device
      file:
        path: "{{ temp_dir.path }}/dummy_file"
        state: touch
      register: result
      ignore_errors: true
      
    - name: Debug error message
      debug:
        msg: "{{ result.msg }}"
