---
- name: Test playbook for exposing latent type-related Ansible bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Create symlink paths with spaces
      file:
        src: "/path/to/source"
        dest: "/tmp/my symlink path/"
        state: link

    - name: Generate malformed unicode strings for inventory
      set_fact:
        inventory_items:
          - name: "ubuntu1"
            ip: "\u00"
          - name: "alpine1"
            ip: "\u002g"
          - name: "centos1"
            ip: "\u123"
          - name: "redhat1"
            ip: "\u1000g"

    - name: Negative cache timeout values
      set_fact:
        ansible_cache_plugin_timeout: -10

    - name: Display inventory items
      debug:
        var: inventory_items

    - name: Display cache timeout
      debug:
        var: ansible_cache_plugin_timeout