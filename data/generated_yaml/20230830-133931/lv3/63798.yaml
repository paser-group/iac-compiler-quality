- name: Expose Latent Type-related Bugs in Ansible Compiler
  hosts: lxd
  gather_facts: false

  tasks:
    - name: Set LXD container properties
      lxd_container:
        name: mactest
        state: started
        {% if ansible_distribution == 'Ubuntu' %}
        config: {'volatile.eth0.hwaddr': 5e:41:f2:4b:8d:a1'}
        {% else %}
        config: {'volatile.eth0.hwaddr': '5e:41:f2:4b:8d:a1'}
        {% endif %}
        source:
          type: image
          mode: pull
          server: https://images.linuxcontainers.org
          protocol: lxd
          alias: ubuntu/bionic/amd64
        profiles: int
        wait_for_ipv4_addresses: true