---
- name: Test Ansible Type-Related Bug
  hosts: all
  gather_facts: false

  tasks:
    - name: Set subnet mask
      set_fact:
        subnet_mask: "{{ 255.255.255.0 }}"

    - name: Create VLAN with mismatched subnet mask
      eos_vlan:
        authorize: yes
        vlan_id: 1230
        name: 'example_vlan'
        state: present
        provider: '{{ cli }}'
        subnet: "{{ subnet_mask }}"
      delegate_to: localhost
      ignore_errors: true

    - name: Print debug message
      debug:
        msg: "VLAN creation successful"