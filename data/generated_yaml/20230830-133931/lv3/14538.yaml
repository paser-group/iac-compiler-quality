ansible
---
- name: Ansible Latent Bug Explorer Playbook
  hosts: all
  gather_facts: no

  vars:
    inventory:
      ubuntu1: 10.1.1.1
      alpine1: 10.1.1.2
      centos1: 10.1.1.3
      redhat1: 10.1.1.4

  tasks:
    - name: Check subnet masks
      shell: ip -o -f inet addr show
      register: subnet_output
      changed_when: false

    - debug:
        var: subnet_output.stdout_lines

    - name: Collect network facts
      setup:
        filter: "ansible_default_ipv4"
      register: network_facts

    - debug:
        var: network_facts
