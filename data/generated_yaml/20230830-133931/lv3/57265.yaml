---
- name: Test Playbook
  hosts: all
  gather_facts: false
  
  tasks:
    - name: Validate inventory hosts
      assert:
        that:
          - inventory_hosts | type_debug == 'dict'
          - inventory_hosts.values() | select('type_debug', 'list') | list | length > 0
        fail_msg: "Invalid inventory hosts"