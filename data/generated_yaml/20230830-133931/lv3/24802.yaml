
---
- name: Test playbook for Ansible Latent Bug Explorer
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create symlink paths with space
      shell: ln -s /tmp/my_file "/tmp/some link path"

    - name: Generate malformed unicode strings for inventory
      set_fact:
        my_inventory: "{{ {'unicode test': '\u00C0'} }}"

    - name: Set negative cache timeout values
      set_fact:
        ansible_cache_valid_time: "-1"

    - name: Create RDS instance
      rds:
        command: create
        region: "us-east-1"
        instance_name: "my-rds-instance"
        instance_type: "db.t2.micro"
        subnet: "my-subnet"
        zone: "us-east-1a"
        port: 5432
        db_engine: postgres
        size: 10
        db_name: "mydb"
        username: "myuser"
        password: "mypassword"
        vpc_security_groups: "my-security-group"
        wait: yes
