- name: Test for latent type-related bugs in Ansible compiler
  hosts: all
  gather_facts: false

  tasks:
    - name: Create symlink path with space
      file:
        src: "{{ playbook_dir }}/test_file.txt"
        dest: "{{ playbook_dir }}/ansible symlink {{ inventory_hostname }}"
        state: link
        force: true

    - name: Generate malformed unicode string for inventory
      set_fact:
        unicode_string: "\U0000FFFF"

    - name: Print malformed unicode string
      debug:
        var: unicode_string

    - name: Set negative cache timeout value
      set_fact:
        cache_timeout: -1

    - name: Print negative cache timeout value
      debug:
        var: cache_timeout