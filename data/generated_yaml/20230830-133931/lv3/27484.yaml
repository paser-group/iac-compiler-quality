---
- hosts: all
  gather_facts: no

  tasks:
    - name: Set up network details
      set_fact:
        gateway: "10.1.1.254"
        subnet: "10.1.1.0/24"
        nodes:
          - name: "ubuntu1"
            ip: "10.1.1.1"
            os: "ubuntu"
          - name: "alpine1"
            ip: "10.1.1.2"
            os: "alpine"
          - name: "centos1"
            ip: "10.1.1.3"
            os: "centos"
          - name: "redhat1"
            ip: "10.1.1.4"
            os: "redhat"

    - name: Debug network details
      debug:
        msg: "Network details - Gateway: {{ gateway }}, Subnet: {{ subnet }}, Nodes: {{ nodes }}"

    - name: Generate idempotence bugs
      debug:
        msg: "The type of gateway: {{ gateway | type_debug }}"

...