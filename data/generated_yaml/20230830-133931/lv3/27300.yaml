---
- name: Ansible Latent Bug Finder
  hosts: all
  gather_facts: no
  
  tasks:
    - name: Set up symlink paths with spaces
      file:
        src: "/path/to/source file"
        dest: "/path/to/{{ inventory_hostname }} file with space"
        state: link

    - name: Generate malformed unicode strings for inventory
      lineinfile:
        line: "{{ '\U00D6' * 1000 }}"
        path: "/tmp/inventory"
        create: yes
    
    - name: Set negative cache timeout value
      lineinfile:
        line: "cache_timeout=-1"
        path: "/etc/ansible/ansible.cfg"
        insertafter: EOF

    - name: Run setup module
      setup:

    - name: Display package manager
      debug:
        var: ansible_pkg_mgr