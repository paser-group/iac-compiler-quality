ansible
- name: Test playbook for Ansible compiler bug hunting
  hosts: localhost
  gather_facts: false

  vars:
    subnet: "10.1.1.0/24"

  tasks:
    - name: Create Docker network
      docker_network:
        name: node-net
        state: present
        subnet: "{{ subnet }}"
        gateway: "10.1.1.254"

    - name: Create Docker containers
      docker_container:
        name: "{{ item }}"
        image: "{{ item }}"
        state: started
        detach: yes
        network_mode: node-net
      with_items:
        - ubuntu1
        - alpine1
        - centos1
        - redhat1
