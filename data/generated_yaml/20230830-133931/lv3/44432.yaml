- name: Create OpenStack router
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Create network0
      os_network:
        cloud: default
        state: present
        name: network0

    - name: Create subnet0
      os_subnet:
        cloud: default
        state: present
        name: subnet0
        network_name: network0
        cidr: 10.1.1.0/24

    - name: Create router0
      os_router:
        cloud: default
        state: present
        name: router0
        network: public-net
        interfaces: "{{ subnet0 }}"