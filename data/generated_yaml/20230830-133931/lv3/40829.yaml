- name: Check network interfaces
  hosts: all
  gather_facts: no

  tasks:
    - name: Ensure network interface object is a dictionary
      assert:
        that:
          - ansible_net_interfaces is mapping

    - name: Print network interface names and types
      debug:
        msg: "Interface {{ item.key }} is of type {{ item.value.type }}"
      loop: "{{ ansible_net_interfaces | dict2items }}"