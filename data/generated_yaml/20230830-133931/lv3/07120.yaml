- name: Latent Bug Finder Playbook
  hosts: all
  gather_facts: false
  tasks:
    - name: Assert string type
      assert:
        that:
          - ansible_distribution == 'Ubuntu'
        fail_msg: "ansible_distribution is not of type 'Ubuntu'"
        success_msg: "ansible_distribution is of type 'Ubuntu'"

    - name: Assert integer type
      assert:
        that:
          - ansible_facts['ansible_processor_count'] is defined and ansible_facts['ansible_processor_count'] | type_debug == 'int'
        fail_msg: "ansible_facts['ansible_processor_count'] is not an integer"
        success_msg: "ansible_facts['ansible_processor_count'] is an integer"