- name: Test for type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Check if ssh is installed
      command: ssh -V
      register: ssh_output
      failed_when: ssh_output.rc != 0

    - name: Check if rsync is installed
      command: rsync --version
      register: rsync_output
      failed_when: rsync_output.rc != 0

    - name: Print error message if ssh and rsync are not installed
      debug:
        msg: "Both SSH and Rsync are not installed"
      when: ssh_output.rc != 0 and rsync_output.rc != 0