
---
- name: Ansible Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Create symlink paths with space
      file:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
        state: link
        force: yes
      loop:
        - { src: "/path/with space", dest: "/path/with_space" }
        - { src: "/another/path with space", dest: "/another/path_with_space" }

    - name: Generate malformed unicode strings for inventory
      debug:
        msg: "Inventory host: {{ item }}"
      loop:
        - "ubuntu1 \xc3\xb8 10.1.1.1"
        - "alpine1 \xc3\xb8 10.1.1.2"
        - "centos1 \xc3\xb8 10.1.1.3"
        - "redhat1 \xc3\xb8 10.1.1.4"

    - name: Generate negative cache timeout values
      debug:
        msg: "Inventory host: {{ item }}"
      loop:
        - { hostname: "ubuntu1", ip: "10.1.1.1", cache_timeout: -5 }
        - { hostname: "alpine1", ip: "10.1.1.2", cache_timeout: -1 }
        - { hostname: "centos1", ip: "10.1.1.3", cache_timeout: -10 }
        - { hostname: "redhat1", ip: "10.1.1.4", cache_timeout: -2 }
