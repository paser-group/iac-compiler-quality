- name: Test for latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Set variable with mixed types
      set_fact:
        mixed_var: "{{ mixed_var | default([]) + [item] }}"
      with_items:
        - "value1"
        - 123
        - "{{ host }}"
        - null
        - false
        - [1, 2, 3]
        - {"key": "value"}

    - name: Print variable
      debug:
        var: mixed_var