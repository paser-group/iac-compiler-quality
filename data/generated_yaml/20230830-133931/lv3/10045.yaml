
---
- name: Latent Bug Finder Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Subnet Mask Test
      debug:
        msg: "{{ item }}"
      loop:
        - "192.168.0.0/16"
        - "172.16.0.0/14"
        - "10.0.0.0/8"
        - "192.0.2.0/24"
        - "10.1.1.0/35"  # Invalid subnet mask
        - "10.1.1.0/-1"  # Invalid subnet mask
        - "10.1.1.0/33"  # Invalid subnet mask

    - name: Mismatching Network and Router Names
      debug:
        msg: "Creating network {{ inventory_hostname }} with router {{ ansible_hostname }}"
      when: network != router

  vars:
    network: node-net
    router: node-router
