---
- name: Discover Ansible Latent Type Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Create symlink path with space
      shell: ln -s /tmp/{{item}} "/tmp/{{item}}"
      loop:
        - "link with space"
        - "link_without_space"

    - name: Generate malformed unicode strings for inventory
      file:
        path: "/tmp/{{item}}"
        state: touch
        mode: "0{{item}}"
      loop:
        - "unicode1\u041a"
        - "unicode2æ˜Š"

    - name: Try negative cache timeout value
      set_fact:
        cache_timeout: -1

    - name: Print debug message
      debug:
        msg: "This code snippet is designed to unveil latent type-related bugs in the Ansible compiler."

    - name: Final task
      debug:
        msg: "Code snippet executed successfully!"