- name: Ansible Latent Bug Explorer
  hosts: all
  gather_facts: false
  tasks:
    - name: Test case 1 - Type-related bug
      shell: >
        echo "{{ inventory_hostname }}" | awk '{ print tolower($0) }'
      register: lowercase_hostname

    - name: Test case 2 - Type-related bug
      set_fact:
        uppercase_hostname: "{{ lowercase_hostname.stdout | upper }}"

    - name: Test case 3 - Type-related bug
      debug:
        msg: "Uppercase hostname: {{ uppercase_hostname }}"