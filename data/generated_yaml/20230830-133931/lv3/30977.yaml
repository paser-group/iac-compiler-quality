- name: Test playbook for Ansible type-related bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Generate malformed variable assignments
      set_fact:
        my_var: "{{ item }}"
      loop:
        - true
        - false
        - 10
        - "string"
        - [1, 2, 3]
        - {"key": "value", "key2": "value2"}
        - !TestType {}  # Custom type that doesn't exist

    - name: Print the variable
      debug:
        var: my_var