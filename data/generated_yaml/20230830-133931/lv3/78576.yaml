---
- name: Latent Bug Finder Playbook
  hosts: localhost
  gather_facts: false

  vars:
    my_var: "{{ my_var | default({}) | combine({ 'key': 123 }) }}"

  tasks:
    - name: Show value of my_var
      debug:
        var: my_var.key

    - name: Test case 1 - Attempt to access non-existent key in dictionary
      debug:
        var: my_var.non_existent_key

    - name: Test case 2 - Attempt to access attribute of non-existent variable
      debug:
        msg: "{{ non_existent_var.attribute }}"

    - name: Test case 3 - Looping over an undefined variable
      debug:
        msg: "{{ item }}"
      loop: "{{ undefined_var }}"