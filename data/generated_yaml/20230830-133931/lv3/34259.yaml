---
- name: Test type-related bug
  hosts: all
  gather_facts: false

  vars:
    ansible_become_pass: "{{ hostvars[delegate_host].ansible_become_pass | default('') }}"
    ansible_become_method: "{{ hostvars[delegate_host].ansible_become_method | default('') }}"
    ansible_port: "{{ hostvars[delegate_host].ansible_port | default('') }}"

  tasks:
    - name: Debug variables
      debug:
        msg: "ansible_become_pass: {{ ansible_become_pass }}, ansible_become_method: {{ ansible_become_method }}, ansible_port: {{ ansible_port }}"
      delegate_to: delegate_host
      vars:
        delegate_host: "{{ ansible_play_hosts[0] }}"