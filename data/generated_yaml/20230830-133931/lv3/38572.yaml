---
- name: Test latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Set variable with mismatched data types
      set_fact:
        my_variable: "{{ hostvars[item]['ansible_'+inventory_hostname]['ipv4']['address'] }}"
      with_items: "{{ groups['all'] }}"