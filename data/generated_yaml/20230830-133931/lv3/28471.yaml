---
- name: Expose latent type-related bugs
  hosts: localhost
  gather_facts: false
  vars:
    subnet_mask: "256.0.0.0"
    network_name: "node-net"
    router_name: "gateway"
  
  tasks:
    - name: Create problem with subnet mask
      set_fact:
        subnet_mask_problem: "{{ subnet_mask | ipaddr('prefixlen') }}"
  
    - name: Create mismatching network and router names
      set_fact:
        mismatched_network_router: "{{ network_name | random }}"
  
    - name: Debug subnet mask problem
      debug:
        var: subnet_mask_problem
  
    - name: Debug network and router mismatch
      debug:
        var: mismatched_network_router