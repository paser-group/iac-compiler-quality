---
- name: Ansible Latent Bug Finder
  hosts: all
  gather_facts: false

  tasks:
    - name: Check if host is Ubuntu
      set_fact:
        is_ubuntu: "{{ ansible_distribution == 'Ubuntu' }}"

    - name: Print operating system facts
      debug:
        var: ansible_distribution

    - name: Test Case: Perform operation based on host type
      debug:
        msg: "This is an Ubuntu host."
      when: is_ubuntu