---
- name: Expose Latent Type-Related Bugs
  hosts: all
  gather_facts: no
  
  tasks:
    - name: Print node IP
      debug:
        msg: "Node IP: {{ ansible_default_ipv4.address }}"
      when: "'ansible_default_ipv4' in vars"
    
    - name: Print node IP (fallback)
      debug:
        msg: "Node IP: {{ ansible_all_ipv4_addresses }}"
      when: "'ansible_default_ipv4' not in vars"