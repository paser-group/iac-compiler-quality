---
- name: Ansible Latent Bug Explorer
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set ANSIBLE_ROLES_PATH
      shell: >
        export ANSIBLE_ROLES_PATH="/tmp/roles"

    - name: Create symlink path with space
      file:
        path: "/tmp/roles/my role"
        state: link
        src: "/tmp/roles/role1"

    - name: Generate malformed unicode string for inventory
      template:
        src: inventory.j2
        dest: "/tmp/roles/role1/inventory"

    - name: Negative cache timeout value
      lineinfile:
        path: "/tmp/roles/role1/tasks/main.yml"
        line: "cache_timeout: -1"
        state: present