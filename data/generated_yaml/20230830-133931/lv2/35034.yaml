---
- name: Expose Latent Type-Related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    nodes:
      - name: ubuntu1
        ip: 10.1.1.1
        distribution: ubuntu
      - name: alpine1
        ip: 10.1.1.2
        distribution: alpine
      - name: centos1
        ip: 10.1.1.3
        distribution: centos
      - name: redhat1
        ip: 10.1.1.4
        distribution: redhat

  tasks:
    - name: Check node distribution
      debug:
        msg: "Node {{ item.name }} is running {{ item.distribution }}"
      loop: "{{ nodes }}"
      loop_control:
        label: "{{ item.name }}"
      when: item.distribution == 'ubuntu'