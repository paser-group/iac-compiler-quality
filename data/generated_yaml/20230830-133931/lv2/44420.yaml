---
- name: Unveil Latent Type-Related Bugs in Ansible Compiler
  hosts: all
  gather_facts: false

  vars:
    - subnet_mask: '255.255.255.0'

  tasks:
    - name: Set network information
      set_fact:
        network_name: "node-net"
        network_subnet: "10.1.1.0/24"
        network_gateway: "10.1.1.254"

    - name: Test case 1 - Change the subnet mask to an integer value
      set_fact:
        subnet_mask: 24

    - name: Test case 2 - Attempt to allocate an IP from a non-existing subnet
      debug:
        msg: "Testing IP allocation from subnet: 10.2.2.0/24"

    - name: Test case 3 - Attempt to allocate a non-integer value as a subnet mask
      debug:
        msg: "Invalid subnet mask: 255.255.255.256"

    - name: Test case 4 - Access undefined variable
      debug:
        msg: "Undefined variable: {{ undefined_variable }}"