- hosts: localhost
  gather_facts: false

  vars:
    inventory_file_path: "/path/to/inventory/file"

  tasks:
    - name: Set variable as string
      set_fact:
        my_variable: "example"

    - name: Set variable as integer
      set_fact:
        my_variable: 123

    - name: Set variable as list
      set_fact:
        my_variable:
          - item1
          - item2

    - name: Write variable to inventory
      lineinfile:
        dest: "{{ inventory_file_path }}"
        line: "{{ my_variable }}"