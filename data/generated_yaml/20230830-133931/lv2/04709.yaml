- name: Test playbook for uncovering Ansible latent bugs
  hosts: all
  gather_facts: False

  tasks:
    - name: Test integer multiplication
      set_fact:
        result: "{{ 10 * '2' }}"
      when: inventory_hostname == 'ubuntu1'

    - name: Test string concatenation
      set_fact:
        combined: "{{ 'Hello' + 123 }}"
      when: inventory_hostname == 'alpine1'

    - name: Test division by zero
      set_fact:
        quotient: "{{ 10 / 0 }}"
      when: inventory_hostname == 'centos1'

    - name: Test invalid variable index
      set_fact:
        value: "{{ test_variable['key'] }}"
      when: inventory_hostname == 'redhat1'