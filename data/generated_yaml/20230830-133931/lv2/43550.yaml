---
- name: Ansible Latent Bug Finder Playbook
  hosts: all
  gather_facts: false
  
  vars:
    subnet: "10.1.1.0/24"
   
  tasks:
  
    - name: Generate subnet mask
      set_fact:
        subnet_mask: "{{ subnet | ipaddr('netmask') }}"
  
    - name: Validate subnet mask type
      assert:
        that:
          - subnet_mask is not undefined
          - subnet_mask is string
      fail_msg: "Subnet mask is not of type string"
  
    - name: Configure network
      debug:
        msg: "Configuring network with subnet mask: {{ subnet_mask }}"