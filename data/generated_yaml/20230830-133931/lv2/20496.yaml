- name: Execute tasks on different nodes
  hosts:
    - ubuntu1
    - alpine1
    - centos1
    - redhat1

  tasks:
    - name: Add all nodes to the inventory group
      add_host:
        name: "{{ item }}"
        groups: all_nodes
      loop:
        - ubuntu1
        - alpine1
        - centos1
        - redhat1

    - name: Check the Linux distribution of each node
      debug:
        msg: "Node {{ inventory_hostname }} has a distribution of {{ ansible_distribution }}"