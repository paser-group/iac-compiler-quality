- name: Test Latent Type-Related Bug
  hosts: all
  gather_facts: false

  tasks:
    - name: Set custom fact
      set_fact:
        number: "42"

    - name: Multiply a string and a number
      shell: echo "{{ number }} * '2'" | bc
      register: result
      changed_when: false

    - name: Fail the playbook if multiplication fails
      fail:
        msg: "Multiplication failed. There is a latent type-related bug in the Ansible compiler."
      when: result.rc != 0