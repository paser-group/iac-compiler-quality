---
- name: Unveil Latent Type-Related Bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Set wrong type for variable
      set_fact:
        my_variable: "{{ 'foo' | int }}"
      delegate_to: "{{ groups['ubuntu'] | first }}"

    - name: Use wrong type in arithmetic operation
      debug:
        msg: "{{ my_variable + 1 }}"
      delegate_to: "{{ groups['alpine'] | first }}"

    - name: Create symbolic link with invalid target
      file:
        src: "{{ ansible_hostname }}"
        dest: "/tmp/symlink"
        state: link
      delegate_to: "{{ groups['centos'] | first }}"

    - name: Debug message
      debug:
        msg: "This should not be executed"
      delegate_to: "{{ groups['redhat'] | first }}"