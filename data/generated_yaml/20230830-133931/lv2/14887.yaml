---
- name: Ansible Latent Bug Finder
  hosts: all
  gather_facts: true

  tasks:
    - name: Generate inventory with malformed unicode strings
      file:
        path: /etc/ansible/inventory
        content: |
          [ubuntu1]
          ansible_host=10.1.1.1
          
          [alpine1]
          ansible_host=10.1.1.2 \u202c

    - name: Execute playbook tasks
      hosts: ubuntu1, alpine1
      gather_facts: false
      
      tasks:    
        - name: Debug Ansible facts
          debug:
            var: ansible_facts