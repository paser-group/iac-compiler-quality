- name: Playbook to expose latent type-related Ansible bugs
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Set inventory variables
      set_fact:
        inventory_vars:
          - name: ubuntu1
            ip: 10.1.1.1
          - name: alpine1
            ip: 10.1.1.2
          - name: centos1
            ip: 10.1.1.3
          - name: redhat1
            ip: 10.1.1.4

    - name: Include nested tasks
      include: "{{ item.name }}.yml"
      with_items: "{{ inventory_vars }}"