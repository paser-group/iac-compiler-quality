- name: Test Bug Finder Playbook
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Create a temporary CSV file
      shell: echo "symbol,Atomic Number,Atomic Mass" > /tmp/test.csv  && echo "H,1,1.008" >> /tmp/test.csv  && echo "He,2,4.0026" >> /tmp/test.csv  && echo "Li,3,6.94" >> /tmp/test.csv  && echo "Be,4,9.012" >> /tmp/test.csv  && echo "B,5,10.81" >> /tmp/test.csv
    
    - name: Set 't' variable using csvfile lookup
      set_fact:
        t: "{{ lookup('csvfile', 'Li file=/tmp/test.csv delimiter=,') }}"