- name: Example playbook to expose latent type-related bugs
  hosts: all
  gather_facts: false

  tasks:
    - name: Set variables with different data types
      set_fact:
        var_str: "This is a string"
        var_int: 42
        var_list: [1, 2, 3]
        var_dict: {key1: value1, key2: value2}

    - name: Print the variables
      debug:
        msg: "var_str: {{ var_str }}, var_int: {{ var_int }}, var_list: {{ var_list }}, var_dict: {{ var_dict }}"

    - name: Perform type-related tasks
      command: echo "Type-related tasks"

      when:
        - var_str is bool  # Check if var_str is a boolean
        - var_int is list  # Check if var_int is a list
        - var_list is dict  # Check if var_list is a dictionary
        - var_dict is int  # Check if var_dict is an integer