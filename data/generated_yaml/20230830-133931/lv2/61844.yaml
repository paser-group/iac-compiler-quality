---
- name: Check idempotence of IOSXR L3 interfaces
  hosts: all
  gather_facts: false

  tasks:
    - name: Create L3 interfaces
      iosxr_l3_interface:
        interface: "GigabitEthernet0/0/0/1"
        description: "{{ management_interface_description }}"
        state: present
      register: interface_result
      when: "'Gigabit' + 'Ethernet0/0/0/1' == 'GigabitEthernet0/0/0/1'"

    - name: Display changes
      debug:
        var: interface_result.changed
      when: interface_result.changed is defined and interface_result.changed | bool