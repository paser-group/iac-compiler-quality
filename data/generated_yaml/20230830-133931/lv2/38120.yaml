---
- name: Execute command
  hosts: localhost
  gather_facts: false

  vars:
    command: "ls -l"
    output_file: "/tmp/output.txt"

  tasks:
    - name: Execute command and redirect output to file
      command: "{{ command }}"
      register: result
      changed_when: false

    - name: Save command output to file
      copy:
        content: "{{ result.stdout }}"
        dest: "{{ output_file }}"