---
- name: Test Type-Related Bug
  hosts: all
  gather_facts: false

  vars:
    myvar: "{{ some_var | string | int }}"

  tasks:
    - name: Debug myvar
      debug:
        msg: "myvar: {{ myvar }}"
      when: myvar is defined

    - name: Ping hosts
      ansible.builtin.ping:
      delegate_to: "{{ inventory_hostname }}"
      run_once: true

    - name: Gather system facts
      ansible.builtin.setup:
      delegate_to: "{{ inventory_hostname }}"
      run_once: true