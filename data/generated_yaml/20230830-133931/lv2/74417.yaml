---
- name: Ansible Latent Bug Finder
  hosts: all
  gather_facts: false

  tasks:
    - name: Check for type-related bugs
      block:
        - debug:
            msg: "{{ item }}"
          loop: "{{ ansible_play_hosts_all }}"
          vars:
            item:
              network_name: "{{ ansible_default_ipv4.network }}"
              router_name: "{{ ansible_default_ipv4.gateway }}"
              mismatch_var: "{{ ansible_default_ipv4.gateway | int }}"