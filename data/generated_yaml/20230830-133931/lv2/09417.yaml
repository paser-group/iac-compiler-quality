---
- name: Ansible Latent Bug Finder Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Set connection type based on OS and connection value
      set_fact:
        connection_type: "ssh"
      when:
        - ansible_distribution == "RedHat"  # Simulating RHEL OS
        - ansible_connection == "ssh"

    - name: Display warning if pipelining is enabled in RHEL 6.X with SSH connection
      debug:
        msg: "Warning: Pipelining is on, but it will be ignored due to OS version and connection type."
      when:
        - connection_type == "ssh"
        - ansible_pipelining