---
- name: Test Playbook for Type-related Bugs
  hosts: localhost
  gather_facts: false

  vars:
    network_name: test-net
    subnet_name: test-subnet
    router_name: test-router

  tasks:
    - name: Create a network interface with incorrect IP address type
      azure_rm_networkinterface:
        name: cloudnode01
        resource_group: test-resourcegroup
        virtual_network_name: "{{ network_name }}"
        subnet_name: "{{ subnet_name }}"
        ip_configurations:
          - name: test-cloudnode01
            primary: true
            private_ip_address: "192.168.0.a" # Invalid IP address format
        state: present