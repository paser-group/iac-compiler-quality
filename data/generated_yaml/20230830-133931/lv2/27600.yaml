---
- name: Playbook to expose latent type-related bugs in Ansible
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create test variable with incorrect type
      set_fact:
        subnet_mask: "255.255.0.111"  # Invalid subnet mask value

    - name: Attempt to set subnet mask on interface
      nxos_config:
        lines:
          - "interface Ethernet1/1"
          - "ip address 10.1.1.1 {{ subnet_mask }}"

    - name: Assert failure due to incorrect type
      assert:
        that:
          - False