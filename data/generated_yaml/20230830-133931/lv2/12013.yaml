---
- name: Ansible Latent Bug Finder
  hosts: all
  gather_facts: false

  tasks:
    - name: Test uri module
      uri:
        url: https://{{ ansible_host }}:{{ ansible_port }}/the/rest/here
        method: PUT
        body: some_body
        validate_certs: false
        status_code: "2{{ 00 + 2 }}"
      register: response

    - name: Debug response
      debug:
        var: response

    - name: Verify status code
      fail:
        msg: "New latent type-related bug in Ansible found!"
      when: response.status != 200