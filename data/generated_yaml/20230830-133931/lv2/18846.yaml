---
- name: Ansible Latent Bug Playbook
  hosts: all
  gather_facts: false

  tasks:
    - name: Execute shell command with invalid variable type
      shell: "{{ invalid_variable }}"  # Accessing an invalid variable
      register: shell_output
      ignore_errors: true

    - name: Gather failed shell command output
      copy:
        content: "{{ shell_output }}\n"
        dest: "/tmp/shell_output_{{ inventory_hostname }}.txt"