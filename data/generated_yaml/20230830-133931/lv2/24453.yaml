---
- name: Validate inventory values - Expose type-related bugs
  hosts: all
  gather_facts: false
  tasks:
    - name: Generate unexpected inventory values
      shell:
        cmd: 'echo {{ item }} >> /tmp/inventory.txt'
        executable: /bin/bash
      with_items:
        - 123  # Integer value
        - "abc"  # String value
        - "{{ var }}"  # Variable placeholder

    - name: Load and parse inventory file
      command:
        cmd: 'ansible-inventory -i /tmp/inventory.txt --list'

    - name: Print inventory output
      debug:
        var: command.stdout