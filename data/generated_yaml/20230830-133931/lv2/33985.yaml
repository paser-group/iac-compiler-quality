- name: Expose latent type-related bugs
  hosts: all
  become: true

  tasks:
    - name: Display variable values
      debug:
        var: "{{ item }}"
      loop: "{{ hostvars[inventory_hostname] }}"
      when: username | bool and password | bool

    - name: Trigger a latent bug
      command: "/bin/false"
      when: custom_var | bool  # Assuming custom_var does not exist

    - name: Another task
      command: "echo 'This task will be executed regardless'"