---
- name: Test playbook for Ansible Latent Bug Finder
  hosts: all
  gather_facts: false

  tasks:
    - name: Check if target file exists
      stat:
        path: "/tmp/{{ item }}"
      with_items: "{{ ansible_play_hosts }}"
      register: file_info

    - name: Debugging task with potential type-related bug
      debug:
        msg: "{{ hostvars[item].file_info.stat.path }}"
      with_items: "{{ ansible_play_hosts }}"