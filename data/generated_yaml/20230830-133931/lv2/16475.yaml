---
- name: Ansible Latent Bug Finder
  hosts: all
  gather_facts: false

  tasks:
    - name: Perform ping task
      ping:

- name: Test Case 1: any_errors_fatal ignored on unreachable host
  hosts: unreachable_host
  any_errors_fatal: "{{ 'true' }}"   # Intentionally using string value instead of boolean

  tasks:
    - name: Fail task
      fail:
        msg: "failing now!!"

- name: Test Case 2: Verify proper execution on reachable host
  hosts: all
  any_errors_fatal: "{{ 1 }}"   # Intentionally using integer value instead of boolean

  tasks:
    - name: Debug task
      debug:
        msg: "should not reach here"