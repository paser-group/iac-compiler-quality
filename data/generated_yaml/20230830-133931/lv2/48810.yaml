---
- name: Create cloudwatch log groups with retention specified
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set retention as string
      set_fact:
        retention: "30"

    - name: Create cloudwatch log group
      cloudwatchlogs_log_group:
        log_group_name: "/aws/rds/cluster/demo045-ops-sbx/seth{{ item }}"
        retention: "{{ retention }}"
        state: present
      with_sequence: count=2