---
- name: Trigger Ansible Type-related Bug
  hosts: all
  gather_facts: false

  vars:
    subnet: "10.1.1.0/24"
    gateway: "10.1.1.254"

  tasks:
    - name: Create Network
      docker_network:
        name: node-net
        subnet: "{{ subnet }}"
        gateway: "{{ gateway }}"

    - name: Create Ubuntu Container
      docker_container:
        name: ubuntu1
        image: ubuntu
        state: started
        networks:
          - name: node-net
            ipv4_address: "10.1.1.1"

    - name: Create Alpine Container
      docker_container:
        name: alpine1
        image: alpine
        state: started
        networks:
          - name: node-net
            ipv4_address: "10.1.1.2"

    - name: Create CentOS Container
      docker_container:
        name: centos1
        image: centos
        state: started
        networks:
          - name: node-net
            ipv4_address: "10.1.1.3"

    - name: Create Red Hat Container
      docker_container:
        name: redhat1
        image: redhat
        state: started
        networks:
          - name: node-net
            ipv4_address: "10.1.1.4"