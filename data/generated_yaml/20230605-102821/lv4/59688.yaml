
- name: test make module
  hosts: all
  gather_facts: false
  tasks:
    - name: run make command with variable inputs
      make:
        arguments: "{{ make_arguments }}"
      vars:
        make_arguments: "{{ item }}"
      with_items:
        - "target"
        - "arg1=${var1}"
        - "arg2=${var2}"
        - "arg3=${var3}"
