
- name: Create IOS VLANs
  hosts: switch
  gather_facts: no
  connection: local
  vars:
    vlans:
      - { id: 10, name: "VLAN10" }
      - { id: 20, name: "VLAN20" }
  tasks:
    - name: Configure IOS VLANs
      ios_vlan:
        vlan_id: "{{ item.id }}"
        vlan_name: "{{ item.name }}"
        state: present
      with_items:
        - "{{ vlans }}"
