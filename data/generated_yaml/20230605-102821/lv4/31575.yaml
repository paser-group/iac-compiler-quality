
- name: Execute command on Cisco device
  hosts: cisco_device
  vars:
    cisco_command: 'show version | include IOS'
  tasks:
    - name: execute the command
      ios_command:
        commands: "{{ cisco_command }}"
      register: cisco_command_out
      ignore_errors: true
    - name: check the output for errors
      debug:
        msg: "Something went wrong while executing command '{{cisco_command}}' on Cisco device."
      when: cisco_command_out.rc > 0
      no_log: true
