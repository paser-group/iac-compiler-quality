
- name: Test the nxos_acl module
  hosts: all
  gather_facts: no
  tasks:
    - name: Create an empty access list using the nxos_acl module
      nxos_acl:
        access_list: []
        state: present
    - name: Add an access list entry using the nxos_acl module
      nxos_acl:
        access_list: access-list-1
        type: standard
        entries:
          - remark: 'Allow all traffic'
            action: permit
            source: any
            log: true
        state: present
    - name: Remove the access list using the nxos_acl module
      nxos_acl:
        access_list: access-list-1
        state: absent
