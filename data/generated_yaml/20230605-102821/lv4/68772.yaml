yaml
- hosts: mac_devices
  gather_facts: no
  vars:
    my_integer: 32
  tasks:
  - name: Check osx_defaults integer type check
    osx_defaults:
      domain: com.example
      key: my_integer
      type: integer
      value: "{{ my_integer }}"
    register: result
  - assert:
      that:
        - result.rc == 0
        - "'Type Error' in result.stderr"
