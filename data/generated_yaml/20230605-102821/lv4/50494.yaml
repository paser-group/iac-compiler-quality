
- name: Execute show version command on network devices
  hosts: network_devices
  gather_facts: no
  connection: network_cli
  tasks:
    - name: Execute show version command
      ios_command:
        commands:
          - show version
      register: output

    - name: Output result for debugging
      debug:
        var: output

    - name: Extract version from output
      set_fact:
        version: "{{ output.stdout_lines[0] }}"
