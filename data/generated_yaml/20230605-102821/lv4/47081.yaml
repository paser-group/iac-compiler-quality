
- name: Test k8s_raw authentication
  hosts: all
  gather_facts: false
  vars:
    kubeconfig: "/path/to/.kube/config"
  tasks:
    - name: Test k8s_raw authentication
      k8s_raw:
        state: list
        kind: ConfigMap
        namespace: default
        kubeconfig: "{{ kubeconfig }}"
      register: k8s_raw_output
      ignore_errors: true

    - name: Debug k8s_raw output
      debug:
        var: k8s_raw_output
