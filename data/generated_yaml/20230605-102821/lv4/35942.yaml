
- name: Detect invalid Jinja2 syntax in become password 
  hosts: all
  vars:
    password: "{{ 'vault_password{{]' }}"
  tasks:
    - debug:
        var: password
    - command: ansible-vault encrypt_string --name ansible_become_pass --stdin-name 'ansible_become_pass' <<< "{{ password }}"
      register: result
    - debug:
        var: result
