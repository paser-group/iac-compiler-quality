
- name: Test ovirt_host_network module
  hosts: all
  become: yes
  tasks:
    - name: Create an ovirt network and register its configuration
      ovirt_host_network:
        name: my_network
        data_center: my_data_center
        vlan_id: 10
        assigned_networks:
          - name: my_assigned_network
            ip_address: 10.0.0.0
            netmask: 255.0.0.0
        state: present
      register: result

    - name: debug register
      debug:
        var: result

    - name: Fail if any dictionary contains '<'
      fail:
        msg: "Comparison of dictionary objects using '<' operator triggered an error"
      when: "'<' in result | to_nice_json"
