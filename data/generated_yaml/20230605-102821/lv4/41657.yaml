
- name: Create L2 interface
  hosts: cisco
  gather_facts: no
  tasks:
  - name: Configure L2 interface
    ios_l2_interface:
      name: "{{ interface_name }}"
      state: "{{ state }}"
      access: "{{ access }}"
      trunk: "{{ trunk }}"
      vlan: "{{ vlan }}"
      tagged: "{{ tagged }}"
      provider:
        username: "{{ username }}"
        password: "{{ password }}"
        host: "{{ inventory_hostname }}"
    vars:
      interface_name: GigabitEthernet1
      state: present
      access: true
      trunk: false
      vlan: 10
      tagged: true
      username: admin
      password: admin
