
- name: Create Docker container
  hosts: localhost
  gather_facts: false
  vars:
    docker_container_name: "test_container"
    docker_image_name: "alpine:latest"
    docker_container_state: "present"
    docker_container_restart_policy: "on-failure:5"
  tasks:
  - name: Check docker-py version
    assert:
      that: docker_py_version is version('1.10', '>=')
      fail_msg: "docker_container module requires docker-py version 1.10 or later."
  - name: Create the Docker container
    docker_container:
      name: "{{ docker_container_name }}"
      image: "{{ docker_image_name }}"
      state: "{{ docker_container_state }}"
      restart_policy: "{{ docker_container_restart_policy }}"
