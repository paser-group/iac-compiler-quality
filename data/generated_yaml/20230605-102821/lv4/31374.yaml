
- name: Include role test
  hosts: all
  gather_facts: no
  vars:
    role_name: some_role
    role_path: /path/to/roles
  tasks:
    - name: Include role
      include_role:
        name: "{{ role_name }}"
        tasks_from: "{{ lookup('file', role_path + '/tasks/main.yml') }}"
      ignore_errors: yes
      register: include_role_result
    - debug:
        msg: "{{ include_role_result }}"
      when: include_role_result is failed
