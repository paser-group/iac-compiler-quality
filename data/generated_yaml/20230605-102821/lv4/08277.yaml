
---
- name: Test Cron Module Traceback Error
  hosts: all
  become: true

  vars:
    cron_command: "/usr/bin/echo Hello, World! > /tmp/hello.txt"  # Define a shell command for the cron job

  tasks:
    - name: Add Cron Job
      cron:
        name: "Test Cron Job"
        user: "{{ ansible_user }}"
        minute: "{{ range(0,60) | random }}"  # Random value for minute
        hour: "{{ range(0,24) | random }}"  # Random value for hour
        job: "{{ cron_command }}/1 * * * *"  # Incorrect cron syntax to introduce error
        state: present

    - name: Remove Cron Job
      cron:
        name: "Test Cron Job"
        user: "{{ ansible_user }}"
        state: absent

