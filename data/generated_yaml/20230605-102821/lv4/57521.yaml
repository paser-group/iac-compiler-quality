
- name: Check for b64encode filter issue
  hosts: all
  gather_facts: no
  
  vars:
    test_text: "This is a test message"
    expected_output: "{{ test_text | b64encode }}"
    
  tasks:
    - name: Apply b64encode filter
      set_fact:
        result: "{{ test_text | b64encode }}"
        
    - name: Check result against expected output
      assert:
        that:
          - result == expected_output
        msg: "b64encode filter has incorrect padding"
