
# Ansible playbook to create a Docker service
- name: Create Docker Swarm service
  hosts: localhost
  gather_facts: False
  vars:
    docker_service_user: "{{ docker_service_user|default('root') }}"
    docker_swarm_service_args: "{{ docker_swarm_service_args|default('') }}"
  tasks:
    - name: Create Docker Swarm service
      docker_swarm_service:
        state: present
        name: "sample-service"
        user: "{{ docker_service_user }}"
        args: "{{ docker_swarm_service_args }}"
      register: docker_swarm_service_result

    - name: Debug result of creating Docker Swarm service
      debug:
        var: docker_swarm_service_result
