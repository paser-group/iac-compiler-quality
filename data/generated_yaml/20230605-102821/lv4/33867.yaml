
- name: Configure network interfaces
  hosts: all
  gather_facts: no
 
  tasks:
  - name: Set netmask
    set_fact:
      netmask: "255.255.255.0"
  
  - name: Convert netmask to prefix-length
    set_fact:
      prefix_length: "{{ netmask | ipmath('netmask_to_cidr') }}"

  - name: Check prefix_length variable
    debug:
      var: prefix_length
