
- name: Test Connection to EOS Device
  hosts: eos_device
  gather_facts: no
  vars:
    eos_username: "{{ username }}"
    eos_password: "{{ password }}"
    eos_auth_pass: "{{ auth_pass }}"
    eos_protocol: https
  tasks:
  - name: Test Connection
    eos_command:
      command: show version
    register: conn_test
    ignore_errors: true
  - debug:
      var: conn_test
  vars: 
    ansible_connection: network_cli
    ansible_network_os: eos
    ansible_become: true
    ansible_become_method: enable
    ansible_user: "{{ eos_username }}"
    ansible_password: "{{ eos_password }}"
    ansible_become_password: "{{ eos_auth_pass }}"
