
- name: Running Docker Compose Build Command
  hosts: ubuntu1
  tasks:
    - name: Build Docker Compose Service
      docker_compose:
        project_src: "/path/to/project"
        build: true
      register: result

    - name: Fail task on error in Docker Compose
      fail:
        msg: "{{ result }}" 
      when: result.rc != 0
