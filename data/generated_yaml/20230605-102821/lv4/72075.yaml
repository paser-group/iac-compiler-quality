
- hosts: all
  gather_facts: no
  roles:
      - role: sample_role 
  tasks:
      - name: Check Main.yml file in role
        stat:
          path: /path/to/sample_role/main.yml
        register: check_file

      - name: Fail Task when Main.yml file is missing from the role
        fail:
          msg: The role 'sample_role' is missing its main.yml file.
        when: not check_file.stat.exists
