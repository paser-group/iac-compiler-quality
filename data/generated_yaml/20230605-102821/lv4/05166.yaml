
- name: Install packages with prefix using apt or yum modules
  hosts: all
  become: true
  vars:
    packages_with_prefix:
      - prefix1_package
      - prefix2_package
      - prefix3_package
  tasks:
    - name: Install packages with prefix using apt module
      apt:
        name: "{{ item }}"
      loop: "{{ packages_with_prefix }}"
      when: item.startswith('prefix')
    - name: Install packages with prefix using yum module
      yum:
        name: "{{ item }}"
      loop: "{{ packages_with_prefix }}"
      when: item.startswith('prefix')
