
---
- name: troubleshoot cobbler_system validate_certs error
  hosts: all
  gather_facts: false

  vars:
    cobbler_server: "cobbler"
    cobbler_username: "admin"
    cobbler_password: "admin_password"

  tasks:
    - name: validate cobbler_system credentials
      cobbler_system:
        state: present
        name: test_system
        profile: ubuntu-18.04-x86_64
        distribute_files: "{{ playbook_dir }}/files/"
        validate_certs: "{{ validate_certs | default(True) }}"
        cobbler_server: "{{ cobbler_server }}"
        cobbler_user: "{{ cobbler_username }}"
        cobbler_password: "{{ cobbler_password }}"
      register: cobbler_register

    - debug:
        var: cobbler_register
