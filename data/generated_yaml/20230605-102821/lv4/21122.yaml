
- name: Launch Compute Engine Instance
  hosts: all
  gather_facts: no
  vars:
    gce_service_account: "example@my-service-account.com"
  tasks:
    - name: Launching Compute Engine Instance
      gce:
        instance_names: my-instance
        machine_type: n1-standard-1
        zone: us-west1-a
        image_family: debian-9
        service_account_email: "{{ gce_service_account }}"
        scopes:
          - https://www.googleapis.com/auth/compute.readonly
      register: gce_instance
