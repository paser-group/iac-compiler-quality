
- name: Set Dynamic Variables 
  hosts: all
  vars:
     - servers:
         - { name: ubuntu1, ip: '10.1.1.1', os: 'ubuntu' }
         - { name: alpine1, ip: '10.1.1.2', os: 'alpine' }
         - { name: centos1, ip: '10.1.1.3', os: 'centos' }
         - { name: redhat1, ip: '10.1.1.4', os: 'redhat' }
  tasks:
  - name: Set Dynamic Variables
    set_fact:
      my_facts:
        "{{item.name}}": "{{item.os}}"
    with_items: "{{servers}}"
   
  - name: Print Values
    debug:
      var: my_facts
