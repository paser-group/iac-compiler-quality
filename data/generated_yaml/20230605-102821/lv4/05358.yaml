yaml
---
- name: Attempt sudo command with invalid password
  hosts: all
  gather_facts: no

  tasks:
    - name: Try sudo command with invalid password
      become: yes
      become_method: sudo
      shell: echo "{{sudo_password}}" | sudo -S ls /root
      register: result
      ignore_errors: true

    - name: Show command output
      debug:
        msg: "{{ result.stdout_lines }}"
      when: result is defined and result|failed
