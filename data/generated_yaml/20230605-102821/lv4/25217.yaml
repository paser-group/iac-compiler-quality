
---
- name: Test Playbook
  hosts: localhost
  gather_facts: false
  vars:
    os: "{{ ansible_facts['distribution'] }}"

  tasks:
    - name: Check when condition with Jinja2 default filter
      debug:
        msg: "Testing when condition with Jinja2 default filter for {{ os }}"
      when: os|default('centos') == 'centos'
