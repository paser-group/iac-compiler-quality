
- name: Ansible Connection Issue with SSH and Private Keys
  hosts: all
  gather_facts: no
  become: true
  tasks:
    - name: Test SSH Connectivity with Private Key
      ping:
      register: ping_output

    - name: Debug Output for SSH Connection
      debug:
        var: ping_output

    - name: Test Passwordless Authentication
      command: whoami
      register: cmd_output
      become_user: root

    - name: Debug Output for Passwordless Authentication
      debug:
        var: cmd_output
