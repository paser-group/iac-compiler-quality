
- hosts: all
  become: yes

  tasks:
    - name: Copy file to remote
      copy: 
        src: /local/path/foo.txt
        dest: /remote/path/foo.txt
      register: file_copy

    - name: Synchronize file to remote using local_action
      synchronize:
        src: /local/path/foo.txt
        dest: /remote/path/foo.txt
        delegate_to: localhost
        mode: pull
