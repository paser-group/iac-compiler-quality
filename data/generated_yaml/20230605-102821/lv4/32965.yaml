
- hosts: all
  gather_facts: no
  become: true

  tasks:
  - name: Check for python interpreter
    stat:
      path: /usr/bin/python
    register: python_interpreter

  - name: Display error message if python interpreter is not available
    command: /bin/echo "Python interpreter not found. Please install Python or specify a valid python interpreter using the ansible_python_interpreter inventory variable." 1>&2
    when: not python_interpreter.stat.exists
