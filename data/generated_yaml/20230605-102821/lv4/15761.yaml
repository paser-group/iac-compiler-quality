
- name: Test error reporting on remote target
  hosts: all
  gather_facts: no
  tasks:
  - name: Attempt to run a shell command
    shell: run-a-non-existent-command
    register: shell_out
    ignore_errors: true
  - name: Debug failed shell command
    debug:
      var: shell_out
