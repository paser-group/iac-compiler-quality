
- name: Test MySQL Module
  hosts: all
  tasks:
    - name: Install MySQL client
      apt:
        name: mysql-client
        state: present

    - name: Query MySQL
      mysql_query:
        db: ansibledb
        login_password: "{{ lookup('file', '{{passwordfile}}') }}"
        login_db: ansibledb
        query: "SELECT * FROM files"
      register: result

    - name: Debugging Information
      debug:
        var: result
