
- name: Deploy infrastructure
  hosts: all
  gather_facts: no
  vars:
    node_ips:
      ubuntu: "10.1.1.1"
      alpine: "10.1.1.2"
      centos: "10.1.1.3"
      redhat: "10.1.1.4"
  tasks:
    - name: Install Python
      raw: "apt-get install -y python-minimal" # This is Ubuntu-specific, could vary for other distributions
    - name: Run command
      shell: "echo {{ ansible_distribution }} {{ ansible_distribution_version }} ran this command with IP {{ ansible_host }}"
      register: command_result
    - name: Debug command output
      debug:
        var: command_result.stdout_lines
