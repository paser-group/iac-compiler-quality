
- name: Test Ansible Dynamic Inventory
  hosts: all
  gather_facts: no
  tasks:
    - name: Ping all hosts from inventory
      ping:
      register: ping_response
      ignore_errors: yes

    - name: Display Ping Results
      debug:
        var: ping_response.failed
        msg: "Some hosts failed to ping"

- name: Confirm Dynamic Inventory
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Show success or failure message
      debug:
        msg: "{{ 'Dynamic inventory test passed' if ping_response.failed == false else 'Dynamic inventory test failed'}}"
