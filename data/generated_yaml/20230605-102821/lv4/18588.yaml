
---
- name: Create Big IP Pool
  hosts: localhost
  gather_facts: no

  vars:
    big_ip_pool:
      name: "big_ip_pool"
      ranges:
        - "{{ subnet }}.{{ range_start }}-{{ range_end }}"

  tasks:
    - name: Create Big IP pool
      bigip_pool:
        server: "{{ inventory_hostname }}"
        user: "{{ remote_user }}"
        password: "{{ remote_user_password }}"
        name: "{{ big_ip_pool.name }}"
        ranges: "{{ big_ip_pool.ranges }}"
        vlan: "{{ vlan }}"
