
- name: Test Nested Block with Conditions
  hosts: all
  gather_facts: no

  tasks:
    - include_tasks: condition1.yml
      when: "'value1' in group_names"

    - include_tasks: condition2.yml
      when: "'value2' in group_names"

    - debug:
        msg: "Task executed successfully"
