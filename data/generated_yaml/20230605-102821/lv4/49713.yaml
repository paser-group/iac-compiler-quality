
---
- name: Gather Redfish facts
  hosts: all
  gather_facts: false

  tasks:
  - name: Gathering Facts using Redfish module
    redfish_facts:
      hostname: "{{ inventory_hostname }}"
      username: "{{ redfish_user }}"
      password: "{{ redfish_password }}"
      validate_certs: "{{ redfish_validate_certs | default(true) }}"
    register: result

  - name: Debug Redfish Facts Error
    debug:
      msg: "Gathering Redfish Facts error : {{ result }}"
    when: result is failed
