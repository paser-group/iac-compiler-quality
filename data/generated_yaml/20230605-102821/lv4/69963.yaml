
- name: Check Python Interpreter
  hosts: all
  gather_facts: true
  become: true

  tasks:
  - name: Check Python version
    shell: python --version
    register: python_version
    ignore_errors: true
  - debug: var=python_version.stdout_lines
  - assert:
      that:
        - "'Python 2' in python_version.stdout"
      fail_msg: "Python 2 interpreter not found. Please install Python 2."
