
- name: Get IOS facts from Cisco 6509 switches
  hosts: cisco_switches
  gather_facts: no
  become: yes
  tasks:
    - name: Collect IOS facts using ios_facts module
      ios_facts:
        provider:
          host: "{{ inventory_hostname }}"
          username: "{{ ansible_user }}"
          password: "{{ lookup('file', '/path/to/password/file') }}"
      register: ios_facts_output
    - name: Debug IOS facts output
      debug:
        var: ios_facts_output
