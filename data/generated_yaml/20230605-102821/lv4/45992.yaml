
- name: Test ec2.py inventory plugin
  hosts: localhost
  connection: local
  gather_facts: no
  vars:
    EC2_INI_PATH: /path/to/ec2.ini
    EC2_PRIVATE_KEY_FILE: /path/to/private/key
    EC2_CERT_FILE: /path/to/cert/file
    AWS_ACCESS_KEY_ID: "example-access-key"
    AWS_SECRET_ACCESS_KEY: "example-secret-key"
  tasks:
    - name: Test ec2.py plugin
      ec2:
        region: us-west-2
      register: ec2

    - name: Display ec2 results
      debug:
        var: ec2.instances
