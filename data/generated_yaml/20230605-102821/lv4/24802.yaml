yaml
---
- name: Create RDS PostgreSQL instance
  hosts: localhost
  gather_facts: no

  vars:
    region: "us-east-1"
    instance_name: "my_postgresql_instance"
    instance_class: "db.t2.micro"
    master_username: "myuser"
    master_password: "mypassword"
    db_name: "mydatabase"
    db_port: 5432

  tasks:
  - name: Create RDS PostgreSQL instance
    rds:
      command: create
      engine: postgres
      region: "{{ region }}"
      instance_name: "{{ instance_name }}"
      instance_class: "{{ instance_class }}"
      username: "{{ master_username }}"
      password: "{{ master_password }}"
      db_name: "{{ db_name }}"
      db_port: "{{ db_port }}"
    register: result

  - name: Display result of instance creation
    debug:
      msg: "{{ result }}"
