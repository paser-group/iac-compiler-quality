
---
- name: GCE Firewall Rule Update Playbook
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Update Firewall Rule
      gce_net:
        name: "{{ gce_network }}"
        fwname: "{{ gce_fw_name }}"
        rules:
          - action: allow
            priority: 1000
            sourceRanges:
              - 0.0.0.0/0
            protocol: "{{ gce_protocol }}"
            ports:
              - "{{ gce_ports }}"
