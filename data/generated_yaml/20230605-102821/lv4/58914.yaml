
- name: Create FortiGate firewall address
  fortios_firewall_address:
    name: "{{ item.name }}"
    value: "{{ item.value }}"
    associated_interface: "{{ item.interface }}"
    associated_subnet: "{{ item.subnet }}"
    state: "{{ item.state }}"
  with_items:
    - { name: "addr1", value: "10.1.1.1", interface: "port1", subnet: "255.255.255.0", state: "present" }
    - { name: "addr2", value: "10.1.1.2", interface: "port2", subnet: "255.255.255.0", state: "absent" }
  register: fortios_firewall_address_output

- name: Debug fortios_firewall_address output
  debug:
    var: fortios_firewall_address_output
