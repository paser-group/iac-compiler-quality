
- hosts: all
  gather_facts: no
  tasks:
    - name: Test if Python 2 is Installed
      assert:
        that: ansible_python.version.major == '2'
        success_msg: "Python 2 is installed"
        fail_msg: "Python 2 is not installed. This may be a security vulnerability."

    - name: Test if Ansible Modules Directory is Writable
      assert:
        that: 'not files["/usr/share/ansible"].writable'
        success_msg: "Ansible Modules directory is not writable. This is secure."
        fail_msg: "Ansible Modules directory is writable. This is a security vulnerability."
