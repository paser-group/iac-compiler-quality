yaml
- hosts: all
  gather_facts: false
  vars:
    volume_name: "{{ 'my_vol'|random }}"
    transport: "{{ ['rdma', 'tcp']|random }}"
    auth_allow: "{{ '127.0.0.1/32'|random }}"
    stripe_count: "{{ [2, 4, 6]|random }}"
    replica_count: "{{ [2, 4, 6]|random }}"
  tasks:
  - name: Create GlusterFS Volume
    gluster_volume:
      state: present
      name: "{{ volume_name }}"
      transport: "{{ transport }}"
      auth_allow: "{{ auth_allow }}"
      stripe_count: "{{ stripe_count }}"
      replica_count: "{{ replica_count }}"
    register: result
  - name: Debug
    debug:
      var: result
