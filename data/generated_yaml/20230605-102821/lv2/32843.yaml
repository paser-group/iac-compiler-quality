
- name: "Testing Cloudwatchevent_rule implementation for potential bugs"
  hosts: node-net
  vars:
    event_rule_name: "CloudWatchEventRule"
    event_rule_pattern: '{"source": ["test.source"], "detail": ["test.detail"], "detail-type": ["test.detail-type"]}'
    event_target_arn: "arn:aws:test-arn"
  tasks:
    - name: "Create a Cloudwatch Event Rule"
      cloudwatchevent_rule:
        name: "{{ event_rule_name }}"
        event_pattern: "{{ event_rule_pattern }}"
        targets:
          - id: "test"
            arn: "{{ event_target_arn }}"
      register: result
      ignore_errors: yes
