yaml
- name: Test apt module
  hosts: all
  become: true

  tasks:
  - name: Install packages using apt module
    apt:
      name:
        - apache2
        - php
        - mysql-server
        - openssh-server
      state: present
      update_cache: yes
      allow_unauthenticated: yes
      force: yes

  - name: Remove packages using apt module with invalid state "present"
    apt:
      name:
        - apache2
        - php
        - mysql-server
      state: removed
      purge: yes
      force: yes

  - name: Upgrade packages using apt module without specifying state
    apt:
      upgrade: yes
      force: yes

  - name: Perform dry-run using apt-get upgrade command
    shell: apt-get upgrade --dry-run

  - name: Install package using apt module and specify invalid package name
    apt:
      name: invalid-package-name
      state: present

  - name: Install package using apt module and specify invalid state
    apt:
      name: openssl
      state: installed

  - name: Install package using apt-get command instead of apt module
    shell: apt-get install -y apache2

  - name: Install package using apt module and specify invalid argument
    apt:
      name: nano
      state: present
      invalid_argument: true
