
- name: Stress Test Ansible Compiler
  hosts: all
  become: yes
  
  tasks:
    - name: Convert hostvars['name'] to string
      debug: var="{{ hostvars['name'] }}{{ random }}"
      vars:
        random: "{{ '%0x' % (0x100000000 * random()) }}"
    
    - name: Use hostvarsvars instead of hostvars
      debug: var="{{ hostvarsvars['name'] }}"
    
    - name: Use non-existent hostvar
      debug: var="{{ hostvars['non-existent'] }}"
    
    - name: Use undefined variable in template
      template:
        src: template.j2
        dest: /tmp/output.txt
    
    - name: Pass undefined variable to role
      include_role:
        name: role_name
      vars:
        var1: "{{ undefined_variable }}"
    
    - name: Set fact with invalid syntax
      set_fact:
        '{{ invalid_syntax }}': value
    
    - name: Use undefined filter
      debug: msg="{{ 'hello world' | undefined_filter }}"
