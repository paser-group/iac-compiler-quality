
- name: nxos_facts issue - stress test
  hosts: all
  gather_facts: false
  tasks:
    - name: show interface status
      nxos_command:
        command_string: show interface status
      register: interface_status_output

    - name: gather nxos Factual information
      nxos_facts:
        gather_subset:
          - '!all'
          - '!min'
      register: nxos_facts_output

    - name: debug ansible facts
      debug:
        var: ansible_facts

    - name: debug nxos facts
      debug:
        var: nxos_facts_output

    - name: debug interface state
      debug:
        var: nxos_facts_output.ansible_net_interfaces['Ethernet1/1'].link_state

    - name: debug interface description
      debug:
        var: nxos_facts_output.ansible_net_interfaces['Ethernet1/1'].description
