
- name: Azure RM Deployment Stress Test
  hosts: all
  tasks:
    - name: Deploy Azure ARM template
      azure_rm_deployment:
        resource_group_name: TestingRG
        deployment_name: TestDeployment
        state: present
        mode: Complete
        template: "{{ lookup('file', 'azuredeploy.json') }}"
        template_link_uri: "https://example.com/armtemplates/azuredeploy.json"
        parameters:
          vmName: test-vm
          vmSize: Standard_D2_v2
          adminUsername: testuser
          adminPassword: adminpassword
        validate_certs: false
