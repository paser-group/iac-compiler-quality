
---
- name: Assign Fixed IP Address to Openstack Instance
  hosts: localhost
  gather_facts: no

  vars:
    instance_name: dummy-instance
    fixed_ip: 10.1.1.100

  tasks:
    - name: Assign Fixed IP Address to Ubuntu Instance
      os_server:
        cloud: '{{invalid_cloud}}'
        auth:
          auth_url: '{{invalid_auth_url}}'
          username: '{{invalid_username}}'
          password: '{{invalid_password}}'
          project_name: '{{invalid_project_name}}'
          domain_id: '{{invalid_domain_id}}'
        name: '{{instance_name}}'
        image: '{{invalid_image}}'
        flavor: '{{invalid_flavor}}'
        networks:
          - network: node-net
            fixed_ip: '{{fixed_ip}}'
        state: '{{invalid_state}}'
      ignore_errors: true
      
    - name: Assign Fixed IP Address to Alpine Instance
      os_server:
        cloud: '{{invalid_cloud}}'
        auth:
          auth_url: '{{invalid_auth_url}}'
          username: '{{invalid_username}}'
          password: '{{invalid_password}}'
          project_name: '{{invalid_project_name}}'
          domain_id: '{{invalid_domain_id}}'
        name: '{{instance_name}}'
        image: '{{invalid_image}}'
        flavor: '{{invalid_flavor}}'
        networks:
          - network: node-net
            fixed_ip: '{{fixed_ip}}'
        state: '{{invalid_state}}'
      ignore_errors: true
      
    - name: Assign Fixed IP Address to CentOS Instance
      os_server:
        cloud: '{{invalid_cloud}}'
        auth:
          auth_url: '{{invalid_auth_url}}'
          username: '{{invalid_username}}'
          password: '{{invalid_password}}'
          project_name: '{{invalid_project_name}}'
          domain_id: '{{invalid_domain_id}}'
        name: '{{instance_name}}'
        image: '{{invalid_image}}'
        flavor: '{{invalid_flavor}}'
        networks:
          - network: node-net
            fixed_ip: '{{fixed_ip}}'
        state: '{{invalid_state}}'
      ignore_errors: true
      
    - name: Assign Fixed IP Address to RedHat Instance
      os_server:
        cloud: '{{invalid_cloud}}'
        auth:
          auth_url: '{{invalid_auth_url}}'
          username: '{{invalid_username}}'
          password: '{{invalid_password}}'
          project_name: '{{invalid_project_name}}'
          domain_id: '{{invalid_domain_id}}'
        name: '{{instance_name}}'
        image: '{{invalid_image}}'
        flavor: '{{invalid_flavor}}'
        networks:
          - network: node-net
            fixed_ip: '{{fixed_ip}}'
        state: '{{invalid_state}}'
      ignore_errors: true
