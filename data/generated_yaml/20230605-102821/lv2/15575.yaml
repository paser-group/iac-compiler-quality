
- name: Ansible Playbook for env lookup testing
  hosts: all
  gather_facts: yes

  tasks:
  - name: Test env lookup with a null default value 
    assert:
      that:
        - lookup('env', 'MY_ENVIRONMENT_VARIABLE', default=None) is none

  - name: Test env lookup with a non-null default value
    assert:
      that:
        - lookup('env', 'MY_ENVIRONMENT_VARIABLE', default='my_default_value') == 'my_default_value'
        - lookup('env', 'MY_ENVIRONMENT_VARIABLE', default='my_default_value') is string
