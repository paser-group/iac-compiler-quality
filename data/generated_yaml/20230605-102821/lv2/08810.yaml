
- name: Test ansible compiler for default argument bugs
  hosts: node-net
  gather_facts: no

  tasks:
    - name: Test with no default argument
      raw: echo "No default value"
      changed_when: false

    - name: Test with empty string as default argument
      raw: echo "Default value as empty string"
      args:
        stdin: ""
      changed_when: false

    - name: Test with null as default argument
      raw: echo "Default value as null"
      args:
        stdin: null
      changed_when: false

    - name: Test with boolean as default argument
      raw: echo "Default value as boolean"
      args:
        stdin: true
      changed_when: false

    - name: Test with list as default argument
      raw: echo "Default value as list"
      args:
        stdin:
          - one
          - two
      changed_when: false

    - name: Test with dictionary as default argument
      raw: echo "Default value as dictionary"
      args:
        stdin:
          name: Ansible
          type: Playbook
      changed_when: false
