
- name: Test eos_banner for idempotent issues with unicode
  hosts: all
  gather_facts: true
  tasks:
    - name: Set banner with unicode characters
      eos_banner:
        banner: "★❤☀ Unicode banner test ☀❤★"
        state: present

    - name: Verify banner with unicode characters is set
      assert:
        that:
          - ('★❤☀ Unicode banner test ☀❤★' in hostvars[inventory_hostname]['ansible_facts']['eos_banner']['banner'])
