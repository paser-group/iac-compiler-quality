yaml
---
- name: Testing conditional 'when:' and 'include_role' syntax
  hosts: all
  gather_facts: true
  tasks:
    - name: Check if role exists
      stat:
        path: "/etc/ansible/roles/{{role_name}}"
      register: role_check
      ignore_errors: true
    - name: Include role if exists
      include_role:
        name: "{{role_name}}"
      when: role_check.stat.exists == true
  vars:
    role_name: "invalid_role_name{{}"
