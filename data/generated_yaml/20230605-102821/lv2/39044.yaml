
---
- hosts: all
  become: yes

  vars:
    search_dir: "/non/existent/directory"

  tasks:
    - name: Install a role from a non-existent directory
      command: ansible-galaxy install -r "{{ search_dir }}/requirements.yml"
      ignore_errors: yes

    - name: Attempt role installation with invalid Galaxy syntax
      command: ansible-galaxy install "{invalid_galaxy_syntax}"
      ignore_errors: yes

    - name: Install role with invalid URL
      command: ansible-galaxy install "https://github/invalid_user/invalid_role"
      ignore_errors: yes

    - name: Attempt to install a previously installed role
      command: ansible-galaxy install github_user.role_name
      ignore_errors: yes

    - name: List roles from non-existent directory
      command: ansible-galaxy list -p "{{ search_dir }}"
      ignore_errors: yes
