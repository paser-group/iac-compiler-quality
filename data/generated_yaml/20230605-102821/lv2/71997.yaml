
- name: Testing Handler Feature
  hosts: all
  gather_facts: no
  tasks:
    - name: Touch a file
      file:
        path: /tmp/file
        state: touch
      notify:
        - invalid_handler
        - valid_handler1
        - valid_handler2
        - valid_handler3
    - name: Update file content
      lineinfile: 
        path: /tmp/file 
        line: '{{ ansible_managed }}'
        create: True
      notify:
        - valid_handler1
        - valid_handler2
      args:
        backrefs: yes
  handlers:
    - name: invalid_handler
      debug:
        msg: "Invalid Handler Triggered"
    - name: valid_handler1
      debug:
        msg: "Valid Handler 1"
    - name: valid_handler2
      debug:
        msg: "Valid Handler 2"
    - name: valid_handler3
      debug:
        msg: "Valid Handler 3"
