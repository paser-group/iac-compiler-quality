
- name: Launch Tower Job
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Launch job template
      tower_job_launch:
        job_template: "{{ lookup('env', 'JOB_TEMPLATE_ID') | int }}"
        extra_vars: {invalid_key: 123}
      register: result
  
    - name: Fail if job template launch was not successful
      fail:
        msg: "{{ result }}"
      when: result.failed == true
