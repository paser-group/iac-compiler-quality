
- name: Test Default Filter with Lookup
  hosts: all
  gather_facts: false

  tasks:
  - name: Set Variables
    set_fact:
      var_1: "{{ body }}"
      var_2: "{{ lookup('file', '/path/to/file') }}"
      var_3: "{{ lookup('env', 'HOME') }}"
      var_4: "{{ lookup('template', '/path/to/template') }}"
      var_5: "{{ lookup('pipe', 'echo hello world') }}"
      var_6: "{{ lookup('url', 'http://example.com') }}"
      var_7: "{{ lookup('first_found', files=['file1.txt', 'file2.txt']) }}"
      var_8: "{{ lookup('last_found', files=['file1.txt', 'file2.txt']) }}"

  - name: Verify Default Filter
    assert:
      that:
        - "{{ (item | default('default')) == 'default' }}"
      loop:
        - "{{ var_1 }}"
        - "{{ var_2 }}"
        - "{{ var_3 }}"
        - "{{ var_4 }}"
        - "{{ var_5 }}"
        - "{{ var_6 }}"
        - "{{ var_7 }}"
        - "{{ var_8 }}"