
- name: Test pip module with editable=True
  hosts: all
  become: true
  gather_facts: true

  tasks:
    - name: Upgrade pip
      pip:
        name: pip
        state: latest

    - name: Install package in editable mode
      pip:
        name: "{{ body }}"
        state: "{{ state | default('present') }}"
        extra_args: "--editable {{ extra_args }}"
      register: result

    - debug:
        var: result
