
- name: Perform Redfish API request to obtain facts
  hosts: all
  gather_facts: false

  vars:
    server_ip: "10.1.1.4"
    api_version: "{{ 'v2' }}"

  tasks:
    - name: obtain redfish facts
      redfish_facts:
        url: "https://{{ server_ip }}/{{ api_version }}"
        username: "{{ redfish_username }}"
        password: "{{ redfish_password }}"
      register: redfish_facts_result
