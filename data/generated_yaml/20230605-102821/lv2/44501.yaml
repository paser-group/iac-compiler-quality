
---
- name: iOS_config Timeout Issue Test
  hosts: all

  tasks:
    - name: Configure iOS devices
      ios_config:
        lines:
          - interface {{ item.interface }}
          - ip address {{ item.ip_address }} {{ item.netmask }}
        provider:
          host={{ inventory_hostname }}
          username=cisco
          password={{ device_password }}
          timeout=1
        with_items:
          - { interface: GigabitEthernet1, ip_address: 10.1.1.1, netmask: 255.255.255.0 }
          - { interface: GigabitEthernet2, ip_address: 10.1.1.2, netmask: 255.255.255.0 }
          - { interface: GigabitEthernet3, ip_address: 10.1.1.3, netmask: 255.255.255.0 }
          - { interface: GigabitEthernet4, ip_address: 10.1.1.4, netmask: 255.255.255.0 }
