
- hosts: all
  gather_facts: no
  become: true

  vars:
    bucket_name: "{{ body }}"

  tasks:
  - name: Create s3 bucket with invalid name
    s3_bucket:
      bucket: "{{ bucket_name }}.com"
      region: us-east-1
      mode: create
    ignore_errors: true

  - name: Create s3 bucket with uppercase letters in name
    s3_bucket:
      bucket: "{{ bucket_name|upper }}"
      region: us-east-1
      mode: create
    ignore_errors: true

  - name: Create s3 bucket with long name
    s3_bucket:
      bucket: "{{ 'x'*255 }}.s3.amazonaws.com"
      region: us-east-1
      mode: create
    ignore_errors: true

  - name: Create s3 bucket with whitespace in name
    s3_bucket:
      bucket: "{{ bucket_name }} s3"
      region: us-east-1
      mode: create
    ignore_errors: true

  - name: Create s3 bucket with invalid character in name
    s3_bucket:
      bucket: "{{ bucket_name }}*"
      region: us-east-1
      mode: create
    ignore_errors: true
    
  - name: Create s3 bucket with empty name
    s3_bucket:
      bucket: ""
      region: us-east-1
      mode: create
    ignore_errors: true
    
  - name: Create s3 bucket with multiple dots in name
    s3_bucket:
      bucket: "{{ bucket_name }}.test.s3.amazonaws.com"
      region: us-east-1
      mode: create
    ignore_errors: true
    
  - name: Create s3 bucket with name that's too short
    s3_bucket:
      bucket: "a"
      region: us-east-1
      mode: create
    ignore_errors: true
    
  - name: Create s3 bucket with name that's too long
    s3_bucket:
      bucket: "{{ 'x'*256 }}.s3.amazonaws.com"
      region: us-east-1
      mode: create
    ignore_errors: true

  - name: Create s3 bucket with invalid region
    s3_bucket:
      bucket: "{{ bucket_name }}"
      region: invalid-region
      mode: create
    ignore_errors: true
