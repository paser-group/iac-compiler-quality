yaml
- name: Test String Concatenation with Lookup Issue
  hosts: all
  gather_facts: yes
  tasks:
    - name: Concatenate string with lookup
      debug:
        msg: "{{ 'The body is: ' ~ lookup('vars', 'body') }}"

    - name: Concatenate string with dictionary key lookup
      vars:
        my_dict:
            key1: 'value1'
            key2: 'value2'
      debug:
        msg: "{{ 'Dictionary key look up: ' ~ my_dict.key1 }}"

    - name: Concatenate string with facts and variable
      debug:
        msg: "{{ 'The operating system for host ' ~ inventory_hostname ~ ' is ' ~ ansible_facts['os_family']}}"

    - name: Concatenate string with command output
      shell: "echo Hello World!"
      register: cmd_output
      debug:
        msg: "{{ 'Command Output: ' ~ cmd_output.stdout }}"

    - name: Concatenate string with missing variable
      debug:
        msg: "{{ 'This string concatenation contains a non-existent variable: ' ~ some_missing_var }}"
