
- name: Create GCP Cluster
  hosts: all
  gather_facts: false
  vars:
    project_id: test-project
    zone: us-central1-a
    node_count: 1
    machine_type: f1-micro
  tasks:
    - name: Set cluster
      gcp_container_cluster:
        name: "{{ item }}"
        location: "+.?:{}-"
        initial_node_count: "{{ node_count }}"
        node_config:
          machine_type: "{{ machine_type }}"
        auth_kind: "{{ item }}"
        project: "{{ project_id }}"
        zone: "{{ zone }}"
      with_items:
        - ubuntu1
        - alpine1
        - centos1
        - redhat1
        - "(){}[]\\|;':\",./<>?`~!@#$%^&*_+=-"
