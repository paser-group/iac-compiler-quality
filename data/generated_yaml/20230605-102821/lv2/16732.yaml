yaml
- name: SSH Connection Test
  hosts: all
  gather_facts: no
  tasks:
    - name: Test SSH Connection
      shell: ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -t localhost 'exit 0'
      register: ssh_test
      ignore_errors: true

    - name: SSH Test Results
      debug:
        var: "{{ item }}"
      with_items:
        - "{{ ssh_test.stdout }}"
        - "{{ ssh_test.stderr }}"
        - "{{ ssh_test.changed }}"
        - "{{ ssh_test.failed }}"
        - "{{ ssh_test.rc }}"
        - "{{ ssh_test.stderr_lines }}"
        - "{{ ssh_test.stdout_lines }}"
