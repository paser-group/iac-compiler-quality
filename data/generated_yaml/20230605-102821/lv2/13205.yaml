yaml
- name: Async error with check_mode
  hosts: all
  gather_facts: false
  tasks:

    - name: Task 1
      shell: "{{ body }}"

    - name: Task 2
      package:
        name: "{{ item }}"
        state: present
      loop:
        - git
        - curl
        - wget

    - name: Task 3
      command: "ping -c 1000 8.8.8.8"
      async: 100
      poll: 0
      ignore_errors: true

  check_mode: yes
