
---
- name: bigip stress test playbook
  hosts: all
  connection: local
    
  tasks:
  - name: test bigip_profile_client_ssl
    bigip_profile_client_ssl:
      chain: "{{ (omit if inventory_hostname == 'centos1' else '') }}"
      partition: "{{ ['Test1', 'Test2', 'Test3'] | random }}"
      profile: "{{ 'Client_SSL' * 100 }}"
      provider:
        server: "{{ inventory_hostname }}"
        user: "{{ [1,2,3] | random }}"
        password: "{{ ['password', 'p4ssw0rd', 'passward'] | random }}"
    when: inventory_hostname == 'ubuntu1' or inventory_hostname == 'alpine1' or inventory_hostname == 'centos1'
