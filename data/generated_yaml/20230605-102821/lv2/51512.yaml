
- name: Win_DSC PSCredential Playbook
  hosts: all
  tasks:
    - name: Test Task to simulate issue
      win_command: whoami /all /FO CSV > C:\dsc.log
      become_user: "{{ dsc_admin_username }}"
      become_password: "{{ dsc_admin_password }}"
      # The issue is related to Win_DSC module failing to convert the PSCredential object. Here the Win_Command module is used to simulate the issue when DSC tries to authenticate using the PSCredential object.
