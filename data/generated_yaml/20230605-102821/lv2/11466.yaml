
- name: Test Ansible compiler for 'stat' and 'command' modules with 'name' in tasks
  hosts: all
  gather_facts: no
  tasks:
    - name: Test task with variable name
      stat:
        path: "{{item}}"
      with_items:
        - "/etc/passwd"
        - "/etc/shadow"
        - "/etc/hosts"
        - "/tmp/file with spaces"
        - "/etc/sudoers.d/user {{item}}"
      register: output

    - name: Test command module with 'name' parameter
      command: "echo {{item}}"
      with_items:
        - "{{output.results}}"
