yaml
---
- name: Test playbook for Ansible tower_role module
  hosts: all
  gather_facts: no
  tasks:
    - name: Run tower_role module with unexpected input values
      tower_role:
        name: "{{ {} }}"
        description: "{{ [] }}"
        weight: "{{ not_existing_var }}"
        limit: "{{ 'invalid-' + ansible_host }}"
        options: "{{ true }}"
        tower_host: "{{ none }}"
        tower_username: "{{ not_existing_var | default('admin') }}"
        tower_password: "{{ item }}"
        organization: "{{ not_existing_dict['invalid'] }}"
        project: "{{ inventory_hostname | length }}"
        inventory: "{{ ansible_groups['non-existing-group'] }}"
        credential: "{{ range(5) | list | last }}"
        job_template: "{{ tower_username | length }}"
        extra_vars: "{{ {} | dict }}"
        validate_certs: "{{ 'yes' if ansible_distribution in ['CentOS', 'RedHat'] else 'no' }}"
        state: "{{ not_existing_var }}"
      loop:
        - "invalid-{{ ansible_host }}"
        - "@@@@invalid_password"
        - []
