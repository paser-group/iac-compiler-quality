
- name: Test Playbook
  hosts: all
  become: true
  gather_facts: false

  vars:
    tasks_list:
      - name: Task 1
        shell: echo {{ tasks_from }}
      - name: Task 2
        debug:
          msg: "{{ inventory_hostname }} doesn't have tasks_from variable"

  tasks:
    - name: Include Role with tasks list
      include_role:
        name: test_role
        tasks_from: "{{ tasks_list }}"
