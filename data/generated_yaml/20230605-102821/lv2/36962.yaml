
---
- name: Fix string/binary encoding issue in pull.py
  hosts: all

  tasks:
    - name: Copy binary file with mismatched permissions
      copy:
        src: /path/to/binary/file.bin
        dest: /tmp/binary_file.bin
        mode: '0777'

    - name: Print decoded binary content
      shell: "base64 -d /tmp/binary_file.bin | xxd"

    - name: Encode string with invalid characters
      shell: "echo 'invalid_ÿ_characters' | base64"

    - name: Create a symlink with a special character in the target name
      shell: "ln -s /tmp/regular_file /tmp/symlink_with_special_ç_character"

    - name: Delete file with wildcard in filename
      shell: "rm -f /tmp/*with_special_ç_character"

    - name: SSH to nodes with incorrect user and password
      expect:
        command: "ssh -o StrictHostKeyChecking=no wrong_user@{{ inventory_hostname }}"
        responses:
          "assword: ": "wrong_password"
      ignore_errors: yes

    - name: Run command with improper quoting
      shell: "echo 'improper 'quoting''"

    - name: Run a nested script with an invalid file path
      shell: "/path/to/script/does_not_exist.sh"
      ignore_errors: yes

    - name: Print current date on each node
      command: "date"
