
- name: Roles breaking change
  hosts: all
  vars:
    role_param: default_value
  tasks:
    - name: Loop
      debug:
        msg: "{{ item }}"
      loop: "{{ range(1, 1000) | list }}"
      when: role_param == default_value
    - name: Include role using param
      include_role:
        name: "{{ role_param }}"
  roles:
    - name: role1
      role: "{{ role_param }}"
      vars:
        role_param: 'new_value'
