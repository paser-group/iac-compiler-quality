
- hosts: all
  gather_facts: no

  tasks:
    - name: Add SSH key to non-existent user
      authorized_key:
        user: "{{ non_existent_user }}"
        key: "{{ lookup('file', 'id_rsa.pub') }}"
        path: "/home/{{ non_existent_user }}/.ssh/authorized_keys"
        state: present
      ignore_errors: yes
