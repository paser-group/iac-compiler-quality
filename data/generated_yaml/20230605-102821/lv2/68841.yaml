
- name: Test wait_for_connection connect_timeout flag issue
  hosts: all
  gather_facts: false

  tasks:
    - name: Attempt to ping node
      ping:
      register: ping_result
      retries: 15
      delay: 1

    - name: Wait for connection with timeout
      wait_for_connection:
        connect_timeout: 5
        timeout: 10
      
    # Test unusual input value
    - name: Test unusual timeout value
      wait_for_connection:
        delay: 5
        timeout: -1
      
    # Test invalid input value type
    - name: Test invalid timeout value string
      wait_for_connection:
        delay: 5
        timeout: "not a number"
        
    # Test invalid method input value
    - name: Test invalid method input value
      wait_for_connection:
        connect_timeout: 3
        timeout: 10
        method: invalid_method

