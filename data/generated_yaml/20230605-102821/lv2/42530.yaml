
- name: hostname module error inside LXD containers
  hosts: all
  gather_facts: no
  become: true

  tasks:
    - name: Check hostnamectl status inside LXD containers
      command: shell hostnamectl status
      register: hostnamectl_output
      ignore_errors: true

    - name: DEBUG: Show hostnamectl output
      debug:
        var: hostnamectl_output.stdout
