
---
- hosts: all
  tasks:
  - name: Test invalid remote temporary directory
    become: true
    command: >
      {{ 
        (item | regex_replace('["\\\\]', '\\\\$0')) # escape problematic characters
        | regex_replace('.*$', '/tmp/\\0')
      }}
    with_items:
      - '"/foo/bar\\"'
      - '"/foo\bar"'
      - '"/foo-"'
