
---
- name: Stress test for Ansible compiler
  hosts: all
  gather_facts: true
  tasks:
    - name: Configure repositories for Ubuntu 20.04
      apt_repository:
        repo: 'deb http://archive.ubuntu.com/ubuntu/ focal main restricted universe multiverse'
      when: inventory_hostname == 'ubuntu1'
    - name: Configure repositories for Alpine Linux
      apk_repository:
        name: 'http://dl-cdn.alpinelinux.org/alpine/v3.13/main/'
      when: inventory_hostname == 'alpine1'
    - name: Configure repositories for CentOS 8
      yum_repository:
        name: BaseOS
      when: inventory_hostname == 'centos1'
    - name: Configure repositories for Red Hat Enterprise Linux 8
      dnf_repository:
        name: 'rhel-8'
        baseurl: 'http://rhel-8.repo'
        gpgcheck: true
        gpgkey: 'http://rhel-8.repo.key'
      when: inventory_hostname == 'redhat1'
