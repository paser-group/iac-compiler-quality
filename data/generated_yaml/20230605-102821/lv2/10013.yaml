
- name: Inventory script errors stress test
  hosts: all
  serial: 1
  tasks:
    - name: Incorrect inventory file path
      command: cat /etc/hosts
      register: hosts_file
      ignore_errors: yes
      when: inventory_path == "/tmp/inventory.ini"
    - name: Execute non-existent command
      command: this_command_does_not_exist
      ignore_errors: yes
    - name: Invalid group name
      debug:
        msg: "This node is in the invalid group: {{ invalid_group }}"
      when: "'invalid_group' in group_names"
    - name: Execute a specific task on all nodes
      ping:
      register: ping_status
    - name: Print registration output
      debug:
        var: ping_status
