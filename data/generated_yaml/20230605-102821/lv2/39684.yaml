
- hosts: all
  gather_facts: false

  vars:
    default_role_vars:
      foo: "Original Value"
      bar: "Original Value"

  tasks:
    - name: "Include role and overwrite defaults"
      include_role:
        name: "test_role"
      vars:
        foo: "New Value"
        bar: "New Value"

    - name: "Verify default values for the role are not overwritten"
      assert:
        that: "foo == default_role_vars.foo and bar == default_role_vars.bar"
      failed_when: false
