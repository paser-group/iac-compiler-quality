
- name: Win route ignores prefix stress test
  hosts: windows
  tasks:
    - name: Add route with missing parameters
      win_route:
        destination:
          - "10.0.0.0/24"
        netmask:
          - "255.255.255.0"
        mask:
          - "255.255.255.0"
        gateway: 10.0.0.1
    - name: Add route with incorrect mask
      win_route:
        prefix:
          - "10.5.5.0/24"
        netmask:
          - "0.0.0.0"
        gateway: 10.5.5.1
    - name: Add route with incorrect destination
      win_route:
        prefix:
          - "30.0.0.256/24"
        netmask:
          - "255.255.255.0"
        gateway: 30.0.0.1
    - name: Add route with incorrect gateway
      win_route:
        prefix:
          - "172.16.0.0/16"
        netmask:
          - "255.255.255.0"
        gateway: "invalid"
    - name: Add route with extra parameter
      win_route:
        prefix:
          - "150.0.0.0/8"
        netmask:
          - "255.0.0.0"
        gateway: 150.0.0.1
        extra_param: "value"
