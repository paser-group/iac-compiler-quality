
- name: Stress Test on Ansible Compiler
  hosts: all
  gather_facts: yes
  vars:
    - var1: test
    - var2: 123
    - var3: "{{ var1 + var2 }}"
  tasks:
    - name: Test Case 1 - Integer vs String variable comparison
      debug:
        msg: "Variable comparison test: {{var2 == '123'}}"

    - name: Test Case 2 - Accessing an undefined variable
      debug:
        msg: "{{ var4 | default('Undefined variable accessed')}}"

    - name: Test Case 3 - Incorrect syntax in variable declaration
      debug:
        msg: "{{ var5: typo }}" # will result in a syntax error

    - name: Test Case 4 - Iterating over a non-list variable
      debug:
        msg: "{{ item }}"
      with_items: "{{ var2 }}" # var2 is an integer, not a list

    - name: Test Case 5 - Accessing a non-existent dictionary key
      debug:
        msg: "{{ dict1.nonexistent }}"

    - name: Test Case 6 - Attempting to modify an immutable variable
      set_fact:
        var1: "New Value"
      vars:
        - var1: frozenset(var1)
