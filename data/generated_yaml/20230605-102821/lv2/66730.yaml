
- name: Configure IOS interfaces
  hosts: all
  tasks:
    - name: Create loop to configure interfaces
      ios_command:
        commands:
          - "{{ item.state }} {{ item.interface }} description {{ item.description }}"
      with_items:
        - { state: "no", interface: "GigabitEthernet0/0", description: "{{body}}" }
        - { state: "shutdown", interface: "GigabitEthernet0/1", description: "({{comment}})" }
        - { state: "shutdown", interface: "GigabitEthernet0/2", description: "'{{body}}'" }
