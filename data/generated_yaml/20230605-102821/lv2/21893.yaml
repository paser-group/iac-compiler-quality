
---
- name: Test playbook for get_cpu_facts
  hosts: all

  tasks:
    - name: Gathering facts and performing critical arithmetic operations
      setup:
      register: facts

    - name: Manipulating cpu_facts to include invalid values
      set_fact:
        cpu_facts:
          cpu_count_physical: "{{ facts['ansible_processor_count'] }}"
          cpu_count_total: "{{ facts['ansible_processor_count'] }}"
          cpu_cores: "{{ 0 / 0 }}"
          cpu_threads: "{{ 2 ** 10000 }}"

    - name: Running get_cpu_facts method
      debug:
        var: cpu_facts
