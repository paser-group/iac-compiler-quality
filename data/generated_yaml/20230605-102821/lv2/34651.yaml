
- name: Test DNS order change
  hosts: all
  gather_facts: true

  tasks:
    - name: change DNS resolvers order
      win_dns_client:
        adapter_names: Ethernet
        ipv4_addresses: 
          - 10.1.1.1
          - 10.1.1.2
        state: present
      register: result

    - name: reverse DNS resolvers order
      win_dns_client:
        adapter_names: Ethernet
        ipv4_addresses: "{{ result.ipv4_addresses | reverse }}"
        state: present
      register: result2

    - name: debug results
      debug:
        var: result2

...
