
- name: Ansible Compiler Stress Test
  hosts: all
  become: true

  tasks:
    - name: Execute command with an empty argument
      command: "{{ item }}"
      with_items:
        - ""
        - "ls"
        - "echo 'a'"
        - "python -c 'print(1+2)'"
        - "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}"
        - "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['netmask'] }}"
        - "{{ hostvars[inventory_hostname]['ansible_distribution'] }}"
        - "{{ hostvars[inventory_hostname]['ansible_architecture'] }}"
        - "{{ hostvars[inventory_hostname]['ansible_memtotal_mb'] + 1 }}"
        - "{{ hostvars[inventory_hostname]['ansible_processor_vcpus'] + 2 }}"
        - "{{ hostvars[inventory_hostname]['ansible_processor'] + 'does_not_exist'] }}"
        - "{{ hostvars[inventory_hostname]['ansible_distribution_major_version'] + 'abc'] }}"
      ignore_errors: true
