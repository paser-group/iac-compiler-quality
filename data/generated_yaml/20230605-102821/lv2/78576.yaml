
- name: Test playbook for looping over an empty list
  hosts: all
  gather_facts: no

  tasks:
    - name: Define an empty list
      set_fact:
        my_list: []

    # Create a list with an undefined variable
    - name: Test undefined variable error
      set_fact:
        my_var: "{{ invalid_var }}"

    # Test iterating over an empty list
    - name: Test looping over an empty list
      set_fact:
        my_var: "{{ item }}"
      loop: "{{ my_list }}"
