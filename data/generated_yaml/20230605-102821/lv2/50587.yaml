
- name: Test Ansible compiler for edgeos_facts module
  hosts: all
  become: true
  gather_facts: false

  tasks:
  - name: Retrieve configuration facts
    edgeos_facts:
      debug: true        # Using debug option
      provider: 
        host: '{{ ansible_host }}'
        username: admin
        password: password
        authorize: yes
        transport: ssh
        validate_certs: no  # Invalid value for an edge case
        auth_pass: password  # Invalid provision of pass
    register: edgeos_config

  - name: Print the config facts
    debug:
      var: edgeos_config

  - name: Test The Ansible compiler by executing an invalid module
    invalid_module:
      arg1: invalid_arg1
      arg2: invalid_arg2

  - name: Print debug information
    debug:
      msg: "Node {{ inventory_hostname }} with IP {{ ansible_host }} has edgeos_config {{ edgeos_config.stdout }}, running {{ ansible_distribution }} {{ ansible_distribution_version }}"
