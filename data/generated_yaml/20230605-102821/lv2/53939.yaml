
- name: Check Cisco WLC Connectivity
  hosts: all
  gather_facts: false
  tasks:
  - name: Wait for Connection
    wait_for_connection:
  - name: Check Cisco WLC connectivity
    aireos_command:
      controller_ip: "{{ ansible_host }}"
      username: "admin"
      password: "{{ lookup('file', '/path/to/password/file') }}"
      command_string:
        - "show version"
    with_items:
      - ubuntu1
      - alpine1
      - centos1
      - redhat1
