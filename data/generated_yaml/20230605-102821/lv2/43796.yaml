
---
- name: Perform stress test on Ansible compiler
  hosts: all
  gather_facts: false

  tasks:
    - name: Gather BigIP facts
      bigip_facts:
        gather_subset: system-info
        provider:
          server: "{{ item }}"
          user: admin
          password: "{{ lookup('file', '/etc/bigip_password.txt') }}"
      loop:
        - ubuntu1
        - alpine1
        - centos1
        - redhat1

    - name: Print BigIP facts
      debug:
        var: bigip_facts
