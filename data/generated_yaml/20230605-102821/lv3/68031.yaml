
- name: Test ANSIBLE_VYOS_TERMINAL_LENGTH type error
  hosts: vyos_device
  gather_facts: no
  become: true
  tasks:
    - name: Retrieve output with incorrect parameter type
      vyos_command:
        command_string: "show interfaces"
        params:
          width: foo
      register: cmd_output

    - name: Verify correct type error message
      fail:
        msg: "Test failed - Invalid width parameter not found."
      when: "'Invalid width parameter specified' not in cmd_output.stdout[0]"
