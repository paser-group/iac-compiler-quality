
- name: Update Route53 DNS Record
  hosts: localhost
  connection: local
  vars:
    aws_access_key: "<your_access_key>"
    aws_secret_key: "<your_secret_key>"
    zone_id: "<route53_zone_id>"
    record_set_name: "<dns_record_set_name>"
    record_type: "<dns_record_type>"
    region: "<aws_region>"
  tasks:
    - name: Create TXT record set
      route53:
        command: change_resource_record_sets
        hosted_zone_id: "{{ zone_id }}"
        record_set_name: "{{ record_set_name }}"
        record_type: "{{ record_type }}"
        ttl: 300
        resource_records: ["This is a sample txt record."]
        overwrite: true
        aws_access_key: "{{ aws_access_key }}"
        aws_secret_key: "{{ aws_secret_key }}"
        region: "{{ region }}"
      register: result

    - name: debug
      debug:
        var: result
