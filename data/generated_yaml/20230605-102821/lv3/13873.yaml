
- name: Ansible 2.0 hostgroup vars issues
  hosts: all
  vars:
    common_var: "default value"
    group1_var: "group1 value"
    group2_var: "group2 value"
    group3_var: "group3 value"
  groups:
    group1:
      hosts:
        ubuntu1:
    group2:
      vars:
        common_var: "overridden value"
      hosts:
        alpine1:
    group3:
      children:
        - group1
        - group2
      vars:
        group2_var: "overridden value"
        common_var: "overridden value"
      hosts:
        centos1:
        redhat1:
  tasks:
    - name: Debug hostgroup vars evaluation 
      debug:
        msg: "common_var={{ common_var }}, group1_var={{ group1_var }}, group2_var={{ group2_var }}, group3_var={{ group3_var }}"
