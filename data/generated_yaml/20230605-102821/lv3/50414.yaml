
- name: Test Docker Image Pull Failure
  hosts: all
  become: true
  gather_facts: no

  tasks:
  - name: Launch Container with Image Error
    docker_container:
      name: test-image-retry
      image: non-existent-image
    ignore_errors: yes
    register: result
    until: result is succeeded
    retries: 3
