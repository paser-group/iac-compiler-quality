
---
- name: Test INTERPRETER_TYPE=INTERPRETER_PATH variable
  hosts: all
  become: true
  tasks:
    - name: create a simple bash script
      copy:
        dest: "{{ playbook_dir }}/test.sh"
        content: "#!/bin/bash\n echo 'Hello, World!'\n"
        mode: '0777'
    - name: execute the script with INTERPRETER_TYPE=INTERPRETER_PATH set
      shell: "{{ playbook_dir }}/test.sh"
      environment:
        INTERPRETER_TYPE: "/bin/bash"
        INTERPRETER_PATH: "/bin/bash"
