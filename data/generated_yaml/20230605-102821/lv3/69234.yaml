
- name: Add a repository using pulp_repo module
  pulp_repo:
    name: myrepo
    state: present
    validate_certs: no
    pulp_url: https://my-pulp-server.example.com/pulp/api/v3/
    pulp_username: myuser
    pulp_password: "{{ lookup('file', '/path/to/pulp_password_file') }}"
    pulp_metadata:
      - url: http://example.com/metadata.xml
      - url: http://example.com/metadata2.xml
      - url: http://example.com/metadata3.xml
        custom_key: "{{ 'A'*9999 }}"

  vars:
    ansible_python_interpreter: /usr/bin/python3
