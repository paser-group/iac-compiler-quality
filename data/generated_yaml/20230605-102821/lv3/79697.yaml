
- name: Install Ansible collection
  hosts: all
  gather_facts: false
  vars:
    ansible_python_interpreter: "/usr/bin/python3"
  become: true
  tasks:
  - name: Update apt cache
    apt:
      update_cache: yes
  - name: Install pip
    apt:
      name: python3-pip
      state: latest
  - name: Install Ansible collection
    pip:
      name: ansible-collection
      state: latest
      extra_args: >-
        --isolated --index-url=https://pypi.org/simple --trusted-host pypi.org --trusted-host files.pythonhosted.org
