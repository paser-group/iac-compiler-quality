
---
- name: Ansible Playbook to replicate issue with include_role not getting default variable values
  hosts: all
  gather_facts: no
  vars:
    my_var: "default-value"
  tasks:
    - name: Include Role and Print Variable
      include_role:
        name: my_role
      vars:
        my_var: "{{my_var}}"
      register: role_result

    - debug:
        var: role_result.result.my_var
