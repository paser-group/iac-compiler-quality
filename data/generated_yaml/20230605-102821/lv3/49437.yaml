
- name: Ensure Tower Credential is Absent
  tower_credential:
    name: test_cred
    state: absent

- name: Ensure Tower Credential is Present
  tower_credential:
    name: test_cred
    organization: Default
    description: test credential
    kind: ssh
    ssh_username: admin
    ssh_password: changeme
    become_method: sudo
    become_username: root
    become_password: changeme
    ssh_key_data: |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEpAIBAAKCAQEAy7zuZ1ouWJT0fVfHJJoiMJaJ9kQuKU769lY6NjWswyDYZlaD
      3rSbjX1h+wT5gGf2VGLCMBVWJhkCNSWOl2jRCFm+jx9qVJtVwvCX
      -----END RSA PRIVATE KEY-----
    state: present
