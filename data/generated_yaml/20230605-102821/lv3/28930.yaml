
- name: Create GCE instance template on non-default network
  gce_instance_template:
    name: my-template
    machine_type: n1-standard-1
    disks:
      - auto_delete: true
        boot: true
        initialize_params:
          source_image: projects/my-project/global/images/my-image
          disk_type: pd-standard
          disk_size_gb: 30
    network_interfaces:
      - network: https://www.googleapis.com/compute/v1/projects/my-project/global/networks/my-network-non-default
        access_configs:
          - name: External NAT
            type: ONE_TO_ONE_NAT
