
- name: Determine Default Gateway
  hosts: all
  gather_facts: true
  
  tasks:
    - name: Get default gateway IP
      shell: "ip r | grep default | awk '{print $3}'"
      register: default_gateway
      
    - name: Print default gateway IP
      debug:
        var: default_gateway.stdout_lines
      
    - name: Get default gateway interface
      shell: "ip r | grep default | awk '{print $5}'"
      register: default_interface
      
    - name: Print default gateway interface
      debug:
        var: default_interface.stdout_lines
