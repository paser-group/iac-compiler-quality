
- name: Attempt to connect to a host with an incorrect hostname
  hosts: ubuntu1
  gather_facts: no
  become: true
  tasks:
    - name: Print the hostname of the target host
      debug:
        var: inventory_hostname
    - name: Attempt to ping the non-existent host with an incorrect hostname
      ping:
      delegate_to: '{{ inventory_hostname }}-invalid'
    - name: Verify that the privilege escalation prompt times out on a hostname mismatch
      command: id
      become: true
      become_method: sudo
      become_user: root
      ignore_errors: true
