
- name: HP-UX B.11.11 node memory check
  hosts: hpux
  gather_facts: yes
  tasks:
    - name: Fetch memtotal_mb fact
      setup:
      register: mem_result
      when: ansible_distribution == "HP-UX" and ansible_distribution_version == "B.11.11"
    
    - name: Print memtotal_mb fact
      debug:
        var: mem_result['ansible_facts']['memtotal_mb']
      when: mem_result is defined and mem_result['ansible_facts']['memtotal_mb'] is defined
