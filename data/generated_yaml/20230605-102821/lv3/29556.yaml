
- name: Create a GCE instance with specified service account
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Create instance with specified service account
      gce:
        instance_names: gce-instance-1
        zone: us-central1-a
        machine_type: n1-standard-1
        image_family: debian-10
        service_account_email: "{{ service_account_email }}"
        auth_kind: serviceaccount
        service_account_file: /path/to/service-account.json
