
- hosts: all
  become: true

  vars:
    packages:
      - apache2
      - vim
      - curl
      - nginx
      - telnet

  tasks:
    - name: Install packages with apt
      apt:
        name: "{{ item }}"
      loop: "{{ packages }}"
      when: "'apt-' in item"

    - name: Install packages with yum
      yum:
        name: "{{ item }}"
      loop: "{{ packages }}"
      when: "'yum-' in item"
