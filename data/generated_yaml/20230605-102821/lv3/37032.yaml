
- name: Infoblox NIOS Argument IPv4Addrs Error
  hosts: localhost
  gather_facts: no
  vars:
    nios_host: "<infoblox_nios_host>"
    nios_username: "<infoblox_nios_username>"
    nios_password: "<infoblox_nios_password>"
  tasks:
    - name: Create Host Record with IPv4Addrs
      infoblox_nios:
        host: "{{ nios_host }}"
        username: "{{ nios_username }}"
        password: "{{ nios_password }}"
        https: yes
        validate_certs: no
        action: create
        object: record:host
        name: "host1.example.com"
        ipv4addrs:
          - ipv4addr: "{{ hostvars['ubuntu1']['ansible_default_ipv4']['address'] }}"
          - ipv4addr: "{{ hostvars['alpine1']['ansible_default_ipv4']['address'] }}"
          - ipv4addr: "{{ hostvars['centos1']['ansible_default_ipv4']['address'] }}"
          - ipv4addr: "{{ hostvars['redhat1']['ansible_default_ipv4']['address'] }}"
        configure_for_dns: yes
        extattrs:
          Tenant: "{{ 'test' }}"
