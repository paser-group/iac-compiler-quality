
- name: Create network interface mapping fact file
  hosts: all
  become: true
  gather_facts: true
  tasks:
    - name: Create network interface mapping fact
      copy:
        dest: /etc/ansible/facts.d/network_interface_mapping.fact
        mode: '0644'
        content: |
          #!/usr/bin/env bash
          
          echo '{"ansible_interfaces": ["eth0", "eth1"]}'
      tags:
        - interface_fact
