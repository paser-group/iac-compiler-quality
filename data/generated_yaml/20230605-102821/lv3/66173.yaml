
- name: Login to Ansible Tower
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Attempt login with invalid credentials
      uri:
        url: https://{{ ansible_tower_host }}/api/v2/authtoken/
        method: POST
        force_basic_auth: yes
        user: "{{ ansible_user }}"
        password: "invalid_password"
        status_code: [401]
      register: login_response
    
    - name: Display authentication status
      debug:
        var: login_response.json['detail']
