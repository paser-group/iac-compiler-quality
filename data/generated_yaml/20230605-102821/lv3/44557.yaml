
---
- name: "Configure S3 Bucket Lifecycle Policy"
  hosts: localhost
  gather_facts: no
  become: yes

  tasks:
  - name: Add a lifecycle configuration to S3 Bucket
    amazon.aws.aws_s3_lifecycle:
      region: "<s3_region>"
      bucket: "<s3_bucket_name>"
      rules:
      - id: "delete-logs-after-30-days"
        expiration:
          days: "30"
        filters:
          prefix: ""  # This is the issue identified in the GitHub issue, where the prefix is not specified causing an error.
