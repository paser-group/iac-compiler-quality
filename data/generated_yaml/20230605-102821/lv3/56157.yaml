
- name: Test nxos_facts module for interface data
  hosts: nexus_switches
  gather_facts: false
  vars:
    ansible_network_os: nxos
  tasks:
  - name: Gather nexus switch facts
    nxos_facts:
      transport: nxapi
      provider:
        host: "{{ inventory_hostname }}"
        username: "{{ ansible_user }}"
        password: "{{ nxos_password }}"
    ignore_errors: true
  - name: Print nexus switch interface data 
    debug:
      var: ansible_net_interfaces
