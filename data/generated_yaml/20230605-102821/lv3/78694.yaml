
---

- name: Run command module
  hosts: all
  gather_facts: no

  tasks:
    - name: Execute 'sleep 10' command
      command: sleep 10
      register: result

    - name: Debug result
      debug:
        var: result.stdout_lines

    - name: Soft-fail on errors
      command: /bin/false
      ignore_errors: true

    - name: Check for errors
      fail:
        msg: "Command execution failed!"
      when: result.rc != 0

...
