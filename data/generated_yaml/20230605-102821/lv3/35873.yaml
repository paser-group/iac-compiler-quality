
- name: Connect to Docker node and retrieve IP address
  hosts: all
  gather_facts: yes
  tasks:
  - name: Retrieve IP address of node
    shell: ip address show eth0 | grep -Po 'inet \K[\d.]+'
    register: node_ip
  - name: Print IP address of node
    debug:
      msg: "{{ node_ip }}"
  - name: Access ansible_default_ipv4 and print its value
    debug:
      msg: "{{ ansible_default_ipv4 }}"
