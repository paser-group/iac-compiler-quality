
- name: Download file from s3
  hosts: all
  gather_facts: no
  
  vars:
    bucket_name: "my-bucket"
    object_key: "path/to/file"
    version_id: None # non-existent version ID
  
  tasks:
  - name: Download the file
    aws_s3:
      bucket: "{{ bucket_name }}"
      object: "{{ object_key }}"
      version: "{{ version_id }}"
      dest: "/tmp/file"
    register: s3_result

  - debug:
      var: s3_result
