yaml
- name: Clone repository using Ansible Git module
  hosts: all
  remote_user: ansible
  become: true
  gather_facts: false

  vars:
    git_repo: https://github.com/user/repo.git

  tasks:
    - name: Ensure SSH keys are trusted
      shell: ssh-keyscan github.com >> ~/.ssh/known_hosts

    - name: Clone repo
      git:
        repo: "{{ git_repo }}"
        dest: /home/ansible/repo
