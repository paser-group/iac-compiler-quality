
- name: Test get_url module
  hosts: localhost
  gather_facts: no

  tasks:
  - name: Download file using get_url
    get_url:
      url: "https://example.com/file.txt"
      dest: "/tmp/file.txt"
      headers:
        User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"
      validate_certs: true
      force: true
      timeout: 10

  - name: Print contents of download file
    shell: cat /tmp/file.txt
    register: file_contents

  - name: Print debug information
    debug:
      var: file_contents
