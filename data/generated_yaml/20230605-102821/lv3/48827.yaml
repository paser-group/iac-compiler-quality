
---
- name: Test lookup with default filter
  hosts: all

  tasks:
    - name: Set variable with undefined value
      set_fact: 
        body: "{{ undefined_var }}"

    - name: Use lookup with default filter
      debug:
        var: "{{ lookup('file', '{{ body | default('default_value') }}') }}"
