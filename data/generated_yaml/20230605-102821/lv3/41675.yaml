
- name: Test Jinja2 Scoped Blocks with Default Variables
  hosts: all
  vars:
    my_var: default_value
  tasks:
    - name: Print Parent Variable Value
      debug:
        var: my_var
    - name: Child Task to Override Variable
      vars:
        my_var: child_value
      debug:
        var: my_var
    - name: Assertion to Ensure Child Variable is Used
      assert:
        that: my_var == "child_value"
        fail_msg: "Scoped block is not working with default variables"
        success_msg: "Scoped block is working with default variables"
