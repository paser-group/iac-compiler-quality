
- name: Configure network settings of nodes
  hosts: all
  become: true
  vars:
    network_subnet: "10.1.1.0/24"
    gateway_ip: "10.1.1.254"
    node_ips:
      ubuntu1: "10.1.1.1"
      alpine1: "10.1.1.2"
      centos1: "10.1.1.3"
      redhat1: "10.1.1.4"
  tasks:
    - name: Add network interface details to nodes
      network:
        interface: "{{ item.key }}"
        address: "{{ item.value }}"
        netmask: "{{ network_subnet }}"
        gateway: "{{ gateway_ip }}"
      with_dict: "{{ node_ips }}"
