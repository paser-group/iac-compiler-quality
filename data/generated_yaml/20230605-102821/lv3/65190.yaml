
---

- name: Add new NIC to the VM
  hosts: localhost
  gather_facts: no
  vars:
    vm_name: test-vm
  tasks:
    - name: Add NIC to VM
      ovirt_nic:
        auth: "{{ ovirt_auth }}"
        vm_name: "{{ vm_name }}"
        interface: virtio
        name: nic2
        network: "{{ network }}"
        data_center: "{{ data_center }}"
      register: nic_result

    - debug:
        var: nic_result

  vars_files:
    - ~/ovirt_auth.yml
  vars_prompt:
    - name: "network"
      prompt: "Enter the network name"
    - name: "data_center"
      prompt: "Enter the data center name"
