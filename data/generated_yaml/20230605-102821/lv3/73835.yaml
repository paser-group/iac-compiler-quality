
---
- name: Testing Ansible Role Inheritance
  hosts: localhost
  gather_facts: false
  roles:
    - parent
    - child1
    - child2
  vars:
    ansible_private_role_vars: true

  tasks:
    - name: Print variable role_var of child1
      debug:
        var: role_var

    - name: Print variable role_var of child2
      debug:
        var: role_var

- name: Parent Role
  vars:
    role_var: "parent"

- name: Child 1 Role
  vars:
    role_name: "child 1"
  roles:
    - parent

- name: Child 2 Role
  vars:
    role_name: "child 2"
  roles:
    - parent
