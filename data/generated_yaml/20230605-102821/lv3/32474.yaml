
- name: Import RHEL7 public key for package verification
  rpm_key:
    key: "{{ lookup('file', 'RPM-GPG-KEY-redhat-release') }}"
    state: present

- name: Add Red Hat Enterprise Linux 7 repository
  yum_repository:
    name: rhel-7
    description: Red Hat Enterprise Linux 7
    baseurl: https://cdn.redhat.com/content/dist/rhel/server/7/$releasever/$basearch/os/
    gpgcheck: yes
    gpgkey: file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release-wrong

- name: Install package from the RHEL7 repository
  yum:
    name: package-name
    state: present
    enablerepo: rhel-7
