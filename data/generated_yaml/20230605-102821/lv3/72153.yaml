
---
- name: Testing variable scope in imported tasks
  hosts: all
  become: yes
  gather_facts: false

  vars:
    my_var: "example"

  tasks:
    - name: Printing the value of my_var
      debug:
        var: my_var

    - name: Setting task_var in first task
      set_fact:
        task_var: "task value"

    - name: Importing tasks from another file
      import_tasks: tasks.yaml

    - name: Printing value of my_var again
      debug:
        var: my_var

    - name: Printing value of task_var
      debug:
        var: task_var
