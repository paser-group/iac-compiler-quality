
---
- hosts: all
  gather_facts: false

  vars:
    username: "admin"
    password: "{{ lookup('file', '<path_to_password_file>') }}"
    url: "http://www.example.com/path/to/resource"

  tasks:
    - name: Get Request with Basic Authentication with Force Basic Auth on Uri Module
      uri:
        url: "{{ url }}"
        user: "{{ username }}"
        password: "{{ password }}"
        force_basic_auth: yes
        method: GET
        return_content: yes
      register: uri_result

    - name: Display the returned content
      debug:
        var: uri_result.content
