
---
- name: Get disk information
  hosts: all
  gather_facts: true
  become: true
  
  tasks:
    - name: Create large files to fill up disk space
      command: dd if=/dev/zero of=/var/tmp/file bs=1M count=10000
      run_once: true

    - name: Get disk information for all devices
      debug:
        msg: "{{ ansible_facts.devices }}"

    - name: Remove large files to free up space on disks
      command: rm /var/tmp/file
      run_once: true
