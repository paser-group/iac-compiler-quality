
- name: Debug when conditional
  hosts: all
  gather_facts: false
  vars:
    list_var:
      - item1
      - item2
  tasks:
    - debug:
        var: item
      when: item == "item1"
      with_items: "{{ list_var }}"
    - debug:
        var: item
      when: item == "item2"
      with_items: "{{ list_var }}"
