yaml
---
- name: Test gcp_container_cluster module for location field error
  hosts: localhost
  vars:
    project_id: "my-gcp-project"
    cluster_name: "my-gke-cluster"
    zone: "us-central1-a"
    node_count: 3
  tasks:
  - name: Create a cluster with the location field
    gcp_container_cluster:
      name: "{{ cluster_name }}"
      project: "{{ project_id }}"
      node_pools:
      - name: default-node-pool
        initial_node_count: "{{ node_count }}"
        auto_repair: true
      location: "us_unsupported_location"
    register: gke_cluster_result
  - name: Print the output of the gcp_container_cluster module
    debug:
      var: gke_cluster_result
