
- name: Run pkg update and install nginx
  hosts: centos1
  become: true
  vars:
      install_directory: "/var/www"
  tasks:
      - name: Install Packages
        yum:
          name: nginx 
          state: present
        register: installed_package
      
      - name: Check if package installed
        debug:
          var: installed_package
      
      - name: Create a Directory in the Specified Directory
        file:
          path: "{{install_directory}}/nginx"
          state: directory
          mode: '0755'
        register: created_directory
      
      - name: Perform OS Update and Upgrade
        command: "yum update -y"
      
      - name: Execute a Package Update
        command: "yum install -y epel-release"      
      
      - name: Check if directory was created
        debug:
          var: created_directory
