yaml
---
- name: Copy large file
  hosts: all
  gather_facts: no
  tasks:
  - name: Create large file
    block:
      - command: "dd if=/dev/urandom of=/tmp/largefile bs=1MB count=5120"
        check_mode: no
    when: inventory_hostname == 'ubuntu1'
  - name: Copy file to remote node
    copy:
      src: "/tmp/largefile"
      dest: "/home/ansible/largefile"
      remote_src: yes
    when: inventory_hostname != 'ubuntu1'
