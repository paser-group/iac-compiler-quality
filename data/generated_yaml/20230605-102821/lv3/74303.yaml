
- name: Task with loop
  hosts: all
  gather_facts: false
  vars:
    list: [1, 2, 3, 4, 5]
  tasks:
    - name: Loop through the list
      debug:
        msg: "{{ item }}"
      loop: "{{ list }}"
      loop_control:
        label: "{{ item }}"
      rescue:
        - name: Handle exception
          debug:
            msg: "Exception occurred in {{ item }}"
          vars:
            ansible_failed_task: "{{ item }}"

- name: Task without loop
  hosts: all
  gather_facts: false
  tasks:
    - name: Non-loop task
      debug:
        msg: "Non-loop task executed successfully"
