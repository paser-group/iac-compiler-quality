
- name: Test gce.py inventory script
  hosts: localhost
  vars:
    gce_project: "my-test-project"
    gce_zone: "us-west1-a"
  tasks:
    - name: Fail with ResourceNotFoundError
      gce_compute:
        auth_kind: "serviceaccount"
        service_account_file: "{{ path_to_service_account }}"
        project_id: "{{ gce_project }}"
        zone: "{{ gce_zone }}"
        instance_name: "non-existent-instance"
        register: result
      ignore_errors: true

    - name: Print debug information
      debug:
        var: result
