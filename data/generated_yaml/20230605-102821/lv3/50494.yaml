
- name: Execute command on network device
  hosts: juniper_switch
  gather_facts: no

  vars:
    ansible_become: yes
    ansible_become_method: enable
    ansible_user: "{{ inventory_hostname }}"
    ansible_password: "{{ lookup('file', '/path/to/password/file') }}"
    ansible_network_os: junos

  tasks:
    - name: Configure VLAN 100 on the switch
      juniper_junos_command:
        command: set vlans VLAN100 vlan-id 100
      become: yes
