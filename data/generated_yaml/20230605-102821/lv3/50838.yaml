
- hosts: localhost
  gather_facts: no
  tasks:
    - name: Generate MAC address with prefix of length 2
      set_fact:
        mac_address: "{{ '00:' ~ '1A:2B:3C:4D:5E'|random_mac(start=0, prefix_length=2) }}"
    
    - name: Ensure that MAC address has correct prefix
      assert:
        that:
          - mac_address.startswith('00:1A:2B')
          
    - name: Generate MAC address with prefix of length 4
      set_fact:
        mac_address: "{{ '00:11:22:33:44:55'|random_mac(start=0, prefix_length=4) }}"
    
    - name: Ensure that MAC address has correct prefix
      assert:
        that:
          - mac_address.startswith('00:11:22:33')
