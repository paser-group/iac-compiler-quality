
- name: Retrieve facts from Auto Scaling Groups with limited permissions
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Gather ec2_asg facts with limited permissions
      ec2_asg_facts:
        region: us-east-1
        aws_access_key: "<ACCESS_KEY>"
        aws_secret_key: "<SECRET_KEY>"
        profile: "<PROFILE_NAME>"

      register: ec2_asg_info

    - name: Display facts
      debug:
        var: ec2_asg_info
