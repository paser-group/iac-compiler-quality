
- name: Create or Edit ovirt network
  ovirt_network:
    auth: "{{ ovirt_auth }}"
    state: "{{ network_state | default('present') }}"
    cluster: "{{ cluster_name }}"
    name: "{{ network_name }}"
    vlan_tag: "{{ vlan_tag | default(omit) }}"
    id: "{{ network_id | default(omit) }}"
    network_attachments:
      - name: "{{ network_name }}-{{ cluster_name }}-nic01"
        interface: "{{ vm_interface }}"
        nic: "{{ vm_nic }}"
        network: "{{ network_name }}"
    data_center: "{{ data_center_name }}"
    usages:
      - {{ network_usages | to_json }}
