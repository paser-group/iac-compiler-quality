
- name: Generate inventory report with template module
  hosts: all
  tasks:
    - name: Create inventory file
      copy:
        content: |
          [ubuntu]
          ubuntu1 ansible_host=10.1.1.1

          [alpine]
          alpine1 ansible_host=10.1.1.2

          [centos]
          centos1 ansible_host=10.1.1.3

          [redhat]
          redhat1 ansible_host=10.1.1.4
        dest: /etc/ansible/inventory.ini

    - name: Generate report
      template:
        src: inventory_report.j2
        dest: /var/tmp/inventory_report.txt
