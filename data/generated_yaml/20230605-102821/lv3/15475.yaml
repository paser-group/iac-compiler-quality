
- name: Simulate with_dict incorrect behaviour
  hosts: all
  tasks:
    - name: Define the variables
      set_fact:
        my_dict:
          key1: "{{ var1 }}"
          key2: "{{ var2 }}"
          key3: "{{ var3 }}"
    - name: Execute with_dict loop
      with_dict: "{{ my_dict }}"
      debug:
        msg: "{{ item.value }}"
