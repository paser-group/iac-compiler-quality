
- name: Install role from Git repository
  hosts: all
  tasks:
    - name: Install myrole from GitHub
      git:
        repo: https://github.com/myuser/myrole.git
        version: master
        dest: /etc/ansible/roles/myrole
        accept_hostkey: yes
        key_file: /path/to/private/key

    - name: Verify Git repository
      shell: |
        cd /etc/ansible/roles/myrole
        git status
      register: git_output

    - name: Display Git errors
      debug:
        var: git_output.stderr
      when: "'fatal: ' in git_output.stderr"
