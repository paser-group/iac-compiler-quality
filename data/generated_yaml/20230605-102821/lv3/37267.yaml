
- name: ELB Target Group - Create
  hosts: localhost
  gather_facts: False
  vars:
    ec2_region: "us-east-1"
    elb_region: "us-east-1"
    elb_name: "my-elb"
    target_group_name: "my-target-group"
    vpc_id: "vpc-12345678"
  tasks:
    - name: Create ELB Target Group with unsupported API Version
      elb_target_group:
        name: "{{ target_group_name }}"
        protocol: "HTTP"
        port: 80
        vpc_id: "{{ vpc_id }}"
        target_type: "instance"
        health_check_protocol: "HTTP"
        health_check_port: 80
        health_check_interval: 6
        health_check_timeout: 5
        health_check_path: "/index.html"
        deregistration_delay_timeout: 10
        aws_access_key: "{{ aws_access_key }}"
        aws_secret_key: "{{ aws_secret_key }}"
        region: "{{ elb_region }}"
        target_group_arn: "{{ target_group_arn }}"
        api_version: "2014-10-31"
