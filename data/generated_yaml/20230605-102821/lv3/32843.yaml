
- hosts: all
  gather_facts: False
  tasks:
    - name: Create CloudWatch event rule
      cloudwatchevent_rule:
        name: 'my_rule'
        schedule_expression: 'rate(10 minutes)'
        state: 'present'
        targets:
          - id: 'target1'
            arn: 'arn:aws:lambda:us-east-1:123456789012:function:my-function'
            role_arn: 'arn:aws:iam::123456789012:role/my-service-role'
      register: result

    - debug:
        var: result
