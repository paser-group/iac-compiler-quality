
- name: Test get_file_parser() function with incorrect number of arguments
  hosts: all
  tasks:
  - name: Download a file using get_url
    get_url:
      url: "https://raw.githubusercontent.com/user/repo/master/file.ext"
      dest: "/var/tmp/file.ext"
    register: file_download
    
  - name: Parse the downloaded file for data
    set_fact:
      file_data: "{{ lookup('file', file_download.dest) }}"
      
  - name: Call get_file_parser() function with incorrect arguments
    set_fact:
      parser_output: "{{ get_file_parser(file_data, dummy_argument) }}"

  - debug:
      var: parser_output
