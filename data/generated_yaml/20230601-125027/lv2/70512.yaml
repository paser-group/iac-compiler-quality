
- name: Test ansible_user_* facts with become_method
  hosts: all
  gather_facts: false

  tasks:
    - name: Test ansible_user_* with sudo
      become: true
      become_method: sudo
      debug:
        var: ansible_user_name

    - name: Test ansible_user_* with su
      become: true
      become_method: su
      debug:
        var: ansible_user_name

    - name: Test ansible_user_* with default become_method
      become: true
      debug:
        var: ansible_user_name

- name: Test ansible_user_* facts with unexpected inputs
  hosts: all
  gather_facts: false

  tasks:
    - name: Test ansible_user_* with integer value
      debug:
        var: ansible_user_1

    - name: Test ansible_user_* with non-existing value
      debug:
        var: ansible_user_non_existing
