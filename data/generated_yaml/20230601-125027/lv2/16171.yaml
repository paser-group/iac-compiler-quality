
---
- hosts: all
  gather_facts: false
  tasks:
  - name: Install boto3 and botocore python packages
    apt:
      name:
        - python3-pip
        - python3-boto3
        - python3-botocore
      state: present
  - name: Create a new HTTPS listener for an existing ELB with a non-existent SSL certificate ID
    aws_elb:
      state: present
      name: my-elb
      listeners:
        - protocol: https
          load_balancer_port: 443
          instance_port: 80
          ssl_certificate_id: arn:aws:iam::123456789012:server-certificate/invalid-cert-id
    register: result
  - name: Print output of the task
    debug:
      msg: "{{ result }}"
