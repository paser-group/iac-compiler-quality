
- name: Mount NFS storage on nodes
  hosts: all
  gather_facts: false
  vars:
    nfs_share: "{{ nfs_share_path }}"

  tasks:

  - name: Mount NFS share
    mount:
      path: "/mnt/nfs_share"
      src: "{{ nfs_share }}"
      fstype: nfs
      opts: "rw,sync"

  - name: Verify mount
    stat:
      path: "/mnt/nfs_share"
    register: mount_result

  - name: Display mount status
    debug:
      var: mount_result

