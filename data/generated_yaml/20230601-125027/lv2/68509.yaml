
- name: Test authorized_key module when user doesn't exist and path isn't default
  hosts: node-net
  tasks:
    - name: Add public key for non-existent user with custom path
      authorized_key:
        user: non_existent_user
        state: present
        key: "{{ item }}"
        path: "/tmp/{{ item }}"
      with_items:
        - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDng6hZIH3qvEtOuNv7xPhFi0Ju7TAsUfFp5PWG/mXrRMRc1O+xolLR0dvtUNeDgADawW2TT5hzUaCRvNygEBDiH6OyQTgY8hX0D6VvZatd/s5D1PjKs+xUgviZHmFiK8xZaZG4YLMd2LoVA+mdFBQrrOx7vxNsrUAbBj8+GJuwSPTaOFLVGH9gpOImhPDPu/KwR/iIaCV8V4qFbcvCtjzv7EEmmRhqnm7S9sJRMnnQz2jwnY/pZfUsxXOdygrr2/RhVLFhSh43ETfIKOAL+9dINEkQI9i2/kQkup1QvORTUTnKq31ZfNf0NIeYpSb7pWGV8TAqO7JFV1G3nUd"
        - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC/K1jQn0op0sFgD278/l8HZ6E52V+xWe+IY+sqD0a/d/9DBkN/iMPxG7b6nD111KCSfz+Mc1nSpxObyaLh2tWTf1eiODQhJeoPvODV6nN+ccRs9/F/b3atVnOeqMgj2lQy5zEgwlXsPEPFpLY0CrJrUklZ76VjGdZUyoQa+ebrRN6mm95LwwpnRIE8OGJEuGnqSJHwFf07uHwmzIe4xsXqe2DyF6oItxUAuLCaI2xNQEJyr8h7m3C1KtMKbBzYvD88TN5BmWT8i8NzAdIPKCLLHnS2lC5mJgWITuFvY1Kl7Jez+R6YfVVzua0ZPYI0oE7wSI9gj8busB"
      ignore_errors: true
