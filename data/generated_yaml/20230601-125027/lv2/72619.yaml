
- name: Generate stress test for inventory plugin
  hosts: all
  gather_facts: no
  tasks:
  - name: Ping all nodes
    ping:
  - name: Install required package
    apt:
      name: '{{ item }}'
      state: present
    with_items:
    - haproxy
    - tree
    - nmap
    - net-tools
  - name: Create file with invalid syntax
    copy:
      content: '[[1,2,],]'
      dest: '/tmp/invalid_syntax.yml'
  - name: Attempt to use invalid variable
    debug:
      msg: '{{ foo.bar }}'
  - name: Execute a non-existent command
    command: 'non-existing-command'
    ignore_errors: yes
  - name: Attempt to access prohibited folder
    copy:
      content: 'dummy content'
      dest: '/sys/kernel/debug'
    become: yes
    become_method: su
    become_user: root
