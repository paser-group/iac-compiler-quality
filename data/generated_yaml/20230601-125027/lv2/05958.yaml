
- name: Test playbook for file module error
  hosts: all
  gather_facts: no

  tasks:
  - name: Create file with specific name and contents
    file:
      path: "{{ item.path }}"
      state: present
      owner: "{{ item.owner }}"
      group: "{{ item.group }}"
      mode: "{{ item.mode }}"
      content: "{{ item.content }}"
    with_items:
      - { path: "/tmp/testfile1", owner: "root", group: "root", mode: "0644", content: "{{ 'A'*1024*1024 }}" }
      - { path: "/tmp/testfile2", owner: "root", group: "root", mode: "0644", content: "{{ 'B'*1024*1024 }}" }
      - { path: "/tmp/testfile3", owner: "root", group: "root", mode: "0644", content: "{{ 'C'*1024*1024 }}" }

  - name: Execute commands with irregular syntax to test compiler
    command: "{{ item }}"
    with_items:
      - "echo '{{ item }}'"
      - "ls -l '{{ item }}'"
      - "mkdir -p /{{item}}"
      - "find / -name '{{item}}'"
