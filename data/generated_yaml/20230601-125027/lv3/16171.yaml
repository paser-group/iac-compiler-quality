
- name: Configure HTTPS Listener in AWS ELB
  hosts: localhost
  connection: local
  tasks:
  - name: Create HTTPS listener
    ec2_elb:
      name: "{{ elb_name }}"
      state: present
      listener:
        protocol: HTTPS
        load_balancer_port: 443
        instance_port: "{{ instance_port }}"
        ssl_certificate_id: "{{ certificate_id }}"
      policies: "{{ policy_names }}"
