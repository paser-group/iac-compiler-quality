
---
- name: Reproduce --tags no longer exit with error about not found tags
  hosts: all
  gather_facts: false

  tasks:
  - name: Task 1
    command: /bin/echo "Task 1"
    tags: task1, task2 # Non-existent tags

  - name: Task 2
    command: /bin/echo "Task 2"
    tags: task2, task3 # Non-existent tags

  - name: Check tags
    command: ansible-playbook playbook.yml --list-tags
    register: tag_output
    changed_when: false

  - name: Print tags
    debug:
      var: tag_output.stdout_lines
