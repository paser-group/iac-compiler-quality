
- hosts: all
  gather_facts: false
  vars:
    db_name: default_db #not providing the db name
    db_host: localhost
    db_user: root
    db_password: root

  tasks:
  - name: Connect to database and execute query
    mysql_db:
      name: "{{ db_name }}"
      state: dump
    become: true
    become_user: "{{ db_user }}"
    become_method: sudo
    delegate_to: "{{ db_host }}"
