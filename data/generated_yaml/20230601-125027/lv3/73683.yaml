
- name: Create directories
  hosts: all

  tasks:
    - name: Create authorized directory
      file:
        path: /home/ansible/directory1
        state: directory
        mode: 0755

    - name: Create unauthorized directory
      file:
        path: /unauthorized/directory2
        state: directory
        mode: 0755

    - name: Verify authorized directory creation
      stat:
        path: /home/ansible/directory1
      register: authorized_dir_result

    - name: Verify unauthorized directory creation
      stat:
        path: /unauthorized/directory2
      register: unauthorized_dir_result
    
    - name: Debug authorized directories
      debug:
        var: authorized_dir_result.stat.exists

    - name: Debug unauthorized directories
      debug:
        var: unauthorized_dir_result.stat.exists
