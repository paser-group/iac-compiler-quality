
- name: Gather facts from S3 bucket
  hosts: localhost
  gather_facts: no
  connection: local
  tasks:
    - name: Retrieve Bucket Facts
      aws_s3_bucket_facts:
        bucket: my_bucket_name
        aws_access_key: "{{ access_key }}"
        aws_secret_key: "{{ secret_key }}"
      register: s3_facts
    
    - name: Parse XML data
      set_fact:
        parsed_xml: "{{ s3_facts['s3_buckets'][0]['creation_date'] }}"
    
    - name: Print parsed data
      debug:
        var: parsed_xml
