
- hosts: all
  tasks:
    - name: Create lvol with float size and 'g' prefix
      lvol:
        vg: vg
        lv: test
        pvs: /dev/sda
        size: 1.5g
        state: present
      register: output
      
    - name: Check if lvol exists
      lvol:
        vg: vg
        lv: test
        pvs: /dev/sda
        size: 1.5g
        state: present
      register: output_new

    - name: Ensure lvol indempotency
      assert:
        that: output_new == output
