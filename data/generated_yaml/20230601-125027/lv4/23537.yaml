
---
- name: Check inventory file for errors
  hosts: localhost
  gather_facts: no
  vars:
    inventory_file_path: /path/to/inventory/file
  tasks:
    - name: Test inventory file
      command: ansible-inventory -i {{ inventory_file_path }} --syntax-check
      register: result
      ignore_errors: true
   
    - name: Display inventory file syntax errors
      debug:
        msg: "{{ result.stdout }}"
      failed_when: "'ERROR!'" in result.stdout
