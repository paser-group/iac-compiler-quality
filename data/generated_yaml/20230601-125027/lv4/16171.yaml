
- hosts: all
  gather_facts: no
  tasks:
    - name: Create AWS ELB with HTTPS Listener
      ec2_elb_lb:
        name: my-https-elb
        state: present
        listeners:
          - protocol: https
            load_balancer_port: 443
            instance_port: 443
            instance_protocol: https
            ssl_certificate_id: "{{ ssl_certificate_id }}"
            policy_names:
              - ELBSecurityPolicy-TLS-1-2-2017-01
            cipher_suite: "{{ cipher_suite }}"
      register: elb_result

    - name: Debug ELB result
      debug:
        var: elb_result
