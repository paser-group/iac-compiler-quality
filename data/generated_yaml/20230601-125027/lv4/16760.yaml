
- name: Attempt to get Ansible version information
  hosts: all
  vars:
    ansible_python_interpreter: /usr/bin/python3
  tasks:
    - name: Get Ansible version information
      command: ansible --version
      register: version_output
    - debug:
        var: version_output.stdout_lines
    - name: Get galaxy info with offline attribute included
      command: ansible-galaxy info --offline
      register: galaxy_output_offline
      ignore_errors: true
    - debug:
        var: galaxy_output_offline.stdout_lines
        msg: "Output with offline attribute"
    - name: Get galaxy info without offline attribute included
      command: ansible-galaxy info
      register: galaxy_output_no_offline
      ignore_errors: true
    - debug:
        var: galaxy_output_no_offline.stdout_lines
        msg: "Output without offline attribute"
