
- name: Test ansible-vault command without filename argument
  hosts: all
  tasks:
    - name: Create vault without filename
      command: ansible-vault create
      register: result
      ignore_errors: true
    - name: Check error message
      assert:
        that:
          - "'too few arguments' in result.stderr"
        fail_msg: "Unexpected error message"
