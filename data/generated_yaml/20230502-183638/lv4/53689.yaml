
---
- hosts: all
  gather_facts: no
  tasks:
    - name: Run a command that produces a 404 error
      command: /path/to/command
      register: cmd_result
      ignore_errors: true
  
    - name: Send a Slack notification if the command failed
      vars:
        slack_webhook: "<your-slack-webhook-url>"
        slack_message: "Task failed. Error 404 returned."
      slack:
        token: "{{ slack_webhook }}"
        msg: "{{ slack_message }}"
      when: cmd_result|failed
