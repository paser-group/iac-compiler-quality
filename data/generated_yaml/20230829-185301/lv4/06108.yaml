---
- name: Check Variable Types
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Set variable as integer
      set_fact:
        my_variable: 1234

    - name: Debug variable type
      debug:
        var: my_variable
        verbosity: 2

    - name: Check variable type
      command: echo "Variable is an integer"
      when: my_variable | type_debug == 'integer'

  post_tasks:
    - name: Debug output
      debug:
        msg: "Triggered a latent type-related bug"