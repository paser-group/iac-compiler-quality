
- name: Ansible 2.4 CallBackModule error?
  hosts: all
  vars:
    - invalid_host: "{{ hostvars['invalid_host'] }}"
  tasks:
    - name: Task 1 - Incorrect CallbackModule
      debug:
        msg: "This is a test message."
      register: result
      failed_when: result is not defined
      ignore_errors: true

    - name: Task 2 - Executing Command with expensive pipe sequence
      command: "{{ ('a' * 1000) | reverse | slice(2, 10, 2) }}"
      register: result
      ignore_errors: yes

    - name: Task 3 - File read error
      shell: cat /dev/null
      register: result
      failed_when: result.stderr is not defined
      ignore_errors: true

    - name: Task 4 - Invalid retry
      command: "/bin/false"
      register: result
      retries: "{{ invalid_host }}"
      ignore_errors: true

    - name: Task 5 - Unexpected Variable Format
      debug:
        msg: "The value of the variable foo is {{foo!}}"
      ignore_errors: true
