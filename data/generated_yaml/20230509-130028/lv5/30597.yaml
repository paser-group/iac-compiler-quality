yaml
- name: Test Callback Module
  hosts: localhost
  gather_facts: false
  vars:
    test_string: "test"
  tasks:
  - name: Run command using Shell module and Test the output
    shell: echo {{ test_string }}
    register: output_from_shell
  - name: Render a Jinja2 template and save output to a file
    template:
      src: some_template.j2
      dest: /home/user/output.txt
    register: output_from_jinja
  - name: Test CallbackModule using Ansible URI and Assert module
    uri:
      url: "https://some-api.com"
      method: POST
      headers:
         Content-Type: application/json
      body: "{{ some_json }}"
      status_code: 200
      return_content: true
    register: response_from_api
  - name: Ensure CallbackModule is executed with success
    assert:
      that:
        - response_from_api.response_data.result == "success"
      msg: "CallbackModule not executed successfully"
