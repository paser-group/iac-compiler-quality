
- name: Test playbook for Jinja2 if/else/endif syntax
  hosts: all
  vars:
    foo: true
    bar: false
  tasks:
    - name: Test if/else statement
      debug:
        msg: "Foo is true"
      when: foo == true
      else:
        debug:
          msg: "Foo is false"

    - name: Test nested if statement
      debug:
        msg: "Foo is true and bar is false"
      when: foo == true and bar == false

    - name: Test if statement inside loop
      debug:
        msg: "Current number is {{ item }}"
      loop: "{{ range(10) }}"
      when: item % 2 == 0

    - name: Test endif statement inside loop
      loop: "{{ range(5) }}"
      when: item % 2 == 0
      tasks:
        - name: Print even numbers
          debug:
            msg: "{{ item }}"
