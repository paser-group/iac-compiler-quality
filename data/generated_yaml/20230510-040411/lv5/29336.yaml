
- name: Create snapshot of container
  lxc_container:
    name: my_container
    snapshot: my_snapshot
  register: snapshot_result

- name: Clone the container snapshot
  lxc_container:
    name: my_container_clone
    clone: my_snapshot
  register: clone_result

- name: Start the new container
  lxc_container:
    name: my_container_clone
    state: started
  register: start_result

- name: Assert that the new container is started correctly
  assert:
    that:
      - start_result.state == 'started'
      - start_result.changed == True
      - clone_result.changed == True
