
- name: Test handling of full file system
  hosts: all
  tasks:
    - name: Create random file name
      set_fact:
        file_name: "{{ 'a' * ({{ (range(10, 20)|random) }}) }}{{ 'b' * ({{ (range(10, 20)|random) }}) }}"
    - name: Create file with random name
      file:
        path: "{{ file_name }}"
        state: touch
    - name: Remove file with the random name
      file:
        path: "{{ file_name }}"
        state: absent
