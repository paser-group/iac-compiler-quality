
- name: Create empty hosts file
  file:
    path: /etc/ansible/hosts
    state: touch

- name: Add invalid syntax to hosts file
  blockinfile:
    path: /etc/ansible/hosts
    block: |
        Invalid syntax

- name: Add valid hosts to hosts file
  blockinfile:
    path: /etc/ansible/hosts
    block: |
        [web]
        web1.example.com
        web2.example.com

- name: Clear host errors
  clear_host_errors:
