yaml
- name: Test privilege escalation mechanism and prompt handling
  hosts: all
  gather_facts: no
  
  vars:
    timeout_value: 10 
  
  tasks:
  
  - name: Verify connectivity to the device
    wait_for_connection:
      connect_timeout: 20
      timeout: 300

  - name: Test privilege escalation to enable mode
    ios_command:
      commands:
        - enable
      privilege: 15
      prompt: "[None]"
      answer: "password"
    register: enable_results
    
  - name: Print output and error messages
    debug:
     msg: "{{ enable_results.stdout }}\n{{ enable_results.stderr }}"
  
  - name: Test command handling
    ios_command:
      commands:
        - show version
    register: command_results

  - name: Print output and error messages
    debug:
     msg: "{{ command_results.stdout }}\n{{ command_results.stderr }}"
