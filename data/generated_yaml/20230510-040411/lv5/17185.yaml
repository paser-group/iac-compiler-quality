
- name: Test variable parsing
  hosts: localhost
  gather_facts: no
  vars:
    test_var: "{{ default(int) }}"

  tasks:
    - name: Debug variable
      debug:
        var: test_var
        msg: "Variable value: {{ test_var }} | Variable type: {{ test_var|type_debug }}"

    - name: Validate variable type
      assert:
        that:
          - test_var is defined
          - test_var|type_debug == 'int'
        fail_msg: "Variable '{{ test_var }}' incorrectly parsed as {{ test_var|type_debug }}"
