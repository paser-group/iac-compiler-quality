
- name: Test variable handling within templates
  hosts: localhost
  tasks:
    - template:
        src: templates/test_template.j2
        dest: /tmp/test_output.txt

- name: Test variable handling with nested data structures
  hosts: localhost
  tasks:
    - debug:
        msg: "{{ variable['key']['nested_key'] }}"

- name: Test variable handling with conditional statements
  hosts: localhost
  tasks:
    - debug:
        msg: "{{ (variable is defined) and (variable == true) }}"

- name: Test variable handling with loops
  hosts: localhost
  tasks:
    - debug:
        msg: "{{ item }}"
      with_items:
        - "{{ variable }}"

- name: Test variable handling with naming conflicts
  hosts: localhost
  tasks:
    - template:
        src: templates/test_template.j2
        dest: /tmp/test_output.txt
      vars:
        variable: "test"

- name: Test variable handling with external data sources
  hosts: localhost
  tasks:
    - include_vars:
        file: vars/external_vars.yaml
    - debug:
        msg: "{{ external_variable }}"
