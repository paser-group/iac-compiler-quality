
- name: Check conditional syntax
  command: ansible-playbook -i localhost, --syntax-check playbook.yml
  ignore_errors: yes

- name: Start service with valid conditions
  service:
    name: myservice
    state: started
    when: "{{ condition }} == 'value'"
  
- name: Start service with invalid conditions
  service:
    name: myservice
    state: started
    when: "{{ condition }} == 'invalidvalue'"
  ignore_errors: yes

- name: Start service on multiple environments
  include_tasks: start_service.yml
  with_items:
    - centos
    - ubuntu
