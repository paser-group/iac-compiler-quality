
---
- name: Test encrypted variable uri module
  hosts: localhost
  vars:
    encrypted_password: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          63623538326661353838636361363038366633653231396565363266636164656330383362626239
  tasks:
   - name: Encrypted URI call
     uri:
       url: "{{ uri }}"
       method: GET
       headers:
         Authorization: Basic {{ encrypted_password }}
     register: result
   - name: Show Result
     debug:
       var: result

