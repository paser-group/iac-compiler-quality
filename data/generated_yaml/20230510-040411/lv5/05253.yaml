
---
- name: Test Playbook
  hosts: localhost
  connection: local
  gather_facts: False
  
  vars:
    initial_state: present
  
  tasks:
    # Set initial_state variable
    - name: Set initial_state variable
      set_fact:
        initial_state: present
    
    # Use ec2_elb module
    - name: Create new Elastic Load Balancer
      ec2_elb:
        name: my-elb
        state: "{{ initial_state }}"
      register: elb_result
    
    # Print elb_result variable output
    - name: Print elb_result variable
      debug: var=elb_result
