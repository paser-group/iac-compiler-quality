
- name: Create a directory with symbolic permissions
  file:
    path: /tmp/test_dir
    state: directory
    mode: u=rwx,g=rwx,o=rwx
  register: dir_created

- name: Verify that the correct numeric permissions are set
  stat:
    path: /tmp/test_dir
  register: dir_stats

- name: Check if directory has correct permissions
  assert:
    that: dir_stats.mode == '0777'
