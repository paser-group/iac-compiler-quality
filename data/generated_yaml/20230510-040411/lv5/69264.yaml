
- name: Test routeros_command module
  hosts: routeros_device
  gather_facts: no

  tasks:
    - name: Configure routeros_command module
      set_fact:
        routeros_command_args:
          host: "{{ ansible_host }}"
          username: "{{ ansible_user }}"
          password: "{{ ansible_password }}"
          command: "system resource print"
          interval: 30

    - name: Execute routeros_command module
      routeros_command:
        {{ routeros_command_args }}
      register: routeros_command_output

    - name: Debug routeros_command output
      debug:
        var: routeros_command_output
