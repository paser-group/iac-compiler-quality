
- hosts: localhost
  gather_facts: no
  tasks:
    - name: Test if inventory file exists
      stat:
        path: /the/path/to/non-existent/inventory/file
      register: result

    - fail:
        msg: "Inventory file does not exist"
      when: not result.stat.exists
