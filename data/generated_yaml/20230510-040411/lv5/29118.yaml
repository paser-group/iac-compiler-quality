yaml
---
- name: Configure interfaces on IOS devices
  hosts: ios_device
  gather_facts: no
  vars:
    host: "{{ inventory_hostname }}"
    port: "{{ ios_port }}"
  tasks:
  - name: Check if host and port are defined in play
    fail:
      msg: "Host/Port is not defined in play. Please define these variables."
    when: host is not defined or port is not defined
  - name: Configure interface on IOS device
    ios_interface:
      name: "{{ interface_name }}"
      description: "{{ interface_description }}"
      state: "{{ interface_state }}"
      address: "{{ interface_address }}"
      arp_timeout: "{{ interface_arp_timeout }}"
      port: "{{ port }}"
    register: result
  - name: debug output
    debug:
      msg: "{{ result }}"
