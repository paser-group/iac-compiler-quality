
---
- name: Check for empty/null host pattern
  hosts: all
  gather_facts: false

  vars:
    hosts_pattern: "{{ hosts | default('all') }}"

  tasks:
    - fail:
        msg: "Error - Empty/null hosts pattern detected"
      when: hosts_pattern == ""

    - debug:
        msg: "Hosts pattern: {{ hosts_pattern }}"
      when: hosts_pattern != ""
