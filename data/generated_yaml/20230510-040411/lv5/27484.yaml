
- name: Apply default values to nxos_igmp_interface
  nxos_igmp_interface:
    interface: "{{ item }}"
  loop:
    - Ethernet1/1
    - Ethernet1/2
    - Ethernet1/3
    - Ethernet1/4
  register: igmp_interface_result

- name: Check idempotency of nxos_igmp_interface
  nxos_igmp_interface:
    interface: "{{ item.item }}"
    state: present
  loop: "{{ igmp_interface_result.results }}"
  when: item.changed
