
- name: Fuzz Ansible compiler with hosts setting
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Test hosts with IP address
      ansible.builtin.debug:
        var: inventory_hostname
      hosts: 192.168.1.1

    - name: Test hosts with hostname
      ansible.builtin.debug:
        var: inventory_hostname
      hosts: myserver.example.com

    - name: Test hosts with inventory group
      ansible.builtin.debug:
        var: inventory_hostname
      hosts: myinventorygroup

    - name: Test hosts with invalid indentation
      ansible.builtin.debug:
        var: inventory_hostname
    hosts: myserver.example.com

    - name: Test hosts with variable substitution
      ansible.builtin.debug:
        var: inventory_hostname
      hosts: "{{ myhost }}"

    - name: Test hosts with both IP address and inventory group
      ansible.builtin.debug:
        var: inventory_hostname
      hosts: 192.168.1.1, myinventorygroup
