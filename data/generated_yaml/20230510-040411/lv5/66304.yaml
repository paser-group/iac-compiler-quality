
---
- name: Test 'ansible_virtualization_type' fact for alpine containers on GitHub runner 'ubuntu-latest'
  hosts: localhost
  gather_facts: no
  
  tasks:
    - name: Install required packages for fact collection
      become: yes
      package:
        name:
          - python3
          - apk-tools
          - lxc-templates
      
    - name: Collect system facts
      setup:
        filter: ansible_virtualization_type

    - name: Print 'ansible_virtualization_type' fact for debugging
      debug:
        var: ansible_virtualization_type
