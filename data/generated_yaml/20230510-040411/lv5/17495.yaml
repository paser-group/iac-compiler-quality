
---
- name: Test docker-py version check
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Install specific version of docker-py
      pip:
        name: docker-py==1.0.0
      become: yes

    - name: Check installed version of docker-py
      command: |
        pip show docker-py | grep Version | cut -d " " -f2
      register: dockerpy_version

    - name: Verify docker-py version
      assert:
        that:
          - dockerpy_version.stdout == '1.0.0'
