
- name: Test gluster_volume module
  hosts: all

  tasks:
  - name: Create a new GlusterFS volume
    gluster_volume:
      state: present
      name: test-volume
      bricks:
        - server1:/bricks/brick1
        - server2:/bricks/brick1
    register: result

  - name: Verify Volume Creation
    debug:
      var: result

  - name: Delete the volume
    gluster_volume:
      state: absent
      name: test-volume
    register: result

  - name: Verify Volume Deletion
    debug:
      var: result
