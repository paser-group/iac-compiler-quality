
- name: Test the ios_command module for IOS software installation commands
  hosts: routers
  gather_facts: no
  tasks:
    - name: Execute IOS software installation command
      ios_command:
        commands:
          - install software {{ software_version }}
      register: output
    - name: Check for expected output
      assert:
        that: "'The requested operation was successful' in output.stdout_lines"
