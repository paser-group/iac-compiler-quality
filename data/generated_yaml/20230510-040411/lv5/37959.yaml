
---
- name: Test s3_sync module error
  hosts: localhost
  vars:
    aws_access_key: "<your_access_key>"
    aws_secret_key: "<your_secret_key>"
    s3_bucket: "<your_s3_bucket>"
    src_folder: "/path/to/source/folder"
    dest_folder: "/s3/folder"
  tasks:
  - name: Sync files to S3
    s3_sync:
      region: "us-west-2"
      bucket: "{{ s3_bucket }}"
      aws_access_key: "{{ aws_access_key }}"
      aws_secret_key: "{{ aws_secret_key }}"
      delete: False
      src: "{{ src_folder }}"
      dest: "{{ dest_folder }}"
    register: s3_sync_output
  - name: Debug s3_sync module output
    debug:
      var: s3_sync_output
