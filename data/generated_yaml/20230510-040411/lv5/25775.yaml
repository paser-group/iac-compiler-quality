yaml
- name: Upload os_image to hosts
  hosts: all
  vars:
    upload_path: '/home/user/os_image/'
    image_path: '/path/to/os_image'
  tasks:
    - name: Copy os_image to remote machines
      copy:
        src: "{{ image_path }}"
        dest: "{{ upload_path }}"
        remote_src: yes
      async: 300
      poll: 30
      register: upload_status
    - name: Print upload status
      debug:
        var: upload_status
