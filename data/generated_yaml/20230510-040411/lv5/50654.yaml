
---
- name: Create services with similar names
  hosts: localhost
  tasks:
    - name: Create service A
      docker_swarm_service:
        name: "{{ prefix }}-A"
        image: "nginx:latest"
        replicas: 1
      register: result_A

    - name: Create service B
      docker_swarm_service:
        name: "{{ prefix }}-B"
        image: "nginx:latest"
        replicas: 1
      register: result_B

    - name: Create service C
      docker_swarm_service:
        name: "{{ prefix }}-C"
        image: "nginx:latest"
        replicas: 1
      register: result_C
