
---
- name: Test Ansible compiler for bugs related to string_conversion_action=error
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test copy module with string_conversion_action=warn
      copy:
        src: /path/to/file.txt
        dest: /path/to/destination/
      register: copy_warn_output

    - name: Test copy module with string_conversion_action=error
      copy:
        src: /path/to/file.txt
        dest: /path/to/destination/
        string_conversion_action: error
      register: copy_error_output

    - name: Test template module with string_conversion_action=warn
      template:
        src: /path/to/template.j2
        dest: /path/to/destination/
      register: template_warn_output

    - name: Test template module with string_conversion_action=error
      template:
        src: /path/to/template.j2
        dest: /path/to/destination/
        string_conversion_action: error
      register: template_error_output
