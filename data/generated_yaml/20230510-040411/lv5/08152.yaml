
- name: Verify authentication and JSON decoding
  hosts: web_servers
  tasks:
    - name: Test Netscaler API authentication
      netscaler:
        host: "{{ inventory_hostname }}"
        username: "{{ netscaler_username }}"
        password: "{{ netscaler_password }}"
        module: aaa
        action: authenticate
      register: authentication_results

    - name: Test JSON decoding
      set_fact:
        decoded_data: "{{ authentication_results.stdout | from_json }}"
