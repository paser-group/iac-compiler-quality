
- hosts: localhost
  gather_facts: no
  vars:
    zabbix_server: example.com
    zabbix_user: admin
    zabbix_password: p@ssw0rd
  tasks:
  - name: Create a host using the zabbix_host module
    zabbix_host:
      name: myhost
      server_url: "{{ zabbix_server }}"
      username: "{{ zabbix_user }}"
      password: "{{ zabbix_password }}"
      host_group: My group
      ip: 192.168.1.1
      dns: myhost.example.com
  - name: Test the comparison between a string and an integer
    fail:
      msg: "'{{ 'a' }}'>='{{ 1 }}' not supported between instances of 'str' and 'int'"
      when: 'a'>=1
