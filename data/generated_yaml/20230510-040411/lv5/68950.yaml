
- name: Test unexpected exception
  hosts: localhost
  gather_facts: no

  vars:
    ansible_unicode_var: u'AnsibleUnicode'
    int_var: 1
    float_var: 1.2
    list_var: [1, 2, 3]
    dict_var:
      key1: "value1"
      key2: "value2"

  tasks:
    - name: Test AnsibleUnicode and int comparison
      fail:
        msg: "ERROR! Unexpected Exception, this is probably a bug: '<' not supported between instances of 'AnsibleUnicode' and 'int'"
      when: ansible_unicode_var < int_var

    - name: Test AnsibleUnicode and float comparison
      fail:
        msg: "ERROR! Unexpected Exception, this is probably a bug: '<' not supported between instances of 'AnsibleUnicode' and 'float'"
      when: ansible_unicode_var < float_var

    - name: Test AnsibleUnicode and list comparison
      fail:
        msg: "ERROR! Unexpected Exception, this is probably a bug: '<' not supported between instances of 'AnsibleUnicode' and 'list'"
      when: ansible_unicode_var < list_var

    - name: Test AnsibleUnicode and dict comparison
      fail:
        msg: "ERROR! Unexpected Exception, this is probably a bug: '<' not supported between instances of 'AnsibleUnicode' and 'dict'"
      when: ansible_unicode_var < dict_var
