
- name: Test gcp_storage_bucket_access_control bug
  hosts: all
  gather_facts: no
  tasks:
    - name: Test with valid bucket name
      gcp_storage_bucket_access_control:
        bucket: my-bucket
        entity: user:user@example.com
        role: roles/storage.objectViewer
        state: present

    - name: Test with special characters in bucket name
      gcp_storage_bucket_access_control:
        bucket: my_bucket#test
        entity: user:user@example.com
        role: roles/storage.objectViewer
        state: present

    - name: Test with invalid bucket name
      gcp_storage_bucket_access_control:
        bucket: 123456789
        entity: user:user@example.com
        role: roles/storage.objectViewer
        state: present
