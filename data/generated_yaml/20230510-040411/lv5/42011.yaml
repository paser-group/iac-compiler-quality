
- name: Discover potential bugs in the Ansible compiler using the vmware_vm_facts module
  hosts: vmware_hosts
  gather_facts: no
  tasks:
  - name: Retrieve information about virtual machines using the vmware_vm_facts module
    vmware_vm_facts:
      hostname: "{{ vcenter_server }}"
      username: "{{ vcenter_user }}"
      password: "{{ vcenter_password }}"
      validate_certs: no
      uuid: "{{ item }}"
    register: vm_info
    with_items: "{{ vm_uuids }}"
    ignore_errors: yes
    no_log: false
    no_log_pass: true
  - name: Debug output of vmware_vm_facts module
    debug:
      var: vm_info
