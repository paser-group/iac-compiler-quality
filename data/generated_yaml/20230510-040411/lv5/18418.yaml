
- name: Copy large file
  hosts: all
  vars:
    large_file_size: 100MB
  tasks:
    - name: Check file size
      shell: "wc -c < /path/to/file"
      register: file_size
    - name: Copy file
      copy:
        src: "/path/to/file"
        dest: "/path/to/destination"
      when: file_size.stdout|int <= large_file_size|int
