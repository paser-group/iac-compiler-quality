
---
- name: Test the net_vlan module
  hosts: localhost
  gather_facts: no
   
  vars:
    vlan_list:
      - { name: VLAN10, vlan_id: 10 }
      - { name: VLAN20, vlan_id: 20 }
   
  tasks:
    - name: Add list of VLANs to switch
      net_vlan:
        vlan_id: "{{ item.vlan_id }}" 
        name: "{{ item.name }}"
      with_items: "{{ vlan_list }}"
