
- name: Test lvol module with non-existent VG
  hosts: target_hosts
  tasks:
    - name: Create Logical Volume
      lvol:
        vg: NonExistentVG
        lv: testlv
        size: 1G
      register: lv_output
      failed_when: lv_output|failed and "Volume group not found" not in lv_output.msg

    - name: Remove Logical Volume
      lvol:
        vg: NonExistentVG
        lv: testlv
        state: absent
      register: lv_delete_output
      failed_when: lv_delete_output|failed and "Volume group not found" not in lv_delete_output.msg
