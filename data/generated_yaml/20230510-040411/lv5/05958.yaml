
- name: Create and modify file
  file:
    path: /tmp/test_file
    owner: root
    group: root
    mode: '0600'
    state: touch
  register: file_created

- name: Verify file ownership
  assert:
    that:
      - file_created.stat.pw_name == 'root'
      - file_created.stat.gr_name == 'root'

- name: Verify file permissions
  assert:
    that:
      - file_created.stat.mode == '0600'
