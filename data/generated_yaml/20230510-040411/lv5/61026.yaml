
---
- name: Test Ansible Compiler for Dependency Errors
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Install Python Development Libraries
      become: true
      apt:
        name:
          - python3-dev
          - python3-pip
        state: present

    - name: Install Test Module Dependencies
      become: true
      pip:
        name:
          - numpy
          - pandas
        state: present

    - name: Verify Imported Module
      import_module:
        module_name: pandas

      # Exit with failure if the import fails
      register: import_status
      failed_when: import_status is failed

    - name: Print Imported Module Status
      debug:
        msg: "Module imported successfully"
