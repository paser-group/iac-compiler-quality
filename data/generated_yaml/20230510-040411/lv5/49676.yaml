
- name: Test s3_bucket module argument values
  hosts: localhost
  gather_facts: false

  vars:
    buckets:
      - my-bucket
      - another-bucket

  tasks:
    - name: Test with requester_pays set to False
      s3_bucket:
        name: "{{ item }}"
        requester_pays: false
      with_items: "{{ buckets }}"
    
    - name: Test with requester_pays set to non-boolean value
      s3_bucket:
        name: "{{ item }}"
        requester_pays: "not-a-boolean"
      with_items: "{{ buckets }}"
