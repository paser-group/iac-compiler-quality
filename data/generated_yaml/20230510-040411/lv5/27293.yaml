
- name: Test get_url module 
  hosts: localhost
  gather_facts: no

  tasks:
  - name: Test URL with get_url module without headers
    get_url:
      url: "https://example.com"
    register: response

  - name: Debug output
    debug:
      var: response

  - name: Test URL with get_url module with headers
    get_url:
      url: "https://example.com"
      headers:
        Accept: "application/json"
    register: response

  - name: Debug output
    debug:
      var: response

  - name: Test URL with get_url module with proxy server
    get_url:
      url: "https://example.com"
      headers:
        Accept: "application/json"
      use_proxy: yes
      validate_certs: no
      http_proxy: "http://proxy.example.com:8080"
    register: response

  - name: Debug output
    debug:
      var: response
