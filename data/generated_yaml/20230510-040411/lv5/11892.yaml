
- name: Register variable and use it in conditional
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Register variable
      shell: echo "Hello World"
      register: reg_var
    - name: Use registered variable in conditional
      debug:
        msg: "Yes, variable is registered"
      when: "'reg_var' in ansible_registered_vars"
