
- name: Fuzzer for osx_defaults integer type check
  hosts: localhost
  gather_facts: no

  vars:
    # Define input variables with different integer values
    int_var1: 123
    int_var2: -456
    int_str1: "789"
    int_expr1: "{{ int_var1 + 10 }}"
    int_expr2: "{{ int_str1 + 10 }}" # expects implicit conversion from string to integer 

  tasks:
    - name: Verify type checking for raw integers
      assert:
        that:
          - int_var1 is int
      tags:
        - raw_integers

    - name: Verify type checking for integer variables defined as strings
      assert:
        that:
          - int_str1 is int
      tags:
        - int_strings

    - name: Verify type checking for integer expressions
      assert:
        that:
          - int_expr1 == 133   # expects result of integer expression
          - int_expr2 == 799   # expects result of string-to-integer conversion + integer operation
      tags:
        - int_expressions

