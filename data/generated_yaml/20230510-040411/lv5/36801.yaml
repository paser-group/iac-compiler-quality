
- name: Configure SVI interface
  hosts: nxos_switch
  gather_facts: no
  vars:
    interface_svi: VLAN100
    interface_ip: 192.168.0.1
    interface_netmask: 255.255.255.0
  tasks:
  - name: Configure SVI interface
    nxos_config:
      lines:
        - interface {{ interface_svi }}
        - ip address {{ interface_ip }}/{{ interface_netmask }}
    register: svi_config
  - name: Verify SVI config
    nxos_command:
      commands: show interface {{ interface_svi }}
    register: svi_status
  - name: Debug output
    debug: var=svi_status.stdout_lines
