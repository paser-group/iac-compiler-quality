
- name: Test File System Operations
  hosts: localhost
  tasks:
    - name: Create Temporary Directory
      tempfile:
        state: directory
        prefix: ansibletest
      register: tempdir

    - name: Create Test File
      shell: echo "test" > {{ tempdir.path }}/testfile.txt

    - name: Copy Test File to Root Directory
      copy:
        src: "{{ tempdir.path }}/testfile.txt"
        dest: "/testfile.txt"

    - name: Delete Temporary Directory
      file:
        path: "{{ tempdir.path }}"
        state: absent
