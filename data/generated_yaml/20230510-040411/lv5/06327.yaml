
- name: Start a Docker container
  docker_container:
    name: my_container
    image: my_image
    ports:
      - "80:8080"
  register: container

- name: Verify that the container is accessible
  wait_for:
    host: localhost
    port: 80
    timeout: 30
    state: started
  when: container.changed
