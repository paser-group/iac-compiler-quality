
---

- name: test ec2_vol module
  hosts: all
  gather_facts: no
  vars:
    region: eu-west-1
    volume_size: 10
    volume_type: gp2
    device_name: /dev/sdf
    snapshot_id: snap-0e6467d52f4917f98

  tasks:
    - name: attach volume from snapshot
      ec2_vol:
        ec2_access_key: "{{ ec2_access_key }}"
        ec2_secret_key: "{{ ec2_secret_key }}"
        region: "{{ region }}"
        volume_size: "{{ volume_size }}"
        volume_type: "{{ volume_type }}"
        device_name: "{{ device_name }}"
        snapshot: "{{ snapshot_id }}"
        state: attached
