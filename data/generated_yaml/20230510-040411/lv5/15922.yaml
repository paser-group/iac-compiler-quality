
- name: Test Command Module with Removes Option
  hosts: localhost
  tasks:
    - name: Test with removes option set to null
      command: echo "Test"
      remove: null
      register: result
    - debug:
        var: result.stdout
    - name: Test with removes option set to empty string
      command: echo "Test"
      removes: ''
      register: result
    - debug:
          var: result.stdout
    - name: Test with removes option set to valid string
      command: echo "Test"
      removes: 'Test'
      register: result
    - debug:
          var: result.stdout
