
- name: Test b64encode filter
  hosts: localhost
  tasks:
    - name: Encode string and check length
      set_fact:
        encoded_string: "{{ 'test string' | b64encode }}"
      debug:
        msg: "{{ encoded_string | length }}"
    
    - name: Decode string and check original value
      set_fact:
        decoded_string: "{{ encoded_string | b64decode }}"
      debug:
        msg: "{{ decoded_string }}"
    
    - name: Modify original string length and check padding
      set_fact:
        short_string: "test"
      set_fact:
        short_encoded: "{{ short_string | b64encode }}"
      set_fact:
        long_string: "this is a very long string that we are using to test the b64encode filter and see how it behaves with different lengths and padding values"
      set_fact:
        long_encoded: "{{ long_string | b64encode }}"
      debug:
        msg:
          - "Short encoded: {{ short_encoded }}"
          - "Long encoded: {{ long_encoded }}"
