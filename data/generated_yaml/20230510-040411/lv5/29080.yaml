
- name: Slack Notification Test
  hosts: localhost
  connection: local
  gather_facts: no

  tasks:
    - name: test with invalid credentials
      slack:
        token: "{{ invalid_token }}"
        channel: "test_channel"
        msg: "test message"
      ignore_errors: yes

    - name: test with valid credentials
      slack:
        token: "{{ valid_token }}"
        channel: "test_channel"
        username: "{{ valid_username }}"
        msg: "test message"
