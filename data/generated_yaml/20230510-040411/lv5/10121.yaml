
- name: Test file path validation
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Generate file path
      set_fact:
        file_path: "{{ ansible_env.HOME }}/test/path/`echo hello`"

    - name: Create file
      file:
        path: "{{ file_path }}"
        state: touch
