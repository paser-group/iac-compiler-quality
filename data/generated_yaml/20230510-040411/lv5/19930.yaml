
- name: Test authentication methods
  hosts: all
  vars:
    auth_method: basic
  tasks:
    - name: Perform GET request to test authentication
      uri:
        url: "http://example.com/api/resource"
        method: GET
        user: "username"
        password: "password"
        validate_certs: no
        status_code: 200
        headers:
          Content-Type: application/json
        force_basic_auth: "{{ auth_method == 'basic' }}"
        force_digest_auth: "{{ auth_method == 'digest' }}"
        force_ntlm_auth: "{{ auth_method == 'ntlm' }}"
