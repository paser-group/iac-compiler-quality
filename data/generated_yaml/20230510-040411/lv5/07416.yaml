
---
- name: Test Ansible Compiler for HTTP Response Status Bug
  hosts: localhost
  gather_facts: no

  vars:
    url: http://example.com

  tasks:
    - name: Make HTTP GET request to URL
      uri:
        url: "{{ url }}"
        method: GET
        return_content: yes
      register: response
      
    - name: Check HTTP Response Status
      fail:
        msg: "Traceback occurred - HTTP Response Status is {{ response.status }}"
      when: response.status == 304
