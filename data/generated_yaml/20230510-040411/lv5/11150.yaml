
- hosts: all
  gather_facts: no
  tasks:
  - name: Test SSH connectivity with default parameters
    ssh_connection:
    - name: Test SSH connectivity with various parameters including password and private key
    ssh_connection:
      user: root
      password: "{{ ansible_ssh_pass }}"
      key_file: "{{ ansible_private_key_file }}"
    - name: Test SSH connectivity with a custom port
    ssh_connection:
      port: 1234
    - name: Test SSH connectivity with a specific timeout value
    ssh_connection:
      timeout: 20
