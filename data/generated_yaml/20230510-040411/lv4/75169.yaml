
- name: Run ssh command
  hosts: localhost
  tasks:
    - name: Run the ssh -V command
      command: ssh -V
      register: ssh_version_info
  
    - name: Debugging output of ssh command
      debug:
        var: ssh_version_info.stdout_lines
  
    - name: Check for errors in ssh -V output
      debug:
        msg: "SSH command output has errors"
      when: ssh_version_info.stderr_lines is defined
  
    - name: Success message for ssh -V command
      debug:
        msg: "SSH command executed successfully"
      when: ssh_version_info.stderr_lines is not defined
