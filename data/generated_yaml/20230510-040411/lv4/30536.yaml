
- name: Test replace module with regex
  hosts: localhost
  vars:
    input_string: "This is a sample input string % to test the replace module"
    regex_pattern: "[a-z]*"
    replacement_string: "replaced"
  tasks:
    - name: Replace module with regex
      replace:
        backup: yes
        path: "/tmp/replaced.txt"
        regexp: "{{ regex_pattern }}"
        replace: "{{ replacement_string }}"
        backup_suffix: ".backup"
        inline: "{{ input_string }}"
