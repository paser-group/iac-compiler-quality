
---
- hosts:  all
  become: true

  vars:
     ansible_user: "someuser"
     ansible_ssh_pass: "somepassword"
     ansible_ssh_private_key_file: "path/to/some/private/key"
     ansible_password: "somepassword"

  tasks: 
    - name: Test connectivity
      ping:
       inventory_dir: /path/to/inventory/directory

    - name: Print inventory items
      debug:
        var: inventory_hostname
        verbosity: 2
        msg: "{{hostvars[item]['ansible_default_ipv4']}}"
        inventory_dir: /path/to/inventory/directory
