
---
- hosts: localhost
  gather_facts: no
  tasks:
    - name: Create YAML file with comments
      copy:
        content: |
          # testing comments
          my_var: value1
          # another comment
          my_var2: value2
        dest: /tmp/comments.yaml

    - name: Display variables from YAML file with comments
      debug:
        var: item
      with_dict: "{{ lookup('yaml', '/tmp/comments.yaml') }}"
