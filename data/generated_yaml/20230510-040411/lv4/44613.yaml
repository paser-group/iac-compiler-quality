
- name: Test route53 error
  hosts: localhost
  gather_facts: no
  vars:
    aws_access_key: 'YOUR_AWS_ACCESS_KEY'
    aws_secret_key: 'YOUR_AWS_SECRET_KEY'
    hosted_zone_id: 'YOUR_HOSTED_ZONE_ID'
    record_name: 'test.example.com'
    record_value: '10.0.0.1'
    invalid_var: 'invalid string'
  tasks:
    - name: Print invalid var
      debug:
        var: invalid_var
    - name: Add record to Route53
      route53:
        command: create
        zone: "{{ hosted_zone_id }}"
        record: "{{ record_name }}"
        type: A
        ttl: 300
        value: "{{ invalid_var }}"
        access_key: "{{ aws_access_key }}"
        secret_key: "{{ aws_secret_key }}"
  