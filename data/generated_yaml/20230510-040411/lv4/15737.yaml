
- name: Test win_acl module
  hosts: windows
  gather_facts: no
  
  tasks:
  - name: Create directory
    win_file:
      path: C:\Temp\Test
      state: directory
      force: yes
   
  - name: Test win_acl with user permission 
    win_acl:
      path: C:\Temp\Test
      user: user1
      rights:
        - 'read'
        - 'execute'
          
  - name: Test win_acl with different user 
    win_acl:
      path: C:\Temp\Test
      user: user2
      rights:
        - 'full_control'
   
  - name: Test win_acl with delete permission 
    win_acl:
      path: C:\Temp\Test
      user: user1
      rights:
        - 'delete'
  
  - name: Test win_acl with no user 
    win_acl:
      path: C:\Temp\Test
      rights:
        - 'read'
   
  - name: Test win_acl with multiple rights 
    win_acl:
      path: C:\Temp\Test
      user: user1
      rights:
        - 'modify'
        - 'take_ownership'
