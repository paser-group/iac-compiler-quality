
- name: Create a file with a long filename
  file:
    path: "{{ lookup('password', '/dev/null length=256') }}"
    state: touch

- name: Test ec2.py with a long filename
  ec2:
    key_name: mykeypair
    group: webserver
    instance_type: t2.micro
    image: ami-0c55b159cbfafe1f0
    wait: yes
    count: 1
    volumes:
      - device_name: "/dev/sdh"
        volume_size: 5
        ecryptfs: yes
        mount_dir: "/mnt/test"
        validate_certs: False
    region: us-west-2
