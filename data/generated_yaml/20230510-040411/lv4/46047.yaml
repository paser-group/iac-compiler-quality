
- name: Test Ansible Compiler for certificate generation bugs
  hosts: localhost
  tasks:
    - name: Generate a PKCS#12 archive with invalid name parameter
      openssl_pkcs12:
        action: export_cert
        input_password: mypassword
        output_password: mypassword
        input_pkcs12: path/to/input.p12
        output_file: path/to/output.p12
        name: 123456 # Malformed input data
      register: result

    - name: Debug openssl_pkcs12 module errors
      debug:
        msg: "Unexpected error occurred: {{ result }}"
      failed_when: result is failed
