yaml
---

- hosts: localhost
  gather_facts: no

  vars_files:
    - "{{ inventory_dir }}/defaults.yaml"

  tasks:

    - name: Task 1 - Assert if defaults.yaml is empty
      fail:
        msg: "The defaults.yaml file is empty."
      when: "{{ my_var }}" is undefined

    - name: Task 2 - Assert if default var is undefined
      fail:
        msg: "The default var is undefined."
      when: "{{ my_var }}" is not defined

    - name: Task 3 - Assert if default var is empty
      fail:
        msg: "The default var is empty."
      when: "{{ my_var }}" == ""

    - name: Task 4 - Assert if default var contains only white spaces
      fail:
        msg: "The default var contains only white spaces."
      when: "{{ my_var }}" is search ("^[\s]+$")

    - name: Task 5 - Assert if default var is not a string
      fail:
        msg: "The default var is not a string."
      when: "{{ my_var }}" is not string
