
- name: Test Playbook
  hosts: all
  tasks:
    - name: Execute failing task
      command: /bin/false
      register: result
      ignore_errors: yes

    - name: Rescue Block
      block:
        - debug:
            msg: "Task Succeeded"
      rescue:
        - debug:
            msg: "Task Failed"

  any_errors_fatal: true
