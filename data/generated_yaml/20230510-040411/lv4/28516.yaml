
- name: Test nxos_igmp_interface module
  hosts: localhost
  gather_facts: false
  connection: local
  tasks:

  - name: Test module with default values
    nxos_igmp_interface:
      name: "Ethernet1/1"
      group_ip: "225.1.1.1"
      protocol: "2"
    register: result_default

  - name: Test module with different interface name
    nxos_igmp_interface:
      name: "Ethernet1/2"
      group_ip: "225.1.1.1"
      protocol: "2"
    register: result_name
    
  - name: Test module with different multicast group address
    nxos_igmp_interface:
      name: "Ethernet1/1"
      group_ip: "225.1.1.2"
      protocol: "2"
    register: result_address

  - name: Test module with different protocol version
    nxos_igmp_interface:
      name: "Ethernet1/1"
      group_ip: "225.1.1.1"
      protocol: "3"
    register: result_protocol
