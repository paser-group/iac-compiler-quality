
---
- name: Testing Ansible error scenarios
  hosts: localhost
  connection: local
  gather_facts: no
  vars:
    ansible_become_method: false
    ansible_shell_type: sh

  tasks:
    - name: Test failed SSH connection
      connection: ssh
      hosts: invalidhost
      any_errors_fatal: true
      ignore_unreachable: true

    - name: Test failed Docker connection
      docker_container:
        name: test-cont
        state: present
      any_errors_fatal: true
      ignore_unreachable: true
      delegate_to: localhost

    - name: Test connection to an invalid URL
      uri:
        url: "http://invalid.url"
        method: GET
      any_errors_fatal: true
      ignore_unreachable: true

    - name: Test a non-existent file copy
      copy:
        src: '/invalid/file'
        dest: '/tmp'
      any_errors_fatal: true
      ignore_unreachable: true

    - name: Test failed ping
      ping:
      any_errors_fatal: true
      ignore_unreachable: true
