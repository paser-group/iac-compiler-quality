
- name: Testing infinite loop bug when overriding an undefined variable with a default value
  hosts: localhost
  vars:
    var1: 
  tasks:
    - name: Override undefined variable with a default value
      set_fact:
        var1: "{{ var1 | default('default_value') }}"
    - name: Use overridden value of the variable
      debug:
        var: var1
