
- name: Test gcp_compute_instance module for 'service_account_content' errors
  hosts: localhost
  gather_facts: no
  
  tasks:
    - name: Create a new instance with service_account_contents parameter
      gcp_compute_instance:
        name: test-instance
        service_account_contents: "{{ lookup('file', '/path/to/credentials.json') }}"
        project: your-project
        zone: us-west1-a
      register: instance_create
    
    - name: Debug error when trying to deconstruct 'service_account_contents'
      debug:
        var: instance_create.msg
      when: "'Failed to parse service_account_contents' in instance_create.msg"
