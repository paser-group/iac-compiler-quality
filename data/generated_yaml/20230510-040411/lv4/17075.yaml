
- hosts: localhost
  gather_facts: no
  vars:
    project_id: "ENTER_YOUR_PROJECT_ID"
    zone: "us-central1-a"
    auth_kind: "oauth2"
  tasks:
    - name: create instance
      gce:
        instance_names: instance-1
        project_id: "{{ project_id }}"
        zone: "{{ zone }}"
        auth_kind: "{{ auth_kind }}"
        image: "projects/centos-cloud/global/images/family/centos-7"
        machine_type: "n1-standard-1"
        disks:
          - auto_delete: true
            boot: true
            mode: READ_WRITE
            device_name: boot-disk
            initialize_params:
              source_image: "projects/centos-cloud/global/images/family/centos-7"
              disk_type: pd-ssd
          - auto_delete: true
            device_name: data-disk
            mode: READ_WRITE
            type: pd-standard
            initialize_params:
              disk_size_gb: 10
      register: gce_instance
