
- name: Hit secure URL
  hosts: localhost
  tasks:
  - name: Test secure URL access
    uri:
      url: https://example.com/secure
      method: GET
      user: alice
      password: bob
      force_basic_auth: yes
    register: secure_url_resp
  - debug:
      var: secure_url_resp

- name: Test basic auth failure
  hosts: localhost
  tasks:
  - name: Test failure on basic auth
    uri:
      url: https://example.com/secure
      method: GET
      user: alice2
      password: bob2
      force_basic_auth: yes
    register: basic_auth_failure_resp
  - debug:
      var: basic_auth_failure_resp
