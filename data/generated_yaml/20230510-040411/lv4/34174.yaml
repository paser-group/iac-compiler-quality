
- name: Test aci_rest module
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Test aci_rest with missing cookies
      aci_rest:
        host: "{{ ansible_host }}"
        username: "{{ aci_username }}"
        password: "{{ aci_password }}"
        path: "{{ aci_path }}"
        cookies:
      register: result_missing_cookies

    - name: Test aci_rest with invalid cookie
      aci_rest:
        host: "{{ ansible_host }}"
        username: "{{ aci_username }}"
        password: "{{ aci_password }}"
        path: "{{ aci_path }}"
        cookies:
          apic-cookie: invalid-cookie-value
      register: result_invalid_cookie

    - name: Test aci_rest with wrong syntax
      aci_rest:
        host "{{ ansible_host }}"
        username "{{ aci_username }}"
        password "{{ aci_password }}"
        path "{{ aci_path }}"
      register: result_wrong_syntax
