
- hosts: localhost
  vars:
    empty_list: []

  tasks:
    - name: loop over empty list
      debug:
        var: item
      with_items: "{{ empty_list }}"
      when: item is defined
      ignore_errors: true
  
    - name: try to access non-existent variable
      debug:
        var: non_existent_var
