
- name: Ansible AWS sts_assume_role bug tester
  hosts: localhost
  tasks:
    - name: Test sts_assume_role with missing region
      aws_sts_assume_role:
        role_arn: "<role arn>"
        role_session_name: "<name>"
        region: ""
      register: sts_assume_role_result

    - name: Print sts_assume_role_result
      debug:
        var: sts_assume_role_result
