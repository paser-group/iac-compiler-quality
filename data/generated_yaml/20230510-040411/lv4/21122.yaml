
- name: Test gce module with specified service account
  hosts: localhost
  gather_facts: no

  vars:
    service_account_email: "service_account_email_here"
    project_id: "project_id_here"
  
  tasks:
    - name: Test gce module with specified service account
      gce:
        instance_name: "test-instance"
        zone: "us-central1-a"
        machine_type: "f1-micro"
        image_family: "ubuntu-2004-lts"
        service_account_email: "{{ service_account_email }}"
        project_id: "{{ project_id }}"
      register: instance_details
  
    - name: Print the gce module output
      debug:
        var: instance_details
