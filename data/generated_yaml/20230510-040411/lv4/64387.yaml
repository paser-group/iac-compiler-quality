
- name: Remove previous temporary files and directories
  file:
    path: /tmp/docker-compose
    state: absent

- name: Create a non-empty directory
  command: mkdir -p /tmp/docker-compose && touch /tmp/docker-compose/non-empty-file

- name: Invoke the docker_compose module and expose potential bug
  docker_compose:
    project_name: test
    command: ps
    recreate_command: true
    compose_file: /path/to/docker-compose.yml
    build: true
    debug: true
