
- hosts: all
  vars:
    file_path: "/tmp/example_file"
    remote_tmp: "/path/to/custom/tmp"

  tasks:
    - name: Create temp directory
      file:
        path: "{{ remote_tmp }}"
        state: directory

    - name: Copy template file
      template:
        src: "template.j2"
        dest: "{{ file_path }}"
        remote_src: yes
        remote_tmp: "{{ remote_tmp }}"
