
- hosts: all
  vars:
    tasks: ["task1", "task2", "task3"]
  tasks:
    - name: "Perform tasks"
      loop: "{{ tasks }}"
      command: "{{ item }}"
      register: result
      ignore_errors: True

    - name: "Print success message"
      debug:
        msg: "{{ result.stdout }}"

    - name: "Print error message"
      debug:
        msg: "Error: {{ result.stderr if result is failed else 'None' }}"
