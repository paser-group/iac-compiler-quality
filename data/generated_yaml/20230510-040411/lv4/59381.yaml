
- name: Establish SSH connection to IOS device with pubkey authentication
  hosts: ios

  vars:
    ansible_connection: network_cli
    ansible_network_os: ios
    ansible_user: "{{ some_user }}"        # specify the username to use for SSH authentication
    ansible_ssh_private_key_file: "{{ ssh_key }}"    # specify the path to the private key

  tasks:
  - name: Test SSH connection
    raw: echo "Hello World"
