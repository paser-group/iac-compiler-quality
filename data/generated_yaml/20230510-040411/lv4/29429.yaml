
- name: Test lvol indempotency
  hosts: localhost
  vars:
    volume_size:
      - 1
      - 10
      - 1.5k
      - 2.5m
      - 3.5g
      - "1"
      - "10"
      - "1.5k"
      - "2.5m"
      - "3.5g"
      - abc
      - 1.1.1.1
  tasks:
    - name: Create lvol
      lvol:
        vg: test_vg
        lv: test_lv
        size: "{{ volume_size }}"
      register: output
    - name: Verify volume size
      assert:
        that: item.changed == true
        with_items: "{{ output.results }}"
