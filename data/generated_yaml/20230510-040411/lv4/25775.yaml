
---
- name: Upload OS image to remote hosts
  hosts: all
  gather_facts: false

  tasks:
    - name: Wait for host connection
      wait_for_connection:

    - name: Copy OS image to remote host
      copy:
        src: /path/to/os_image.iso
        dest: /tmp/os_image.iso
        timeout: 600

    - name: Debug
      debug:
        msg: "File copied successfully"
