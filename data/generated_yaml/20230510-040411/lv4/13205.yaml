
- hosts: all
  gather_facts: no
  tasks:

  - name: copy files asynchronously
    async: 30
    poll: 0
    shell: cp /path/to/files /path/on/remote

  - name: check files existence
    stat:
      path: /path/on/remote/files
    register: file_stat
    async: 30
    poll: 0

  - name: print file existence
    debug:
      msg: "File exists"
    when: "'exists' in file_stat.stat"
