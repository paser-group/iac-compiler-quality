
- hosts: localhost
  gather_facts: no
  
  tasks:
  - name: Install module with version greater than 100
    command: ansible-galaxy install module_name, version='101.0.0'
    register: result
    ignore_errors: yes

  - name: Error message
    debug: var=result.stderr_lines
    when: "'too high' in result.stderr_lines[0]"

  - name: Debug output
    debug: var=result
    when: "'too high' not in result.stderr_lines[0]"

  - name: Install module with version less than 100
    command: ansible-galaxy install module_name, version='0.1.0'
    register: result2
    ignore_errors: yes

  - name: Debug output
    debug: var=result2
