
- name: Test azure_rm_networkinterface module
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Create vNIC without public IP
      azure_rm_networkinterface:
        name: test-nic
        virtual_network_name: my-virtual-network
        subnet_name: my-subnet
        public_ip_allocation_method: None
      register: result

    - name: Debug output
      debug:
        var: result
