
---
- hosts: localhost
  gather_facts: no
  tasks:
    - name: Test docker_container module with fuzzing
      vars:
        name: "{{ ['container1', 'container2', 'container3'] | random }}"
        image: "{{ ['ubuntu:latest', 'centos:latest', 'alpine:latest'] | random }}"
        state: "{{ ['running', 'stopped', 'absent'] | random }}"
        pull: "{{ [True, False, None] | random }}"
        log_driver: "{{ [None, 'json-file', 'syslog', 'journald', 'gelf', 'fluentd', 'awslogs', 'splunk', 'etwlogs', 'gcplogs'] | random }}"
        log_options: "{{ ['gelf-address=udp://localhost:12201', 'syslog-facility=daemon'] | random }}"
        restart_policy: "{{ ['no', 'always', 'on-failure', 'unless-stopped'] | random }}"
        restart_retries: "{{ [0, 3, 5, 10] | random }}"
        user: "{{ ['root', '1000', 'nobody'] | random }}"
        volumes: "{{ ['/path/to/host:/path/to/container', 'volume:/data'] | random }}"
        env: "{{ ['VAR=value', 'HTTP_PROXY=http://proxy:8080', 'DEBUG=false'] | random }}"
        exposed_ports: "{{ [{'8080': None, '9090': { 'host_ip': '127.0.0.1', 'protocol': 'tcp' }}] | random }}"
      docker_container:
        name: "{{ name }}"
        image: "{{ image }}"
        state: "{{ state }}"
        pull: "{{ pull }}"
        log_driver: "{{ log_driver }}"
        log_options: "{{ log_options }}"
        restart_policy: "{{ restart_policy }}"
        restart_retries: "{{ restart_retries }}"
        user: "{{ user }}"
        volumes: "{{ volumes }}"
        env: "{{ env }}"
        exposed_ports: "{{ exposed_ports }}"
