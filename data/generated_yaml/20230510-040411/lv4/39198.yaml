
- name: Test zabbix_template module
  hosts: localhost
  vars:
    mixed_dict:
      key1: 123
      key2: 'string'
  tasks:
    - name: Create zabbix template with mixed values
      zabbix_template:
        server_url: "http://example.com/zabbix/api_jsonrpc.php"
        login_user: "admin"
        login_password: "password"
        templates:
          - name: "mixed_template"
            groups:
              - name: "Mixed Group"
            applications:
              - name: "Mixed Application"
            items:
              - key_: "{{ item.key }}"
                name: "{{ item.value }}"
                type: "10"
                value_type: "0"
                delay: "60s"
              loop: "{{ mixed_dict|dict2items }}"
      register: result
    - debug:
        var: result
