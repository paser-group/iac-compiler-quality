
- name: Configure HTTPS listeners for the ELB
  aws_elb_lb:
    name: my-load-balancer
    region: us-east-1
    listeners:
      - protocol: HTTPS
        port: 443
        instance_port: 80
        ssl_certificate_id: arn:aws:acm:us-east-1:123456789012:certificate/3501603d-1e1a-4769-9204-3e9b4d7d9f50
        policy_names:
          - ELBSecurityPolicy-TLS-1-2-2017-01
    health_check:
      target: HTTP:80/index.html
      healthy_threshold: 3
      unhealthy_threshold: 5
      interval: 30
      timeout: 5
