
- name: Test GCP Authentication
  hosts: localhost
  gather_facts: false

  vars_files:
    - vars.yml
    
  tasks:
    - name: Authenticate with GCP
      google.cloud.gcp_auth:
        credentials_file: "{{ creds_file }}"
      register: auth_result

    - name: Test Authentication
      debug:
        var: auth_result.changed
