
---
- name: Test inventory report generation
  hosts: all
  gather_facts: true

  tasks:
    - name: Gather facts about inventory
      setup:
    
    - name: Generate inventory report
      template:
        src: inventory_report.j2
        dest: /tmp/inventory_report.txt

    - name: Verify inventory report
      assert:
        that: "/tmp/inventory_report.txt | length > 0"
        msg: "Inventory report generation failed"

    - name: Print success message
      debug:
        msg: "Inventory report generated successfully"
