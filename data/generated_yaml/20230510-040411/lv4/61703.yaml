
- name: Test EC2 Module Authentication
  hosts: localhost
  connection: local

  vars:
    aws_access_key: <your-access-key-here>
    aws_secret_key: <your-secret-key-here>
    security_token: <your-security-token-here>

  tasks:
    - name: Test EC2 authentication
      ec2_group:
        aws_access_key: "{{ aws_access_key }}"
        aws_secret_key: "{{ aws_secret_key }}"
        security_token: "{{ security_token }}"
        name: "test-group"
        description: "Ansible EC2 module test group"
        region: "{{ ansible_ec2_placement_region }}"

