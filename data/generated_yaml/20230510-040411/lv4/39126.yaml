
- name: Test SSL validation for Slack webhook
  hosts: localhost
  vars:
    webhook_url: "<SLACK_WEBHOOK_URL>"
  tasks:
    - name: Send HTTPS request with invalid cert to Slack webhook
      uri:
        url: "{{ webhook_url }}"
        method: GET
        validate_certs: false
      register: response
    - debug:
        var: response.status
      when: response.status != 200
