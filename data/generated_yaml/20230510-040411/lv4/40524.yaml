
# playbook.yml
- name: Test playbook for fuzzing
  hosts: remote_host
  vars:
    username: "admin"
    password: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                61303232663934373764396537323932373635393464656331323033663232636434363748393363
  tasks:
    - name: Run local action with variables
      local_action:
        module: debug
        msg: "Username: {{ username }}, Password: {{ password }}"
    - name: Remote task which requires privilege escalation
      vars:
        user_to_become: "{{ username }}"
        become: yes
        become_user: "{{ user_to_become }}"
      shell: whoami
