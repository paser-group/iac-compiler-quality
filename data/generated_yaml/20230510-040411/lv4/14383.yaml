
---
- name: Playbook to uncover Ansible compiler bugs
  hosts: localhost
  vars:
    some_list: [item1, item2, item3]
  tasks:
   - name: Check if "some_var" is defined
     include_tasks: defined_var.yml
     when: some_var is defined
   
   - name: Perform task for each item in the list
     include_tasks: with_items_loop.yml
     with_items: "{{ some_list }}"
