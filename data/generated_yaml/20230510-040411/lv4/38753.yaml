
- name: Test nxos_igmp_interface oif_source and oif_prefix parameters
  hosts: my-switch
  gather_facts: no

  tasks:
    - name: Create new interface with oif_source and oif_prefix
      nxos_igmp_interface:
        name: Ethernet1/1
        oif_source: "192.168.1.1"
        oif_prefix: "24"

    - name: Modify an existing interface with oif_source and oif_prefix
      nxos_igmp_interface:
        name: Ethernet1/2
        oif_source: ["10.1.1.1", "10.1.1.2"]
        oif_prefix: "16"

    - name: Create new interface with oif_source and oif_prefix as lists
      nxos_igmp_interface:
        name: Ethernet1/3
        oif_source: ["192.168.1.1", "192.168.1.2"]
        oif_prefix: ["24", "24"]
