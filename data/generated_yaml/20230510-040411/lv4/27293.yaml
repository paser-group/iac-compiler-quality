
- name: Test get_url module
  hosts: localhost
  tasks:
    - name: Get url with Ansible
      get_url:
        url: "http://www.example.com"
        dest: "/tmp/example.html"
      ignore_errors: true
      register: output

    - name: Check output status
      debug:
        var: output.status
      when: output is defined

    - name: Check output error message
      debug:
        var: output | bool
      when: output is defined and output.failed == true
