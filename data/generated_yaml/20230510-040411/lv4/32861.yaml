
- name: Test Ansible Compiler for bug condition "is not defined"
  hosts: localhost
  tasks:
    - name: Test with unset variable
      debug:
        msg: "This is an unset variable."
      when: "{{ variable is not defined }}"
    - name: Test with set variable to null
      debug:
        msg: "This is a variable set to null."
      when: "{{ variable | default(omit) }}"
    - name: Test with string variable
      debug:
        msg: "This is a string variable."
      when: "{{ variable | default('') }}"
    - name: Test with numeric variable
      debug:
        msg: "This is a numeric variable."
      when: "{{ variable | default(0) }}"
