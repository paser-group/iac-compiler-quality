
- name: Print current network configurations
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Debug current network configurations
      debug: var=item.network_interfaces
      with_items: "{{ gce_instance_list.instances }}"
      loop_control:
        label: "{{ item.name }}"

- name: Modify network configurations
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Update network configurations
      gcp_compute_instance:
        instance_name: instance-1
        network_interface: "{{ custom_network_interface }}"
        project: my-gcp-project
        auth_kind: serviceaccount
        service_account_file: "/path/to/service_account.json"
      register: result

- name: Print updated network configurations
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Debug updated network configurations
      debug: var=result.instance.network_interfaces
