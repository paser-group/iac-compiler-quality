
- name: Test ec2_vpc_vgw_facts module for error handling
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Gather ec2_vpc_vgw_facts for VPN Gateway with no tags
      ec2_vpc_vgw_facts:
        region: "{{ region }}"
        filters:
          "tag:Name": "VPN Gateway with no tags"
      register: vgw_info

    - name: Debug vgw_info
      debug:
        var: vgw_info
