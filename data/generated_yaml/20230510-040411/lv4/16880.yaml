
---
- hosts: localhost
  become: yes
  vars:
    my_dict:
      level1:
        level2: "value"
  tasks:
    - name: Task 1
      debug:
        var: my_dict.level1.level2
      when: my_dict|default({}).level1.level2 != ""
    - name: Task 2
      debug:
        var: my_dict.level1.level2
      when: my_dict is defined and my_dict.level1 is defined and my_dict.level1.level2 is defined and my_dict.level1.level2 != ""
    - name: Task 3
      debug:
        var: my_dict.level1.level2
      when: my_dict is defined and my_dict.level1 is defined and my_dict.level1.level2 is defined and my_dict.level1.level2 == "value"
...
