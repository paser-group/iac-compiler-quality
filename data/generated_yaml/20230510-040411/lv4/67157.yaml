
- name: Test copy module without string_conversion_action=error
  hosts: localhost
  tasks:
    - name: Copy file without specifying string_conversion_action=error
      copy:
        src: test.txt
        dest: /tmp/test.txt
    - name: View diff without string_conversion_action=error
      command: diff test.txt /tmp/test.txt
      changed_when: false
      
- name: Test copy module with string_conversion_action=error
  hosts: localhost
  tasks:
    - name: Copy file with string_conversion_action=error
      copy:
        src: test.txt
        dest: /tmp/test.txt
        string_conversion_action: error
    - name: View diff with string_conversion_action=error
      command: diff test.txt /tmp/test.txt
      changed_when: false
      
- name: Test template module without string_conversion_action=error
  hosts: localhost
  tasks:
    - name: Template file without specifying string_conversion_action=error
      template:
        src: test.j2
        dest: /tmp/test.txt
    - name: View diff without string_conversion_action=error
      command: diff test.txt /tmp/test.txt
      changed_when: false
      
- name: Test template module with string_conversion_action=error
  hosts: localhost
  tasks:
    - name: Template file with string_conversion_action=error
      template:
        src: test.j2
        dest: /tmp/test.txt
        string_conversion_action: error
    - name: View diff with string_conversion_action=error
      command: diff test.txt /tmp/test.txt
      changed_when: false
