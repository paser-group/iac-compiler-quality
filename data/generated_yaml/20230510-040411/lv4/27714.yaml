
- name: Test nxos_snmp_contact module
  hosts: devices
  gather_facts: yes
  connection: network_cli
  tasks:
    - name: Get SNMP Contact (nxapi transport)
      nxos_snmp_contact:
        host: "{{ inventory_hostname }}"
        transport: nxapi
        provider: "{{ cli }}"
      register: result_nxapi
    - name: Get SNMP Contact (ssh transport)
      nxos_snmp_contact:
        host: "{{ inventory_hostname }}"
        transport: ssh
        provider: "{{ cli }}"
      register: result_ssh
    - name: Get SNMP Contact (nxapi_http transport)
      nxos_snmp_contact:
        host: "{{ inventory_hostname }}"
        transport: nxapi_http
        provider: "{{ cli }}"
      register: result_nxapi_http
