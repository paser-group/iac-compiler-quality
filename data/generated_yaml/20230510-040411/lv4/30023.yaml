
---
- name: Test ec2_vpc module with profile parameter
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Test ec2_vpc with valid profile
      ec2_vpc:
        region: us-west-2
        profile: testing_profile
        resource_tags:
          Name: testing_tag
      register: valid_profile_result

    - name: Test ec2_vpc with invalid profile
      ec2_vpc:
        region: us-west-2
        profile: invalid_profile
        resource_tags:
          Name: testing_tag
      ignore_errors: yes
      register: invalid_profile_result
