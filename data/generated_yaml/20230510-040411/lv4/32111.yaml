
- name: Configure VRFs
  hosts: switches
  gather_facts: no
  tasks:
    - name: Configure Default VRF
      eos_command:
        commands: 
          - ip vrf default
        provider:
          username: "{{ username }}"
          password: "{{ password }}"
      register: default_vrf_config

    - name: Configure Non-Default VRF
      eos_command:
        commands: 
          - ip vrf test
        provider:
          username: "{{ username }}"
          password: "{{ password }}"
      register: non_default_vrf_config
