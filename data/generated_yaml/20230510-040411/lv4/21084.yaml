
- hosts: all 
  vars:
    destination_host: "{{ hostvars['webserver'] | default('localhost') }}"
    destination_ip: "{{ hostvars['webserver'] | default('127.0.0.1') }}"

  tasks:
    - set_fact: 
        destination_host: "localhost"
      when: destination_host is undefined

    - set_fact: 
        destination_ip: "127.0.0.1"
      when: destination_ip is undefined

    - debug:
        var: destination_host

    - debug:
        var: destination_ip
