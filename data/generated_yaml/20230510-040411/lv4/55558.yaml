yaml
- name: Test winrm module with invalid connection settings
  hosts: windows_servers
  become: true
  tasks:
    - name: Attempt connection with an invalid URI
      winrm:
        connection: ntlm
        transport: kerberos
        server_cert_validation: ignore
        endpoint: http://{{ inventory_hostname }}:5985/wsman
        username: invalid_user
        password: invalid_password
      register: winrm_out
    - debug:
        var: winrm_out
