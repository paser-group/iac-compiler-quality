
- name: Test ios_l2_interface Module
  hosts: iosxe
  gather_facts: no

  tasks:
    - name: Configure L2 interface
      ios_l2_interface:
        name: "{{ item.name }}"
        vlan: "{{ item.vlan }}"
        state: present
      loop:
        - { name: "GigabitEthernet1/0/1", vlan: 10, description: "Test vlan 1" }
        - { name: "GigabitEthernet1/0/2", vlan: 20, description: "Test vlan 2" }
        - { name: "GigabitEthernet1/0/3", vlan: 30, description: "Test vlan 3" }
