
- name: Test date handling in Ansible compiler
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Define dictionary with date
      set_fact:
        my_dict:
          my_date: "{{ ansible_date_time.date }}"

    - name: Debug dictionary with date
      debug:
        var: my_dict

    - name: Template dictionary with date
      template:
        src: /dev/null
        dest: /tmp/my_template.txt
        vars:
          my_dict: "{{ my_dict }}"
