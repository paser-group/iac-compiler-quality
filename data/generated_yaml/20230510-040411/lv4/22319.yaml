
- name: Configure EOS Node Connection
  hosts: localhost
  vars:
    eos_node_ip: 192.168.10.100
  tasks:
  - name: Configuring Network Settings
    network:
      hostname: "{{ eos_node_ip }}"
      dns_servers: "{{ item }}"
    with_items:
    - 8.8.8.8
    - 8.8.4.4
    - 208.67.222.222
    - 208.67.220.220
    - 1.1.1.1

  - name: Configuring Firewall Settings
    firewall:
      state: active
      rule: allow
      port: "{{ item }}"
    with_items:
    - 443
    - 8888
    - 9876

  - name: Configuring EOS Node Settings
    template:
      src: eos-config.yml.j2
      dest: /etc/eos/config.yml
      mode: '0644'
