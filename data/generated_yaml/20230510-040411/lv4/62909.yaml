
- name: Testing ovirt_host_network module
  hosts: localhost
  become: true
  gather_facts: no

  vars:
    network_params_one:
      cluster: "my_cluster"
      name: "eth0"
      interface: "{{ my_interface }}"
      vlan: "{{ my_vlan }}"
      network: "my_network"

    network_params_two:
      cluster: "your_cluster"
      name: "eth1"
      interface: "{{ your_interface }}"
      vlan: "{{ your_vlan }}"
      network: "your_network"

  tasks:
    - name: Testing ovirt_host_network module with network_params_one
      ovirt_host_network:
        data_center: "my_datacenter"
        host: "my_host"
        nic: "{{ network_params_one }}"
      register: result_one

    - name: Check if ovirt_host_network throws an error with network_params_one
      assert:
        that:
          - result_one is success

    - name: Testing ovirt_host_network module with network_params_two
      ovirt_host_network:
        data_center: "your_datacenter"
        host: "your_host"
        nic: "{{ network_params_two }}"
      register: result_two

    - name: Check if ovirt_host_network throws an error with network_params_two
      assert:
        that:
          - result_two is success
