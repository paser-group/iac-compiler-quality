
- name: Generate Ansible Playbook using buildah 
  connection: buildah
  hosts: localhost
  tasks:
  - name: Install required packages
    apt:
      name: "{{ item }}"
      state: present
    with_items:
      - buildah
      - podman
      - ansible
    become: yes
  - name: Create Docker container using buildah
    buildah:
      name: docker_container
      image: my_docker_image
      registry: quay.io
      username: my_username
      password: my_password
    become: yes
  - name: Generate Ansible Playbook
    include_tasks: generate_playbook.yml
