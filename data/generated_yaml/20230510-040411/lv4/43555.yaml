yaml
- hosts: localhost
  connection: local
  gather_facts: no

  vars:
    project_id: <PROJECT_ID>
    auth_kind: <AUTH_KIND>
    service_account_file: <SERVICE_ACCOUNT_FILE>
    zone: <ZONE>

  tasks:
    - name: create disk from snapshot
      gcp_compute_disk:
        name: test-disk
        source_snapshot: <SNAPSHOT_NAME>
        project: "{{ project_id }}"
        auth_kind: "{{ auth_kind }}"
        service_account_file: "{{ service_account_file }}"
        zone: "{{ zone }}"
        state: present

    - name: Get disk info
      gcp_compute_disk_info:
        project: "{{ project_id }}"
        auth_kind: "{{ auth_kind }}"
        service_account_file: "{{ service_account_file }}"
        name: test-disk
        zone: "{{ zone }}"

    - name: Mount the disk
      mount:
        name: mount-point
        src: /dev/sdb
        fstype: ext4
        state: mounted
