
---
- hosts: localhost
  become: true

  vars:
    command: '/usr/bin/command'

  tasks:
    - name: Test valid cron entry
      cron:
        name: Test Job
        minute: '*/1'
        hour: '*'
        job: "{{ command }} arg1 arg2"
        state: present

    - name: Test cron entry with invalid syntax
      cron:
        name: Invalid Job
        minute: '*/1'
        hour: '*'
        job: "{{ command }}"
        state: present
      register: output_invalid_syntax

    - name: Test cron entry with unexpected values
      cron:
        name: Unexpected Job
        minute: '[1-30]'
        hour: '*/2'
        job: "{{ command }} random_arg"
        state: present
      register: output_unexpected_values
