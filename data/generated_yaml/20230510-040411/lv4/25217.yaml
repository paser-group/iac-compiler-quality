
- name: Test default value with when
  hosts: localhost
  vars:
    var1: 'hello'
  tasks:
    - debug:
        msg: "{{ var1 | default('default_value') }}"
      when: var1 == 'world'
