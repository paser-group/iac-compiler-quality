
- name: Ansible Playbook to uncover potential bugs with the blockinfile module
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Create a new file using the blockinfile module
      blockinfile:
        path: "/tmp/blockinfile_test.txt"
        block: "This is a test file created using blockinfile module"
        state: present
    
    - name: Modify content inserted using blockinfile module using replace module
      replace:
        path: "/tmp/blockinfile_test.txt"
        regexp: "This is a test file created using blockinfile module"
        replace: "This is the modified content"
      register: replace_output

    - name: Debugging output
      debug:
        var: replace_output
