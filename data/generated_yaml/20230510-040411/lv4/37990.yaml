
- name: Test Junos module connection type error
  hosts: junos_target
  gather_facts: no
  tasks:
    - name: Execute command with incorrect connection type
      junos_command:
        command: show version
        provider:
          host: "{{ inventory_hostname }}"
          username: myuser
          password: mypassword
          connection: cli
      register: result
    - debug:
        var: result
