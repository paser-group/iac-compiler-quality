
- name: Test playbook to recreate unknown error in aci_rest module
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Set a dictionary with a list as a value
      set_fact:
        dict_with_list: {key: [1, 2, 3]}

    - name: Use aci_rest module with dictionary including a list
      aci_rest:
        host: "{{ inventory_hostname }}"
        username: admin
        password: Secret123
        validate_certs: no
        tenant: common
        config_filter:
          - "{{ dict_with_list }}"
      register: aci_rest_output
