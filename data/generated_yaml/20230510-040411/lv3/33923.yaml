
- hosts: localhost
  gather_facts: no

  tasks:
  - name: Create a Docker container with a non-ascii name
    docker_container:
      name: "日本語"
      image: "nginx:1.19.0"
      state: started

  - name: Verify the created container is running
    assert:
      that:
        - "'日本語' in docker_container_names"
    vars:
      docker_container_names: "{{ lookup('community.general.docker_container_names', wantlist=True) }}"

  - name: Stop and remove the created container
    docker_container:
      name: "日本語"
      state: absent
