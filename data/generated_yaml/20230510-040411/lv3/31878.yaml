
- hosts: localhost
  gather_facts: no
  tasks:
  - name: Gathering facts with ec2_vpc_subnet_facts module
    ec2_vpc_subnet_facts:
      profile: alternate_profile
    register: subnet_facts

  - name: Saving subnet facts to a file
    copy:
      content: "{{subnet_facts}}"
      dest: "/tmp/subnet_facts.json"
