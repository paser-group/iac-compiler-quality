
---
- hosts: localhost
  vars:
    red_dot_file: "file_with_red_dot.csv"
  tasks:
  - name: create csv with a red dot in filename
    copy:
      content: "id,name,age\n1,John,20\n2,Claire,22.\txt"
      dest: "{{red_dot_file}}"
    register: csv_file_creation
  - name: read and check CSV content
    set_fact:
      csv_content: "{{ lookup('csvfile', red_dot_file) }}"
    when: csv_file_creation is succeeded
  - name: check if red dot issue exists
    debug:
      msg: "The `read_csv` function has a red dot issue."
    when: "'.' in red_dot_file or '.' in csv_content"
      
