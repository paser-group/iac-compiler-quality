
- name: Run a raw command
  hosts: test_server
  gather_facts: no
  tasks:
    - name: Execute a command using the raw module
      raw: <command_to_execute>
      register: result_raw

    - name: Display raw command output
      debug:
        var: result_raw.stdout_lines

    - name: Execute a command using the command module
      command: <command_to_execute>
      register: result_command

    - name: Display command output
      debug:
        var: result_command.stdout_lines

    - name: Compare the results
      assert:
        that:
          - result_raw.stdout_lines == result_command.stdout_lines
