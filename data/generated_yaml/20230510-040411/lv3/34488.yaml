
- name: Test mysql_db module
  hosts: localhost
  tasks:
    - name: Create MySQL database
      mysql_db:
        name: test_db
        state: present
        login_user: test_user
        login_password: test_password
        login_host: localhost
        login_unix_socket: /var/run/mysqld/mysqld.sock
        target: /etc/mysql/my.cnf
        login_port: 3306
        extra_opts:
          - "--defaults-extra-file=/path/to/file"
      
    - name: Remove MySQL database
      mysql_db:
        name: test_db
        state: absent
        login_user: test_user
        login_password: test_password
        login_host: localhost
        login_unix_socket: /var/run/mysqld/mysqld.sock
        target: /etc/mysql/my.cnf
        login_port: 3306
        extra_opts:
          - "--defaults-extra-file=/path/to/file"
