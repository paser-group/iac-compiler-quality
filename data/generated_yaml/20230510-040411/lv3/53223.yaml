
---
- name: Ansible Playbook to expose bad default values in docker_swarm_service
  hosts: localhost
  gather_facts: no
  
  tasks:
  - name: Create a new docker swarm service with invalid parameters
    docker_swarm_service:
      name: my_swarm_service
      image: my_image:latest
      replicas: "not-a-number"
      state: present

  - name: Attempt to start the swarm service
    docker_swarm_service:
      name: my_swarm_service
      state: started
