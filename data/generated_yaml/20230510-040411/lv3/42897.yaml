
---
- name: Ansible Playbook to recreate Docker modules error with TLS config
  hosts: localhost
  become: yes
  vars:
    tlsconfig:
      tlsverify: true
      tlscacert: "/path/to/ca.crt"
      tlscert: "/path/to/server.crt"
      tlskey: "/path/to/server.key"
  tasks:
  - name: Install Docker
    become: true
    apt:
      name: docker.io
      update_cache: yes
  - name: Pull Docker Image
    docker_image:
      name: alpine:3.14
  - name: Create Docker container with TLS config
    docker_container:
      name: TestContainer
      state: started
      image: alpine:3.14
      command: sleep infinity
      tls: "{{ tlsconfig }}"

