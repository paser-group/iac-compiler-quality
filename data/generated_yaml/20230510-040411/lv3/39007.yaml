
---
- name: Dynamic inventory playbook
  hosts: dynamic
  tasks:
    - name: Debugging dynamic inventory host
      debug:
        msg: "{{ inventory_hostname }}"

  # define the dynamic inventory script
  ansible_python_interpreter: /usr/bin/python3
  ansible_inventory_scripts: inventory/ec2.py
  ansible_inventory_script_arguments: "--list --profile org-dev"

# define an empty dynamic inventory group
[dynamic]
