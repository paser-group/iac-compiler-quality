
- name: Clone a git repository using the Ansible git module.
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Clone repo using SSH URL with ssh-keyscan option.
      git:
        repo: <repo_url>
        dest: <destination_folder>
        version: <branch_name>
        accept_hostkey: yes
        key_file: <path_to_ssh_key>
        ssh_opts: "-o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no"
      register: result
      
    - debug:
        var: result.stdout
