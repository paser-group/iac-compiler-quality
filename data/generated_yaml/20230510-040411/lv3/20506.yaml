yaml
---
- name: Update firewall rules on GCE instance
  hosts: localhost
  gather_facts: no

  vars:
    firewall_name: "test-firewall"
    project_id: "test-project"
    instance_name: "test-instance"
    # Wrong port value to introduce error:
    port_no: "900000"

  tasks:

  - name: Update firewall rule
    gce_net:
      firewall_name: "{{firewall_name}}"
      project_id: "{{project_id}}"
      name: "{{instance_name}}"
      allowed: tcp:{{port_no}}
      target: "{{instance_name}}"
    register: result

  - debug:
      var: result
