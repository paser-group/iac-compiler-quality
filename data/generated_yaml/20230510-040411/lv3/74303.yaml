yaml
- name: Example playbook for exposing issues with Ansible compiler
  hosts: localhost
  vars:
    my_list: [1, 2, 3, 4]
  tasks:
    - name: Loop task that raises an error
      debug:
        msg: "{{ item }}"
      loop: "{{ my_list }}"
      when: item == 3
      failed_when: true
      register: result
    - debug:
        var: ansible_failed_task
      rescue:
        - debug:
            msg: "Error occurred inside the loop task"
