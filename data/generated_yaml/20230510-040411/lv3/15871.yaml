
tasks:
   - name: Read Openstack inventory file
     include_vars:
       file: "{path/to/openstack/inventory/file}"

   - name: Retrieve errored nodes with missing IP addresses
     set_fact:
       errored_nodes: "{{ groups['errored_nodes'] }}"

   - name: Check for internal IPs of errored nodes
     set_fact:
       missing_ip_nodes: "{{ groups['missing_ip_nodes'] }}"

