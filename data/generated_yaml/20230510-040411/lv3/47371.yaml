
- hosts: localhost
  gather_facts: no

  vars:
    timezone: "America/Chicago" # Incorrect timezone

  tasks:
    - name: Set reboot time for SBC
      reboot:
        at: "2022-11-13 02:00" # Set reboot time
      become: yes

    - name: Print reboot time value
      debug:
        msg: "Reboot time is {{ reboot_time }}"

    - name: Verify parsed reboot time
      set_fact:
        reboot_time_parse: "{{ ansible_date_time.epoch }}"
        
    - name: Check parsed reboot time
      assert:
        that:
          - reboot_time_parse == 1665757200 # Expected reboot time in epoch time
