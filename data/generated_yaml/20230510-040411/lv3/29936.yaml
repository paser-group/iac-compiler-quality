
- hosts: localhost
  gather_facts: no

  tasks:
    - name: Create an Elastic Load Balancer
      ec2_elb_lb:
        name: my-load-balancer
        region: us-west-2
        listeners:
          - protocol: http
            lb_port: 80
            instance_port: 80
        health_check:
            ping_protocol: http
            ping_port: 80
            ping_path: /health-check
        subnets:
          - subnet-1a
          - subnet-1b
        security_group: my-security-group
        state: present
