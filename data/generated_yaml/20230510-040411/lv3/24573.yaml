
---
- name: Playbook to reproduce the 'Boto is required for this module' error
  hosts: localhost
  gather_facts: False
  tasks:
    - name: Import the iam_cert module
      iam_cert:
        aws_access_key: <AccessKey>
        aws_secret_key: <SecretKey>
        cert: |
              -----BEGIN CERTIFICATE-----
              MIIC0DCCAbigAwIBAgIUFJQGSc9goZVDJDbarlVY24j2g+owDQYJKoZIhvcNAQEF
              BMQ...
        key: |
              -----BEGIN RSA PRIVATE KEY-----
              Proc-Type: 4,ENCRYPTED
              DEK-Info: AES-128-CBC,31E828C2A11760BA6AC4BBC95027ACC7
              
              Qb7omeqwvdDlZC7No+J2nI...
        mode: upload
        name: sample_cert
        
        # Include the parameter to use Boto
        use_boto: True

      # Catch any errors that come up
      ignore_errors: yes
      register: result  

    # print out the error message
    - name: Print the error message
      debug: 
        msg: "{{ result }}"

