
---
- name: Testing import_tasks bug
  hosts: localhost
  gather_facts: no

  tasks:
  - name: Importing tasks from another file
    import_tasks: tasks.yml
    
  - name: Creating variable passed to include_tasks
    set_fact:
      task_file: "{{ item }}"
    with_items:
      - task1.yml
      - task2.yml
      
  - name: Including tasks based on a variable
    include_tasks: "{{ task_file }}"
