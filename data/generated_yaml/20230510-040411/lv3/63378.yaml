
- name: Create and search for file with regular expression
  hosts: localhost
  tasks:
    - name: Create file with regular expression
      copy:
        content: "This line contains the word test."
        dest: "/tmp/testfile"

    - name: Find file with regular expression
      find:
        paths: "/tmp"
        contains: "regex:.*test.*"
      register: result

    - debug: var=result
