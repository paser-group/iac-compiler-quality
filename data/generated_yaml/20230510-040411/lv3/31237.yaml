yaml
- name: Deploy VM using ARM template
  hosts: localhost
  connection: local
  gather_facts: no
  
  vars:
    resource_group: my-resource-group
    location: eastus
    vm_name: my-vm
    admin_username: azureuser
    admin_password: Password1234!

  tasks:
  - name: Create resource group
    azure_rm_resourcegroup:
      name: "{{ resource_group }}"
      location: "{{ location }}"
      
  - name: Deploy ARM template
    azure_rm_deployment:
        resource_group_name: "{{ resource_group }}"
        template_file: "/path/to/arm_template.json"
        parameters:
          vmName: "{{ vm_name }}"
          adminUsername:
              value: "{{ admin_username }}"
          adminPassword:
              value: "{{ admin_password }}"
          conditionWithSyntaxError: "{{ syntax-error }}" # Intentionally introduce a syntax error
      
