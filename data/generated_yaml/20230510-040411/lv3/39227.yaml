
- hosts: localhost
  gather_facts: no
  vars:
    test_var: ''
  tasks:
    - name: Test Error Handling
      command: '/bin/echo "Hello World!" && /bin/false'
      register: test_output
      ignore_errors: yes
      rescue:
        - name: Output Failed Command
          fail:
            msg: "Failed Command: {{ test_output.cmd }}"
