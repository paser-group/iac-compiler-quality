
---
- name: Ansible SSH Connectivity Test
  hosts: test-servers
  become: yes
  vars:
    ansible_user: testuser
    ansible_port: 22
    ansible_ssh_private_key_file: ~/.ssh/ssh_key
  tasks:
    - name: Ping Test to {{ inventory_hostname }}
      ping:
    - name: Run sample command on {{ inventory_hostname }}
      raw: echo "Hello World!"
    - name: Debugging Remote Host SSH Configuration
      debug: var=hostvars[inventory_hostname]['ansible_ssh_host']
