
---
- hosts: localhost
  vars:
    elb_name: my-elb-name
    instance_id: i-0a12345678901234
  tasks:
    - name: Create an Elastic Load Balancer
      local_action:
        module: ec2_elb
        state: present
        initial_state: "{{ uninitialized_var }}"
        name: "{{ elb_name }}"
        region: us-west-2
        listeners:
          - protocol: HTTP
            load_balancer_port: 80
            instance_protocol: HTTP
            instance_port: 80
        instances:
          - "{{ instance_id }}"
