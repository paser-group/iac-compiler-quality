
- name: Create AWS ASG
  hosts: localhost
  gather_facts: false
  vars:
    asg_name: "my-asg"
    asg_min_size: 1
    asg_max_size: 1
    asg_desired_capacity: 1
    asg_launch_template: "lt-12345"
    wait_for_instances: true
  tasks:
    - name: Create AWS ASG
      ec2_asg:
        name: "{{asg_name}}"
        min_size: "{{asg_min_size}}"
        max_size: "{{asg_max_size}}"
        desired_capacity: "{{asg_desired_capacity}}"
        launch_template: "{{asg_launch_template}}"
        wait_for_instances: "{{wait_for_instances}}"
