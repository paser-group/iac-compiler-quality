
- name: Test playbook for dictionary parsing errors
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Create dictionary
      set_fact:
        data_dict:
          foo: bar
          baz: qux

    - name: Hash dictionary
      set_fact:
        hash_dict: "{{ data_dict | json_query('to_json') | hash('sha256') }}"

    - name: Divide hash
      set_fact:
        result: "{{ hash_dict | int(0, 16) / 2 }}"

    - name: Display result
      debug:
        var: result
