
---
- name: Recreating 'unable to set terminal parameters' issue
  hosts: {{ YOUR_IOS_DEVICE }}
  gather_facts: no

  tasks: 
  - name: Execute the ios_command to set terminal parameters
    ios_command:
      provider: "{{ ios_provider }}"
      commands:
        - "terminal length 0"
        - "terminal width 0"
    register: command_output

  - debug:
      var: command_output.stderr

  - name: Re-configure terminal length and width
    ios_command: 
      provider: "{{ ios_provider }}"
      commands: 
        - "line vty 0 10"
        - "exec-timeout 0 0"
        - "transport input all"
        - "length 0"
        - "width 0"
    register: configure_output

  - debug:
      var: configure_output.stderr
