
- name: AWS IAM Role Fuzzing
  hosts: localhost
  
  vars:
    aws_region: us-east-1
    aws_iam_role: "my-iam-role"

  tasks:
  - name: Installing AWS CLI and Boto3 Python Library
    pip:
      name: boto3
      state: present
      executable: pip3

  - name: Testing AWS Boto3 Library 
    command: >
      /usr/local/bin/aws sts assume-role
      --role-arn "arn:aws:iam::{{ aws_account_id }}:role/{{ aws_iam_role }}"
      --role-session-name myawscli-session
