
- name: Attempting to restart the Service
  hosts: localhost
  sudo: yes
  tasks:
    - name: Restart the service
      service: name=<the_service_name> state=restarted
      ignore_errors: yes

    - name: Confirm that the Service has been restarted successfully
      shell: systemctl is-active <the_service_name>
      register: service_status

    - debug: var=service_status

    - name: Fail if the Service is not Active
      fail:
        msg: "<The_service_name> Service is not active"
      when: service_status.stdout != 'active'
