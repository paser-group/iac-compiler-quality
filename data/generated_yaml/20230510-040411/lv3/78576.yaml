
  - name: Looping over an empty list 
    hosts: localhost
    vars:
      my_list: []
    tasks:
      - name: set a new fact variable based on an empty list
        set_fact:
          my_fact: "{{ item }}"
        loop: "{{ my_list }}"
      - debug:
          var: my_fact
        when: my_fact is defined
