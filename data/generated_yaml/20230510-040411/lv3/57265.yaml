
- name: Create GKE Cluster
  hosts: localhost
  gather_facts: no
  vars:
   project_id: "my_project"
   zone: "us-central1-a"
   cluster_name: "my-cluster"
   machine_type: "n1-standard-1"
   disk_size: "10"
   num_nodes: "1"
  tasks:
  - name: Create GKE Cluster
    gcp_container_cluster:
      name: "{{ cluster_name }}"
      project_id: "{{ project_id }}"
      zone: "{{ zone }}"
      initial_node_count: "{{ num_nodes }}"
      node_config:
        machine_type: "{{ machine_type }}"
        disk_size_gb: "{{ disk_size }}"
      auth_kind: "serviceaccount"
      service_account_file: "{{ service_account_file }}"
