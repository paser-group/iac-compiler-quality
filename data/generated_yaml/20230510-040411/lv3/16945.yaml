
---
- name: Playbook to recreate infinite loop
  hosts: localhost
  gather_facts: false
  vars:
    my_group: "{{groups['my_group']}}"
  tasks:
  - group:
      name: my_group
      state: present

  - name: Add group to itself
    group:
      name: my_group
      state: present
      users: "{{my_group}}"
  - debug:
      msg: "The group addition was successful"
