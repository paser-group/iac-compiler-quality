
- name: Configure L2 Interface
  hosts: cisco_ios
  connection: network_cli
  gather_facts: no
  tasks:
  - name: Create L2 interface on IOS-XE Everest
    ios_l2_interface:
      config:
        - name: GigabitEthernet1
          l2_protocol_tunnels:
            - l2protocol tunnel dot1q
          logging_event_bundle:
            - status
      provider:
        host: "{{ inventory_hostname }}"
        username: "{{ cisco_user }}"
        password: "{{ cisco_password }}"
        authorize: yes
        auth_pass: "{{ cisco_auth_pass }}"
        use_ssl: yes
        validate_certs: no
