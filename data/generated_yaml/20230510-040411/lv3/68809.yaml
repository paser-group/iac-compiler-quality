
- name: Playbook to expose SSL issues in Ansible
  hosts: localhost
  gather_facts: no

  vars:
    firewall_address: "{{ lookup('env', 'FIREWALL_ADDRESS') }}"
    firewall_username: "{{ lookup('env', 'FIREWALL_USERNAME') }}"
    firewall_password: "{{ lookup('env', 'FIREWALL_PASSWORD') }}"
    firewall_api_key: "{{ lookup('env', 'FIREWALL_API_KEY') }}"
  
  tasks:

    - name: Add Firewall Address
      fortios_firewall_address:
        name: example_address
        fmg_server: "{{ firewall_address }}"
        fmg_username: "{{ firewall_username }}"
        fmg_password: "{{ firewall_password }}"
        mgr_customer_key: "{{ firewall_api_key }}"
      register: fortios_firewall_address_result
      
    - name: Debugging
      debug:
        msg: "{{ fortios_firewall_address_result }}"
      
