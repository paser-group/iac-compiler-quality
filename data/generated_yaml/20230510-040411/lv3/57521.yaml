
---
- hosts: localhost
  vars:
    decoded_string: "test_string"
  tasks:
  - name: Base64 encode string with incorrect padding
    set_fact:
      encoded_string: "{{ decoded_string | b64encode }}"
    failed_when: "'=' in encoded_string"  # This line highlights the main issue
  - name: Print encoded string
    debug:
      var: encoded_string
