
- hosts: N7K
  gather_facts: no

  tasks:
  - name: Configure IGMP Snooping with non-default values (Intentionally non-idempotent)
    nxos_igmp_snooping:
      name: Vlan10
      querier_timeout: 400
      snooping_ttl: 200
      state: present

  - name: Configure IGMP Snooping with default values (Idempotent)
    nxos_igmp_snooping:
      name: Vlan10
      state: present
