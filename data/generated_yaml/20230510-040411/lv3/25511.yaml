
- name: Configure PIM RP Address
  hosts: cisco-nxos-switch
  gather_facts: no

  tasks:
  - name: Set RP Address using CLI transport
    nxos_pim_rp_address:
      rp_address: 192.168.1.1
    register: cli_result
    transport: cli

  - name: Set RP Address using NXAPI transport
    nxos_pim_rp_address:
      rp_address: 192.168.1.1
    register: nxapi_result
    transport: nxapi

  - name: Validate Result
    debug:
      var: "{{ item }}"
    with_items:
      - "{{ cli_result }}"
      - "{{ nxapi_result }}"
