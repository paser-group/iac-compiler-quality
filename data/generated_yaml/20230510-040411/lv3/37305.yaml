yaml
- name: Testing net_vlan module with list of dictionaries
  hosts: localhost
  gather_facts: no

  vars:
    vlans:
      - { id: 1, name: 'VLAN100', subnet: '192.168.1.0/24' }
      - { id: 2, name: 'VLAN200', subnet: '192.168.2.0/24' }

  tasks:
    - name: Create VLANs
      net_vlan:
        vlan_id: "{{ item.id }}"
        vlan_name: "{{ item.name }}"
        vlan_subnet: "{{ item.subnet }}"
      with_items: "{{ vlans }}"
