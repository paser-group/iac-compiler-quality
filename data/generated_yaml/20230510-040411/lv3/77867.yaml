
---
- hosts: all
  tasks:
  - name: Set var2 for server1
    set_fact:
      var2: 'new_value'
    when: inventory_hostname == 'server1'

  - name: Include role
    include_role:
      name: test_role
    when: inventory_hostname == 'server1'
