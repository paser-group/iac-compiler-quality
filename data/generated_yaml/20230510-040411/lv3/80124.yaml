
- name: Testing Paramiko and OpenSSH connection modules
  hosts: all
  become: yes
  gather_facts: no

  tasks:
  - name: Create a file using Paramiko connection module
    paramiko_command:
      host: "{{inventory_hostname}}"
      username: "{{ansible_ssh_user}}"
      password: "{{ansible_ssh_pass}}"
      command: touch paramiko_test.txt

  - name: Create a file using OpenSSH connection module
    command: touch openssh_test.txt
    register: result

  - name: Debugging the result of OpenSSH command
    debug:
      var: result.stdout_lines
