
---
- name: Test interpreter discovery in Ansible
  hosts: localhost
  become: true
  tasks:
    - name: Check Python version
      command: python --version
      register: python_version_output

    - name: Display Python version
      debug:
        var: python_version_output.stdout

    - name: Ensure Python 3 interpreter is preferred
      command: python3 --version
      register: python3_version_output
      changed_when: false

    - name: Display Python 3 version
      debug:
        var: python3_version_output.stdout
