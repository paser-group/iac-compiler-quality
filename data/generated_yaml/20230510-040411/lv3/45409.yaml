
- name: Create a new VM
  vmware_guest:
    name: test_vm
    state: present
    hardware:
      memory_mb: 2048
      num_cpus: 2
      scsi: paravirtual # Use paravirtual controller
      disk:
        - size_gb: 20
          type: thin
        - size_gb: 30
          type: thin
        - size_gb: 40
          type: thin

- name: Resize VM disks
  vmware_guest_disk:
    name: test_vm
    disk_size: 50 # Increase disk size to 50GB
    controller_type: paraVirtual # Use paraVirtual controller
    slot: 0
