
---
- name: Test eos_banner idempotency with Unicode
  hosts: target
  gather_facts: no

  tasks:
    - name: Define Unicode banner variable
      set_fact:
        banner_text: "{{ 'unicøde bånnėr' }}"
    
    - name: Set banner on target device
      eos_banner:
        text: "{{ banner_text }}"
    
    - name: Assert idempotency of playbook
      assert:
        that:
          - "'Configuration was changed' not in eos_banner.stdout"
