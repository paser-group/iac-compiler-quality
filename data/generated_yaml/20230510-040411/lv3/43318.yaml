
- hosts: all
  tasks:
   - name: install git package
     become: true
     package:
      name: git-core
      state: present
      
   - name: Verify git package is installed
     become: true
     command: "git --version"
     register: git_version

   - name: Display git version
     become: true
     debug:
      var: git_version.stdout
     
   - name: Remove git package
     become: true
     package:
      name: git-core
      state: absent
      
   - name: Verify git package is removed
     become: true
     command: "git --version"
     register: git_version_after_removal
   
   - name: Display git version after removal
     become: true
     debug:
      var: git_version_after_removal.stdout
