yaml
- name: Create and query subnet in ACI
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Create Bridge Domain
      aci_bd:
        hostname: "{{ aci_hostname }}"
        username: "{{ aci_username }}"
        password: "{{ aci_password }}"
        tenant: "{{ aci_tenant }}"
        bd: "{{ aci_bd }}"
        state: present
      register: bd_create_result
    
    - name: Create Subnet
      aci_bd_subnet:
        hostname: "{{ aci_hostname }}"
        username: "{{ aci_username }}"
        password: "{{ aci_password }}"
        tenant: "{{ aci_tenant }}"
        bd: "{{ aci_bd }}"
        subnet: "{{ aci_subnet }}"
        state: present
      register: subnet_create_result
      
    - name: Query Subnet
      aci_bd_subnet:
        hostname: "{{ aci_hostname }}"
        username: "{{ aci_username }}"
        password: "{{ aci_password }}"
        tenant: "{{ aci_tenant }}"
        bd: "{{ aci_bd }}"
        subnet: "{{ aci_subnet }}"
        state: query
      register: subnet_query_result
     
    - name: Print Subnet Query Result
      debug: 
        var: subnet_query_result
