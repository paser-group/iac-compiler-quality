
- name: Creating an Azure Storage Account
  hosts: localhost
  gather_facts: no

  vars:
    rgname: "myResourceGroup"
    location: "westus"
    storageaccountname: "examplestorageaccount"
    sku: "Standard_LRS" # This value is invalid

  tasks:
  - name: Create a storage account
    azure_rm_storageaccount:
      resource_group: "{{ rgname }}"
      location: "{{ location }}"
      account_type: StorageV2
      account_name: "{{ storageaccountname }}"
      sku_name: "{{ sku }}"
      kind: Storage

  - name: Display the results
    debug:
      var: ansible_facts.azure_rm_storageaccount
