
---
- hosts: localhost
  gather_facts: no
  vars:
    test_data: [{"id":1, "name":"John", "age":35},
                {"id":2, "name":"Jane"},
                {"id":3, "name":"Bob", "age":null},
                {"id":4, "name":"Mary", "age":"unknown"}]
  tasks:
  - name: Test json_query filter with type error
    debug:
      var: item.name
    with_items: "{{ test_data | json_query('[?age>30].name') }}"
