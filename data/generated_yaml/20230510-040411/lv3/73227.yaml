
- hosts: all
  vars:
    encrypted_var: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      34663737656366633533313964336531383232383461656666633637633530353633313732306430
      6462326564616237643162393030633830623733303133320a636338323234633033646132313732
      31633836653531353063613337336332663836623330356236633830366165636433353234353066
      6265363334383637330a613433663766396661383964626134643638366361633863313963363433
      3164

  tasks:
  - name: GET request with encrypted variable
    uri:
      url: "https://example.com?{{ encrypted_var }}"
      method: GET
      return_content: yes
    register: response

  - name: Debug response
    debug:
      msg: "{{ response }}"
