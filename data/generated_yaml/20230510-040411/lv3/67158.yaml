
- name: AWS SSM Parameter Store playbook
  hosts: localhost

  vars:
    parameter_store:
      test-parameter:
        Type: "String"
        Value: "Test Parameter Value"
        Missing_Key: "This is an example of a missing Description key"

  tasks:
    - name: Write parameter to AWS SSM Parameter Store
      aws_ssm_parameter_store:
        name: "/test-parameter-store/test-parameter"
        value: "{{ parameter_store['test-parameter'] }}"
        description: "{{ parameter_store['test-parameter']['Description'] }}"
      register: ssm_result

    - name: Print the output
      debug:
        var: ssm_result
