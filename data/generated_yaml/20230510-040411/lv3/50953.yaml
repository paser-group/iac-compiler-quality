
- name: Fetch and Slurp playbook
  hosts: all
  tasks:
    - name: Fetch file using Slurp
      fetch:
        src: /etc/hosts
        dest: /tmp/hosts
        flat: yes
      register: fetch_result

    - name: Slurp contents of file
      slurp:
        path: "{{fetch_result.dest}}"
      register: slurp_result

    - name: Print Slurped Contents
      debug:
        msg: "{{ slurp_result['content'] }}"
