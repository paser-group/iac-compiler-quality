
- name: Test play for Ansible facts
  gather_facts: true
  tasks:
    - name: Display system configuration
      debug:
        msg: "{{ansible_facts}}"

- name: Compare values for rd.lvm.lv
  hosts: localhost
  tasks:
    - name: Debug 'ansible_cmdline'
      debug:
        msg: "ansible_cmdline - {{ansible_cmdline}}"
      when: "'rd.lvm.lv' in ansible_cmdline"

    - name: Compare rd.lvm.lv Values
      debug:
        msg: "Value of rd.lvm.lv - {{ansible_facts['device']['dm-1']['major_minor']}}"
      when: "'rd.lvm.lv' in ansible_cmdline"
