
---
- name: Example Playbook for mssql_db fatal error
  hosts: localhost
  gather_facts: no  
  tasks:
    - name: Create mssql_db with invalid server credentials
      mssql_db:
          name: TestDB
          collation: SQL_Latin1_General_CP1_CI_AS
          login_host: invalid_server
          login_port: 1433
          login_user: testuser
          login_password: testpass
          state: present
      register: db_result

    - name: debug result
      debug:
          var: db_result
