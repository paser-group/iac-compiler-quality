yaml
- hosts: all
  vars:
    slack_webhook_url: "https://hooks.slack.com/services/T01XXXXX/B01XXXXX/XXXXXXXXXXXXXXX"
    slack_username: "Ansible Agent"
    message: "Hello from Ansible Agent"
  tasks:
  - name: Configure Slack Notification
    slack:
      token: "{{ slack_webhook_url }}"
      username: "{{ slack_username }}"
      msg: "{{ message }}"
    when: slack_webhook_url and slack_username and message
  - name: Pause Playbook Execution for 10 seconds
    pause:
      seconds: 10
  - name: Debug Slack Notification Condition
    debug:
      msg: "Slack Notification condition has been met."
    when: slack_webhook_url and slack_username and message
  - name: Assert Slack Notification Task
    assert:
      that:
        - slack_webhook_url and slack_username and message
        - slack_webhook_url is defined
        - slack_username is defined
        - message is defined
