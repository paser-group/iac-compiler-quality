
---
- name: Synchronize module incorrectly uses ssh for local connection
  hosts: localhost
  connection: local

  vars:
    local_dir: /path/to/local/directory
    remote_dir: /path/to/remote/directory

  tasks:
    - name: Synchronize directories using the Synchronize module
      synchronize:
        src: "{{ local_dir }}"
        dest: "{{ remote_dir }}"
        mode: push
        verify_host: True
      become: True
