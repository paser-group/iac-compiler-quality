
---
- hosts: localhost
  connection: local

  roles:
    - role: nested_task_role

  tasks:
    - name: Display nested task output
      debug:
        msg: "{{ nested_task_output }}"

  vars:
    nested_task_output: "{{ lookup('template', 'roles/nested_task_role/tasks/task1.yml.j2') }}"

- name: Include nested task directory
  include_tasks: roles/nested_task_role/tasks/

...
