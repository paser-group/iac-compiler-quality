
---
- name: Test Playbook
  hosts: localhost
  gather_facts: no
  
  tasks:
    - name: Test gcp_compute_instance with arbitrary values
      gcp_compute_instance:
        zone: us-central1-a
        name: test-instance
        machine_type: zones/us-central1-a/machineTypes/n1-standard-1
        metadata:
          items:
            -
              key: 'startup-script'
              value: '#!/bin/bash\n\necho Hello Ansible'
        disks:
        - boot: true
          auto_delete: true
          initialize_params:
            source_image: https://www.googleapis.com/compute/v1/projects/debian-cloud/global/images/family/debian-10
        network_interfaces:
        - network: invalid_network
          access_configs:
          - name: External NAT
            type: ONE_TO_ONE_NAT
            nat_ip: invalid_nat_ip
