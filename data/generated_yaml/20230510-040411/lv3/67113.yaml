
---
- name: Check for updates using Ansible
  hosts: localhost
  become: yes

  tasks:
    - name: Install Macports
      become: yes
      shell: >
        sudo port -v selfupdate & sleep 2 && echo ''

    - name: Check for changes
      become: yes
      command: >
        port outdated
      register: macports_updates

    - name: Print changes
      debug:
        var: macports_updates.stdout_lines

