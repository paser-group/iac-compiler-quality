
- name: Test lvol indempotency
  hosts: localhost
  become: true

  tasks:
  - name: Create lvol with float in size argument
    lvol:
      vg: volgroup01
      lv: testlv
      size: 0.5g
      force: true
      pvs: /dev/vdb
    register: results

  - name: Rerun lvol indempotency test
    lvol:
      vg: volgroup01
      lv: testlv
      size: 0.5g
      force: true
      pvs: /dev/vdb
    register: results2

  - name: Check output for lvol indempotency issues
    debug:
      var: results.changed == results2.changed
