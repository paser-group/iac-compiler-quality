
---
- name: Testing Ansible compiler for potential error
  hosts: localhost
  gather_facts: false

  # Defining Handlers
  
  handlers:
    - name: my_handler
      listen: my_listener
      # Not defining any tasks for this handler

  # Defining a Task to notify undefined handler

  tasks:
    - name: Test task to Notify Undefined Handler
      debug:
        msg: "This task notifies an undefined handler"
      notify: undefined_handler

  # Defining a Task that will fail
  
  - name: Failing Task
    file:
      path: "{{ play_dir }}/test.txt"
      state: touch
  # This Task will fail because the 'undefined_handler' is not defined yet
  # We can execute this task multiple times to check if multiple errors are produced
  # and reproducibility of the error

