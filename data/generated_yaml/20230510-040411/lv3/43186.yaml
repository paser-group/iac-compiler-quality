yaml
- name: Create Azure VM with vm_size error
  hosts: localhost
  connection: local
  gather_facts: no

  vars:
    rg_name: "myResourceGroup"
    location: "eastus"
    vm_name: "myVM"
    vm_size: "invalid_vm_size" # deliberately incorrect vm size value

  tasks:
    - name: Create a resource group
      azure_rm_resourcegroup:
        name: "{{ rg_name }}"
        location: "{{ location }}"

    - name: Create a virtual machine
      azure_rm_virtualmachine:
        resource_group: "{{ rg_name }}"
        name: "{{ vm_name }}"
        image:
          offer: "UbuntuServer"
          publisher: "Canonical"
          sku: "16.04-LTS"
          version: latest
        admin_username: "azureuser"
        admin_password: "Azure123456!"
        vm_size: "{{ vm_size }}"
