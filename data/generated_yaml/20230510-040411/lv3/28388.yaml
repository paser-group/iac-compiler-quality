
---
- name: Create a new user without providing nopassword parameter
  hosts: localhost
  gather_facts: no
  tasks:
  - name: create a user without providing nopassword
    eos_user:
      username: "{{ user_name }}"
      state: present
      sshkey: "{{ ssh_key }}"
    register: result
  - name: Debug output
    debug:
      var: result
