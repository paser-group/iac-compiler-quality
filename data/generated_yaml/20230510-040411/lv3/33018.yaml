
---
- hosts: all
  become: true
  vars:
    repo_url: git@bitbucket.org:<username>/<repository>.git
  tasks:
    - name: Clone the repository
      git:
        repo: "{{ repo_url }}"
        version: master
        dest: "/tmp/{{ repo_url.split('/')[-1] }}"
        accept_hostkey: yes
        key_file: "{{ ansible_env.HOME }}/.ssh/id_rsa"
    
    - name: Provision the clone
      <insert task here>
