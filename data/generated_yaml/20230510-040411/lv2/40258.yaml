
- name: Test docker_container published_ports
  hosts: localhost
  tasks:
    - name: Start container with unconventional published ports syntax
      docker_container:
        name: test-container
        image: nginx
        state: started
        published_ports: "80:80/tcp, 443:80/tcp, :::8888:8080/udp"
    
    - name: Start container with invalid published port syntax
      docker_container:
        name: test-container
        image: nginx
        state: started
        published_ports: "80:80:tcp"

    - name: Start container with unconventional IP addresses
      docker_container:
        name: test-container
        image: nginx
        state: started
        published_ports: "0.0.0.0:80:80/tcp, 192.168.1.1:80:80/tcp"

    - name: Start container with unconventional protocol
      docker_container:
        name: test-container
        image: nginx
        state: started
        published_ports: "80:80/foo"
    
    - name: Start container with unconventional separator
      docker_container:
        name: test-container
        image: nginx
        state: started
        published_ports: "80:80/tcp; 443:80/tcp"
    
    - name: Start container with unconventional binding hostname
      docker_container:
        name: test-container
        image: nginx
        state: started
        published_ports: "localhost:80:80/tcp"
