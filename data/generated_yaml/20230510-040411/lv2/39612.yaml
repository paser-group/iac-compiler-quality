
- name: Test mssql_db fatal error
  hosts: all
  
  vars:
    db_name: "`&&`"
  
  tasks:
    - name: Create database
      mssql_db:
        name: "{{ db_name }}"
        
    - name: Remove database
      mssql_db:
        name: "{{ db_name }}"
        state: absent
        
    - name: Create database with special characters
      mssql_db:
        name: "mssql_db!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"
        
    - name: Remove database with special characters
      mssql_db:
        name: "mssql_db!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"
        state: absent
        
    - name: Create database with capital letters
      mssql_db:
        name: "MSsql_DB"
        
    - name: Remove database with capital letters
      mssql_db:
        name: "MSsql_DB"
        state: absent
        
    - name: Create database with numeric characters
      mssql_db:
        name: "mssql_db_123"
        
    - name: Remove database with numeric characters
      mssql_db:
        name: "mssql_db_123"
        state: absent
        
    - name: Create database with spaces in the name
      mssql_db:
        name: "mssql db"
        
    - name: Remove database with spaces in the name
      mssql_db:
        name: "mssql db"
        state: absent
        
    - name: Create database with Unicode characters
      mssql_db:
        name: "\u00C5ngstr\u00F6mDb"
        
    - name: Remove database with Unicode characters
      mssql_db:
        name: "\u00C5ngstr\u00F6mDb"
        state: absent
