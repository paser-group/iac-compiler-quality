
---
- name: Test GCP Inventory plugin
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Test invalid service account email
      gcp_compute_inventory:
        auth_kind: serviceaccount
        service_account_file: "<>"
        service_account_email: ""
        project: "<>"
      ignore_errors: yes

    - name: Test without service account email
      gcp_compute_inventory:
        auth_kind: serviceaccount
        service_account_file: "<>"
        project: "<>"
      ignore_errors: yes

    - name: Test with invalid project
      gcp_compute_inventory:
        auth_kind: serviceaccount
        service_account_file: "<>"
        service_account_email: "<>"
        project: ""
      ignore_errors: yes

    - name: Test without project
      gcp_compute_inventory:
        auth_kind: serviceaccount
        service_account_file: "<>"
        service_account_email: "<>"
      ignore_errors: yes

    - name: Test with invalid auth_kind
      gcp_compute_inventory:
        auth_kind: ""
        service_account_file: "<>"
        service_account_email: "<>"
        project: "<>"
      ignore_errors: yes

    - name: Test without auth_kind
      gcp_compute_inventory:
        service_account_file: "<>"
        service_account_email: "<>"
        project: "<>"
      ignore_errors: yes
      
    - name: Test with invalid service_account_file
      gcp_compute_inventory:
        auth_kind: serviceaccount
        service_account_file: ""
        project: "<>"
      ignore_errors: yes

    - name: Test without service_account_file
      gcp_compute_inventory:
        auth_kind: serviceaccount
        project: "<>"
      ignore_errors: yes
