
---
- hosts: all
  vars:
    vault_password_file: "/path/to/nonexistent/file"
  tasks:
    - name: Try to load vault password file
      include_vars:
        file: "{{vault_password_file}}"
      ignore_errors: yes
      register: vault_password
    - name: Fail if vault password file is not present
      assert:
        that: "vault_password is defined and vault_password is not None"
        fail_msg: "Vault password not found"
