
- name: Test Ansible syntax and variable handling
  hosts: localhost
  vars:
    - foo: bar
    - arr: [1,2,3]
    - obj:
        key1: value1
        key2: value2
  tasks:
    - name: Access undefined variable
      debug:
        msg: "{{ undefined_var }}"
    - name: Access non-existent key
      debug:
        msg: "{{ obj['non-existent-key'] }}"
    - name: Use an object as a list
      debug:
        msg: "{{ obj[0] }}"
    - name: Combine a list and object
      debug:
        msg: "{{ arr + obj }}"
    - name: Use a string with object
      debug:
        msg: "{{ foo.obj }}"
    - name: Use a string with list
      debug:
        msg: "{{ foo.arr }}"
    - name: Use a boolean with list
      debug:
        msg: "{{ true + arr }}"
