
---
- hosts: all
  gather_facts: false
  tasks:
    - name: Generate a paging error by exceeding the limit
      galaxy_collection:
        collection_name: my_collection
        action: list
        search: "*"
        limit: 9999999
    
    - name: Create a new namespace with an unconventional syntax
      galaxy_namespace:
        name: "my__namespace"
    
    - name: Download a collection from an unexpected input
      galaxy_collection:
        collection_name: "{{ item }}"
        state: present
      with_items:
        - ["collection1", "collection2", "collection3", "collection&%$", "collection??!"]
    
    - name: Remove a collection with an edge case input
      galaxy_collection:
        collection_name: "{{ item }}"
        state: absent
      with_items:
        - "collection*"
        - "{collection}"
        - "---collection"
    
    - name: Install a collection from a URL with unconventional syntax
      galaxy_collection:
        collection_name: "my_collection"
        source: "http://example.com/{{ item }}.tar.gz"
      with_items:
        - "collection1"
        - "collection2"
        - "collection3"
        - "collection&%$"
        - "collection??!"
