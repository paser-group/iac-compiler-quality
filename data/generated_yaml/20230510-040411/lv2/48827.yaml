
---
- hosts: localhost
  gather_facts: no
  tasks:
    - name: Test default filter with lookup
      debug:
        msg: "{{ lookup('file', '/path/to/file', errors='ignore') | default('default_value') }}"
    - name: Test default filter with an unrecognized filter plugin
      debug:
        msg: "{{ 'foobar' | foobar }}"
    - name: Test default filter with complex syntax
      debug:
        msg: "{{ [1, 2, 3] | map('**', 2) | join(',') | format('Result: {}') | lower }}"
    - name: Test default filter with nested dictionary
      vars:
        data:
          key1:
            - value1
            - value2
          key2:
            - value3
      debug:
        msg: "{{ data.key3 | default(data.key1, []) }}"
    - name: Test default filter with an empty string as default value
      debug:
        msg: "{{ 'hello' | default('', true) }}"
