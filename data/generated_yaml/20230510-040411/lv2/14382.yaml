yaml
---
- name: Test playbook for error status on command output
  hosts: localhost
  gather_facts: no

  tasks:

  # Task to check if the command executes successfully
  - name: Check if the command executes successfully
    command: echo "Command executed successfully"
    register: cmd_success
    ignore_errors: yes
    
  - debug:
      var: cmd_success

  # Task to check if the command executed with error status
  - name: Check if the command executed with error status
    command: "echo 'Command executed with error status' && false"
    register: cmd_err
    ignore_errors: yes
    
  - debug:
      var: cmd_err
      
  # Task to check if the command execution threw an exception
  - name: Check if the command execution threw an exception
    command: "echo 'Command execution threw an exception' && aaaaaaaaaaaaaaaa"
    register: cmd_exception
    ignore_errors: yes
    
  - debug:
      var: cmd_exception
      
  # Task to check if the command execution threw a non-zero exit status
  - name: Check if the command execution threw a non-zero exit status
    command: "echo 'Command execution threw a non-zero exit status' && exit 1"
    register: cmd_exit_status
    ignore_errors: yes
    
  - debug:
      var: cmd_exit_status
