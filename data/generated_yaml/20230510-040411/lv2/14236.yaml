yml
- name: Test Ansible Compiler for 'default' filter issue
  hosts: localhost
  tasks:
    - name: Test 'default' filter for 'ansible_port' variable
      debug:
        msg: "ansible_port has value {{ ansible_port|default(22) }}"
    - name: Test edge case - empty string as input
      debug:
        msg: "ansible_port has value {{ ''|default(ansible_port|default(22)) }}"
    - name: Test unconventional syntax - Python Expression inside Default Filter
      debug:
        msg: "ansible_port has value {{ ansible_port|default('1' ~ '0') }}"
    - name: Test unexpected input - casting a string to integer
      debug:
        msg: "ansible_port has value {{ '80'|default(22)|int }}"
    - name: Test unexpected input - non-existent variable
      debug:
        msg: "ansible_port has value {{ non_existent_port|default(22) }}"
    - name: Test unexpected input - empty variable
      debug:
        msg: "ansible_port has value {{ empty_port|default(22) }}"
    - name: Test unexpected input - dictionary variable
      debug:
        msg: "ansible_port has value {{ dict_port|default(22) }}"

