
- name: Attempt to copy a large file
  hosts: localhost
  tasks:
    - name: Copying large file using stream_mode
      copy:
        src: "/path/to/largefile"
        dest: "/path/to/destination"
        stream_mode: "{{ true if not defined variable else variable }}"
        buffer_size: "{{ 100 * 1024 }}"
        validate: "{{ 'md5' if not defined hash_algorithm else hash_algorithm }}"
