yaml
- hosts: all
  gather_facts: false
  vars:
    my_list:
      - "item1"
      - "item2"
      - "item3"

  tasks:
    - name: loop over non-existent variable
      debug:
        msg: "{{ item }}"
      loop: "{{ non_existent_var }}"

    - name: set fact with an illegal variable name
      set_fact:
        "{{ 'illegal-var-name' }}": "Some value"

    - name: empty nested loop
      debug:
        msg: "Inner Loop"
      loop: "{{ [] }}"
      loop_control:
        loop_var: inner_loop_var
      loop_var: outer_loop_var
      loop: "{{ my_list }}"

    - name: wrong iteration variable in loop
      debug:
        msg: "{{ my_list }}"
      loop: "{{ my_list }}"
      loop_control:
        loop_var: "not_my_list_var"

    - name: unquoted variable in triple brace
      debug:
        msg: "{{{ triple_brace_var }}}"

    - name: nested quotes with variable
      debug:
        msg: "{{ nested_quotes_var }}"
      vars:
        nested_quotes_var: "'{{ my_list }}'"

    - name: using register with loop
      debug:
        msg: "{{ item.stdout }}"
      register: loop_register_var
      loop: "{{ my_list }}"
      changed_when: false

    - name: illegal variable in debug
      debug:
        msg: "{{ illegal-var-name }}"
