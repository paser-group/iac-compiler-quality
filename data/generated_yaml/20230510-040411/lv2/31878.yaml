
- hosts: localhost
  connection: local
  gather_facts: no
  vars:
    profiles:
      - default
      - non_existent_profile
      - '${{ command_output }}'
      - '   '
      - '\'single_quoted\''
      - "\"double_quoted\""
      - "-parameter"

  tasks:
    - name: Get EC2 VPC subnet facts with different profiles
      ec2_vpc_subnet_facts:
        profile: "{{ item }}"
      loop: "{{ profiles }}"
      register: subnet_facts

    - name: Display debug output
      debug:
        var: subnet_facts
