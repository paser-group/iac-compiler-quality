
---
- hosts: all
  tasks:
    - block:
        - name: "Random command A"
          shell: "{{ item }}"
          loop: "{{ [ 'echo "hello, world!"', 'sleep 5', 'ls /nonexistingdirectory', 'ls -l /var/empty', 'echo "I am $HOSTNAME"' ] }}"
          changed_when: false
      rescue:
        - name: Determine the captured error
          debug:
            msg: "Execution Error: {{ ansible_failed_task }}"
