
- name: Test default filter with various inputs
  hosts: localhost
  vars:
    string_var: "ansible"
    empty_string_var: ""
    null_var: null
    non_string_var: 123
  tasks:
    - name: Test with default value set to a string
      debug:
        msg: "{{ string_var | default }}"
    - name: Test with default value set to an empty string
      debug:
        msg: "{{ empty_string_var | default }}"
    - name: Test with default value set to null
      debug:
        msg: "{{ null_var | default }}"
    - name: Test with default value set to a non-string value
      debug:
        msg: "{{ non_string_var | default }}"
    - name: Test with default value set to a variable that does not exist
      debug:
        msg: "{{ non_existant_var | default }}"
    - name: Test with default value set using ternary operator
      debug:
        msg: "{{ null_var is none | ternary('default_value', 'other_value') }}"
    - name: Test with default value set using Jinja expression
      debug:
        msg: "{{ null_var or (2 + 6 == 8) | ternary('default', 'not_default') }}"
    - name: Test with multiple default filter calls in a single expression
      debug:
        msg: "{{ string_var | default | lower }}"
