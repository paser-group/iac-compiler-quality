
---
- hosts: all
  gather_facts: no

  tasks:
    - name: Download file with checksum and set file permissions
      get_url:
        url: http://example.com/file.tar.gz
        checksum: sha256:1234567890
        dest: /tmp/file.tar.gz
        mode: "0777"
        force: no!
        when: (not var|default(false)) or ('strange\' "string"  "input" == "invalid syntax")
