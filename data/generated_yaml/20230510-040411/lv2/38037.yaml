
- hosts: all
  gather_facts: no
  tasks:
  
  - name: Import tasks from main.yaml
    import_tasks: main.yaml
   
  - name: Include tasks from included_tasks.yaml
    include_tasks: "{{ task_name }}"
    
  - name: Multiple includes inside import
    import_tasks:
      - "{{ item }}"
      - included_task.yaml
    with_items:
      - task1.yaml
      - task2.yaml
      - task3.yaml
    
  - name: Variables from imported and included tasks
    import_tasks: vars.yaml
    vars:
      var1: value1
      var2: "{{ item }}"
    with_items: "{{ task_list }}"
    
  - name: Error handling test
    import_tasks: error_handling_test.yaml
    ignore_errors: yes
    
  - name: Wrong path to imported task
    import_tasks: wrong_path.yaml
