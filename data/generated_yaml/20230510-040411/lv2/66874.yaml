
- name: Linode inventory plugin access_token parsing issue playbook
  hosts: localhost
  gather_facts: no
  vars:
    access_token: "'abc123'"
    invalid_access_token: ["xyz456"]

  tasks:
    # Test case 1: Use invalid access token format
    - name: Test case 1 - Invalid access token format
      linode:
        access_token: "{{ invalid_access_token }}"

    # Test case 2: Use empty access token
    - name: Test case 2 - Empty access token
      linode:
        access_token: ""

    # Test case 3: Use access token with spaces and quotes
    - name: Test case 3 - Access token with spaces and quotes
      linode:
        access_token: " ' abc123 ' "

    # Test case 4: Use access token with special characters
    - name: Test case 4 - Access token with special characters
      linode:
        access_token: "$(echo 'abc123')"

    # Test case 5: Use access token with escape characters
    - name: Test case 5 - Access token with escape characters
      linode:
        access_token: "\'abc123\'"

    # Test case 6: Use access token with line breaks
    - name: Test case 6 - Access token with line breaks
      linode:
        access_token: |
          abc123
          def456

    # Test case 7: Use access token with Unicode characters
    - name: Test case 7 - Access token with Unicode characters
      linode:
        access_token: "あいうえお"
