
- name: Test gcp_container_cluster module with location field
  hosts: localhost
  gather_facts: no

  tasks:
  - name: Create a container cluster with an invalid location
    gcp_container_cluster:
      name: my-cluster
      location: "invalid-location"
    ignore_errors: yes

  - name: Create a container cluster with an empty location
    gcp_container_cluster:
      name: my-cluster
      location: ""
    ignore_errors: yes

  - name: Create a container cluster without a location specified
    gcp_container_cluster:
      name: my-cluster
    ignore_errors: yes

  - name: Create a container cluster with a valid location
    gcp_container_cluster:
      name: my-cluster
      location: us-west1-a

  - name: Update a container cluster with an invalid location
    gcp_container_cluster:
      name: my-cluster
      location: "invalid-location"
      state: present
    ignore_errors: yes

  - name: Update a container cluster with an empty location
    gcp_container_cluster:
      name: my-cluster
      location: ""
      state: present
    ignore_errors: yes

  - name: Update a container cluster without a location specified
    gcp_container_cluster:
      name: my-cluster
      state: present
    ignore_errors: yes

  - name: Update a container cluster with a valid location
    gcp_container_cluster:
      name: my-cluster
      location: us-west1-b
      state: present

  - name: Delete a non-existent container cluster
    gcp_container_cluster:
      name: non-existent-cluster
      state: absent
    ignore_errors: yes

  - name: Delete a container cluster
    gcp_container_cluster:
      name: my-cluster
      state: absent
