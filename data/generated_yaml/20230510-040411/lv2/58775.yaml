
---
- name: Test playbook for npm module cryptic error
  hosts: localhost
  tasks:
    - name: Install npm packages using name property with multiple packages
      npm:
        name: ['package1', 'package2']
      ignore_errors: true

    - name: Install npm packages using invalid syntax
      npm:
        name: ['package1', 'package2'
      ignore_errors: true

    - name: Install npm package with a tag
      npm:
        name: 'package@^1.0.0'
      ignore_errors: true

    - name: Install npm package globally
      npm:
        name: 'package'
        global: true
      ignore_errors: true

    - name: Uninstall npm package that does not exist
      npm:
        name: 'nonExistentPackage'
        state: 'absent'
      ignore_errors: true

    - name: Attempt to uninstall a package without specifying its name
      npm:
        state: 'absent'
      ignore_errors: true
