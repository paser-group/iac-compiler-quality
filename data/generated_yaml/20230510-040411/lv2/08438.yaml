yaml
---
- name: Test Playbook
  hosts: all
  gather_facts: false

  roles:
    - role: test1
    - role: test2
    - role: test3
    - role: test4

    # Define a role without a main task file
    - role: test5

  tasks:
    - name: check if test5 role is installed
      assert:
        that:
          - "'test5' in ansible_facts.roles"
        msg: "test5 role is not installed"

    - name: run a command in test5 role
      command: whoami
      when: "'test5' in ansible_facts.roles"

    - name: use a non-existent role
      include_role:
        name: non_existent_role

    - name: define a variable with unconventional syntax
      set_fact: "{{ foo! }}"

    - name: use a task with unexpected input
      command: "{{ 'ls' | foo }}"

    - name: execute a shell command with unconventional syntax
      shell: "echo 'Hello ||| world!'"

    - name: include a playbook with a syntax error
      include: playbook_with_syntax_error.yml

    - name: use an undefined variable
      debug:
        var: "{{ undefined_var }}"
