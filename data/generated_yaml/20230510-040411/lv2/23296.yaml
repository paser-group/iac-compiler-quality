
- name: Test mssql_db issue
  hosts: localhost
  tasks:
  - name: Test mssql_db module with unconventional syntax
    mssql_db:
      name: test_database
      collation: SQL_Latin1_General_CP1_CI_AS'
      owner: 'sysadmin'
      db_chaining: 'false'
      compatibility_level: 9000
      state: present
      login_password: login_password
      login_user: administrator
      login_host: 192.168.0.1
      login_port: 1433
      ignore_db_user_settings: 'true'
      execute_script: 'test_script.sql'
      db_remarks: test_database_remarks
      auto_create_stats: 'true'
      page_verify: 'TornPageDetection'
  - name: Test mssql_db module with unexpected inputs
    mssql_db:
      name: test_database
      collation: 'SomeUnknownCollation'
      owner: 'testuser'
      db_chaining: 'foobar'
      compatibility_level: 'abc'
      state: 'evolve'
      login_password: 'v+O2RA{7z:K]q=>N'
      login_user: 'admin!@#$%^&*()_-+=][|}{;":?></.,~`'
      login_host: 'localhost@@'
      login_port: '65536'
      ignore_db_user_settings: 'barfoo'
      execute_script: 'nonexistent_script.sql'
      db_remarks: 12345
      auto_create_stats: 'foobaz'
      page_verify: 'UnknownPageVerifyOption'
