
- hosts: localhost
  vars:
    myvar: "test"
    mylist: [0, 1, 2]
  tasks:
    - name: Test logical expressions
      debug:
        msg: |
          {%- if true and false or true %}
          True
          {% else %}
          False
          {% endif %}

          {%- if myvar is undefined or myvar is not defined %}
          True
          {% else %}
          False
          {% endif %}

          {%- if mylist[5] is defined and mylist[5] is not none %}
          True
          {% else %}
          False
          {% endif %}

          {%- if mylist not in myvar %}
          True
          {% else %}
          False
          {% endif %}

          {%- if myvar|length <= 4 and 2 in mylist %}
          True
          {% else %}
          False
          {% endif %}
