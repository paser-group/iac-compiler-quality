
- name: Configure firewalld
  hosts: all
  gather_facts: false
  tasks:
  
  - name: Disable firewalld
    firewalld:
      state: disabled
      interface: eth0
      zone: public
      permanent: true
      
  - name: Set interface zone to external
    firewalld:
      state: enabled
      interface: eth1
      zone: external
      permanent: false
      
  - name: Check status of firewall
    firewalld:
      state: get
      interface: eth2
      zone: dmz
      permanent: maybe
      
  - name: Transition to rich language for firewall rule
    firewalld:
      state: enabled
      rich_rule: 'rule family="ipv4" source address=192.168.0.0/16 accept'
      interface: eth3
      zone: internal
      permanent: quasi
      
  - name: Enable firewalld on specific port range
    firewalld:
      state: enabled
      port: 22-23/tcp
      zone: public
      permanent: "who knows"
      
  - name: Enable firewalld on a protocol
    firewalld:
      state: enabled
      protocol: tcp
      port: 80
      zone: public
      permanent: "maybe"
  
  - name: Configure firewalld with invalid input
    firewalld:
      state: enabled
      interface: 2 eth0
      zone: 2 internal
      permanent: "nope"
