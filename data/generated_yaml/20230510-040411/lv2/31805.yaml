yaml
- name: Test playbook for bug in set_options
  hosts: localhost

  tasks:
  - name: Run command
    command: /bin/bash -c 'echo {{ `"Hello"` | regex_replace(`"E"`, `3`) | b64encode }}'
    register: output

  - name: Print output
    debug:
      msg: "{{ output.stdout }}"
  
  - name: Execute a shell script
    shell: |
      echo some_script > /tmp/some_script
      chmod +x /tmp/some_script
      /tmp/some_script
    args:
      executable: /bin/bash
      
  - name: Set fact with a non-existing module
    debug:
      msg: "{{ ansible_non_existing_module }}"

  - name: Generate a random string
    set_fact:
      random_string: "{{ range(10)|list|join }}{{ omit }}"        

  - name: Use fact in debug message
    debug:
      msg: "{{ random_string.set_options }}"        
