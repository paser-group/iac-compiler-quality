
- name: Ansible Dynamic Inventory Test Playbook
  hosts: all

  tasks:
  - name: Task 1
    debug:
      msg: "This is Task 1"
    when: "1 is not in range(0)"
    
  - name: Task 2
    debug:
      msg: "This is Task 2"
    loop: "{{ not_a_list }}"
    vars:
      not_a_list: 1
    
  - name: Task 3
    shell: "echo {{ dynamic_inventory_var }}"
    register: dynamic_inventory_output
    vars:
      dynamic_inventory_var: "{{ lookup('env', 'MY_VAR') }}"
    
  - name: Task 4
    debug:
      msg: "This is Task 4"
    when: groups['doesnotexist'] is defined
    
  - name: Task 5
    debug:
      msg: "This is Task 5"
    delegate_to: "{{ some_unknown_host }}"
    
  - name: Task 6
    assert:
      that: dynamic_inventory_output.stdout == 'value'
    vars:
      dynamic_inventory_var: "value"
