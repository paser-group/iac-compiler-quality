
- name: Test playbook for multiple include issue
  hosts: all

  vars:
    empty_host_list: []
    non_empty_host_list: ['host1']

  tasks:
    - name: Test multiple includes with empty list
      include: "{{ item }}"
      with_items: ["tasks/common.yml", "tasks/empty_list.yml"]

    - name: Test multiple includes with non-empty list
      include: "{{ item }}"
      with_items: ["tasks/common.yml", "tasks/non_empty_list.yml"]
