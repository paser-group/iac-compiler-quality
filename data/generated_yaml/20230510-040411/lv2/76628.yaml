
- name: Test ipaddr filters with subnets in loop
  hosts: localhost
  tasks:
    - name: Test with invalid input
      debug:
        msg: "{{ '10.10.10.1/33' | ipaddr }}"

    - name: Test with unconventional syntax
      debug:
        msg: "{{ '10.10.10.1 255.255.255.0' | ipaddr }}"

    - name: Test with unexpected input type
      debug:
        msg: "{{ [1, 2, {}] | ipaddr }}"

    - name: Test with empty input
      debug:
        msg: "{{ '' | ipaddr }}"

    - name: Test with invalid subnet mask
      debug:
        msg: "{{ '10.10.10.1/24/0' | ipaddr }}"

    - name: Test with invalid IP address format
      debug:
        msg: "{{ '10.30.50/24' | ipaddr }}"

    - name: Test with valid input in loop
      debug:
        msg: "{{ item | ipaddr }}"
      loop:
        - '10.0.0.1/24'
        - '192.168.0.1/16'
        - '172.16.0.1/12'
