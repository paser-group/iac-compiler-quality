
---
- name: Playbook to test Slurp Module
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Test empty file not found error
      slurp:
        src: ''
      register: result_empty_file
      ignore_errors: true

    - name: Test non-existent file not found error
      slurp:
        src: './non-existent-file.txt'
      register: result_non_existing_file
      ignore_errors: true

    - name: Test unmounted network share not found error
      slurp:
        src: '//NETWORK_SHARE/file.txt'
      register: result_unmounted_network_share
      ignore_errors: true

    - name: Test reading from stdin
      slurp:
        src: '-'
      register: result_stdin
      ignore_errors: true

    - name: Test invalid encoding
      slurp:
        src: './file.txt'
        encoding: 'invalid'
      register: result_invalid_encoding
      ignore_errors: true

    - name: Test missing required parameter
      slurp:
      register: result_missing_param
      ignore_errors: true

    - name: Display results
      debug:
        var: item.changed
      with_items:
        - result_empty_file
        - result_non_existing_file
        - result_unmounted_network_share
        - result_stdin
        - result_invalid_encoding
        - result_missing_param
