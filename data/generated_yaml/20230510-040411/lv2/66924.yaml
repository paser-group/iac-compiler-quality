
---
- hosts: localhost
  become: yes
  vars:
    file_path: /tmp/test.txt
    file_name: test.txt
  tasks:
    - name: Create file with incorrect checksum
      copy:
        content: data
        dest: "{{ file_path }}"
        checksum: sha512
        mode: 0644
    - name: Copy file with incorrect checksum
      copy:
        src: "{{ file_path }}"
        dest: "{{ file_name }}"
        checksum: sha384
    - name: Template file with invalid variables
      template:
        src: "{{ file_path }}"
        dest: "/tmp/{{ var }}"
        mode: 0644
      vars:
        invalid_var: "{{ invalid }}"
    - name: Template file with missing variables
      template:
        src: "{{ file_path }}"
        dest: "/tmp/{{ var }}"
        mode: 0644
      vars:
        missing_var: "{{ invalid }}"
    - name: Copy recursively with invalid excludes
      copy:
        src: "{{ file_path }}"
        dest: "{{ file_name }}"
        exclude: "{{ invalid }}"
        recurse: yes
    - name: Copy recursively with invalid includes
      copy:
        src: "{{ file_path }}"
        dest: "{{ file_name }}"
        include: "{{ invalid }}"
        recurse: yes

