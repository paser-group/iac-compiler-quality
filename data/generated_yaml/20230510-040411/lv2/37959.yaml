yaml
---
- hosts: localhost
  gather_facts: False

  vars:
    s3_bucket_name: "{{ 's' + '3' + '_test' }}" | replace('_', '-')

  tasks:
  - name: S3 sync test
    s3_sync:
      bucket: "{{ s3_bucket_name }}"
      key_prefix: "{{ '-'.join(['test', *['']*1000]) }}"
      no_sign_request: "{{ not ('true'|bool|int) }}"
      acl: "{{ [None, 'private', 'public-read', 'foo'] | random }}"
      content_disposition: "{{ {'attachment': 'nacvlzou.mp4', 'inline': 'file.txt'} | random }}"
      exclude: "{{ ['*.txt', '*.md', '*.(txt|md)'] | random }}"
      dir_mode: "{{ 0o777 + 0b100000000 }}"       
      verify_ssl: 0b10000000 + randint(-128, 127)
