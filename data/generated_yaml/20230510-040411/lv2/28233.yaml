
- name: Set default NXAPI port to 443 with SSL
  hosts: all
  vars:
    nxapi_port: 80
    use_ssl: true

  tasks:
  - name: Set default NXAPI port to 443 with SSL
    set_fact:
      nxapi_port: "{{ ((use_ssl | lower) == 'true') | ternary(443, nxapi_port) }}"

  - name: Display updated port number
    debug:
      msg: "NXAPI Port: {{ nxapi_port }}"
