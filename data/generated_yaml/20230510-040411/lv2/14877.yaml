
- name: Task with `changed_when` set to `rc != 0` and `ignore_errors: true`
  hosts: localhost
  gather_facts: no
  tasks:
    # Task with unconventional syntax
    - command: >
        echo "{{ 'hello' | to_json }}"
        changed_when: "{{ 'true' }}"
        ignore_errors: "{{ False }}"
      register: output
    - debug:
        msg: "Output - {{ output.stdout }}" 

    # Task with unexpected input
    - command: >
        echo "{{ ansible_user }}"
        changed_when: "{{ 0 }}"
        ignore_errors: "{{ ok }}"
      register: output
    - debug:
        msg: "Output - {{ output.stdout }}"
