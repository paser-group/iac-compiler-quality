
- hosts: localhost
  gather_facts: no
  
  vars:
    empty_str: ""
    undefined_var: "{{ some_undefined_variable }}"

  tasks:
    - name: Test 1 - dict2items with empty dictionary
      debug:
        var: "{{ {}.dict2items() }}"

    - name: Test 2 - dict2items with nested empty dictionary
      debug:
        var: "{{ {'a': {}}.dict2items() }}"

    - name: Test 3 - dict2items with empty string key
      debug:
        var: "{{ {empty_str: 'some_value'}.dict2items() }}"

    - name: Test 4 - dict2items with undefined variable as key
      debug:
        var: "{{ {undefined_var: 'some_value'}.dict2items() }}"
