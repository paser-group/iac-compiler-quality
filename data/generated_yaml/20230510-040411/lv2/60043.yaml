
- name: Test edge cases for connecting to a database
  hosts: localhost
  vars:
    default_db: "my_db"
  vars_prompt:
    - name: db_name
      prompt: "Please enter the database name:"
      private: no
      default: "{{ default_db }}"
  tasks:
    - name: Connect to the database with default name
      mysql_db:
        name: "{{ default_db }}"

    - name: Connect to the database with user-defined name
      mysql_db:
        name: "{{ db_name }}"

    - name: Try connecting with invalid hostname
      mysql_db:
        name: "{{ default_db }}"
        login_host: "localhostzzz"

    - name: Try connecting with invalid port number
      mysql_db:
        name: "{{ default_db }}"
        login_port: "abc123"

    - name: Try connecting with invalid password
      mysql_db:
        name: "{{ default_db }}"
        login_password: "mypasswordzzz"

    - name: Try connecting with invalid user
      mysql_db:
        name: "{{ default_db }}"
        login_user: "myuserzzz"

    - name: Try connecting with nonexistent database
      mysql_db:
        name: "nonexistent_db"
