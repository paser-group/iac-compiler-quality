yaml
- name: Test playbook for nxos_pim_rp_address issue
  hosts: nxos_hosts
  gather_facts: no

  tasks:
    - name: Set invalid PIM RP IP address using NXAPI
      nxos_pim_rp_address:
        ip_address: '300.300.300.300'
        transport: nxapi

    - name: Set empty PIM RP IP address using CLI
      nxos_pim_rp_address:
        ip_address: ''
        transport: cli

    - name: Set valid PIM RP IP address using invalid syntax using NXAPI
      nxos_pim_rp_address:
        ip_address: 10.0.0.1/24
        transport: nxapi

    - name: Set invalid PIM RP IP address using invalid syntax using CLI
      nxos_pim_rp_address:
        ip_address: '10.0.0.1/24'
        transport: cli

    - name: Set PIM RP IP address using invalid transport
      nxos_pim_rp_address:
        ip_address: '192.168.0.1'
        transport: ssh

    - name: Set PIM RP IP address using valid transport with invalid parameter
      nxos_pim_rp_address:
        ip_address: '192.168.0.1'
        transport: nxapi
        unknown_parameter: 'invalid'

    - name: Set PIM RP IP address using valid transport and two IP addresses
      nxos_pim_rp_address:
        ip_address: ['192.168.0.1', '192.168.0.2']
        transport: nxapi
