
- hosts: localhost
  connection: local
  gather_facts: no

  tasks:
    # Edge cases for hostnames
    - name: Test unusual hostname
      ping:
      with_inventory_hostnames:
        - 'this_is_a^bad-hostname'
        - 'host-@with-weird-symbols'

    # Edge case for hostvars
    - name: Test hostvars with special characters
      ping:
      with_inventory_hostvars:
        - '!test_var=123'
        - '?test_var=abc'

    # Unconventional syntax
    - name: Test unconventional yaml syntax
      debug:
        msg: "{{ item }}"
      with_inventory:
        - '[all]'
        - 'localhost ansible_connection=local'

    # Unexpected inputs
    - name: Test unexpected inputs in group vars
      ping:
      with_inventory:
        - 'localhost'
        - 'group1: { var: unexpected_input_here }'
