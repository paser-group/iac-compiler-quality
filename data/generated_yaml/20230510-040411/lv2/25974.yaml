
- name: Test playbook for docker_container.py _compare_dicts issue
  hosts: localhost

  tasks:
    - name: create docker container with invalid parameters
      docker_container:
        name: "{{ not_a_valid_name }}"
        image: "{{ not_a_valid_image }}"
        command: "{{ invalid_command }}"
        volumes: "{{ invalid_volumes }}"
        network_mode: "{{ invalid_network_mode }}"

    - name: create docker container with unconventional syntax
      docker_container:
        name: "{{ not_a_valid_name }}{{ some_unconventional_syntax }}"
        image: "{{ not_a_valid_image }}{{ some_unconventional_syntax }}"
        command: "{{ invalid_command }} {{ some_unconventional_syntax }}"
        volumes: "| invalid_volumes | "
        network_mode: "$invalid_network_mode$"

    - name: create docker container with unexpected inputs
      docker_container:
        name: "{{ ('abc' + 5) | random }}"
        image: "{{ not_a_valid_image if some_condition else valid_image }}"
        command: "{{ not_a_valid_command if some_other_condition is not defined else valid_command }}"
        volumes: "{{ ['invalid/volume', 'valid/volume'] | shuffle }}"
        network_mode: "{{ not_a_valid_network_mode | default('default') }}"
