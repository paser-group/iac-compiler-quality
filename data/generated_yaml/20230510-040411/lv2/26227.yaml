
- name: "Clear host errors"
  hosts: all
  gather_facts: no

  tasks:
    - name: "Delete .retry file"
      file: path=/path/to/.retry state=absent

    - name: "Pause for 5 seconds"
      pause: seconds=5

    - name: "Fail randomly"
      command: "/bin/false"
      register: result
      ignore_errors: true

    - name: "Run shell command"
      shell: echo "Hello world"
      args:
        executable: /usr/bin/python

    - name: "Execute shell command with no arguments"
      shell:

    - name: "Set a fact with invalid name"
      set_fact:
        - 'invalid name': 'invalid value'

    - name: "Set a fact with no name"
      set_fact:
        - ':'

    - name: "Try to clear invalid host errors"
      clear_host_errors:
        hosts: "invalid_host"
