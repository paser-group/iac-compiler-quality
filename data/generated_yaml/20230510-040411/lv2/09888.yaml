
- name: Test groups variable length
  hosts: all
  tasks:
    - name: Test basic groups variable length
      debug:
        var: groups['groupname'] | length

    - name: Test empty group
      debug:
        var: groups[''] | length

    - name: Test undefined group
      debug:
        var: groups['nonexistentgroup'] | length

    - name: Test group variable within a loop
      debug:
        msg: "{{ groups[item] | length }}"
      with_items:
        - group1
        - group2
        - group3

    - name: Test empty variable
      debug:
        var: "" | length

    - name: Test variable with unconventional syntax
      debug:
        var: groups['!@#$%^&*()+'] | length
