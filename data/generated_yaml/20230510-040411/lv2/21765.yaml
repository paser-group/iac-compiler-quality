
---
- name: Test Ansible Compiler
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Test replace_all_instances with empty string
      ec2_asg:
        state: present
        replace_all_instances: ""

    - name: Test replace_all_instances with non-boolean value
      ec2_asg:
        state: present
        replace_all_instances: "True"

    - name: Test target_groups with empty list
      ec2_asg:
        state: present
        target_groups: []

    - name: Test target_groups with invalid ARN format
      ec2_asg:
        state: present
        target_groups:
          - arn:aws:elasticloadbalancing:us-east-1:123456789012:loadbalancer/my-load-balancer/a67f99fcdefbb334

    - name: Test state with invalid value
      ec2_asg:
        state: enabled

    - name: Test EC2 Instance params with invalid key
      ec2_asg:
        state: present
        replace_all_instances: true
        min_size: 2
        max_size: 5
        instance_params:
          - invalid_key: invalid_value

    - name: Test EC2 Instance params with invalid value
      ec2_asg:
        state: present
        replace_all_instances: true
        min_size: 2
        max_size: 5
        instance_params:
          - key_name: non-existent-key-pair

    - name: Test launch_template_params with invalid key
      ec2_asg:
        state: present
        replace_all_instances: true
        min_size: 2
        max_size: 5
        launch_template_params:
          - invalid_key: invalid_value

    - name: Test launch_template_params with invalid value
      ec2_asg:
        state: present
        replace_all_instances: true
        min_size: 2
        max_size: 5
        launch_template_params:
          - launch_template_id: non-existent-launch-template-id

