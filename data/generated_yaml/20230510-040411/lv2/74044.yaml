
---
- hosts: localhost
  gather_facts: false
  tasks:
    - name: Create inventory using a non-existent script filename
      script: /path/to/non-existent/inventory.sh
    - name: Create inventory using an incorrect syntax in the script
      script: /path/to/inventory.sh very-wrong-syntax
    - name: Create inventory script that outputs to stderr and stdout
      script: |
        #!/bin/bash
        echo "stdout message"
        echo "stderr message" >&2
    - name: Create inventory script with unexpected output file path
      script: |
        #!/bin/bash
        echo "10.0.0.1"
        echo "10.0.0.2"
        echo "10.0.0.3" > /tmp/my_inventory
      become: true
      become_user: root
    - name: Display the generated inventory
      debug:
        var: inventory_hosts
