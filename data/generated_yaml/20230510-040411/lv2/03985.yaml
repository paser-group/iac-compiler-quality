
- name: Test role defaults behavior
  hosts: all
  vars:
    my_var: "abc123"
  roles:
    - role: myrole
      defaults:
        # Case 1: Unconventional syntax
        - {{ my_var }}: "123abc"
          , def: "456xyz"
        # Case 2: Unexpected inputs
        - aaa: ["bbb", "ccc", "asd:123"]
        # Case 3: Edge case, deeply nested dictionary
        - x:
            y: "{{ my_var[:2] }}"
            z: "{{ my_var[2:] }}"
            aa:
              bb: "{{ (my_var + 'XYZ').lower() }}"
              cc:
                - "{{ ['a', 'b', 'c'][:my_var|length] }}"
