
---
- name: Test NXOS Facts error
  hosts: localhost
  gather_facts: no
  
  tasks:
  - name: Gather NXOS facts
    nxos_command:
      commands:
        - show interface
    register: nxos_facts
    ignore_errors: yes

  - name: Print NXOS facts
    debug:
      var: nxos_facts.stdout_lines

  - name: Test unconventional syntax
    nxos_command:
      commands:
        - show {{invalid_command}}   # Invalid syntax
    ignore_errors: yes

  - name: Test unexpected input
    nxos_command:
      commands:
        - "{{nxos_facts.stdout}}   # Pass invalid output as input without quotes
    ignore_errors: yes
