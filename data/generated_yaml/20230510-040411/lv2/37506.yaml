
- hosts: localhost
  gather_facts: no
  vars:
    INTERPRETER_TYPE: python
    INTERPRETER_PATH: /usr/bin/python3
  tasks:
    - name: Ensure correct interpreter type is used
      command: >
        {% if INTERPRETER_TYPE == "python" %}python{% elif INTERPRETER_TYPE == "sh" %}sh{% else %}/bin/{{ INTERPRETER_TYPE }}{% endif %}
        -c "print('Interpreter type: {{ INTERPRETER_TYPE }}')"
      args:
        executable: "{{ INTERPRETER_PATH }}"
