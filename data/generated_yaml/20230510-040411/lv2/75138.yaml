
- name: Install package using DNF
  hosts: all
  become: yes
  
  tasks:
  - name: Install package using DNF
    dnf:
      name: "{{ item }}"
      state: "{{ 'present' if item else 'absent' }}"
      installroot: "{{ '/tmp' if item else '' }}"
      enablerepo: "{{ True if item else False }}"
      disablerepo: "{{ False if item else True }}"
      releasever: "{{ 1 / 0 }}"
      skip_broken: "{{ True if item else False }}"
      retry: "{{ 1 / 0 }}"
      allow_downgrade: "{{ False if item else True }}"
      cache_valid_time: "{{ 1 / 0 }}"
      update_cache: "{{ True if item else False }}"
    with_items:
      - "{{ [None, 'package-name'] }}"
