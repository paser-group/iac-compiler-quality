
- name: Test docker_container command argument split
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Launch container with comma-separated arguments (quoted)
      docker_container:
        name: test_container_1
        image: ubuntu:latest
        command: "/bin/bash -c 'echo argument1,argument2'"
        state: started

    - name: Launch container with comma-separated arguments (unquoted)
      docker_container:
        name: test_container_2
        image: ubuntu:latest
        command: "/bin/bash -c echo argument1,argument2"
        state: started

    - name: Launch container with space-separated arguments
      docker_container:
        name: test_container_3
        image: ubuntu:latest
        command: "/bin/bash -c echo argument1 argument2"
        state: started

    - name: Launch container with backslash-escaped comma-separated arguments
      docker_container:
        name: test_container_4
        image: ubuntu:latest
        command: "/bin/bash -c echo argument1\,argument2"
        state: started
