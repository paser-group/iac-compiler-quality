
- name: Playbook for testing edge cases with date dictionary
  hosts: localhost
  gather_facts: no

  tasks:
  - name: Test implicit conversion of date dict via debug
    debug:
      msg: "{{ {'date': '2021-07-23'} }}"

  - name: Test implicit conversion of date dict via jinja
    set_fact:
      date_str: "{{ {'date': '2021-07-23'} }}"
    debug:
      var: date_str

  - name: Test unconventional syntax
    set_fact:
      date_dict:
        'date': '2021-07-23'
    debug:
      var: date_dict

  - name: Test unexpected inputs
    set_fact:
      date_list:
        - { 'date': '2021-07-23' }
    debug:
      var: date_list
