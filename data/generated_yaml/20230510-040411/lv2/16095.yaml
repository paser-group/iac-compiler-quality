
- hosts: localhost
  gather_facts: no
  tasks:
    - name: Test ec2.py with large number of filters
      ec2_instance_info:
        region: us-east-2
        filters:
          - tag:Name
            values:
              - "{{ 'a'*255 }}"
              - "{{ 'b'*255 }}"
              - "{{ 'c'*255 }}"
              - "{{ 'd'*255 }}"
              - "{{ 'e'*255 }}"
              - "{{ 'f'*255 }}"
              - "{{ 'g'*255 }}"
              - "{{ 'h'*255 }}"
              - "{{ 'i'*255 }}"
              - "{{ 'j'*255 }}"
              - "{{ 'k'*255 }}"
              - "{{ 'l'*255 }}"
              - "{{ 'm'*255 }}"
              - "{{ 'n'*255 }}"
              - "{{ 'o'*255 }}"
              - "{{ 'p'*255 }}"
              - "{{ 'q'*255 }}"
              - "{{ 'r'*255 }}"
              - "{{ 's'*255 }}"
              - "{{ 't'*255 }}"
              - "{{ 'u'*255 }}"
              - "{{ 'v'*255 }}"
              - "{{ 'w'*255 }}"
              - "{{ 'x'*255 }}"
              - "{{ 'y'*255 }}"
              - "{{ 'z'*255 }}"

    - name: Test ec2.py with unconventional syntax
      ec2_instance_info:
        region: "{{ ['us-east-1', 'us-east-2', 'us-west-1', 'us-west-2'] | random }}"
        filter: "{{ ['instance-state-name', 'instance-id', 'launch-time'] | random }}"
        output: "{{ ['json', 'text'] | random }}"
        aws_access_key: "{{ 'a'*255 }}"

    - name: Test ec2.py with unexpected inputs
      ec2_instance_info:
        region: "{{ ['us-east-1', 'us-east-2', 'us-west-1', 'us-west-2'] | random }}"
        filters:
          - tag:Name
            values:
              - ["{{ 'a'*255 }}", 1, true, null, [1,2,3]]
          - "{{ 'invalid_filter_name'*255 }}":
            "{{ 'invalid_filter_value'*255 }}"
        aws_secret_key: "{{ 'b'*255 }}"
