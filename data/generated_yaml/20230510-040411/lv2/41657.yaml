
- name: Stress testing ios_l2_interface module on IOS-XE Everest
  hosts: switches
  gather_facts: no
  
  tasks:
    - name: Creating L2 interface with unsupported bandwith value
      ios_l2_interface:
        aggregate: auto
        bandwidth: week
        description: "Test L2 interface"
        mode: access
        name: "GigabitEthernet0/1"
    - name: Creating L2 interface with empty name
      ios_l2_interface:
        name: ""
        state: present
    - name: Creating L2 interface with space in name
      ios_l2_interface:
        name: "Gigabit Ethernet 0/1"
        state: present
    - name: Removing non-existent interface
      ios_l2_interface:
        name: "GigabitEthernet0/99"
        state: absent
    - name: Creating redundant interface
      ios_l2_interface:
        name: "GigabitEthernet0/1.1"
        mode: trunk
        state: present
    - name: Creating interface incorrectly using `interfaces` key
      ios_l2_interface:
        interfaces:
          - name: "GigabitEthernet0/1"
            mode: access
            description: "Test L2 interface"
    - name: Creating L2 interface with unsupported mode
      ios_l2_interface:
        mode: "trunky"
        name: "GigabitEthernet0/2"
    - name: Creating interface with dictionary as name
      ios_l2_interface:
        name:
          - "GigabitEthernet0/3"
          - "GigabitEthernet0/4"
    - name: Creating L2 interface with invalid VLAN range
      ios_l2_interface:
        name: "GigabitEthernet0/5"
        mode: access
        access_vlan: 1000-1050
