
- name: Test DNF module
  hosts: all
  become: true

  tasks:

  - name: Install package with scriptlet error
    dnf:
      name: <PACKAGE_NAME>
      state: present
    register: result

  - name: Check for scriptlet errors
    debug:
      msg: "{{ result }}"

  - name: Install package with unconventional syntax
    dnf:
      name: ["<PACKAGE_NAME>", "--enablerepo=repo"]
      state: present
    register: result

  - name: Check for syntax errors
    debug:
      msg: "{{ result }}"

  - name: Install package with unexpected input
    dnf:
      name: "<PACKAGE_NAME> {{ '-' * 500 }}"
      state: present
    register: result

  - name: Check for input validation errors
    debug:
      msg: "{{ result }}"
