
---
- name: Find error message
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Execute command
      command: "{{ some_command }}"
      register: result
      ignore_errors: true
    - name: Check for error
      debug:
        msg: "{{ result.stderr }}"
      when: result.rc != 0 and result.failed == true and result.stderr is defined and result.stderr != '' and result.stderr is match('^Error:.*')
