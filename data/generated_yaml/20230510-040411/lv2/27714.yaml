
- name: Test the nxos_snmp_contact module for transport nxapi
  hosts: switches
  gather_facts: no

  tasks:
  - name: Test with invalid snmp_contact value
    nxos_snmp_contact:
      snmp_contact: "@@@@@foobar"
      provider:
        transport: nxapi
    register: result_invalid_snmp_contact
    ignore_errors: yes

  - name: Test with long snmp_contact value
    nxos_snmp_contact:
      snmp_contact: "{{ 'A'*2000 }}"
      provider:
        transport: nxapi
    register: result_long_snmp_contact
    ignore_errors: yes

  - name: Test with empty snmp_contact value
    nxos_snmp_contact:
      snmp_contact: ""
      provider:
        transport: nxapi
    register: result_empty_snmp_contact
    ignore_errors: yes

  - name: Test with non-existent transport value
    nxos_snmp_contact:
      snmp_contact: "test"
      provider:
        transport: non_existent_transport
    register: result_non_existent_transport
    ignore_errors: yes

  - name: Print results
    debug:
      var: item
    loop:
      - result_invalid_snmp_contact
      - result_long_snmp_contact
      - result_empty_snmp_contact
      - result_non_existent_transport
