
- name: Source file location issue test
  hosts: localhost
  gather_facts: no

  tasks:
      - name: Creating a directory with spaces in path
        file:
          path: "/tmp/my test dir"
          state: directory

      - name: Creating a file with spaces in path
        file:
          path: "/tmp/my test dir/my test file.txt"
          state: touch

      - name: Copying file to remote machine with ssh
        copy:
          src: "/tmp/my test dir/my test file.txt"
          dest: "~/my test file.txt"
        delegate_to: 127.0.0.1

      - name: Copying file to remote machine with SFTP
        sftp:
          src: "/tmp/my test dir/my test file.txt"
          dest: "~/my test file.txt"
        delegate_to: 127.0.0.1
