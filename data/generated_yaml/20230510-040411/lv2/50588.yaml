
- name: Win_reboot - ReadTimeout test playbook
  hosts: localhost
  gather_facts: no

  tasks:

  - name: Reboot the Windows Server
    win_reboot:
      post_reboot_delay: '{{ random_delay }}'
      reboot_timeout: '{{ "" if rand_bool else "invalid timeout" }}'
      transport: '{{ [ "winrm", "unknown transport" ] | random }}'
      test_command: '{{ [ "dir", "unknown command" ] | random }}'
    vars:
      random_delay: '{{ 10 | random }}'
      rand_bool: '{{ [ true, false ] | random }}'
