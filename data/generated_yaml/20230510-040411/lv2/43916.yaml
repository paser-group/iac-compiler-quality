
- name: Stress testing Ansible compiler for bigip_pool_member error
  hosts: all
  tasks:
    - name: Create a pool member with empty parameters
      bigip_pool_member:
        provider:
          host: "{{ host }}"
          user: "{{ user }}"
          password: "{{ password }}"
          server: "{{ server }}"
          validate_certs: False
        pool_name: "{{ pool_name }}"
        partition: ""
        name: ""
        address: ""
        state: "{{ state }}"
      register: result

    - name: Create a pool member with an invalid state
      bigip_pool_member:
        provider:
          host: "{{ host }}"
          user: "{{ user }}"
          password: "{{ password }}"
          server: "{{ server }}"
          validate_certs: False
        pool_name: "{{ pool_name }}"
        partition: "/"
        name: "{{ name }}"
        address: "{{ address }}"
        state: "invalid_state"
      ignore_errors: True

    - name: Create a pool member with invalid address
      bigip_pool_member:
        provider:
          host: "{{ host }}"
          user: "{{ user }}"
          password: "{{ password }}"
          server: "{{ server }}"
          validate_certs: False
        pool_name: "{{ pool_name }}"
        partition: "/"
        name: "{{ name }}"
        address: "invalid_address"
        state: "present"
      ignore_errors: True

    - name: Retrieve a non-existent pool member
      bigip_pool_member_info:
        provider:
          host: "{{ host }}"
          user: "{{ user }}"
          password: "{{ password }}"
          server: "{{ server }}"
          validate_certs: False
        pool_name: "{{ pool_name }}"
        partition: "/"
        name: "non_existent_pool_member"
      ignore_errors: True

    - name: Retrieve a pool member without specifying pool_name
      bigip_pool_member_info:
        provider:
          host: "{{ host }}"
          user: "{{ user }}"
          password: "{{ password }}"
          server: "{{ server }}"
          validate_certs: False
        partition: "/"
        name: "non_existent_pool_member"
      ignore_errors: True
