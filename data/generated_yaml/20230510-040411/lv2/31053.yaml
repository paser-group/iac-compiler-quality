
- name: Generate edge cases for aws_s3_bucket_facts
  hosts: localhost
  gather_facts: no

  vars:
    bucket_name: "{{ lookup('env', 'BUCKET_NAME') }}"
    invalid_bucket_name: "testing s3 bucket"
    bucket_region: "{{ lookup('env', 'BUCKET_REGION') }}"
    invalid_bucket_region: "aws:us-west-2"

  tasks:
    - name: Check valid bucket name
      aws_s3_bucket_facts:
        bucket: "{{ bucket_name }}"
        region: "{{ bucket_region }}"
      register: valid_result

    - name: Check invalid bucket name
      aws_s3_bucket_facts:
        bucket: "{{ invalid_bucket_name }}"
        region: "{{ bucket_region }}"
      ignore_errors: yes
      register: invalid_name_result

    - name: Check invalid bucket region
      aws_s3_bucket_facts:
        bucket: "{{ bucket_name }}"
        region: "{{ invalid_bucket_region }}"
      ignore_errors: yes
      register: invalid_region_result

    - name: Debug valid response
      debug:
        var: valid_result

    - name: Debug invalid bucket name response
      debug:
        var: invalid_name_result

    - name: Debug invalid bucket region response
      debug:
        var: invalid_region_result
