
- name: Test for AnsibleUnicode object error
  hosts: localhost
  gather_facts: no

  vars:
    my_list: !ansibleunicode
      - "one"
      - "two"

  tasks:
    - name: Append an element to the AnsibleUnicode object
      set_fact:
        my_list: "{{ my_list.append('three') }}"

    - name: Concatenate the AnsibleUnicode string with another string
      set_fact:
        my_string: "{{ my_list }} - {{ 'four' }}"

    - name: Print the concatenated string
      debug:
        var: my_string
