
- name: [PROBLEM FOUND] template error while templating string: Encountered unknown tag 'S'
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Test template rendering with unconventional syntax
      template:
        src: "foo.j2"
        dest: "/tmp/foo.txt"
      vars:
        foo: '{{ S["bar"] }}'

    - name: Test template rendering with undefined variable
      template:
        src: "foo.j2"
        dest: "/tmp/foo.txt"
      vars:
        foo: '{{ undefined_var }}'

    - name: Test template rendering with unexpected input value
      template:
        src: "foo.j2"
        dest: "/tmp/foo.txt"
      vars:
        foo: '{{ "{% S" + "_" + " %}" }}'

    - name: Test template rendering with unconventional quoting
      template:
        src: "foo.j2"
        dest: "/tmp/foo.txt"
      vars:
        foo: '{% S' + "'" + 'bar' + "'" + ' %}'

    - name: Test template rendering with invalid syntax
      template:
        src: "foo.j2"
        dest: "/tmp/foo.txt"
      vars:
        foo: '{{ S %}'

    - name: Test template rendering with complex syntax
      template:
        src: "foo.j2"
        dest: "/tmp/foo.txt"
      vars:
        foo: '{{ S | capitalize }} {{ "bar" }}'
