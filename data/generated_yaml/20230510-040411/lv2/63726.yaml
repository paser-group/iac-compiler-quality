
- name: Test playbook for Meraki 404 errors
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Install requests module
      pip:
        name: requests
        state: latest

    - name: Call API with fake URL
      uri:
        url: "{{ item }}"
        method: GET
        status_code: 404
      with_items:
        - "https://fake-url.com"
        - "https://fake-url-2.com/{{ lookup('env', 'USER') }}"
        - "https://fake-url-3.com/{{ non_existent_var }}"
        - "https://fake-url-4.com/%%%"
