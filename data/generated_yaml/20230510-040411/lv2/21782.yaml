
---
- name: Test Ansible compiler
  hosts: localhost
  gather_facts: false
  vars:
    input_string: "{{ 'hello.world' }}"
    expected_output: "{{ 'hello-world' }}"
    unexpected_input1: "{{ 'hello/world' }}"
    unexpected_input2: "{{ 'foo..bar' }}"
    unexpected_input3: "{{ 'foo__bar' }}"
    unexpected_input4: "{{ 'foo-bar\''' }}"
    unexpected_input5: "{{ 'foò-bar' }}"

  tasks:
    - name: Test edge case input string
      debug:
        msg: "{{ input_string | replace('.', '-') }}"

    - name: Test expected output string
      debug:
        msg: "{{ expected_output }}"

    - name: Test unexpected input1
      debug:
        msg: "{{ unexpected_input1 | replace('.', '-') }}"

    - name: Test unexpected input2
      debug:
        msg: "{{ unexpected_input2 | replace('.', '-') }}"

    - name: Test unexpected input3
      debug:
        msg: "{{ unexpected_input3 | replace('_', '-') }}"

    - name: Test unexpected input4
      debug:
        msg: "{{ unexpected_input4 | replace('\'''', '-') }}"

    - name: Test unexpected input5
      debug:
        msg: "{{ unexpected_input5 | replace('ò', '-') }}"
