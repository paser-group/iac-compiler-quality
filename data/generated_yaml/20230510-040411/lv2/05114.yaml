
---
- name: Handle error types in templates
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Set template with missing variable
      template:
        src: "{{ missing_var }}.j2"
        dest: "/tmp/output.txt"

    - name: Set template with invalid syntax
      template:
        src: "template.j2"
        dest: "/tmp/output.txt"
        validate: "{{ invalid_syntax }"

    - name: Set template with wrong file extension
      template:
        src: "template.invalid"
        dest: "/tmp/output.txt"

    - name: Set invalid template directory
      template:
        src: "invalid/template.j2"
        dest: "/tmp/output.txt"

    - name: Set invalid destination file path
      template:
        src: "template.j2"
        dest: "{{ invalid_path }}"

    - name: Set template with non-ASCII characters
      template:
        src: "template_non_ascii.j2"
        dest: "/tmp/output.txt"

    - name: Set template with circular references
      template:
        src: "template_circular.j2"
        dest: "/tmp/output.txt"
