yaml
- name: Test empty with_items and authorized_key module
  hosts: all
  gather_facts: no
  tasks:
    - name: Test empty with_items (array)
      debug:
        msg: "This task should not be skipped and return empty list"
      with_items: []

    - name: Test empty with_items (string)
      debug:
        msg: "This task should raise an error"
      with_items: ""

    - name: Test authorized_key module with empty list
      authorized_key:
        user: test_user
        key: []
      register: test_result

    - name: Test authorized_key module with empty string
      authorized_key:
        user: test_user
        key: ""
      register: test_result

    - name: Print authorized_key test result
      debug:
        var: test_result
