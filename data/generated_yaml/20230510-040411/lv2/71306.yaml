
- hosts: localhost
  gather_facts: no
  vars:
    - my_var: "{{ true | false }}"
    - my_list: [1, 2, 3]
    - my_dict: {"key1": "value1", "key2": "value2"}
    - my_string: "{{ var | length }}"
    - my_file: "{{ lookup('file', '/tmp/file.txt') | length }}"
    - my_command: "{{ command('echo hello') | length }}"
  
  tasks:
  
    - name: Task with unconventional syntax
      shell: |
        echo "hello"; {{ true and false }}; $(echo "world")
    
    - name: Task with unexpected input
      debug:
        msg: "{{ my_list[my_var] }}"
    
    - name: Task that stresses the compiler
      shell: "{{ my_string | truncate(5) | mandatory }}"
      
    - name: Task with an edge case
      file:
        path: /tmp/new_file.txt
        mode: 00000000000000{{ my_file }}
        
    - name: Task with a custom module
      my_custom_module:
        arg1: "{{ my_dict.key1 }}"
        arg2: "{{ my_dict.key2 }}"
        arg3: "{{ my_list[:2] }}"
