
- name: Test osx_defaults
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Set defaults for Safari
      osx_defaults:
        domain: com.apple.Safari
        key: NewTabBehavior
        value: '1'
        type: integer

    - name: Set defaults for Terminal
      osx_defaults:
        domain: com.apple.Terminal
        key: WindowBounds
        value:
          - '10'
          - '20'
          - '30'
          - '40'
          - '50'
        type: array

    - name: Set invalid value for Firefox
      osx_defaults:
        domain: com.mozilla.firefox
        key: browser.tabs.closeButtons
        value: 'invalid_value'
        state: present

    - name: Set invalid domain
      osx_defaults:
        domain: invalid_domain
        key: key
        value: value

    - name: Set invalid type
      osx_defaults:
        domain: com.apple.Safari
        key: AlwaysRestoreTab
        value: 'Invalid type'
        type: invalid_type
