
- name: Fuzz testing Ansible with 'http2' filter
  hosts: localhost
  tasks:
  
    # Task 1 - Passing unexpected input to 'http2' filter
    - name: Test unexpected input in 'http2' filter
      debug:
        msg: "Testing {{ var | http2 }} filter"
      vars:
        var:
          - 10  # Unexpected input
      
    # Task 2 - Using an unconventional syntax to call 'http2' filter
    - name: Test unconventional syntax in 'http2' filter
      debug:
        msg: "Testing {{ var | http2 -}} filter"
      vars:
        var: "https://example.com"
      
    # Task 3 - Using 'http2' filter in a variable interpolation
    - name: Test variable interpolation using 'http2' filter
      vars:
        var: "https://example.com"
        var2: "{{ var | http2 }}"
      debug:
        msg: "Testing {{ var2 }} filter"
      
    # Task 4 - Using 'http2' filter in a loop
    - name: Test loop using 'http2' filter
      vars:
        servers:
          - "https://example1.com"
          - "https://example2.com"
          - "https://example3.com"
      debug:
        msg: "Testing {{ item | http2 }} filter"
      with_items: "{{ servers }}"
