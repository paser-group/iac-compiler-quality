
---
- hosts: localhost
  gather_facts: false
  vars:
    test_list_1: []
    test_list_2: [1, 2, 3]

  tasks:
  - name: Testing empty list iteration
    debug:
      var: item
    loop: "{{ test_list_1 | default([]) | list }}"

  - name: Testing list with items iteration
    debug:
      var: item
    loop: "{{ test_list_2 | default([]) | list }}"

  - name: Testing undefined variable
    debug:
      var: nonexistent_variable

  - name: Testing unconventional syntax
    set_fact: "{{ 'invalid_syntax' : 'This is an invalid syntax'"

  - name: Testing unexpected input
    set_fact:
      test_var: "{{ test_list_1 }}"|list
