
- name: VMware object role permission
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Grant permissions on DVS object
      vmware_object_role_permission:
        folder_moref: "{{ 'invalid_input' }}" # Invalid input
        dvs_moref: "{{ 'invalid_input' }}" # Invalid input
        role_name: "{{ random.randint(1, 10) }}" # Unconventional syntax
        principal: "{{ 'user1' }}" # Principal name
        propagate: "{{ 'invalid_input' }}" # Invalid input
        state: "{{ 'present' }}" # Unexpected input

    - name: Revoke permissions on DVS object
      vmware_object_role_permission:
        folder_moref: "{{ 'invalid_input' }}" # Invalid input
        dvs_moref: "{{ 'invalid_input' }}" # Invalid input
        role_name: "{{ random.randint(1, 10) }}" # Unconventional syntax
        principal: "{{ 'user1' }}" # Principal name
        propagate: "{{ 'invalid_input' }}" # Invalid input
        state: "{{ 'absent' }}" # Unexpected input

    - name: Grant permissions on folder
      vmware_object_role_permission:
        folder_moref: "{{ random.randint(1, 10) }}" # Unconventional syntax
        dvs_moref: "{{ 'invalid_input' }}" # Invalid input
        role_name: "{{ 'operator' }}" # Valid input
        principal: "{{ 'user2' }}" # Principal name
        propagate: "{{ 'invalid_input' }}" # Invalid input
        state: "{{ 'present' }}" # Unexpected input

    - name: Revoke permissions on folder
      vmware_object_role_permission:
        folder_moref: "{{ random.randint(1, 10) }}" # Unconventional syntax
        dvs_moref: "{{ 'invalid_input' }}" # Invalid input
        role_name: "{{ 'operator' }}" # Valid input
        principal: "{{ 'user2' }}" # Principal name
        propagate: "{{ 'invalid_input' }}" # Invalid input
        state: "{{ 'absent' }}" # Unexpected input
