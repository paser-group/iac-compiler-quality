
- name: Test playbook for 'Ambiguous output redirect.' error
  hosts: all
  gather_facts: false
  
  tasks:
  
  - name: Test 1 - using ambiguous redirects
    ansible.builtin.command: 'echo "Hello, World" > file.txt 2>&1'
    
  - name: Test 2 - using parentheses for redirection
    ansible.builtin.command: '(echo "Hello, World" > file.txt) 2>&1'
    
  - name: Test 3 - using nested parentheses for redirection
    ansible.builtin.command: '(echo "Hello, World" >(echo -n "Hello, World" >> file.txt)) 2>&1'

  - name: Test 4 - using spaces around input/output redirects
    ansible.builtin.command: 'echo "Hello, World"  >    file.txt    2>&1'

  - name: Test 5 - using multiple output redirects
    ansible.builtin.command: 'ls /etc > file1.txt > file2.txt 2>&1'
    
  - name: Test 6 - using unexpected input values
    ansible.builtin.command: '!@#$%^&*()_+-={}[]|\\;:\'",.<>/?'
    
  - name: Test 7 - using unconventional syntax
    ansible.builtin.command: | 
      echo "Hello, World" > file.txt 2>&1
      
  - name: Test 8 - using escaped characters
    ansible.builtin.command: 'echo "Hello, World" > file.txt \2\>\&\1'
