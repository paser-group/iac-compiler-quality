
---
- name: Lvol Module Int Casting Error
  hosts: all
  become: true
  tasks:
    - name: Install required packages
      apt:
        name: "{{ item }}"
        state: present
      loop:
        - dmsetup
        - thin-provisioning-tools

    - name: Create logical volume
      community.general.lvol:
        vg: vg_test
        lv: lv_test
        size: 1g
        pvs:
          - /dev/sdb
        force: true
    
    - name: Resize volume
      community.general.lvol:
        vg: vg_test
        lv: lv_test
        size: 2g
        force: true
