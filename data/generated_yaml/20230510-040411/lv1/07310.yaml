
---
- name: Ansible should respect default configuration unless overridden
  hosts: all
  tasks:
    - name: Copy default configuration file
      copy:
        src: /etc/ansible/ansible.cfg
        dest: /etc/ansible/ansible.cfg.default
        mode: 0600

    - name: Copy custom configuration file
      copy:
        src: /path/to/custom/ansible.cfg
        dest: /etc/ansible/ansible.cfg
        mode: 0600
      
    - name: Verify ansible configuration
      command: ansible-config dump
