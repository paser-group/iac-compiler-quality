
- name: Demonstrate hostvars issue
  hosts: localhost
  become: true

  vars:
    my_dict:
      name: my_host
      ip: 192.168.0.1

  tasks:
    - name: Print variable as string
      debug:
        var: "{{ my_dict.name }}"
      
    - name: Print hostvars value as string
      debug:
        var: "{{ hostvars[my_dict.name].ansible_hostname }}"

    - name: Use hostvars value with join filter
      debug:
        var: "{{ my_dict.name | join(',') }}"
