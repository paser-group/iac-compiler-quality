yaml
---
- name: Test basic auth with Uri module
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Test URI module with basic auth
      uri:
        url: "http://example.com/api/test"
        method: GET
        headers:
          Authorization: "Basic {{ 'username:password' | b64encode }}"
        force_basic_auth: yes
