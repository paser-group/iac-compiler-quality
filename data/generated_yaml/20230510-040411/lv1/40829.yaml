yaml
---
- name: Gather IOS facts
  hosts: ios_devices
  gather_facts: false
  connection: network_cli
  tasks:
  - name: Collect device facts
    ios_facts:
      gather_subset:
      - hardware
      - default
      - interface
      - routing
      - inventory
      - l2mcast
      - bgp
      - fex
      - vtp
      - vrf
      - standby
      - portchannel
      - vlan
      - memory
      - link
      - snmp
      - uptime
      - ospf
      - aaa
      - lldp
      - eigrp
      - spanning-tree
      - feature
    register: ios_facts
  - debug:
      var: ios_facts
