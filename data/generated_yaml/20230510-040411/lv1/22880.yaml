yaml
---
- name: Update Juniper Networks device configuration
  hosts: network_devices
  gather_facts: no
  become: yes
  
  tasks:
  - name: Configure device
    juniper_junos_config:
      provider:
        host: "{{ inventory_hostname }}"
        username: "{{ ansible_user }}"
        password: "{{ ansible_password }}"
      overwrite: true
      lines:
      - "set system login user {{admin_user}} class super-user authentication plain-text-password"
      - "set system syslog user * any emergency"
      - "set interfaces ge-0/0/0 unit 0 family inet address {{ip_address}}/{{prefix}}"
