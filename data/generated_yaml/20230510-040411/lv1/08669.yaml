
---
- hosts: localhost
  become: true
  gather_facts: false
  vars:
    slack_token: "xxxxxxxxxxxxxxxxxxxxxxxxxxx"
    slack_channel: "#ansible-notifications"
    message: "This is a test message from Ansible."
  tasks:
    - name: Install Slack module
      pip:
        name: slack-sdk
      become: true
    
    - name: Send notification to Slack
      slack:
        token: "{{ slack_token }}"
        channel: "{{ slack_channel }}"
        msg: "{{ message }}"
