
---
- name: CentOS Sudo Password Prompt
  hosts: all
  become: yes
  become_method: sudo

  tasks:
    - name: Check if sudo access requires password
      raw: sudo -n true
      register: sudo_status
      ignore_errors: true

    - name: Prompt for Sudo Password
      pause:
        prompt: |
          {{'Sudo access requires a password but --ask-sudo-pass was not provided.'|indent(4)}}
        when: sudo_status.rc != 0
