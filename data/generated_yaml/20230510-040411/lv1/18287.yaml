
---
- name: Handle Host Unreachable Error
  hosts: all
  gather_facts: no

  tasks:
  - name: Check Host Connectivity
    ping:
    ignore_errors: true

  - name: Print Error Message
    debug:
      msg: "Sorry, the host is unreachable."
    when: ansible_failed_results | map(attribute='failed') | list | count > 0
