
---
- name: Example playbook to fix 'with_dict expects a dict' error
  hosts: all
  become: true
  vars:
      my_dict:
          apple: red
          banana: yellow
          mango: orange
  tasks:
    - name: Ansible task to use loop with dictionary
      debug:
        msg: "The {{ item.key }} is {{ item.value }}"
      loop: "{{ my_dict|dict2items }}"
