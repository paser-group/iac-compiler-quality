
- name: Fixing gcp_container_node_pool module error with location
  hosts: localhost
  gather_facts: false
  become: true
  
  tasks:
    - name: Debugging connection to Google Cloud Platform
      gcp_sql_debug:
        verbosity: 2
        
    - name: Installing necessary dependencies
      pip: 
        name:
          - google-auth
          - google-auth-oauthlib
          - google-auth-httplib2
          - google-cloud-core
          - google-cloud-container
  
    - name: Running gcp_container_node_pool module with location field
      gcp_container_node_pool:
        location: <location>
        project_id: <project-id>
        zone: <zone>
        name: <node-pool-name>
        initial_node_count: <node-count>
