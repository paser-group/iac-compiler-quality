yaml
---
- name: Configure interfaces on Cisco IOS devices
  hosts: ios_devices
  gather_facts: no

  vars:
    # Default values for interface parameters
    interface_defaults:
      mode: "access"
      vlan: 1
      description: ""

  tasks:
    - name: "Configure interfaces"
      ios_interface:
        provider: "{{ provider }}"
        name: "{{ item }}"
        description: "{{ interface_defaults.description }}"
        mode: "{{ interface_defaults.mode }}"
        access_vlan: "{{ interface_defaults.vlan }}"
      loop: "{{ interface_names }}"
      delegate_to: localhost
      run_once: true

  vars_files:
    - "{{ inventory_dir }}/group_vars/all/vars.yml"
