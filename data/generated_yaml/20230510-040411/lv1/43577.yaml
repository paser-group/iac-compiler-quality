
---
- name: Install MySQL and import database from file
  hosts: all
  become: true

  vars:
    database_name: my_database
    sql_file_path: /path/to/database_file.sql

  tasks:
    - name: Install MySQL
      apt:
        name: mysql-server
        state: present

    - name: Create database
      mysql_db:
        name: "{{ database_name }}"
        state: present

    - name: Import database from file
      command: mysql -u root -p{{ mysql_root_password }} {{ database_name }} < {{ sql_file_path }}
