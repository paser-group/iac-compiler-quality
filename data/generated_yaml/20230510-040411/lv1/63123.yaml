
- name: Segfault in shell module gives negative exit code '-11'
  hosts: localhost
  gather_facts: false

  tasks:
  - name: Run shell command
    shell: /path/to/command
    ignore_errors: true
    register: shell_output

  - name: Check if command succeeded
    assert:
      that:
        - shell_output.rc == 0
        - shell_output.stderr | length <= 0
