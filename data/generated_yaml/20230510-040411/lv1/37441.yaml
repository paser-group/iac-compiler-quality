yaml
---
- name: Check null variable in when statement
  hosts: all
  become: true

  tasks:
    - name: Check if variable has a null value
      vars:
        my_variable: null
      debug:
        msg: "Variable is null"
      when: my_variable is none

    - name: Check if variable is a string
      vars:
        my_variable: "foo"
      debug:
        msg: "Variable is a string"
      when: my_variable is string

    - name: Check if variable is a number
      vars:
        my_variable: 5
      debug:
        msg: "Variable is a number"
      when: my_variable is number
