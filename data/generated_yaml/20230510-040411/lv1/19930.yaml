
---
- name: Fix type error with python3 when using basic Authentication with open_url
  hosts: [your-hosts-here]
  become: true
  
  tasks:
    - name: Install Python 3.x binaries
      package:
        name:
          - python3
          - python3-pip
      
    - name: Install required python modules
      pip:
        name:
          - urllib3
          - requests
      
    - name: Update Python scripts to use Python 3
      shell: python3 "{{item}}"
      with_fileglob:
        - your-python-script.py
        #add other python scripts' name here, in case there are more
      
    - name: Run the Script
      shell: python3 your-python-script.py
