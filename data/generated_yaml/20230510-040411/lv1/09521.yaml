yaml
---
- name: Provisioning Vagrant Box with Ansible
  hosts: all
  become: true
  vars:
    ansible_local:
      pgp_fingerprint: "{{ lookup('env', 'PGP_FINGERPRINT') }}"
  tasks:
    - name: Install Ansible on the Vagrant box
      become: true
      apt:
        name: ansible
        state: present

    - name: Provision the Vagrant box with Ansible
      become: true
      ansible_local:
        pgp_fingerprint: "{{ lookup('env', 'PGP_FINGERPRINT') }}"
      ansible:
        playbook: "/vagrant/ansible/playbook.yml"
      vars_files:
        - "vars/{{ ansible_distribution }}-{{ ansible_distribution_version }}.yml"
      tags: ['provision', 'vagrant']
