
---
- name: Configure docker with specific ports
  hosts: all
  become: true
  
  tasks:
  - name: Install docker-io package
    yum:
      name: docker-io
      state: present
      
  - name: Start Docker service
    service:
      name: docker
      state: started
      
  - name: Expose container port to the host
    docker_container:
      name: "{{ container_name }}"
      image: "{{ image_name }}"
      ports:
        - "{{ host_port }}:{{ container_port }}"
      state: started
    register: docker_container
  
  - name: Print status of the docker container
    debug:
      var: docker_container
