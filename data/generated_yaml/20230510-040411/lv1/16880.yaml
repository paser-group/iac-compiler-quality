yaml
---
- name: Example Playbook
  hosts: all
  gather_facts: true
  
  tasks:
  - name: Task 1
    debug:
      msg: "Executing Task 1"
  
  - name: Task 2
    debug:
      msg: "Executing Task 2"
    when: inventory_hostname in groups['group1'] and (ansible_distribution == 'Ubuntu' or ansible_distribution == 'Debian')
  
  - name: Task 3
    debug:
      msg: "Executing Task 3"
    when: inventory_hostname in groups['group2'] and (ansible_distribution == 'CentOS' or ansible_distribution == 'Red Hat Enterprise Linux')
  
  - name: Task 4
    debug:
      msg: "Executing Task 4"
    when: inventory_hostname in groups['group3'] and (ansible_distribution == 'Amazon' or ansible_distribution == 'Fedora')
  
  - name: Task 5
    debug:
      msg: "Executing Task 5"
    when: inventory_hostname in groups['group4']
