yaml
---

- name: Troubleshoot Ansible Parser Error
  hosts: localhost  # Modify based on your inventory file

  tasks:
    - name: Set custom parser error message
      debug:
        msg: 'Error: {{ ansible_parser_error.split("\n\n")[0] }}'  # Split message after double newlines

    - name: Abort on parser error
      assert:
        that: ansible_parser_error == ''  # Ensure parser error message is empty
        fail_msg: 'Incorrect parser error message'
        success_msg: 'Parser error message cleared successfully.'
