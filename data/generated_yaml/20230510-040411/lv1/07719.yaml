
---
- name: Attach Volume from Snapshot to EC2 instance
  hosts: ec2
  gather_facts: no

  vars:
    region: us-west-2
    instance_id: i-0123456789abcdefg
    snapshot_id: snap-0123456789abcdefg
    device_name: /dev/sdf

  tasks:
  - name: Attach Volume
    ec2_vol:
      instance: "{{ instance_id }}"
      device_name: "{{ device_name }}"
      region: "{{ region }}"
      snapshot: "{{ snapshot_id }}"
    register: ec2vol

  - name: Display EC2 Volume Info
    debug:
      var: ec2vol
