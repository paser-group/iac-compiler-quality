yaml
---
- name: Pull and run Docker image
  hosts: all
  tasks:
    - name: Pull Docker image
      docker_image:
        name: <image_name>
        source: pull
        registry: <registry_name>
        username: <username>
        password: <password>
      register: docker_image_pull

    - name: Run Docker container
      docker_container:
        name: <container_name>
        image: <image_name>
        state: started
      when: docker_image_pull | success
