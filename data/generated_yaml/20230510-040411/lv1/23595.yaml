
- hosts: your_ec2_hosts
  gather_facts: false
  tasks:
    - name: Install Python 3.5+
      become: true
      apt:
        name: python3
        state: latest

    - name: Install Required Python Modules
      become: true
      pip:
        name:
          - boto
          - boto3
          - botocore
        state: latest

    - name: Get EC2 Facts
      become: true
      ec2_facts:
        region: your_region
      register: ec2_info

    - name: Display EC2 Facts
      debug:
        var: ec2_info
