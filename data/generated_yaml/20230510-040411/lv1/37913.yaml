yaml
- name: Copy files from source directory to destination directory
  hosts: localhost
  gather_facts: no

  tasks:
  - name: Create directory where the file will be copied to on remote host
    win_file:
      path: "C:\\full\\path\\to\\the\\destination\\directory"
      state: "directory"

  - name: Copy files from source directory to destination directory on remote host
    win_copy:
      src: "C:\\full\\path\\to\\the\\source\\directory\\."
      dest: "C:\\full\\path\\to\\the\\destination\\directory\\"
    register: file_copied

  - name: Assert the file has been copied
    assert:
      that:
      - file_copied is defined
      - file_copied.changed == true
      
