yaml
---
- name: Unarchive Files
  hosts: all
  become: true

  tasks:
    - name: Unarchive files
      unarchive:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
        remote_src: "{{ item.remote_src | default('no') }}"
        extra_opts: "{{ item.extra_opts | default('') }}"
      loop:
        - { src: "/path/to/archive1.tar.gz", dest: "/path/to/unzip/dir" }
        - { src: "/path/to/archive2.tar.gz", dest: "/path/to/unzip/dir" }

    - name: Verify files
      stat:
        path: "{{ item.dest }}"
      loop:
        - { dest: "/path/to/unzip/dir/archive1" }
        - { dest: "/path/to/unzip/dir/archive2" }
