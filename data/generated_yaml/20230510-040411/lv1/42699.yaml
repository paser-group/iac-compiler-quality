yaml
---
- hosts: all
  become: yes
 
  vars:
    my_dynamic_var: "{{ lookup('env','MY_DYNAMIC_VAR') }}" # Defining dynamic variable
 
  tasks:
  - name: Debug my_dynamic_var
    debug:
      msg: "The dynamic var is {{ my_dynamic_var }}"
 
  - name: Loop over with_items and use dynamic var in each iteration
    debug:
      msg: "{{ item }} is present in {{ my_dynamic_var }}"
    with_items:
      - item1
      - item2
      - item3
