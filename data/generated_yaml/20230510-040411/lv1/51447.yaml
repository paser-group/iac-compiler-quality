yaml
- name: Create a GCP node pool
  hosts: localhost
  gather_facts: false

  vars:
    project_id: "my-gcp-project"
    zone: "us-central1-a"
    cluster_name: "my-gcp-cluster"
    node_pool_name: "my-node-pool"

  tasks:
  - name: Create a new GCP node pool
    gcp_container_node_pool:
      name: "{{ node_pool_name }}"
      location: projects/{{ project_id }}/locations/{{ zone }}
      cluster: "{{ cluster_name }}"
      initial_node_count: 3

  - name: Verify the node pool creation
    shell: gcloud container node-pools list --cluster {{ cluster_name }} --location {{ zone }} --project={{ project_id }}
    register: node_pool_output

  - name: Display the node pool output
    debug:
      var: node_pool_output.stdout_lines
