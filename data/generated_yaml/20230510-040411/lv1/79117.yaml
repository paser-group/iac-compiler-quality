
---
- name: Update default IPv4 in Ansible
  hosts: all
  become: true

  tasks:
    - name: Gather IPv4 Information
      debug:
        msg: "IP Address {{ ansible_default_ipv4.address }}"
        
    - name: Update default IPv4
      lineinfile:
        path: "/etc/ansible/hosts"
        regexp: "^{{ inventory_hostname }} "
        line: "{{ ansible_default_ipv4.address }} {{ inventory_hostname }}"
