
- name: Template error troubleshooting 
  hosts: all
  tasks:
    - name: Ensure required Python library installed
      pip:
        name: Jmespath
        
    - name: Execute playbook with jmespath plugin
      hosts: localhost
      gather_facts: no
      connection: local
      vars:
        my_var: {'list': [{'id': 1, 'name': 'item1'}, {'id':2, 'name':'item2'}]}
      tasks:
        - name: Debug output with map filter
          debug:
            var: my_var.list|map(attribute='id')|list
