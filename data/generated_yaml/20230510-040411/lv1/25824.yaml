
---
- name: Run Make commands on remote host
  hosts: your_remote_host
  gather_facts: false

  tasks:
  - name: Install Build Dependencies
    apt:
      name:
        - make
        - build-essential
      state: present

  - name: Run Make command
    command: make
    args:
      chdir: /path/to/your/code

  - name: Verify Make command executed successfully
    command: ls /path/to/your/code/built_artifact
    register: output

  - name: Display Make output
    debug:
      msg: "{{ output.stdout }}"
