
---
- name: Gather BigIP Facts
  hosts: bigip_servers
  connection: local
  gather_facts: no

  vars:
    ansible_python_interpreter: /usr/bin/python3
    provider:
      server: "{{ bigip_server }}"
      user: "{{ bigip_username }}"
      password: "{{ bigip_password }}"
      validate_certs: no
      server_port: "{{ bigip_port }}"

  tasks:
    - name: Get BIG-IP facts
      bigip_facts:
        provider: "{{ provider }}"
      register: bigip_facts_result

    - debug:
        var: bigip_facts_result
