
---
- hosts: all
  become: yes
  vars:
    lv_name: my_lv
    vg_name: my_vg
  tasks:
    - name: Extend Logical Volume
      lvol:
        vg: "{{ vg_name }}"
        lv: "{{ lv_name }}"
        size: "+10G"
        resizefs: yes
      when: "'lvextend' in ansible_facts['distribution_version']"
    - name: Reduce Logical Volume
      lvol:
        vg: "{{ vg_name }}"
        lv: "{{ lv_name }}"
        size: "-10G"
        resizefs: yes
        force: no
      when: "'lvreduce' in ansible_facts['distribution_version']"
