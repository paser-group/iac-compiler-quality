
- hosts: all
  tasks:
    - name: Exit a loop with ignore_errors early when encountering templating errors
      block:
        - set_fact:
            my_list: "{{ my_list | default([]) + [item] }}"
          with_items: "{{ some_list }}"
      rescue:
        - debug:
            msg: "An error occurred while processing '{{ item }}', skipping"
          ignore_errors: True
