yaml
---
- name: Restart the Service if it's not running
  hosts: <target_hosts>
  become: yes
  vars:
    service_name: <service_name>
  tasks:
    - name: Check if the Service is running
      systemd:
        name: "{{ service_name }}"
        state: started
        enabled: yes
      register: service_status
      ignore_errors: true

    - name: Restart the Service if it's not running
      systemd:
        name: "{{ service_name }}"
        state: restarted
      when: service_status.changed or service_status.failed
