yaml
- name: Configure SVI on Nexus Switch
  hosts: nexus_switch
  gather_facts: no
  
  vars:
    svi_id: 10    # Set your VLAN ID here
    svi_subnet: 192.168.1.0/24   # Set your subnet mask here
    svi_ip: 192.168.1.1    # Set your SVI IP address here

  tasks:
    - name: Configure SVI idempotently
      nxos_config:
        lines: 
          - "interface vlan {{ svi_id }}"
          - "ip address {{ svi_ip }}/{{ svi_subnet }}"
        parents: "interface vlan {{ svi_id }}"
        before: "no shutdown"
        match: line
