yaml
- name: Fix ios_l2_interface NoneType error on IOS-XE Everest
  hosts: ios-xe-devices
  gather_facts: no
  tasks:
    - name: Install paramiko Python package
      pip:
        name: paramiko
        state: present

    - name: Configure ios_l2_interface
      ios_l2_interface:
        provider:
          host: "{{ inventory_hostname }}"
          username: "{{ ansible_user }}"
          password: "{{ ansible_password }}"
          auth_pass: "{{ ansible_password }}"
          authorize: yes
          auth_method: "{{ ios_auth_method }}"
        name: "{{ interface_name }}"
        description: "{{ interface_description }}"
        mode: "{{ interface_mode }}"
        access_vlan: "{{ access_vlan_id }}"
        native_vlan: "{{ native_vlan_id }}"
        provider_retry_timeout: 300
      register: ios_l2_interface_result

    - name: Debug ios_l2_interface output
      debug:
        var: ios_l2_interface_result
