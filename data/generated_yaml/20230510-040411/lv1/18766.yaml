
---
- hosts: all
  gather_facts: false
  vars:
    sub_host_list: []
    # define other variables as needed here
  tasks:
    - name: Check if sub-host list is empty
      when: sub_host_list|length == 0
      fail:
        msg: "Error: sub-host list cannot be empty!"
    
    - name: Include first file
      include_vars: file1.yml
      when: sub_host_list is not defined or sub_host_list|length > 0

    - name: Include second file
      include_vars: file2.yml
      when: sub_host_list is not defined or sub_host_list|length > 0
      
    # define other tasks as needed here
