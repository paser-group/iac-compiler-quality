
---
- name: Configure Docker container with a specific bridge network
  hosts: localhost
  gather_facts: false

  tasks:

  - name: Install Docker and requirements
    yum:
      name:
        - docker
        - python-docker-py
        - docker-compose
      state: latest

  - name: Start the Docker service
    service:
      name: docker
      state: started

  - name: Create a new Docker network
    docker_network:
      name: mybridge
      state: present

  - name: Run Docker container
    docker_container:
      name: mycontainer
      image: myimage
      state: running
      detach: yes
      network_mode: bridge
      networks:
        - name: mybridge
