
- name: Check hostname module on Docker containers
  hosts: all
  gather_facts: true
  
  tasks:
    - name: Check if the container is running
      command: docker ps
      register: docker_container
      ignore_errors: true
   
    - name: Display an error message if container is running
      fail:
        msg: "The 'hostname' module cannot be executed on a Docker container."
      when: docker_container.rc == 0
