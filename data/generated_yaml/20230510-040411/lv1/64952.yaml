
---
- name: Install ovirt dependencies
  hosts: all
  become: true

  tasks:
    - name: Install pycurl with SSL support
      apt:
        name: python-pycurl
        state: latest
        update_cache: true
      when: "'Debian' in ansible_distribution"

    - name: Install pycurl with SSL support
      dnf:
        name: python-pycurl
        state: latest
        update_cache: true
      when: "'CentOS' in ansible_distribution"

    - name: Install ovirtsdk4
      pip:
        name: ovirtsdk4
        state: present
