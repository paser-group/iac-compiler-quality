
---
- hosts: all
  gather_facts: false

  tasks:
    - name: Execute command but ignore errors
      command: "{{ command }}"
      ignore_errors: true
      register: command_result

    - name: Print debug information for non-zero return code
      debug:
        msg: "Command failed with return code {{ command_result.rc }}"
      changed_when: command_result.rc != 0
