yaml
---
- name: Clone Git repository with ssh-keyscan
  hosts: all
  gather_facts: false

  vars:
    git_repo: "git@github.com:example/repo.git"

  tasks:
    - name: Install ssh-keyscan package
      apt:
        name: ssh-keyscan
        state: present
      become: true
    
    - name: Fetch and validate SSH host keys
      command: ssh-keyscan -t rsa github.com >> ~/.ssh/known_hosts
      become: true
    
    - name: Clone Git repository
      git:
        repo: "{{ git_repo }}"
        dest: /path/to/clone/dir
      become: true
