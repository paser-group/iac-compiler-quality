
- name: Create a GCP Container Cluster
  hosts: localhost
  gather_facts: no
  vars:
    project_id: YOUR_PROJECT_ID
    cluster_name: YOUR_CLUSTER_NAME
    region: us-central1
    zone: us-central1-a
  tasks:
    - name: Create a container cluster
      gcp_container_cluster:
        name: "{{ cluster_name }}"
        initial_node_count: 1
        location: "{{ region }}-{{ zone }}"
        project: "{{ project_id }}"
        auth_kind: "{{ lookup('env','GCE_AUTH_KIND') }}"
        service_account_file: "{{ lookup('env','GOOGLE_APPLICATION_CREDENTIALS') }}"
        state: present
