
- name: Copy a large file from one server to another
  hosts: server1
  tasks:
    - name: Copy large file
      copy:
        src: /path/to/large/file
        dest: /tmp/large-file
      delegate_to: localhost

- name: Transfer the file from the local workstation to the destination server
  hosts: localhost
  connection: local
  vars:
    file_path: "/path/to/local/file/on/workstation"
  tasks:
    - name: Transfer file to remote host
      ansible.builtin.scp:
        src: "{{ file_path }}"
        dest: "/tmp/large-file"
      become: yes
      become_method: sudo
      delegate_to: destination-server

