
---
- name: Rackspace inventory SSL fix
  hosts: centos7
  become: true

  tasks:
    - name: Install OpenSSL
      yum:
        name: openssl
        state: present

    - name: Install Python requests module
      pip:
        name: requests
        state: present

    - name: Update custom inventory file with proper Rackspace API keys
      lineinfile:
        path: /path/to/custom/inventory/file
        regexp: 'rackspace_api_key='
        line: 'rackspace_api_key=YOUR_API_KEY'
        state: present

    - name: Update custom inventory file with proper Rackspace API region
      lineinfile:
        path: /path/to/custom/inventory/file
        regexp: 'rackspace_region='
        line: 'rackspace_region=YOUR_REGION'
        state: present
