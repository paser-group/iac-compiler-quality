yaml
---
- name: Test SSH Connection
  hosts: <your_host>

  tasks:
    - name: Attempt SSH Connection
      command: ssh <your_username>@<your_host>

- name: Deploy Code
  hosts: <your_host>

  tasks:
    - name: Ensure SSH connection works
      wait_for_connection:

    - name: Clone Codebase
      git:
        repo: <your_git_repo>
        dest: <your_destination>

    - name: Install Python Requirements
      pip:
        requirements: <your_requirements_file>

    # Continue with the playbook tasks you would like
