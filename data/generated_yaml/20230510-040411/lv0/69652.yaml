
import openstack

# Initialize connection parameters
conn = openstack.connect(cloud='mycloud')

# Define network and subnet ID
network_id = '12345678-abcd-efgh-ijkl-mnopqrstuvwxyz'
subnet_id = 'abcdefgh-ijkl-mnop-qrst-uvwxyz123456'

# Create server with specified network and subnet ID
server = conn.create_server(
    name='my-server',
    image='my-image',
    flavor='m1.small',
    network=[{'uuid': network_id, 'fixed_ip': '10.0.0.2', 'subnet_id': subnet_id}]
)

# Print the fixed IP address assigned to the server
print(server.networks)
