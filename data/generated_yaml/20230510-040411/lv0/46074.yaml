
from google.cloud import compute_v1

# Creates a client using Application Default Credentials.
compute_client = compute_v1.InstancesClient()

# The name of the instance to reset the network configuration for.
instance_name = "instance-1"

# Sets the network configuration to default for the first network interface of the instance.
network_interface_config = compute_v1.NetworkInterface()
network_interface_config.network = "projects/<project>/global/networks/default"

network_interface = compute_v1.NetworkInterface()
network_interface.name = "nic0"
network_interface.network_interfaces_config = [network_interface_config]

instance_network_interface_request = compute_v1.InstancesSetNetworkInterfaceRequest(
    network_interface=network_interface
)

operation = compute_client.set_network_interface(
    project="<project>", 
    zone="<zone>", 
    instance=instance_name, 
    instances_set_network_interface_request=instance_network_interface_request
)

# Waits for the operation to complete.
operation.result()
