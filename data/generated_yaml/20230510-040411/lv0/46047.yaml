
import OpenSSL
import os

cert_file = os.path.join(os.getcwd(), "cert.pem")
key_file = os.path.join(os.getcwd(), "key.pem")
cert = OpenSSL.crypto.load_certificate(OpenSSL.crypto.FILETYPE_PEM, open(cert_file, 'rb').read())
key = OpenSSL.crypto.load_privatekey(OpenSSL.crypto.FILETYPE_PEM, open(key_file, 'rb').read())

pkcs12 = OpenSSL.crypto.PKCS12()
pkcs12.set_certificate(cert)
pkcs12.set_privatekey(key)
pkcs12_data = pkcs12.export(password='testing')
with open('cert.p12', 'wb') as f:
  f.write(pkcs12_data)
  
