
# Import necessary Python libraries
import subprocess

# Define the name of the service to check
service_name = "systemd-modules-load.service"

# Use the 'systemctl' command to check the status of the service
result = subprocess.run(["systemctl", "status", service_name], stdout=subprocess.PIPE)

# Convert the output from bytes to a string, split it by line, and store it in a variable
output = result.stdout.decode().split("\n")

# Check if the service is active
for line in output:
  if "Active:" in line:
    if "active (exited)" in line:
      print(f"{service_name} is running")
    else:
      print(f"{service_name} is not running")
