
# Convert the metric alarm period to seconds
period_in_seconds = period // 60

# Create the CloudWatch client
import boto3
cloudwatch = boto3.client('cloudwatch')

# Create the metric alarm with the correct period
cloudwatch.put_metric_alarm(
    AlarmName='my-alarm',
    ComparisonOperator='GreaterThanThreshold',
    EvaluationPeriods=3,
    MetricName='CPUUtilization',
    Namespace='AWS/EC2',
    Period=period_in_seconds,
    Statistic='Average',
    Threshold=70.0,
    ActionsEnabled=True,
    AlarmActions=['arn:aws:sns:us-east-1:123456789012:my-topic'],
)
