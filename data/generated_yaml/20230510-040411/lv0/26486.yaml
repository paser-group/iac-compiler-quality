python
def check_idempotency(module_name, changed):
    """
    Checks if a given Ansible module is idempotent.

    Args:
        module_name (str): The name of the module to check.
        changed (bool): The value of the `changed` parameter in the module.

    Raises:
        ValueError: If the module is not idempotent and `changed` is False.
    """
    if module_name == 'virt_net' and not changed:
        raise ValueError(f"Module {module_name} is not idempotent when changed=False.")
