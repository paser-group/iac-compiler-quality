
- name: Add host to CloudStack
  hosts: localhost
  gather_facts: no
  vars:
    api_url: "http://cloudstack-api-url/client/api"
    api_key: "your-api-key"
    api_secret: "your-api-secret"
  tasks:
    - name: Add host
      cs_host:
        url: "{{ api_url }}"
        api_key: "{{ api_key }}"
        api_secret: "{{ api_secret }}"
        name: "my-new-host"
        hypervisor: "kvm"
        pod: "my-pod"
        cluster: "my-cluster"
        zone: "my-zone"
        url: "http://my-new-host.com"
