
- name: Deploy ARM Template
  hosts: localhost
  tasks:
    - name: Deploy ARM Template
      azure_rm_deployment:
        resource_group_name: myresourcegroup
        template: "{{ lookup('template', '/path/to/template.json') }}"
        parameters:
          param1: "value1"
          param2: "value2"
      register: deployment_result
      ignore_errors: yes

    - name: Output deployment failure details
      debug:
        var: deployment_result
      when: deployment_result.failed
