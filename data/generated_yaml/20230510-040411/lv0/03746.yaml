
import boto3
from ansible.module_utils.basic import AnsibleModule

def main():

    module_args = {
        "instance_id": {"type": "str", "required": True}
    }

    module = AnsibleModule(argument_spec=module_args)

    ec2 = boto3.resource('ec2')

    instance = ec2.Instance(module.params['instance_id'])

    if instance.state['Name'] != 'running':
        module.exit_json(changed=False, msg="No change required.")

    # Here, add your code to make some changes to the EC2 instance. 

    module.exit_json(changed=True, msg="Changes saved.")
    
if __name__ == '__main__':
    main()
