python
import docker

client = docker.from_env()
container = client.containers.run(image='alpine', command='ls /foo', detach=True)

exit_code = container.wait()['StatusCode']
if exit_code != 0:
    print(f'Container exited with non-zero exit code: {exit_code}')
    container.remove(force=True)
else:
    print('Container exited successfully')
    container.remove()
